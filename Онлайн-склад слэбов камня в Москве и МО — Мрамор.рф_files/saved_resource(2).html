
<!-- saved from url=(0011)about:blank -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="google" content="notranslate"><meta http-equiv="X-UA-Compatible" content="IE=edge"><script type="text/javascript">window.onerror = function (message, url, lineNumber, columnNumber, error) {
                    if (error && error.error) {
                        error = error.error;
                    }
                
                    if (!error || !(error instanceof Error)) {
                        error = {};
                    }
                
                    error.stack = error.stack || 'empty';
                    error.message = 'Bundle init error: ' + message + ' error.message: ' + error.message;
                    error.columnNumber = columnNumber;
                    error.lineNumber = lineNumber;
                    error.url = url;
                
                    window.parent.__jivoOnError(error);
                };window.base_langpack = {"botTransferChat":"Диалог переведен на оператора","businessCopyright":"Бизнес-мессенджер {0}","byYandex":"через Яндекс","callback_delayed_button_submit":"Заказать звонок","callback_delayed_period_as_possible":"В ближайшее время","callback_delayed_period_delimiter":"в","callback_delayed_period_today":"Сегодня","callback_delayed_period_tomorrow":"Завтра","callback_delayed_submit_fail":"Не удалось заказать звонок на указанное время. Пожалуйста, попробуйте еще раз","callback_delayed_submit_success":"Спасибо!\nМы перезвоним в указанное время","callback_delayed_title":"Когда вам перезвонить?","cancel":"Отмена","captchaPlaceholder":"Введите текст с картинки","captchaPlaceholderAgain":"Введите текст еще раз","chat_agent_join":"Оператор _AGENT_ приглашен в диалог","chat_agent_left":"Оператор _AGENT_  вышел из диалога","chat_on_site":"Чат c","continue":"Продолжить","conversation_with":"Идет разговор","cw_callAfter":"Перезвоним вам через","cw_callButtonText":"Перезвоните мне","cw_callHeader":"Обратный звонок","cw_call_forward":"Спасибо за заказ обратного звонка! Наши сотрудники перезвонят вам в ближайшее время","cw_call_to":"Звонок на","cw_code_restrict":"К сожалению, мы не можем позвонить на этот номер","cw_connecting":"Соединяем...","cw_enterPhonePlaceholder":"Введите ваш телефон","cw_errInfoText":"Попробуйте позвонить еще раз, или напишите нам в чат.","cw_form_second":"секунду","cw_form_secondd":"секунд","cw_form_seconds":"секунды","cw_pickUpPhone":"Возьмите трубку","cw_rate_limit":"Вызов на указанный номер невозможен","cw_repeatCall":"Перезвоните мне","cw_repeatCallAgain":"Перезвонить еще раз","cw_thxForCall":"Спасибо вам за звонок!","cw_typeInChat":"Написать в чат","cw_unableToConnect":"Не смогли соединиться?","cw_weCalling":"Мы вам звоним","cw_weRecallAfter":"Введите номер телефона, и мы перезвоним вам за","c_callDisconnected":"Вызов завершен","defCallformTitle":"Нужна помощь? Мы перезвоним через _SEC_ секунд!","defOfflineFormText":"Оставьте свое сообщение в этой форме, мы получим его на e-mail и обязательно ответим!","defOfflineFormText2":"Здравствуйте. \nУ вас возникли вопросы? Мы с удовольствием ответим!","defOfflineWidgetLabel":"Отправьте нам сообщение","defOfflineWidgetLabelMobile":"Сообщение","defOnlineWidgetLabel":"Напишите нам, мы онлайн!","defOnlineWidgetLabelMobile":"Чат","defRuleInvitationText":"Здравствуйте! Я могу вам чем-то помочь?","defRuleRetaining":"Пожалуйста, подождите. Сейчас операторы заняты, но скоро кто-нибудь освободится и ответит вам!","defRuleRetainingEmail":"Нет времени ждать ответ? Получите уведомление на почту!","downloadChatText":"Скачать историю диалога","enterEmailPlaceholder":"Введите ваш email","error_send":"Не доставлено","eula_custom_agreement":"Ставя отметку, я даю свое согласие на обработку моих персональных данных в соответствии с законом и принимаю условия","eula_custom_title":"Согласие на обработку персональных данных","eula_link":"Пользовательское соглашение","eula_phone":"Перезвонить на номер","file_upl_cancel":"Загрузка отменена","file_upl_download":"Скачать","file_upl_error":"Ошибка загрузки","file_upl_error_max_size":"Ошибка – файл должен быть не больше _FILESIZE_","file_upl_error_no_ext":"Ошибка – выберите файл с расширением","introduce_in_chat":"Представьтесь в чате","introduce_or":"или","introduce_social":"Либо войдите через","introduce_text":"Представьтесь, пожалуйста, пока операторы пишут вам ответ","invoiceEmail":"Email для отправки чека","label_fb_text":"Сообщение в Facebook","label_vk_text":"Сообщение ВКонтакте","lblCallMe":"Позвонить","lblCaptcha":"Введите код с картинки","lblCaptchaError":"Неверный код, введите еще раз","lblConnectedToAgent":"Напишите ваше сообщение","lblDeclineFile":"Отклонить","lblDefaultCobrowseComment":"Обратите внимание","lblEnterMessageHere":"Введите сообщение","lblEnterMessageOrPhoneHere":"Введите сообщение или номер телефона (перезвоним мгновенно)","lblEvaluateCancel":"Отменить","lblEvaluatePlease":"Оцените качество обслуживания","lblEvaluateThanks":"Спасибо за оценку!","lblHangUp":"Завершить соединение","lblIntroduceName":"Ваше имя","lblIntroduceRequest":"Представьтесь в чате","lblIntroduceRequestBefore":"Представьтесь и начните чат!","lblLeaveMessage":"Оставить сообщение","lblMessageHere":"Введите сообщение","lblMessagesApp":"Напишите нам в Messages App","lblNewMessage":"Новое сообщение!","lblOfflineMessageSend":"Сообщение отправлено","lblOperatorsOnline":"Операторы онлайн!","lblPencilHint":"Оператор набирает сообщение","lblPwrBy":"Чат предоставлен <a href=\"http://www.jivosite.ru/_URL_\" target=\"_blank\"><span class=\"j1\">Jivo</span><span class=\"j2\">Site</span></a>","lblReceiveFile":"Принять","lblReply":"Ответить","lblSelectDep":"Выберите отдел","lblSend":"Отправить","lblSendBefore":"Начать диалог","lblSendingFile":"_AGENT_ передает вам файл: _FILE_","lblThanks":"Спасибо!","lblThankYouMessage":"Спасибо за ваше сообщение! Мы обязательно свяжемся с вами в ближайшее время","lblTransferred":"Диалог передан оператору _AGENT_","lblView":"Посмотреть","lblYourEmail":"Ваш e-mail","lblYourMessage":"Ваше сообщение","lblYourPhone":"Ваш телефон","lnkCloseThisWindow":"Закрыть","maintenanceBlockedPlaceholder":"Отправка сообщений недоступна","maintenanceSystemText":"Внимание! Мы проводим плановые работы на серверах чтобы сделать чат лучше. В ближайшее время он начнет работу снова. Благодарим за ожидание.","messageDeleted":"Сообщение удалено","messageEdit":"отредактировано","offlineAgentConnected":"Оператор подключился к диалогу","offlineBlockedInputPlaceholder":"Пожалуйста, укажите ваши контакты","offlineForceOfflineMessage":"Похоже операторы сейчас недоступны. Пожалуйста, оставьте своё сообщение и мы свяжемся с вами","offlineIntroductionText":"Укажите ваши контакты, чтобы мы смогли ответить вам","offlineSuccessContactsSubmit":"Теперь ваши сообщения не потеряются. Ответ операторов придет в чат и по указанным контактам.","onlineChat":"Онлайн чат","paymentsInvoice":"Счет №","paymentsPay":"Заплатить","paymentsSuccess":"успешно оплачен","powerBtnMenuTitle":"Как вам удобнее с нами связаться?","prechatText":"Здравствуйте!","prechatText2":"Мне нужна помощь","prechatText3":"Вы можете мне помочь?","seo_copyrightTextNew":"Чат предоставлен {0}","service_from":"Сервис от","social_fb":"в Facebook","social_get_access":"Не хотите ждать? \nПолучите уведомление в ВКонтакте!","social_get_access_fb":"Не обязательно ждать на сайте! Мы отправим ответ в Messenger","social_im":"Напишите нам","social_online_text":"Операторы в сети и скоро ответят","social_process_in":"Продолжить диалог","social_process_in_fb":"Продолжить в","social_process_vk":"Продолжить диалог _ICON_ВКонтакте","social_success_email":"Спасибо, что оставили ваш адрес! Когда придет ответ, отправим его на _EMAIL_ и в этот чат.","social_success_fb":"Messenger подключен! 👍  Если вы уйдете с сайта, то сообщения придут в этот чат и в Messenger","social_success_vk":"Уведомления ВКонтакте включены! 👍  Если вы уйдете с сайта, то сообщения придут в этот чат и во ВКонтакте","social_text_1":"Обычно отвечаем моментально","social_text_2":"Обычно отвечаем в течение нескольких минут","social_text_3":"Обычно отвечаем в течение часа","social_text_4":"Обычно отвечаем в течение нескольких часов","social_text_5":"Обычно отвечаем в течение одного дня","social_vk":"ВКонтакте","today":"Сегодня","yesterday":"Вчера"};!function(){var t,a,n,i,o,r={66419:function(e,t,a){e.exports=a(27698)},41511:function(e,t,a){e.exports=a(83363)},54103:function(e,t,a){e.exports=a(28196)},77766:function(e,t,a){e.exports=a(8065)},20116:function(e,t,a){e.exports=a(11955)},62462:function(e,t,a){e.exports=a(96064)},94473:function(e,t,a){e.exports=a(61577)},78914:function(e,t,a){e.exports=a(46279)},78580:function(e,t,a){e.exports=a(33778)},81643:function(e,t,a){e.exports=a(19373)},69301:function(e,t,a){e.exports=a(73819)},23054:function(e,t,a){e.exports=a(11022)},2991:function(e,t,a){e.exports=a(61798)},32366:function(e,t,a){e.exports=a(52527)},97093:function(e,t,a){e.exports=a(28427)},3649:function(e,t,a){e.exports=a(82073)},77149:function(e,t,a){e.exports=a(45286)},47302:function(e,t,a){e.exports=a(62856)},92762:function(e,t,a){e.exports=a(2348)},25843:function(e,t,a){e.exports=a(76361)},89400:function(e,t,a){e.exports=a(62908)},59340:function(e,t,a){e.exports=a(8933)},51942:function(e,t,a){e.exports=a(63383)},54943:function(e,t,a){e.exports=a(14471)},20368:function(e,t,a){e.exports=a(57396)},63978:function(e,t,a){e.exports=a(41910)},34074:function(e,t,a){e.exports=a(79427)},39649:function(e,t,a){e.exports=a(62857)},14310:function(e,t,a){e.exports=a(9534)},86902:function(e,t,a){e.exports=a(23059)},31238:function(e,t,a){e.exports=a(66877)},94198:function(e,t,a){e.exports=a(74888)},93476:function(e,t,a){e.exports=a(27460)},1068:function(e,t,a){e.exports=a(61895)},31581:function(e,t,a){e.exports=a(43474)},33032:function(e,t,a){e.exports=a(27989)},36384:function(e,t,a){e.exports=a(5519)},72388:function(e,t,a){e.exports=a(21194)},65420:function(e,t,a){e.exports=a(92547)},28032:function(e,t,a){e.exports=a(35774)},53592:function(e,t,a){e.exports=a(27385)},78363:function(e,t,a){e.exports=a(81522)},19996:function(e,t,a){e.exports=a(32209)},16976:function(e,t,a){e.exports=a(1258)},95683:function(e,t,a){e.exports=a(69447)},95238:function(e,t,a){e.exports=a(81493)},58317:function(e,t,a){e.exports=a(54408)},12088:function(e,t,a){e.exports=a(60269)},189:function(e,t,a){e.exports=a(76094)},44341:function(e,t,a){e.exports=a(73685)},58377:function(e,t,a){e.exports=a(27533)},63263:function(e,t,a){e.exports=a(84710)},24889:function(e,t,a){e.exports=a(74303)},89356:function(e,t,a){e.exports=a(93799)},79542:function(e,t,a){e.exports=a(55122)},83863:function(e,t,a){e.exports=a(31524)},51446:function(e,t,a){e.exports=a(86600)},23882:function(e,t,a){e.exports=a(9759)},16944:function(e,t,a){e.exports=a(58714)},34243:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}},57726:function(e,t,a){var n=a(78363);e.exports=function(e){if(n(e))return e}},46868:function(e,t,a){var n=a(78363),i=a(34243);e.exports=function(e){if(n(e))return i(e)}},5824:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},26394:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},69198:function(e,t,a){var n=a(44341);function i(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),n(e,i.key,i)}}e.exports=function(e,t,a){return t&&i(e.prototype,t),a&&i(e,a),e}},87672:function(e,t,a){var n=a(44341);e.exports=function(e,t,a){return t in e?n(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},5872:function(e,t,a){var n=a(12088);function i(){return e.exports=i=n||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}e.exports=i},31474:function(e,t,a){var n=a(58377),i=a(83863),o=a(16649);function r(t,a,l){return"undefined"!=typeof Reflect&&i?e.exports=r=i:e.exports=r=function(e,t,a){var i=o(e,t);if(i){var r=n(i,t);return r.get?r.get.call(a):r.value}},r(t,a,l||t)}e.exports=r},66380:function(e,t,a){var n=a(24889),i=a(79542);function o(t){return e.exports=o=i?n:function(e){return e.__proto__||n(e)},o(t)}e.exports=o},51379:function(e,t,a){var n=a(189),i=a(5613);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=n(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}},60530:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},87646:function(e,t,a){var n=a(58377),i=a(44341),o=a(23765),r=a(16944);function l(){if("function"!=typeof r)return null;var e=new r;return l=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var a={},r=i&&n;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var s=r?n(e,u):null;s&&(s.get||s.set)?i(a,u,s):a[u]=e[u]}return a.default=e,t&&t.set(e,a),a}},85400:function(e,t,a){var n=a(53592),i=a(58317),o=a(51446);e.exports=function(e){if(void 0!==o&&i(Object(e)))return n(e)}},65056:function(e,t,a){var n=a(16976),i=a(58317),o=a(51446);e.exports=function(e,t){if(void 0!==o&&i(Object(e))){var a=[],r=!0,l=!1,u=void 0;try{for(var s,c=n(e);!(r=(s=c.next()).done)&&(a.push(s.value),!t||a.length!==t);r=!0);}catch(e){l=!0,u=e}finally{try{r||null==c.return||c.return()}finally{if(l)throw u}}return a}}},79736:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},76670:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},80122:function(e,t,a){var n=a(95683),i=a(63263),o=a(44590);e.exports=function(e,t){if(null==e)return{};var a,r,l=o(e,t);if(i){var u=i(e);for(r=0;r<u.length;r++)a=u[r],n(t).call(t,a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}},44590:function(e,t,a){var n=a(95683),i=a(89356);e.exports=function(e,t){if(null==e)return{};var a,o,r={},l=i(e);for(o=0;o<l.length;o++)a=l[o],n(t).call(t,a)>=0||(r[a]=e[a]);return r}},214:function(e,t,a){var n=a(23765),i=a(5824);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?i(e):t}},5613:function(e,t,a){var n=a(79542);function i(t,a){return e.exports=i=n||function(e,t){return e.__proto__=t,e},i(t,a)}e.exports=i},18777:function(e,t,a){var n=a(57726),i=a(65056),o=a(79299),r=a(79736);e.exports=function(e,t){return n(e)||i(e,t)||o(e,t)||r()}},16649:function(e,t,a){var n=a(66380);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e}},59036:function(e,t,a){var n=a(46868),i=a(85400),o=a(79299),r=a(76670);e.exports=function(e){return n(e)||i(e)||o(e)||r()}},23765:function(e,t,a){var n=a(23882),i=a(51446);function o(t){return e.exports=o="function"==typeof i&&"symbol"==typeof n?function(e){return typeof e}:function(e){return e&&"function"==typeof i&&e.constructor===i&&e!==i.prototype?"symbol":typeof e},o(t)}e.exports=o},79299:function(e,t,a){var n=a(53592),i=a(95238),o=a(34243);e.exports=function(e,t){var a;if(e){if("string"==typeof e)return o(e,t);var r=i(a=Object.prototype.toString.call(e)).call(a,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?n(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}},93379:function(e){var t={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};e.exports=function(e,a){return"number"!=typeof a||t[e]?a:a+"px"}},60021:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(23765)),r=n(a(3649)),l=n(a(26394)),u=n(a(69198)),s=n(a(51379)),c=n(a(214)),d=n(a(66380)),f=n(a(59748)),h=n(a(62107));function p(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var m=n(a(75043)).default.name("BaseComponent"),g=a(89766).EventEmitter,v=function(e){(0,s.default)(a,e);var t=p(a);function a(e){var n;return(0,l.default)(this,a),(n=t.call(this,e)).listeners=[],n.emitter=new g,n}return(0,u.default)(a,[{key:"subscribe",value:function(e,t){return this.emitter.addListener(e,t)}},{key:"trigger",value:function(e,t){this.emitter.emit(e,t)}},{key:"delegate",value:function(e,t){return function(a){for(var n=a.target;n!==a.currentTarget;){var i=n.getAttribute("dgName");if(i&&i===e)return a.delegateTarget=n,t(a);n=n.parentNode}}}},{key:"on",value:function(){var e,t=(0,r.default)(Array.prototype).call(arguments),a=t[0],n="JivoStore"==a.__type?t[1]:t[2],i="JivoStore"==a.__type?"update":t[1];if("object"!=(0,o.default)(i))if("function"==typeof a.on?e="on":"function"==typeof a.addListener&&(e="addListener"),e){var l=a[e](i,n);this.listeners.push({type:e,target:a,event:i,callback:n,subscription:l})}else m.error("error cant find type");else for(var u in i)"string"==typeof u&&this.on(a,u,i[u])}},{key:"off",value:function(){for(var e;e=this.listeners.shift();){var t;t="on"==e.type?"off":"removeListener",e.target[t]?e.target[t](e.event,e.callback):e.subscription&&"function"==typeof e.subscription.remove?e.subscription.remove():m.error("error cant find type")}}},{key:"getClasses",value:function(e){var t={},a=e.styles||{};return h.default.each(a,(function(a,n){t[n]={};var i="";a[1]&&(t[n].style=a[1]),h.default.each(a[0],(function(t,a){i+=t?(e.style?e.style[a]:a)+" ":""}))," "===i.charAt(i.length-1)&&(i=i.substr(0,i.length-1)),t[n].className=i})),t}},{key:"getRenderData",value:function(){}},{key:"renderData",value:function(){}},{key:"render",value:function(){var e=this.getRenderData(),t=this.getClasses(e);return this.renderData(e.data||{},t)}},{key:"componentWillUnmount",value:function(){this.off(),this.emitter.removeAllListeners()}}]),a}(f.default.Component);t.default=v},96400:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.ApiProvider=void 0;var i=n(a(77766)),o=n(a(26394)),r=n(a(69198)),l=n(a(49043)),u=n(a(62904)),s=a(56602),c=a(94515),d=new(function(){function e(){(0,o.default)(this,e)}return(0,r.default)(e,[{key:"getCustomerIoInvites",value:function(e,t){var a,n,o=c.EnvironmentManager.isDevelopment()&&u.default.mockRequests&&u.default.mockRequests.customerIO?"/configs/development/customerIO.json":this.getApiHost()+(0,i.default)(a=(0,i.default)(n="/api/".concat("1","/sites/")).call(n,u.default.site_id,"/widgets/")).call(a,u.default.widget_id,"/invitation/"),r={user_token:e};this.sendApiRequest(o,r,t)}},{key:"sendApiRequest",value:function(e,t,a){l.default.get({url:e,params:t},a)}},{key:"getApiHost",value:function(){return(0,s.getProtocol)()+"//"+u.default.api_host}}]),e}());t.ApiProvider=d},49173:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(77766)),o=n(a(26394)),r=n(a(69198)),l=n(a(49043)),u=n(a(62904)),s=n(a(36216)),c=a(56602),d=a(94515),f=function(){function e(){(0,o.default)(this,e)}return(0,r.default)(e,null,[{key:"getStatus",value:function(e){this.getChatServerData("status",{},e)}},{key:"getVisitorNumber",value:function(e){this.getChatServerData("visitor_number",{},e)}},{key:"getMessages",value:function(e,t){this.getChatServerData("messages",e,t)}},{key:"getChatServerData",value:function(e,t,a){var n,o,r,l=s.default.visitorId?"/".concat(s.default.visitorId):"",d=this.shouldMockRequest(e)?"/configs/development/".concat(e,".json"):(0,c.chatServerHost)()+(0,i.default)(n=(0,i.default)(o=(0,i.default)(r="/widget/".concat(e,"/")).call(r,u.default.site_id,"/")).call(o,u.default.widget_id)).call(n,l);this.sendChatServerRequest(d,t,a)}},{key:"getHistoryMessages",value:function(e,t,a){var n,o,r=this.shouldMockRequest("new_messages")?"/configs/development/".concat("new_messages",".json"):(0,c.chatServerHost)()+(0,i.default)(n=(0,i.default)(o="/client/".concat(u.default.site_id,"/")).call(o,u.default.widget_id,"/")).call(n,e),l={"x-jv-client-id":s.default.client_id,"x-visitor-id":s.default.visitorId};this.sendChatServerRequest(r,t,a,l)}},{key:"sendChatServerRequest",value:function(e,t,a,n,i){l.default.get({url:e,params:t,headers:n},a,i)}},{key:"shouldMockRequest",value:function(e){return d.EnvironmentManager.isDevelopment()&&u.default.mockRequests&&u.default.mockRequests[e]}}]),e}();t.default=f},49043:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(63978)),o=n(a(20368)),r=n(a(39649)),l=n(a(78914)),u=n(a(34074)),s=n(a(20116)),c=n(a(14310)),d=n(a(86902)),f=n(a(59340)),h=n(a(77766)),p=n(a(87672)),m=n(a(26394)),g=n(a(69198)),v=n(a(62107)),_=n(a(75043)),y=a(33367);function b(e,t){var a=(0,d.default)(e);if(c.default){var n=(0,c.default)(e);t&&(n=(0,s.default)(n).call(n,(function(t){return(0,u.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(a=b(Object(n),!0)).call(a,(function(t){(0,p.default)(e,t,n[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(n));else{var s;(0,l.default)(s=b(Object(n))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(n,t))}))}}return e}var w=_.default.name("HttpProvider"),C=function(){function e(){(0,m.default)(this,e)}return(0,g.default)(e,null,[{key:"get",value:function(t,a,n){return e.sendXMLHttpRequest("GET",t,a,n)}},{key:"post",value:function(t,a,n){return e.sendXMLHttpRequest("POST",t,a,n)}},{key:"jsonp",value:function(t,a,n){return n=E(E({},n),{},{jsonp:!0}),e.sendXMLHttpRequest("GET",t,a,n)}},{key:"sendXMLHttpRequest",value:function(t,a,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i.async,r=void 0===o||o,l=i.withCredentials,u=void 0!==l&&l,s=i.jsonp,c=void 0!==s&&s,d=i.responseType,p=void 0===d?null:d,m=i.monitoring,g=new XMLHttpRequest,_=a.headers;if(g.withCredentials=u,"GET"===t&&(a.url+="?",v.default.each(a.params,(function(e,t){a.url+=[t,encodeURIComponent(e)].join("=")+"&"})),a.url=a.url.substr(0,a.url.length-1)),g.open(t,a.url,r),p&&(g.responseType=p),e.setXhrHeaders(g,_),g.onreadystatechange=function(){if(4===g.readyState)if(200!==g.status)w.log(g),n({code:g.status,text:g.statusText,data:g.response},null);else{var e;try{e=c?g.responseText:p?g.response:JSON.parse(g.responseText)}catch(e){var t,i=new Error((0,h.default)(t="Error parsing response from ".concat(a.url,". ")).call(t,e.message));m||y.Monitoring.reportException(i)}n(null,e)}},w.log("XHR params: ",a.params),"POST"===t&&a.headers&&"application/x-www-form-urlencoded"===a.headers["Content-Type"]){var b="";v.default.each(a.params,(function(e,t){b+=[t,encodeURIComponent(e)].join("=")+"&"})),g.send(b)}else"POST"===t?g.send((0,f.default)(a.params)):g.send(a.params);return g}},{key:"setXhrHeaders",value:function(e,t){return v.default.each(t,(function(t,a){e.setRequestHeader(a,t)})),e}}]),e}();t.default=C},68326:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(33032)),o=n(a(31581)),r=n(a(54103)),l=n(a(26394)),u=n(a(69198)),s=n(a(82993)),c=n(a(4620)),d=n(a(62107)),f=n(a(56602)),h=n(a(62904)),p=a(24335),m=a(89766).EventEmitter,g=1500,v=new(function(){function e(t){var a,n=this;if((0,l.default)(this,e),this.readMessages={},this.lastBufferUpdatedTime=(new Date).getTime(),this.initBufferFn=d.default.debounce((0,r.default)(a=this.initBuffer).call(a,this),500),this.initBuffer(),this.emitter=new m,!f.default.isWixEditor()&&!p.isDesignerEditor)if(s.default.isWriteLS){var i=f.default.getPageWindow();f.default.addListener(i,"storage",(function(e){(e||i.event).key==="jv_eBuffer_"+h.default.widget_id&&n.parseNewEvents()}))}else(0,o.default)((function(){var e=c.default.get("eBufferUpdateTime");e!==n.lastBufferUpdatedTime&&(n.lastBufferUpdatedTime=e,n.parseNewEvents())}),1e3)}return(0,u.default)(e,[{key:"initBuffer",value:function(){var e=this,t=s.default.get("eBuffer")||[],a=this.filterOldEvents(t);d.default.each(a,(function(t){e.readMessages[t.id]})),t.length!==a.length&&s.default.set("eBuffer",a)}},{key:"sendEvent",value:function(e,t){var a=this,n=(new Date).getTime(),o={time:n,id:f.default.generateGUIDCount(2),name:e,data:t||{}},r=this.filterOldEvents(s.default.get("eBuffer")||[]);r.push(o),this.readMessages[o.id]=!0,s.default.set("eBuffer",r),s.default.isWriteLS||c.default.set("eBufferUpdateTime",n),(0,i.default)((function(){a.initBufferFn()}),1505)}},{key:"filterOldEvents",value:function(e){var t=this,a=[];return d.default.each(e,(function(e){(new Date).getTime()-e.time>g?delete t.readMessages[e.id]:a.push(e)})),a}},{key:"parseNewEvents",value:function(){var e=this,t=s.default.get("eBuffer");t&&d.default.each(t,(function(t){!e.readMessages[t.id]&&(new Date).getTime()-t.time<g&&e.triggerEvent(t)}))}},{key:"triggerEvent",value:function(e){this.readMessages[e.id]=!0,this.emitter.emit("tabsEvent_"+e.name,e.data)}},{key:"on",value:function(e,t){return this.emitter.addListener("tabsEvent_"+e,t)}}]),e}());t.default=v},47701:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(78914)),o=n(a(33032)),r=n(a(92762)),l=n(a(62462)),u=n(a(54103)),s=n(a(47302)),c=n(a(69301)),d=n(a(26394)),f=n(a(69198)),h=n(a(71093)),p=a(56602),m=n(a(62107)),g=n(a(82993)),v=n(a(68326)),_=a(24335),y=a(33367),b=a(94515),E=n(a(75043)).default.name("ArrayStore"),w=a(89766).EventEmitter,C=function(){function e(t){(0,d.default)(this,e),this.settings=t,this.emitter=new w,this.store=[],this.initArrayStore(),this.protectOthersTabs(),this.triggerFn=m.default.debounce(this.trigger,100)}return(0,f.default)(e,[{key:"initArrayStore",value:function(){var e=this,t=g.default.get(this.settings.name+"_items")||[];m.default.each(t,(function(t){if(g.default.get(t)){var a=new(e.settings.itemClass||h.default)({type:e.settings.type,name:t,keys:(0,c.default)(e.settings)});e.addTriggers(a),e.store.push(a),(0,s.default)(e).call(e)}}))}},{key:"addTriggers",value:function(e){var t,a=this;e.on("all",(function(){a.trigger("update",e)})),e.on("destroy",(0,u.default)(t=this.onRemoveItem).call(t,this,e))}},{key:"push",value:function(e){var t=this.createInst(e);return this.addTriggers(t),t.set(e),this.store.push(t),(0,s.default)(this).call(this),this.backup(t),this.triggerFn("create",t),t.unStorage&&t.unStorage()||v.default.sendEvent("".concat(this.settings.name,"_addArrayItem"),{name:t.getName()}),t}},{key:"createInst",value:function(e){var t=this.settings.type;(e.body&&e.body.unsave||_.isDesignerEditor)&&(t="memory");for(var a={},n=this.settings.itemClass||h.default,i=0;i<3&&!((a=new n({type:t,name:(0,p.generateGUIDCount)(2),keys:(0,c.default)(this.settings)}))instanceof n);i++)y.Monitoring.reportException(new Error("store_dublicate"));return a}},{key:"sort",value:function(){}},{key:"pushAll",value:function(e){var t=this,a=[];return m.default.each(e,(function(e){a.push(t.push(e))})),a}},{key:"getAll",value:function(){return this.store}},{key:"toJSON",value:function(){var e=[];return m.default.each(this.store,(function(t){e.push(t.toJSON())})),e}},{key:"each",value:function(e){m.default.each(this.store,(function(t){e(t.toJSON(),t)}))}},{key:"onRemoveItem",value:function(e){var t,a=(0,l.default)(m.default).call(m.default,this.store,(function(t){return t===e}));(0,r.default)(t=this.store).call(t,a,1),this.trigger("remove"),this.backup(),v.default.sendEvent("".concat(this.settings.name,"_removeArrayItem"),{name:e.getName()})}},{key:"backup",value:function(){var e=[];m.default.each(this.store,(function(t){t.unStorage&&t.unStorage()||e.push(t.getName())})),g.default.set(this.settings.name+"_items",e.length?e:[])}},{key:"protectOthersTabs",value:function(){var e=this;v.default.on("".concat(this.settings.name,"_addArrayItem"),(function(t){var a=new(e.settings.itemClass||h.default)({type:e.settings.type,name:t.name,keys:(0,c.default)(e.settings)});(0,p.isEmpty)(a)?E.warn("".concat(e.settings.name,"_addArrayItem inst is empty!"),t,a):(e.addTriggers(a),e.store.push(a),(0,s.default)(e).call(e),e.trigger("create",a,!0))})),v.default.on("".concat(this.settings.name,"_removeArrayItem"),(function(t){var a,n=(0,l.default)(m.default).call(m.default,e.store,(function(e){return e.getName()===t.name}));n>=0&&((0,r.default)(a=e.store).call(a,n,1),(0,s.default)(e).call(e),e.trigger("remove"))}))}},{key:"trigger",value:function(e,t,a){var n=this;(0,o.default)((function(){n.emitter.emit(e,t,a)}),0)}},{key:"itemTrigger",value:function(){}},{key:"on",value:function(e,t){return this.emitter.addListener(e,t)}},{key:"onItem",value:function(e){return this.emitter.addListener("".concat(this.settings.name,"_update"),cb)}},{key:"destroy",value:function(){var e=this.store;this.store=[],(0,i.default)(e).call(e,(function(e){e.destroy()})),this.backup(),this.trigger("remove")}}]),e}();t.default=C,b.EnvironmentManager.isDevelopment()&&(window.parent.ArrayStore=C)},4620:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(26394)),o=n(a(69198)),r=n(a(62904)),l=n(a(75043)).default.name("COOKIE","color: grey");function u(e){return new Date((new Date).getTime()+432e5)}var s=new(function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"get",value:function(e){return this.cookie(e)}},{key:"set",value:function(e,t,a){return this.cookie(e,t,a)}},{key:"cookie",value:function(e,t,a){if("__utmz"!=e&&(e=["jv",e,r.default.widget_id].join("_")),arguments.length>1&&"[object Object]"!==String(t)){if(void 0===a&&(a={}),null==t?(l.log("Clearing COOKIE "+e),a.expires=-1):l.log("Set COOKIE "+e+" with value "+t),"number"==typeof a.expires){var n=a.expires,i=a.expires=new Date;i.setDate(i.getDate()+n)}else a.expires instanceof Date||(a.expires=u());return t=String(t),document.cookie=[encodeURIComponent(e),"=",encodeURIComponent(t),a.expires?"; expires="+a.expires.toUTCString():"",r.default.cookie_domain?"; domain="+r.default.cookie_domain:"","; path=/"].join("")}var o,s=(a=t||{}).raw?function(e){return e}:decodeURIComponent;o=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie);try{o=o&&o.length?s(o[1]):null}catch(e){o=o[1]}return o}}]),e}());t.default=s},82993:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(59340)),o=n(a(77766)),r=n(a(26394)),l=n(a(69198)),u=n(a(62904)),s=n(a(4620)),c=n(a(58061)),d=(n(a(75043)).default.name("LocalStorageProvider"),new(function(){function e(){(0,r.default)(this,e);var t=window.parent||window;this.isWriteLS=c.default.supportsLocalStorage()&&!u.default.cookie_domain,this.LS=this.isWriteLS?t.localStorage:null}return(0,l.default)(e,[{key:"get",value:function(e){var t;if(this.LS){var a,n=(0,o.default)(a="jv_".concat(e,"_")).call(a,u.default.widget_id);t=JSON.parse(this.LS.getItem(n))||null}else t=JSON.parse(s.default.get(e)||null);return t}},{key:"set",value:function(e,t){if(this.LS){var a,n=(0,o.default)(a="jv_".concat(e)).call(a,"_"+u.default.widget_id);this.LS.setItem(n,(0,i.default)(t))}else s.default.set(e,(0,i.default)(t))}},{key:"removeKey",value:function(e){if(this.LS){var t,a=(0,o.default)(t="jv_".concat(e,"_")).call(t,u.default.widget_id);this.LS.removeItem(a)}else s.default.set(e,null)}}]),e}()));t.default=d},5972:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(31581)),o=n(a(81643)),r=n(a(26394)),l=n(a(69198)),u=n(a(62107)),s=n(a(93268)),c=n(a(75043)).default.name("SessionStore","color: grey"),d="sess_",f=new(function(){function e(){(0,r.default)(this,e),c.log("init session store"),this.sessionKeysList=this.initSessionKeysList(),this.startTimer()}return(0,l.default)(e,[{key:"initSessionKeysList",value:function(){return s.default.getKeysByPrefix(s.default.getPrefix()+d)}},{key:"set",value:function(e,t){var a;-1===(0,o.default)(a=this.sessionKeysList).call(a,e)&&this.sessionKeysList.push(e),s.default.set(d+e,t,43200)}},{key:"get",value:function(e){return s.default.get(d+e)}},{key:"startTimer",value:function(){var e=this;(0,i.default)((function(){c.log("startTimer",e.sessionKeysList),u.default.each(e.sessionKeysList,(function(t){var a=e.get(t);a&&(c.log("update session",t,a),e.set(t,a))}))}),6e4)}}]),e}());t.default=f},71093:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(77766)),o=n(a(23765)),r=n(a(59340)),l=n(a(69301)),u=n(a(81643)),s=n(a(26394)),c=n(a(69198)),d=n(a(4620)),f=n(a(62107)),h=a(56602),p=n(a(68326)),m=n(a(82993)),g=a(94515),v=n(a(75043)).default.name("Store"),_=a(89766).EventEmitter,y=[],b=function(){function e(t){if((0,s.default)(this,e),this.registrName(t.name))return v.warn("Dublicate name for Store keyName"),{};this.settings=t,this.store=this.getDefaultKeys(),this.emitter=new _,"session"===t.type?this.initSessionStore():"default"===t.type?this.initDefaultStore():"memory"===t.type&&this.initMemoryStore(),this.protectOthersTabs(),this.allKeysUpdateDebounce=f.default.debounce(this.allKeysUpdate,150)}return(0,c.default)(e,[{key:"registrName",value:function(e){return(0,u.default)(y).call(y,e)>-1||(y.push(e),!1)}},{key:"initDefaultStore",value:function(){var e=m.default.get(this.settings.name)||{};this.store=f.default.extend(this.store,e)}},{key:"initMemoryStore",value:function(){}},{key:"initSessionStore",value:function(){var e=m.default.get(this.settings.name)||{};if(e&&e._id!==d.default.get(this.settings.name+"sess_id")){v.log("resetSession store");var t=(0,h.generateGUIDCount)(2);d.default.set(this.settings.name+"sess_id",t),(e=this.store)._id=t,e._clearTime=(new Date).getTime()+5e3,m.default.set(this.settings.name,e),p.default.sendEvent("".concat(this.settings.name,"_resetSessionStore"))}this.store=e}},{key:"getDefaultKeys",value:function(){var e={};return f.default.each((0,l.default)(this.settings),(function(t,a){"function"==typeof t?e[a]=t():null!==t&&"{}"!==(0,r.default)(t)&&(e[a]=t)})),e}},{key:"isDeepName",value:function(e){return"string"==typeof e&&e.split(".").length>1}},{key:"getDeepName",value:function(e){var t=e.split(".");return this.isDeepName(e)?t:[e]}},{key:"set",value:function(e,t){var a=this;if("object"!==(0,o.default)(e))return this.setKey(e,t);f.default.each(e,(function(e,t){a.set(t,e)}))}},{key:"setDeepKey",value:function(e,t,a){if("string"==typeof a&&(a=a.split(".")),!(a.length>1))return null===t?delete e[a[0]]:e[a[0]]=t,t;var n=a.shift();null!=e[n]&&"object"===(0,o.default)(e[n])||(e[n]={}),this.setDeepKey(e[n],t,a)}},{key:"setKey",value:function(e,t,a){return void 0===(0,l.default)(this.settings)[this.getDeepName(e)[0]]?(v.error("Error: set not initialized key "+e),null):(this.get(e)===t||(this.isDeepName(e)?this.setDeepKey(this.store,t,e):null===t?delete this.store[e]:this.store[e]=t,this.trigger(e,t),a||this.triggerAndBackup(e)),t)}},{key:"get",value:function(e){return this.isDeepName(e)?void 0===(0,l.default)(this.settings)[this.getDeepName(e)[0]]?(v.error("Error: get not initialized key "+e),null):this.findObj(this.store,e):void 0===(0,l.default)(this.settings)[e]?(v.error("Error: get not initialized key "+e),null):this.store[e]||null}},{key:"findObj",value:function(e,t){var a,n=t.split("."),i=e;for(a=0;a<n.length;++a){if(null==i[n[a]])return null;i=i[n[a]]}return i}},{key:"destroy",value:function(){this.trigger("destroy"),m.default.removeKey(this.settings.name),this.store={},this.emitter.removeAllListeners()}},{key:"toJSON",value:function(){return this.store}},{key:"triggerAndBackup",value:function(e){"memory"!==this.settings.type&&(this.unStorage&&this.unStorage()||m.default.set(this.settings.name,this.store),p.default.sendEvent("".concat(this.settings.name,"_updateStore"),{name:this.settings.name,keyName:e,val:this.get(e)||null}))}},{key:"allKeysUpdate",value:function(){this.emitter.emit("".concat(this.settings.name,"_change_all"),this.store)}},{key:"trigger",value:function(e,t){var a;this.emitter.emit((0,i.default)(a="".concat(this.settings.name,"_change_")).call(a,e),t),this.allKeysUpdateDebounce()}},{key:"on",value:function(e,t){var a;return this.emitter.addListener((0,i.default)(a="".concat(this.settings.name,"_change_")).call(a,e),t)}},{key:"protectOthersTabs",value:function(){var e=this;p.default.on("".concat(this.settings.name,"_updateStore"),(function(t){t.name===e.settings.name&&e.setKey(t.keyName,t.val,!0)})),p.default.on("".concat(this.settings.name,"_resetSessionStore"),(function(){e.store={}}))}},{key:"getName",value:function(){return this.settings.name}}]),e}(),E=b;t.default=E,g.EnvironmentManager.isDevelopment()&&(window.parent.Store=b)},93268:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(26394)),o=n(a(69198)),r=n(a(62107)),l=n(a(62904)),u=n(a(82993)),s=n(a(75043)).default.name("TempStore","color: grey"),c="temp_",d=new(function(){function e(){(0,i.default)(this,e),this.cleanExpiredKeys()}return(0,o.default)(e,[{key:"set",value:function(e,t,a){if(s.log("set",e,t,a),!a)throw new Error("cant set in TempStore without seconds");if(null===t)return s.log("remove key on data",e),void u.default.removeKey(c+e);t={val:t,expire:(new Date).setTime((new Date).getTime()+1e3*a)},u.default.set(c+e,t)}},{key:"get",value:function(e){var t=u.default.get(c+e);return t&&t.expire?t.expire<(new Date).getTime()?null:t.val:t}},{key:"cleanExpiredKeys",value:function(){var e=this.getKeysByPrefix(c);r.default.each(e,(function(e){var t=c+e,a=u.default.get(t);a&&a.expire&&a.expire<(new Date).getTime()&&(s.log("delete key on init expire:",t),u.default.removeKey(t))}))}},{key:"getKeysByPrefix",value:function(e){var t=[],a=u.default.LS;if(a)for(var n in a)if(n&&0==n.search(new RegExp("^jv_"+e))){var i=n.replace("jv_".concat(e),"").replace("_".concat(l.default.widget_id),"");t.push(i)}return t}},{key:"getPrefix",value:function(){return c}}]),e}());t.default=d},76871:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.TestName=void 0;t.TestName={}},21224:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.Component=void 0;t.Component={ROOT_COMPONENT:"RootComponent",CALL_CONTAINER:"CallContainer",CHAT_CONTAINER:"ChatContainer",DRAG:"Drag",INTRODUCE:"Introduce",WIDGET_CONTAINER:"WidgetContainer",WIDGET_CONTAINER_COMPONENT:"WidgetContainerComponent",INPUT:"Input",AUTORESIZER:"autoResizer",CHAT_INPUT:"ChatInput",CHAT_INTRODUCE:"ChatIntroduce",SCROLL_CONTAINER:"ScrollContainer",PRECHAT:"PrechatMessage",LABEL:"Label",HEADER:"Header",MORE_BUTTON:"MoreButton",MOUSE_TRACK:"MouseTrack",CHAT_BODY:"ChatBody",SOUND_AGENT_MESSAGE:"SOUND_AGENT_MESSAGE",SOUND_NOTIFICATION:"SOUND_NOTIFICATION",SOUND_OUTGOING_MESSAGE:"SOUND_OUTGOING_MESSAGE"}},81426:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.ChatMode=void 0;t.ChatMode={OFFLINE:"offline",ONLINE:"online"}},84640:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.Environment=void 0;t.Environment={PRODUCTION:"production",DEVELOPMENT:"development",TESTING:"testing"}},10404:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.FileUploadError=void 0;t.FileUploadError={FILE_SIZE_EXCEEDED:"FILE_SIZE_EXCEEDED",RESTRICTED_FILE_TYPE:"RESTRICTED_FILE_TYPE",NO_EXTENSION:"NO_EXTENSION"}},83093:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.Locator=void 0;t.Locator={LABEL_COPYRIGHT_POPUP:"LABEL_COPYRIGHT_POPUP",HEADER:"HEADER",HEADER_TEXT:"HEADER_TEXT",HEADER_LEAF:"HEADER_LEAF",HEADER_AGENT_NAME:"HEADER_AGENT_NAME",HEADER_AGENT_POSITION:"HEADER_AGENT_POSITION",HEADER_AGENT_AVATAR:"HEADER_AGENT_AVATAR",HEADER_CALLBACK_BUTTON:"HEADER_CALLBACK_BUTTON",CHAT_COPYRIGHT:"CHAT_COPYRIGHT",INPUT:"INPUT",INPUT_SUBMIT:"INPUT_SUBMIT",FILE_UPLOAD:"FILE_UPLOAD",CONTACTS_FORM:"CONTACTS_FORM",CONTACTS_FORM_NAME:"CONTACTS_FORM_NAME",CONTACTS_FORM_PHONE:"CONTACTS_FORM_PHONE",CONTACTS_FORM_EMAIL:"CONTACTS_FORM_EMAIL",CONTACTS_FORM_SUBMIT:"CONTACTS_FORM_SUBMIT",CONTACTS_FORM_INPUT:"CONTACTS_FORM_INPUT",CALLBACK_BUTTON:"CALLBACK_BUTTON",WA_BUTTON:"WA_BUTTON",CLOSE_BUTTON:"CLOSE_BUTTON",POWER_BUTTON:"POWER_BUTTON",MOBILE_POPUP_CLOSE_BUTTON:"MOBILE_POPUP_CLOSE_BUTTON"}},8565:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.MessageInitiator=t.MessageStatus=t.MessageType=void 0;t.MessageType={MESSAGE:"message",PROACTIVE:"proactive",MEDIA:"media",COBROWSE:"cobrowse",INVOICE:"invoice",SYSTEM:"system",PREFORM:"botsystem",FORM:"form",TEMPORARY:"temporary",SOCIAL:"social",EMAIL:"email",SEPARATOR:"separator",FOR_TEST:"fortest",PRECHAT:"prechat",BOT:"bot",INVITE:"invite",EMPTY:null,LISTPICKER:"keyboard"};t.MessageStatus={SENT:"sended",DELIVERED:"delivered",READ:"read",NOT_DELIVERED:"notDelivered",FAILED:"failed",DELETED:"deleted",EMPTY:null};t.MessageInitiator={AGENT:"agent",CLIENT:"client",SYSTEM:"system",FORM:"bot",BOT:"bot_agent",EMPTY:null}},85442:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.RouteList=t.RouterEvent=t.Route=void 0;var n={HIDDEN:"hidden",LABEL:"label",LABEL_INVITATION:"label/invitation",DEPARTMENTS:"departments",INTRODUCE:"introduce",MOBILEMENU:"mobilemenu",CHAT:"chat",CHAT_MIN:"chat/min",CHAT_EULA:"chat/eula",CHAT_SOCIAL:"chat/social",CHAT_INTRODUCE:"chat/introduce",CHAT_EVAL:"chat/eval",CHAT_CALL:"chat/call",CALL:"call",CALL_EULA:"call/eula",DEBUG:"debug"};t.Route=n;t.RouterEvent={Submit:"submit",Cancel:"cancel",CloseWindow:"closeWindow",Hide:"hide",Navigate:"navigate",Error:"error",ToChat:"toChat",ToCall:"toCall",ToSocial:"toSocial",ToIntroduce:"toIntroduce",ToEval:"toEval",ToEula:"toEula",ApiOpen:"apiOpen",ToDebug:"toDebug",ToLabelInvitation:"toLabelInvitation"};var i=[];for(var o in n)n.hasOwnProperty(o)&&i.push(n[o]);var r=i;t.RouteList=r},20965:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.DelayedCallStatus=t.CallStatus=t.ChatState=void 0;t.ChatState={NOT_STARTED_OR_CLOSED:"NOT_STARTED_OR_CLOSED",STARTED:"STARTED",ACCEPTED:"ACCEPTED"};t.CallStatus={WAIT:"cw_wait",CONNECTING:"cw_connecting",CONNECTED:"cw_connected",ENDED:"cw_call_end",ERROR:"cw_error"};t.DelayedCallStatus={WAIT:0,SUCCESS:1,MAX_REQUESTS_LIMIT:2,NOT_WORK_TIME:3,BAD_CALLBACK_TIME:4,BLOCKED:5,BAD_DIRECTION:6}},63242:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.TelemetryName=void 0;t.TelemetryName={NEWOFFLINE_FIRST_MESSAGE:"offline_first_message",NEWOFFLINE_FORM_SUBMIT:"offline_form_submit",NEWOFFLINE_MESSAGE_AFTER_FORM:"offline_message_after_form",NEWOFFLINE_AGENT_ACCEPT:"offline_agent_accept",NEWOFFLINE_FORCE_OFFLINE:"offline_force_offline",CHAT_ACCEPTED:"chat_accepted",STARTUP_ERROR:"startup_error",CALL_END:"cw_call_end",CALL_ERROR:"cw_call_error",FORCE_OFFLINE:"force_offline",SOCIAL_HAS_INTEGRATION:"social_receive_has_integration_",CHAT_INTRODUCE_SOCIAL:"chat_introduce_social",CALL_START:"cw_start_call",API_CALL_OPEN:"cw_api_call_open",INTRODUCE:"introduce",CLIENT_RATE_FORM:"client_rate_form",EULA_SHOWN:"eula_shown",EULA_ACCEPTED:"eula_accepted",OFFLINE_SENT:"offline_sent",CLIENT_MESSAGE_SEND_ERROR:"client_message_send_error",CHAT_INTRODUCE:"chat_introduce",CHAT_INVITE:"chat_invite",COBROWSE_SUCCESS:"cobrowse_success",COBROWSE_FAILED:"cobrowse_failed",CLIENT_MESSAGE_FLUSH_BUFFER:"client_message_flush_buffer",DISCONNECTED:"Disconnected while connecting",STARTUP_TIMEOUT:"Startup Timeout",JC_RECONNECT:"JC reconnect",CDN_LOAD_TIME:"cdn_load_time",IN_IFRAME_STARTED:"in_iframe_started",API_GET_MESSAGES_REQUEST:"api_get_messages_request",API_GET_MESSAGES_ERROR:"api_get_messages_error",API_GET_MESSAGES_RECEIVED:"api_get_messages_received",YANDEX_OK:"yandex_ok",YANDEX_TOKENS_ERROR:"yandex_tokens_error",FILE_UPLOAD_ERROR:"file_upload_error",FILE_UPLOAD_ERROR_NO_MIME_TYPE:"file_upload_error_no_mime_type",CW_BUTTON_CLICK:"cw_button_click",WA_BUTTON_CLICK:"wa_button_click",WIDGET_CLOSE_CLICK:"widget_close_click",SITE_CUSTOM_COPYRIGHT:"site_custom_copyright",EULA_CANCEL_BTN:"eula_cancel_btn",EULA_LINK_CLICKED:"eula_link_clicked",FILE_UPLOAD_SUCCESS:"file_upload_success",FILE_UPLOAD_CANCELED:"file_upload_canceled",MOBILE_CHAT_CLOSE:"mobile_chat_close",MOBILE_CLOSE_CALLBACK:"mobile_close_callback",EMOJI_OPEN_SMILE_LIST:"emoji_open_smile_list",EMOJI_INSERT_SMILE:"emoji_insert_smile",WIDGET_CLICK:"widget_click",LABEL_BUTTONS_SHOW:"label_buttons_show",LABEL_BUTTONS_CHAT:"label_buttons_chat",LABEL_BUTTONS_CALL:"label_buttons_call",LABEL_BUTTONS:"label_buttons_",LABEL_BUTTONS_WA:"label_buttons_wa",COBROWSE_CLICK_BUTTON:"cobrowse_click_button",EMAIL_MESSAGE_SUBMITTED:"Introduce message email submitted",POWERBUTTON_OPEN:"powerbtn_open_",POWERBUTTON_OPEN_CHAT:"powerbtn_open_chat",POWERBUTTON_OPEN_CALLBACK:"powerbtn_open_callback",POWERBUTTON_CLOSE_MENU:"powerbtn_close_menu",POWERBUTTON_OPEN_MENU:"powerbtn_open_menu",CONTINUE_IN_VK:"Continue in VK",CONTINUE_IN_FB:"Continue in FB",ZOOM_OVERLAY_SHOW:"zoom_overlay_show",ZOOM_OVERLAY_HIDE:"zoom_overlay_hide",WIDGET_STATUS:"widget_status",CW_ONLINE_HEADER_BUTTON:"cw_online_header_button",CW_OFFLINE_HEADER_BUTTON:"cw_offline_header_button",SOCIAL_SHOW_FACEBOOK:"social_show_facebook",SOCIAL_SHOW_VK:"social_show_vk",SOCIAL_CONFIGURED_NOT_LOGGED:"social_configured_not_logged",VISITORS_FAIL:"visitors_fail",VISITORS_INVITE:"visitors_invite",IMPORT_LEGACY:"import legacy",OFFLINE_INVITE:"offline_invite",BITRIX_SKIP_IFRAME:"Bitrix Skip Iframe",VISITOR_MSG_SENT:"visitor_msg_sent",API_OPEN:"api_open",API_CLOSE:"api close",API_GET_CONTACT_INFO:"api getContactInfo",API_GET_VISITOR_NUMBER:"api getVisitorNumber async",API_SET_USER_TOKEN:"api setUserToken",API_SET_CUSTOM_DATA:"api setCustomData",API_SEND_MESSAGE:"api sendMessage",API_SET_CONTACT_INFO:"api setContactInfo",API_SET_CONTACT_INFO_BAD_DATA:"api setContantactInfo bad data",API_SHOW_PROACTIVE:"api showProactiveInvitation",API_SEND_OFFLINE_MESSAGE:"api sendOfflineMessage",API_SEND_OFFLINE_MESSAGE_BAD_DATA:"api sendOfflineMessage bad data",API_SET_RULES:"api setRules",API_CHAT_MODE:"api chatMode",API_SET_WIDGET_COLOR:"api setWidgetColor",API_SEND_PAGE_TITLE:"api_sendpagetitle",API_IS_CALLBACK_ENABLED:"api isCallbackEnabled",API_GET_UTM:"api getUtm",OFFLINE_SENT_FAIL:"offline_sent_fail",DEBUG_PANEL_OPENED:"debug_panel_opened",MORE_CLICK:"more_click",DOWNLOAD_CHAT_LOG_CLICK:"download_chat_log_click",ERROR_DOWNLOADING_CHAT_LOG:"error_downloading_chat_log",WIDGET_DELETED:"widget_deleted",INVITE_CLOSE:"invite_close",PRECHAT:"prechat",RECEIVE_API_INVITATION:"receive_api_invitation",READ_API_INVITATION:"read_api_invitation",ANSWER_API_INVITATION:"answer_api_invitation",API_INVITATION_OPEN_CHAT:"api_invitation_open_chat",BOT_BUTTON_CLICK:"bot_button_click",CLIENT_MESSAGE_BOT:"client_message_bot",CONFIG_LIMIT:"config_limit",VI_STATUS_FAIL:"vi_status_fail",MARKDOWN_LINK_CLICK:"markdown_link_click",MORE_BTN_CLICK:"more_btn_click",BOT_TRANSFER_CHAT:"bot_transfer_chat",DELAYED_ERR:"delayed_query_error",RECAPTCHA_SUCCESS:"recaptcha_success",RECAPTCHA_FAILURE:"recaptcha_failure",RECAPTCHA_ERROR:"recaptcha_error",BUNDLE_LOADED:"bundle_loaded"}},42796:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.ScriptName=void 0;t.ScriptName={OPEN_WIDGET:"OPEN_WIDGET",CLOSE_WIDGET:"CLOSE_WIDGET",MINIMIZE_WIDGET:"MINIMIZE_WIDGET",MAXIMIZE_WIDGET:"MAXIMIZE_WIDGET"}},78605:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.ClientStatus=void 0;t.ClientStatus={ON_CHAT:"on_chat",INVITE_SENT:"invite_sent",ON_SITE:"on_site",PROACTIVE_SHOW:"proactive_show",ON_CALL:"on_call"}},55471:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(26394)),r=n(a(69198)),l=n(a(51379)),u=n(a(214)),s=n(a(66380)),c=n(a(59748)),d=n(a(60021)),f=n(a(75043)),h=n(a(69961)),p=n(a(75119)),m=n(a(58061)),g=n(a(84470));function v(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var _=f.default.name("AgentTyping"),y=function(e){(0,l.default)(a,e);var t=v(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).state={hide:!h.default.typing},n}return(0,r.default)(a,[{key:"componentDidMount",value:function(){var e=this;_.log("mounted"),this.on(h.default,(function(){e.setState({hide:!h.default.typing})}))}},{key:"getRenderData",value:function(){return{styles:{main:[{main:!0,__mobile:m.default.mobileOrTablet()},{display:this.state.hide?"none":"block"}]},style:g.default}}},{key:"renderData",value:function(e,t){return c.default.createElement("jdiv",t.main,c.default.createElement("jdiv",{className:g.default.text},(0,p.default)("lblPencilHint")))}}]),a}(d.default);t.default=y},16810:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(2991)),l=n(a(77766)),u=n(a(3649)),s=n(a(54103)),c=n(a(26394)),d=n(a(69198)),f=n(a(51379)),h=n(a(214)),p=n(a(66380)),m=n(a(59748)),g=n(a(60021)),v=n(a(69961)),_=n(a(36216)),y=n(a(62652)),b=n(a(62904)),E=n(a(75043)),w=n(a(58061)),C=a(17674),T=a(56602),k=n(a(31386)),S=a(70645);a(83093);function I(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,p.default)(e);if(t){var o=(0,p.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,h.default)(this,a)}}E.default.name("Avatar");var x=function(e){(0,f.default)(a,e);var t=I(a);function a(e){var n;return(0,c.default)(this,a),(n=t.call(this,e)).state={},n.state=n.getState(),n.state.expanded=C.Router.isMinRoute(),n.state.connected=n.props.connected,n._totalAgents=0,n}return(0,d.default)(a,[{key:"getState",value:function(){var e="cw_connected"===_.default.cw_call.status;return y.default.is_online?{avatar_url:!!v.default.agent_id&&v.default.avatar_url,connected:e,expanded:C.Router.isMinRoute()}:{avatar_url:!1,connected:e}}},{key:"processState",value:function(){var e=this.getState();e.avatar_url===this.state.avatar_url&&e.connected===this.state.connected&&e.expanded===this.state.expanded||this.setState(e)}},{key:"componentDidMount",value:function(){var e,t,a;this.on(y.default,(0,s.default)(e=this.processState).call(e,this)),this.on(_.default,(0,s.default)(t=this.processState).call(t,this)),this.on(v.default,(0,s.default)(a=this.processState).call(a,this))}},{key:"componentWillUnmount",value:function(){this.off()}},{key:"getRenderData",value:function(){var e,t,a,n=[];this.props.avatars&&(this._totalAgents=this.props.avatars.length,n=(0,u.default)(a=this.props.avatars).call(a,0,3));var i=!!this.state.avatar_url&&(0,l.default)(e=(0,l.default)(t="".concat((0,T.getProtocol)())).call(t,b.default.avatar_url,"/avatars/")).call(e,this.state.avatar_url),o=y.default.is_online&&!C.Router.isHideAvatarRoute()&&(v.default.agent_id||n.length>1),r=this.props.isLightBg,s={display:i?"block":"none"},c=b.default.power_button_color||"#44BB6E",d=w.default.mobileOrTablet()&&!b.default.power_gradient?c:b.default.widget_color,f=[{avatar:!0,_connected:"chat"!==this.props.type&&this.state.connected,_expanded:this.state.expanded,_mobile:w.default.mobile(),_tablet:w.default.tablet(),_chatStyle:!!this.props.type,__isLastMessage:this.props.isLastMessage},{display:o?"table-cell":"none"}];return this.props.type&&(f[1]={},r=!0),n.length&&(f[0]["_width"+n.length]=!0),{data:{avatarUrl:i||"",avatars:n},styles:{avatar:f,avatarColor:[{darkAvatar:r,lightAvatar:!r}],avatarList:[{avatarList:!0}],avatarListImg:[{avatarListImg:!0}],dotsItem:[{dotsItem:!0,_dark:r,_light:!r},{borderColor:d}],avatarItem:[{avatarItem:!0,darkAvatar:r,lightAvatar:!r},{backgroundColor:this.props.type?null:d,borderColor:this.props.type?null:d}],avatarImg:[{avatarImg:!0},s]},style:k.default}}},{key:"renderAvatars",value:function(e,t){var a,n=this;if(t.avatars.length)return m.default.createElement("jdiv",(0,o.default)({},e.avatarList,(0,S.withLocator)(this.props["data-qa-id"])),(0,r.default)(a=t.avatars).call(a,(function(t,a){var i,r;if(t){t.toJSON&&(t=t.toJSON());var u=!!t.avatar_url&&(0,l.default)(i=(0,l.default)(r="".concat((0,T.getProtocol)())).call(r,b.default.avatar_url,"/avatars/")).call(i,t.avatar_url);return 2==a&&n._totalAgents>3?m.default.createElement("jdiv",e.dotsItem,m.default.createElement("jdiv",e.dots,"...")):m.default.createElement("jdiv",e.avatarItem,u?m.default.createElement("jdiv",(0,o.default)({},e.avatarListImg,{style:{backgroundImage:"url(".concat(u,")")}})):"")}})));var i=t.avatarUrl?{backgroundImage:"url(".concat(t.avatarUrl,")")}:{};return m.default.createElement("jdiv",e.avatarColor,m.default.createElement("jdiv",(0,o.default)({},e.avatarImg,{style:i},(0,S.withLocator)(this.props["data-qa-id"]))))}},{key:"renderData",value:function(e,t){return m.default.createElement("jdiv",t.avatar,this.renderAvatars(t,e))}}]),a}(g.default);t.default=x},91858:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(87672)),o=n(a(59748)),r=n(a(31386)),l=n(a(94184)),u=n(a(45697)),s=function(e){var t,a=e.expanded,n=void 0!==a&&a,u=e.dark,s=void 0===u||u,c=e.inCall,d=void 0!==c&&c,f=e.inChat,h=void 0!==f&&f,p=e.isMobile,m=void 0!==p&&p,g=e.isTablet,v=void 0!==g&&g,_=e.url,y=void 0===_?null:_,b=y?{backgroundImage:"url(".concat(y,")")}:{},E=(0,l.default)((t={},(0,i.default)(t,r.default.avatar,!0),(0,i.default)(t,r.default._connected,!h&&d),(0,i.default)(t,r.default._expanded,n),(0,i.default)(t,r.default._mobile,m),(0,i.default)(t,r.default._tablet,v),(0,i.default)(t,r.default._chatStyle,h),t));return o.default.createElement("jdiv",{className:E},o.default.createElement("jdiv",{className:s?r.default.darkAvatar:r.default.lightAvatar},o.default.createElement("jdiv",{className:r.default.avatarImg,style:b})))};s.propTypes={expanded:u.default.bool,dark:u.default.bool.isRequired,inCall:u.default.bool,inChat:u.default.bool,isMobile:u.default.bool,isTablet:u.default.bool,url:u.default.string};var c=o.default.memo(s);t.default=c},80743:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(77766)),o=n(a(87672)),r=n(a(59748)),l=n(a(62904)),u=n(a(31386)),s=a(56602),c=n(a(94184)),d=n(a(45697)),f=a(58165),h=(n(a(75043)).default.name("BotIcon"),function(e){var t,a,n,d=e.isHeader,h=void 0!==d&&d,p=e.url,m=void 0===p?null:p,g=(0,c.default)((t={},(0,o.default)(t,u.default.botIcon,!0),(0,o.default)(t,u.default.__header,h),t)),v=m?(0,i.default)(a=(0,i.default)(n="".concat((0,s.getProtocol)())).call(n,l.default.avatar_url,"/avatars/")).call(a,m):(0,f.getSvgBgIcon)("iconBot"),_=m?null:{backgroundImage:"url(".concat(v,")")};return r.default.createElement("jdiv",{className:g,style:_},m?r.default.createElement("jdiv",{className:u.default.img,style:{backgroundImage:"url(".concat(v,")")}}):null)});h.propTypes={isHeader:d.default.bool,url:d.default.string};var p=r.default.memo(h);t.default=p},80740:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(2991)),o=n(a(87672)),r=n(a(59748)),l=n(a(31386)),u=n(a(94184)),s=n(a(45697)),c=function(e){var t,a=e.urls,n=e.bgColor,s=e.dark,c=void 0!==s&&s,d=e.expanded,f=void 0!==d&&d,h=e.inCall,p=void 0!==h&&h,m=e.inChat,g=void 0!==m&&m,v=e.isMobile,_=void 0!==v&&v,y=e.isTablet,b=void 0!==y&&y,E="_width".concat(a.length),w=(0,u.default)((t={},(0,o.default)(t,l.default.avatar,!0),(0,o.default)(t,l.default._connected,!g&&p),(0,o.default)(t,l.default._expanded,f),(0,o.default)(t,l.default._mobile,_),(0,o.default)(t,l.default._tablet,b),(0,o.default)(t,l.default._chatStyle,g),(0,o.default)(t,l.default[E],!0),t));return r.default.createElement("jdiv",{className:w},r.default.createElement("jdiv",{className:l.default.avatarList},(0,i.default)(a).call(a,(function(e,t){var i,s;return a.length>3&&t===a.length-1?r.default.createElement("jdiv",{className:(0,u.default)((i={},(0,o.default)(i,l.default.dotsItem,!0),(0,o.default)(i,l.default._dark,c),(0,o.default)(i,l.default._light,!c),i)),style:{borderColor:n}},r.default.createElement("jdiv",null,"...")):r.default.createElement("jdiv",{className:(0,u.default)((s={},(0,o.default)(s,l.default.avatarItem,!0),(0,o.default)(s,l.default.darkAvatar,c),(0,o.default)(s,l.default.lightAvatar,!c),s)),style:{backgroundColor:n,borderColor:n}},r.default.createElement("jdiv",{className:l.default.avatarListImg,style:{backgroundImage:e?"url(".concat(e,")"):null}}))}))))};c.propTypes={urls:s.default.arrayOf(s.default.string.isRequired).isRequired,bgColor:s.default.string.isRequired,dark:s.default.bool.isRequired,expanded:s.default.bool,inCall:s.default.bool,inChat:s.default.bool,isMobile:s.default.bool,isTablet:s.default.bool};var d=r.default.memo(c);t.default=d},34271:function(e,t,a){"use strict";var n=a(87646),i=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a(87672)),r=i(a(33032)),l=i(a(31581)),u=i(a(77766)),s=i(a(81643)),c=i(a(18777)),d=n(a(59748)),f=a(26213),h=i(a(45697)),p=i(a(37480)),m=i(a(66975)),g=i(a(78670)),v=i(a(76646)),_=a(57539),y=i(a(94184)),b=i(a(54782)),E=i(a(58061)),w=a(85442),C=a(20965),T=a(56602),k=i(a(86999)),S=i(a(75119)),I=a(10872),x=i(a(45808)),A=a(21224),M=(i(a(75043)).default.name("CallContainer"),function(e){var t,a,n,i,f,h=e.callbackStatus,M=e.closeCallback,R=e.isDelayedCall,N=e.delayedCallStatus,O=e.callbackTime,D=e.callbackError,L=e.widgetFontColor,P=e.widgetColor,j=e.widgetColor2,B=e.pattern,F=e.billRu,H=e.eulaAccepted,W=e.callHeaderText,U=e.route,z=e.showBody,G=(0,d.useState)(!1),V=(0,c.default)(G,2),q=V[0],K=V[1],Y=-1!==(0,s.default)(t=[C.CallStatus.WAIT,C.CallStatus.CONNECTING,C.CallStatus.CONNECTED]).call(t,h);return E.default.mobileOrTablet()?d.default.createElement(m.default,{route:U,status:h,display:!0}):d.default.createElement("jdiv",{className:(0,y.default)((a={},(0,o.default)(a,b.default.wrap,!0),(0,o.default)(a,b.default.__minified,U===w.Route.CALL&&h===C.CallStatus.CONNECTED),a))},d.default.createElement(_.Path,{name:"CallHeader",paths:[w.Route.CALL,w.Route.CALL_EULA],fixed:!0},d.default.createElement("jdiv",{className:b.default.header},Y?null:d.default.createElement(g.default,{callStatus:h,isDelayedCall:R,textColor:(0,T.getTextColor)(L),delayedCallStatus:N,errorMessage:h===C.CallStatus.ERROR?D||(0,S.default)("cw_unableToConnect")+" "+(0,S.default)("cw_errInfoText"):null,text:W,time:O,animate:q,eulaText:U!==w.Route.CALL_EULA||H?null:R?(0,S.default)("callback_delayed_title"):(0,u.default)(i=(0,u.default)(f="".concat((0,S.default)("cw_callAfter")," ")).call(f,O," ")).call(i,(0,S.default)("cw_form_secondd")),showAd:(0,T.showAd)(),backgroundGradient:k.default.getGradientBg(P,j),pattern:B?(0,T.cdnPatternUrl)():null,leafBackgroundColor:j||P,logoLink:(0,T.trackCallLogo)(),logoTitle:F?"Jivo":"Jivochat",logo:F?"logo-jivosite":"logo-jivochat",showBody:z}))),d.default.createElement(_.Path,{paths:[w.Route.CALL,w.Route.CALL_EULA],name:"CallBody",withMountTransition:!0,transition:"Fade",shouldWait:0},d.default.createElement("jdiv",{className:(0,y.default)((n={},(0,o.default)(n,b.default.body,!0),(0,o.default)(n,b.default.__expanded,q),(0,o.default)(n,b.default.__collapsed,!q),n))},d.default.createElement(p.default,{route:U,status:h,display:!0,onAnimate:function(){var e;if(K(!0),E.default.safari()&&!E.default.mobileOrTablet()){var t=x.default.get(A.Component.WIDGET_CONTAINER);e=(0,l.default)((function(){(0,I.updateKeyframes)(t)}),50)}(0,r.default)((function(){K(!1),clearInterval(e)}),500)},name:"CallForm"}),d.default.createElement(_.Path,{paths:[w.Route.CALL_EULA],withMountTransition:!0,transition:"PopupSlideUpEULA",name:"CallEulaPopup"},d.default.createElement("jdiv",{className:b.default.popupContainer},d.default.createElement(v.default,{showCallback:function(){},hideCallback:M,callContainer:!0}))))))});M.propTypes={callbackStatus:h.default.oneOfType([h.default.string,h.default.bool]),isDelayedCall:h.default.bool,delayedCallStatus:h.default.number,callbackTime:h.default.number,callbackError:h.default.oneOfType([h.default.string,h.default.bool]),widgetFontColor:h.default.string,widgetColor:h.default.string,widgetColor2:h.default.string,pattern:h.default.any,billRu:h.default.bool,eulaAccepted:h.default.bool,callHeaderText:h.default.string,route:h.default.string,closeCallback:h.default.func,showBody:h.default.bool};var R=(0,f.connect)((function(e){return{callbackStatus:e.callback.status,isDelayedCall:e.callback.isDelayed,delayedCallStatus:e.callback.delayedStatus,callbackTime:e.settings.user.callback.time,callbackError:e.callback.error,widgetFontColor:e.settings.user.widgetFontColor,widgetColor:e.settings.user.widgetColor,widgetColor2:e.settings.user.widgetColor2,pattern:e.settings.user.pattern,billRu:e.settings.system.billRu,eulaAccepted:e.client.eulaAccepted,callHeaderText:e.settings.user.callHeaderText,route:e.app.route}}),{})(M);t.default=R},78670:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=t.componentProps=void 0;var i=n(a(87672)),o=n(a(25843)),r=n(a(59748)),l=n(a(75119)),u=n(a(58165)),s=n(a(53897)),c=n(a(19452)),d=a(20965),f=n(a(67752)),h=n(a(94184)),p=n(a(45697)),m=function(e){var t,a,n=e.callStatus,p=e.isDelayedCall,m=e.textColor,g=e.delayedCallStatus,v=e.errorMessage,_=e.text,y=e.time,b=e.animate,E=e.eulaText,w=e.showAd,C=e.backgroundGradient,T=e.pattern,k=e.leafBackgroundColor,S=e.logoLink,I=e.logoTitle,x=e.logo,A=e.showBody;return r.default.createElement("jdiv",{className:(0,h.default)((t={},(0,i.default)(t,f.default.main,!0),(0,i.default)(t,f.default.__animateToChat,b),(0,i.default)(t,f.default.__nologo,!w),(0,i.default)(t,f.default._fade,!A),t)),style:{height:b||E?"70px":"224px",background:C}},r.default.createElement("jdiv",{className:T?f.default.pattern:null,style:{backgroundImage:T||null}},r.default.createElement(s.default,{backgroundColor:k,online:!0,orientation:"bottom"}),E?r.default.createElement("jdiv",{className:f.default.eulaHeaderText,style:{color:m}},E):null,w&&r.default.createElement("jdiv",{className:f.default.logoBox},r.default.createElement("a",{href:S,target:"_blank",rel:"noopener noreferrer",title:I,className:(0,h.default)((0,i.default)({},f.default._hidden,n===d.CallStatus.CONNECTED||E))},r.default.createElement(u.default,{iconName:x,color:m,color2:"#18C139",className:f.default.logoIcon,style:{color:m}}))),r.default.createElement("jdiv",{className:(0,h.default)((a={},(0,i.default)(a,f.default.callText,!0),(0,i.default)(a,f.default._connected,E&&n===d.CallStatus.CONNECTED),(0,i.default)(a,f.default._fade,!A),a)),style:{color:m,height:w?124:224}},function(){var e;switch(n){case d.CallStatus.ERROR:return p?r.default.createElement(c.default,{color:m,statusCode:g}):v;case d.CallStatus.ENDED:return r.default.createElement("jdiv",{className:f.default.callEndBox},r.default.createElement(u.default,{iconName:"icon-callok",color:m,className:f.default.callEndIcon}),r.default.createElement("jdiv",null,(0,l.default)("cw_thxForCall")));default:return p?r.default.createElement(c.default,{color:m,statusCode:g}):_?r.default.createElement("jdiv",null,_):r.default.createElement("jdiv",null,r.default.createElement("jdiv",{className:f.default.sec},(0,o.default)(e=(0,l.default)("cw_weRecallAfter")).call(e)," ",r.default.createElement("jdiv",{className:f.default.time},y)," ",(0,l.default)("cw_form_secondd"),"!"))}}())))},g=m.propTypes={callStatus:p.default.oneOfType([p.default.string,p.default.bool]).isRequired,isDelayedCall:p.default.bool,delayedCallStatus:p.default.string,errorMessage:p.default.string,textColor:p.default.string,pattern:p.default.string,backgroundColor:p.default.string,backgroundGradient:p.default.string,showAd:p.default.bool,eulaText:p.default.string,logo:p.default.string,logoLink:p.default.string,logoTitle:p.default.string,time:p.default.number,text:p.default.string,leafBackgroundColor:p.default.string,animate:p.default.bool,showBody:p.default.bool};t.componentProps=g;var v=r.default.memo(m);t.default=v},82817:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(94473)),r=n(a(77766)),l=n(a(26394)),u=n(a(69198)),s=n(a(51379)),c=n(a(214)),d=n(a(66380)),f=n(a(60021)),h=n(a(47321)),p=n(a(62652)),m=n(a(49902)),g=n(a(62904)),v=n(a(75119)),_=n(a(58061)),y=n(a(62107)),b=a(17674),E=a(85442),w=a(51139),C=n(a(75959));function T(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var k=n(a(75043)).default.name("Call"),S=function(e){(0,s.default)(a,e);var t=T(a);function a(){return(0,l.default)(this,a),t.apply(this,arguments)}return(0,u.default)(a,[{key:"initTimer",value:function(e,t,a){this.callTimer=m.default,this.callTimer.timerText=e,this.callTimer.seconds=g.default.callback_settings.time,this.callTimer.on("handling",t),this.callTimer.on("tick",a)}},{key:"setTimerNull",value:function(){this.callTimer&&this.callTimer.setTimerNull()}},{key:"startTimer",value:function(){this.callTimer&&this.callTimer.handle("start_timer")}},{key:"submitPhone",value:function(e,t,a){var n=this._inputPhone;if(k.log("submitPhone",t,a,n,this._inputPhone),n&&n.isValid()){_.default.tablet()&&n&&n.base&&n.base.blur();var i,o="+"+n.getFullPhoneNumber(),l="";if(l=a?this.getMaskedPhoneByCode(o,a):(0,w.getMaskedPhone)(o),!p.default.eula_accepted&&g.default.eula)this.phone=o,C.default.showEula((0,r.default)(i="".concat((0,v.default)("eula_phone"),"<br/>")).call(i,l),null,"cb"),b.Router.next(E.RouterEvent.Submit);else this.setTimerNull(),this.startCall(o,t)}}},{key:"startCall",value:function(e,t,a){k.log("start call",e,t),h.default.startCall(e,t,a)}},{key:"getMaskedPhoneByCode",value:function(e,t){if(k.log("getMaskedPhoneByCode",e,t),!e)return e;var a=this.getPhoneNumberInfoByCode(e,t);return k.log("phoneNumberCode",a),a?"+"+t+" "+(0,w.getMaskedValue)(a.innerNumber,a.phoneFormat):null}},{key:"getPhoneNumberInfoByCode",value:function(e,t){var a=(0,o.default)(y.default).call(y.default,g.default.callback_settings.countries,{phone_code:t});return k.log("getPhoneNumberInfoByCode",a,t),a?(0,w.getPhoneInfo)(a,e):null}}]),a}(f.default);t.default=S},17678:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(81643)),r=n(a(33032)),l=n(a(51942)),u=n(a(77766)),s=n(a(54103)),c=n(a(26394)),d=n(a(69198)),f=n(a(5824)),h=n(a(51379)),p=n(a(214)),m=n(a(66380)),g=n(a(59748)),v=(n(a(62107)),n(a(36216))),_=n(a(62652)),y=a(51139),b=n(a(62904)),E=n(a(75119)),w=n(a(75043)),C=n(a(82817)),T=n(a(69288)),k=n(a(71059)),S=n(a(19301)),I=n(a(58165)),x=n(a(10120)),A=a(17674),M=a(85442),R=a(75245),N=n(a(531)),O=n(a(58061)),D=a(56602),L=n(a(99249)),P=n(a(76969));function j(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,m.default)(e);if(t){var o=(0,m.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,p.default)(this,a)}}var B=w.default.name("CallChat"),F=(0,y.getTextSeconds)(b.default.callback_settings),H="chat_popup",W=function(e){(0,h.default)(a,e);var t=j(a);function a(e){var n,i;return(0,c.default)(this,a),(i=t.call(this,e)).state={mode:!1,pin:!0,close:!0,error:!1,hide:!1,is_invalid_phone:!1,submit:!1,blocked:!1},i._blockTimeout=null,i._inputPhone=null,i._timer=null,i.processState=(0,s.default)(n=i.processState).call(n,(0,f.default)(i)),i}return(0,d.default)(a,[{key:"componentDidMount",value:function(){var e=this;(0,D.isEmpty)(b.default.callback_settings)?B.log("Callwidget not configured yet."):(this.on(_.default,(function(){A.Router.getCurrentRoute()!==M.Route.LABEL&&(A.Router.getCurrentRoute()!==M.Route.CHAT_CALL||e.props.display&&!e.state.hide||!e._inputPhone||e._inputPhone.focus(),_.default.eula_accepted&&e.phone&&b.default.eula&&(e.setTimerNull(),e.setState({phone:e.phone,is_invalid_phone:0}),e.startCall(e.phone,H),e.values=!1,e.phone=!1),e.setState(e.getState()))})),this.on(v.default,(function(){e.processState()})),this.initTimer(this._timer,(function(t){B.log("timer_finished",e.state.mode,e._timer),"timer_finished"===t.inputType&&"cw_wait"===e.state.mode&&e.setState({mode:"cw_connecting"})}),(function(t){e.setState({timer:t.toFixed(1).replace(".",",")})})),this.processState(!0),this._inputPhone&&(this._inputPhone.subscribe("onEnter",(function(t,a){return e.submitPhone(t,H,a)})),this._inputPhone.subscribe("onChange",(function(){e.setState({is_invalid_phone:!e._inputPhone.isValid()})}))),A.Router.on("submit_eula_success",(function(t){B.log("submit_eula_success CallChat",t),A.Router.getCurrentRoute()===M.Route.CALL_CHAT&&e.submitPhone(event,H,e._inputPhone.getCurrentCode())})))}},{key:"processState",value:function(e){var t=this.getState(e);(0,N.default)(t,this.state)&&v.default.cw_call.status===this.state.mode||this.setState(t)}},{key:"getState",value:function(e){var t={mode:v.default.cw_call.status,error:!1,hide:!1,isDelayedCall:!!v.default.cw_call_delayed,delayedCallPeriods:v.default.cw_call_delayed_periods,delayedCallStatus:v.default.cw_call_delayed_status};switch(t.mode){case"cw_wait":var a;if(e)R.messageActions.systemCallMessage((0,u.default)(a="".concat((0,E.default)("cw_call_to")," ")).call(a,(0,y.getMaskedPhone)(v.default.client_info.phone)),"callMessageStart");(0,l.default)(t,{hide:!1,pin:!1,close:!1,submit:!1}),this.startTimer();break;case"cw_connecting":(0,l.default)(t,{pin:!1,close:!1,hide:!1,submit:!1}),this.setTimerNull();break;case"cw_connected":t.hide=!0;break;case"cw_error":(0,l.default)(t,{pin:!O.default.mobileOrTablet(),close:!0,submit:!1,error:v.default.cw_call.error});break;case"cw_call_end":this.setTimerNull(),(0,l.default)(t,{pin:!0,close:!0,submit:!1})}return t}},{key:"submitCall",value:function(e,t){var a=this;this.state.blocked||this.submitPhone(e,t),this.setState({blocked:!0}),clearTimeout(this._blockTimeout),this._blockTimeout=(0,r.default)((function(){a.setState({blocked:!1})}),3e3)}},{key:"submitFormCall",value:function(e){this.submitPhone(e,H,this._inputPhone.getCurrentCode())}},{key:"renderInputForm",value:function(e){var t,a=this,n=this.state,i=n.isDelayedCall,r=n.delayedCallStatus,l=n.delayedCallPeriods;return i?g.default.createElement(x.default,{phone:v.default.client_info.phone,statusCode:r,periods:l}):-1===(0,o.default)(t=["cw_wait","cw_connecting","cw_connected"]).call(t,this.state.mode)?g.default.createElement("jdiv",{className:"call-form call-tab"},this.state.error?g.default.createElement("jdiv",{className:e.text},this.state.error):g.default.createElement("jdiv",{className:e.text},(0,E.default)("cw_weRecallAfter")," ",b.default.callback_settings.time," ",(0,E.default)(F),"!"),g.default.createElement("jdiv",{className:e.callBox},g.default.createElement(T.default,{type:"inForm",ref:function(e){a._inputPhone=e}}),g.default.createElement(k.default,{click:function(e){return a.submitFormCall(e)},disabled:this.state.blocked||this.state.submit,type:"input-button",iconName:"icon-v-email",ref:function(e){a._submitBtn=e}}),g.default.createElement("jdiv",{id:"callme-start-call",className:this.state.blocked||this.state.is_invalid_phone||this.state.submit?"":"can-call",onClick:function(e){return a.submitFormCall(e)},onTouchStart:function(e){return a.submitFormCall(e)}}))):void 0}},{key:"getRenderData",value:function(){return{styles:{main:[{main:!0},{display:"cw_connected"===this.state.mode?"none":"block"}],waitBox:[{waitBox:!0},{display:"cw_wait"===this.state.mode?"block":"none"}],timerBox:[{timerBox:!0}]},style:L.default}}},{key:"renderData",value:function(e,t){if(!(0,D.isEmpty)(b.default.callback_settings))return g.default.createElement("jdiv",t.main,this.renderInputForm(L.default),g.default.createElement("jdiv",t.waitBox,g.default.createElement("jdiv",{className:L.default.waitText}," ",(0,E.default)("cw_callAfter")),g.default.createElement("jdiv",t.timerBox,g.default.createElement("jdiv",{className:L.default.count},this.state.timer||b.default.callback_settings.time)),g.default.createElement("jdiv",{className:L.default.waitText}," ",(0,E.default)(F))),g.default.createElement("jdiv",{style:{display:"cw_connecting"===this.state.mode?"block":"none"}},g.default.createElement("jdiv",{className:L.default.waitText},(0,E.default)("cw_connecting")),g.default.createElement("jdiv",{className:L.default.connectBox},g.default.createElement(I.default,{color:"#fff",iconName:"icon-connect2",className:L.default.connectIcon}),g.default.createElement("jdiv",{className:P.default.pinBox},g.default.createElement("jdiv",{className:P.default.pin1}),g.default.createElement("jdiv",{className:P.default.pin2}),g.default.createElement("jdiv",{className:P.default.pin3})))),g.default.createElement("jdiv",{className:L.default.pin,style:{display:this.state.pin?"block":"none"}}),this.state.close&&g.default.createElement(S.default,{onClose:function(e){e.stopPropagation()}}));B.log("Callwidget not configured yet.")}}]),a}(C.default);t.default=W},14076:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(77766)),r=n(a(87672)),l=n(a(81643)),u=n(a(25843)),s=n(a(5872)),c=n(a(54103)),d=n(a(26394)),f=n(a(69198)),h=n(a(5824)),p=n(a(51379)),m=n(a(214)),g=n(a(66380)),v=n(a(59748)),_=n(a(60021)),y=n(a(62107)),b=n(a(62652)),E=n(a(36216)),w=n(a(69961)),C=a(56602),T=n(a(62904)),k=n(a(75119)),S=n(a(75043)),I=n(a(58165)),x=n(a(66273)),A=n(a(86999)),M=n(a(19452)),R=a(17674),N=a(85442),O=n(a(44375)),D=a(23582);function L(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,g.default)(e);if(t){var o=(0,g.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,m.default)(this,a)}}S.default.name("CallHeader");var P=function(e){(0,p.default)(a,e);var t=L(a);function a(e){var n,i;return(0,d.default)(this,a),(i=t.call(this,e)).state=i.getState(),i.handleState=(0,c.default)(n=i.handleState).call(n,(0,h.default)(i)),i}return(0,f.default)(a,[{key:"getState",value:function(){var e={mode:E.default.cw_call.status||!1,agent:w.default,message:!1,animate:this.props.animate,isDelayedCall:!!E.default.cw_call_delayed,delayedCallStatus:E.default.cw_call_delayed_status};return"cw_error"===E.default.cw_call.status&&(e.message=E.default.cw_call.error,e.message||(e.message=(0,k.default)("cw_unableToConnect")+" "+(0,k.default)("cw_errInfoText"))),e}},{key:"handleState",value:function(){var e=this.getState();e.mode===this.state.mode&&e.agent===this.state.agent&&e.message===this.state.message&&e.isDelayedCall===this.state.isDelayedCall&&e.delayedCallStatus===this.state.delayedCallStatus&&e.animate===this.state.animate||this.setState(e)}},{key:"componentDidMount",value:function(){var e=this;this.on(w.default,(function(){e.handleState()})),this.on(E.default,(function(){e.handleState()})),this.on(b.default,(function(){e.handleState()}))}},{key:"renderLogo",value:function(e){var t=T.default.bill_ru?"logo-jivosite":"logo-jivochat";return v.default.createElement(I.default,(0,s.default)({iconName:t,color:(0,C.getTextColor)(b.default.widget_font_color),color2:"#18C139"},e.logoIcon))}},{key:"getCallText",value:function(){var e;switch(this.state.mode){case"cw_error":return this.state.isDelayedCall?v.default.createElement(M.default,{color:(0,C.getTextColor)(b.default.widget_font_color),statusCode:this.state.delayedCallStatus}):this.state.message?this.state.message:(0,k.default)("cw_unableToConnect")+" "+(0,k.default)("cw_errInfoText");case"cw_call_end":return v.default.createElement("jdiv",{className:O.default.callEndBox},v.default.createElement(I.default,{iconName:"icon-callok",color:(0,C.getTextColor)(b.default.widget_font_color),className:O.default.callEndIcon}),v.default.createElement("jdiv",null,(0,k.default)("cw_thxForCall")));default:return this.state.isDelayedCall?v.default.createElement(M.default,{color:(0,C.getTextColor)(b.default.widget_font_color),statusCode:this.state.delayedCallStatus}):b.default.callText?v.default.createElement("jdiv",{dangerouslySetInnerHTML:{__html:b.default.callText}}):v.default.createElement("jdiv",null,v.default.createElement("jdiv",{className:O.default.sec},(0,u.default)(e=(0,k.default)("cw_weRecallAfter")).call(e)," ",v.default.createElement("jdiv",{className:O.default.time},T.default.callback_settings.time)," ",(0,k.default)("cw_form_secondd"),"!"))}}},{key:"getRenderData",value:function(){var e=-1!==(0,l.default)(y.default).call(y.default,["cw_wait","cw_connecting","cw_connected"],this.state.mode),t=R.Router.getCurrentRoute()==N.Route.CALL_EULA&&!b.default.eula_accepted,a=e||!this.state.mode&&"dark"===b.default.widget_font_color?"__dark":"__light",n={height:"cw_call_end"===this.state.mode&&(0,C.showAd)()?"224px":this.props.animate||t?"70px":"224px",background:A.default.getGradientBg(b.default.widget_color,b.default.widget_color2)},i=b.default.widget_color2||b.default.widget_color;return{styles:{main:[{main:!0,__animateToChat:this.props.animate,_fade:!this.props.fadeState&&!D.FeatureManager.isEnabled(D.Feature.NEW_ANIMATION),__nologo:!(0,C.showAd)()},n],callText:[{callText:!0,_fade:!this.props.fadeState&&!D.FeatureManager.isEnabled(D.Feature.NEW_ANIMATION)},{display:t||"cw_connected"===this.state.mode?"none":"table-cell",color:(0,C.getTextColor)(b.default.widget_font_color),height:(0,C.showAd)()?124:224}],logoLink:[(0,r.default)({logoLink:!1},"__"+a,!(!a||"__light"===a)),{display:"cw_connected"===this.state.mode||!(0,C.showAd)()||t?"none":"block"}],logoIcon:[{logoIcon:!0},{color:(0,C.getTextColor)(b.default.widget_font_color)}],eulaHeaderText:[{eulaHeaderText:!0},{color:(0,C.getTextColor)(b.default.widget_font_color)}],pattern:[{pattern:!!T.default.pattern},{backgroundImage:T.default.pattern?(0,C.cdnPatternUrl)():null}]},style:O.default,data:{isWhiteBg:e,eula:t,color2:i}}}},{key:"renderData",value:function(e,t){var a,n;if(e.isWhiteBg)return null;var i=this.state.isDelayedCall?(0,k.default)("callback_delayed_title"):(0,o.default)(a=(0,o.default)(n="".concat((0,k.default)("cw_callAfter")," ")).call(n,T.default.callback_settings.time," ")).call(a,(0,k.default)("cw_form_secondd"));return v.default.createElement("jdiv",t.main,v.default.createElement("jdiv",t.pattern,v.default.createElement(x.default,{type:"call",orientation:T.default.widget_orientation,color:e.color2,ignoreOffline:!0}),e.eula?v.default.createElement("jdiv",t.eulaHeaderText,i):null,(0,C.showAd)()&&v.default.createElement("jdiv",{className:O.default.logoBox},v.default.createElement("a",(0,s.default)({href:(0,C.trackCallLogo)(),target:"_blank",rel:"noopener",title:"Jivo"+(T.default.bill_ru?"":"chat")},t.logoLink),this.renderLogo(t))),v.default.createElement("jdiv",t.callText,this.getCallText())))}}]),a}(_.default);t.default=P},66975:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(2991)),r=n(a(87672)),l=n(a(81643)),u=n(a(77766)),s=n(a(26394)),c=n(a(69198)),d=n(a(51379)),f=n(a(214)),h=n(a(66380)),p=n(a(59748)),m=n(a(36216)),g=n(a(62652)),v=n(a(62904)),_=a(56602),y=a(51139),b=n(a(75119)),E=n(a(23144)),w=n(a(82817)),C=n(a(83126)),T=n(a(12907)),k=n(a(46443)),S=n(a(58165)),I=n(a(68806)),x=n(a(62107)),A=n(a(58061)),M=n(a(97034)),R=n(a(33414)),N=n(a(76646)),O=a(17674),D=a(85442),L=a(57539);function P(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,h.default)(e);if(t){var o=(0,h.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}var j=n(a(75043)).default.name("CallMobile"),B=v.default.callback_settings.time,F=x.default.range(60),H="callback_screen",W=function(e){(0,d.default)(a,e);var t=P(a);function a(e){var n;return(0,s.default)(this,a),(n=t.call(this,e)).state={mode:m.default.cw_call.status,error:!1,show:O.Router.getCurrentRoute()===D.Route.CHAT_CALL,is_invalid_phone:!1,timer:B,textSize:I.default.getTextSize(),phoneNumber:(0,y.getMaskedPhone)(m.default.client_info.phone),isDelayedCall:!!m.default.cw_call_delayed,delayedCallPeriods:m.default.cw_call_delayed_periods,delayedCallStatus:m.default.cw_call_delayed_status},n._inputPhone=null,n._timer=null,n}return(0,c.default)(a,[{key:"componentDidMount",value:function(){var e=this;j.log("mount"),this.on(g.default,(function(){if(O.Router.getCurrentRoute()!==D.Route.LABEL){var t=e.getState();g.default.eula_accepted&&e.phone&&v.default.eula&&(e.setTimerNull(),t.phone=e.phone,e.startCall(e.phone,H),e.phone=!1),e.setState(t)}})),this.on(m.default,(function(){e.setState(e.getState())})),this.initTimer(this._timer,(function(t){"timer_finished"===t.inputType&&"cw_wait"===e.state.mode&&e.setState({mode:"cw_connecting"})}),(function(t){e.setState({timer:t})})),I.default.listenChangeZoom((function(){var t=I.default.getTextSize();t!==e.state.textSize&&e.setState({textSize:t})}))}},{key:"renderTimer",value:function(e){var t;return p.default.createElement("jdiv",{className:M.default.timer},(0,u.default)(t="".concat(e.minutes,":")).call(t,e.seconds),p.default.createElement("jdiv",{className:M.default.ms},e.ms))}},{key:"getState",value:function(){var e={mode:m.default.cw_call.status,error:!1,show:O.Router.getCurrentRoute()===D.Route.CHAT_CALL,is_invalid_phone:!1,timer:this.state.timer||B,textSize:I.default.getTextSize(),phoneNumber:(0,y.getMaskedPhone)(m.default.client_info.phone),isDelayedCall:!!m.default.cw_call_delayed,delayedCallPeriods:m.default.cw_call_delayed_periods,delayedCallStatus:m.default.cw_call_delayed_status};switch(m.default.cw_call.status){case"cw_wait":this.startTimer();break;case"cw_connecting":case"cw_connected":case"cw_error":break;case"cw_call_end":this.setTimerNull()}return e}},{key:"getRenderData",value:function(){var e,t=this.state.phoneNumber;switch(this.state.mode){case"cw_wait":e=(0,b.default)("cw_call_to");break;case"cw_connecting":e=(0,b.default)("cw_weCalling");break;case"cw_connected":e=(0,b.default)("conversation_with");break;case"cw_error":e=m.default.cw_call.error,t="";break;case"cw_call_end":e=(0,b.default)("cw_thxForCall")+" "+(0,b.default)("cw_weRecallAfter")+" "+B+" "+(0,b.default)("cw_form_secondd"),t="";break;default:e=(0,b.default)("cw_callAfter")+" "+B+" "+(0,b.default)("cw_form_secondd"),t=""}var a=this.state.timer.toFixed(2).split("."),n="00",i=a[0],o=a[1];i>60&&(n=Math.floor(i/60),i%=60,n<10&&(n="0"+n)),i<10&&(i="0"+i);var u=A.default.ios()?{"-webkit-text-size-adjust":this.state.textSize||"100%",lineHeight:I.default.getLineHeight(1.5)}:{};return{data:{headerText:e,phoneNumber:t,startForm:!this.state.mode||-1!==(0,l.default)(x.default).call(x.default,["cw_error","cw_call_end"],this.state.mode),seconds:i,ms:o,minutes:n,textSize:u},styles:{wrap:[{wrap:!0,_show:this.state.show}],container:[{container:!0,_tablet:A.default.tablet(),_portrait:"landscape"!==I.default.getOrientation()}],header:[(0,r.default)({header:!0},"_"+this.state.mode,this.state.mode),u],phoneNumber:[{phoneNumber:!0},u],clock:[{clock:!0},{display:"cw_wait"===this.state.mode?"block":"none"}],connectingButton:[{connectingButton:!0},{color:"#03aa38"}]},style:M.default}}},{key:"renderData",value:function(e,t){var a=this,n=this.state,i=n.isDelayedCall,r=n.delayedCallStatus,u=n.delayedCallPeriods;return p.default.createElement("jdiv",t.wrap,p.default.createElement(C.default,null),p.default.createElement("jdiv",t.container,p.default.createElement("jdiv",t.clock,this.state.timer?this.renderTimer(e):null,"cw_wait"===this.state.mode&&(0,o.default)(F).call(F,(function(e){var t="",n="transform: translate(0, 0) rotate("+6*e+"deg);";return 60/B*(B-a.state.timer)>e&&(t="background: #03aa38"),p.default.createElement("jdiv",{className:e%5==0?M.default.fives:M.default.seconds,style:n,key:e},p.default.createElement("jdiv",{className:M.default.line,style:t}))}))),-1!==(0,l.default)(x.default).call(x.default,["cw_connecting","cw_connected"],this.state.mode)&&p.default.createElement("jdiv",{className:M.default.connectingWrap},p.default.createElement("jdiv",t.connectingButton),p.default.createElement("jdiv",{className:M.default.connectingIconWrap},p.default.createElement(S.default,{iconName:"icon-tube",color:"#fff",className:M.default.connectingLogo}))),i?p.default.createElement(R.default,{phone:m.default.client_info.phone,statusCode:r,periods:u,textSize:e.textSize}):p.default.createElement("jdiv",null,p.default.createElement("jdiv",t.header,"cw_call_end"===this.state.mode&&p.default.createElement(k.default,{iconName:"icon-ok",className:M.default.iconOk}),e.headerText," ",p.default.createElement("jdiv",t.phoneNumber,e.phoneNumber)),e.startForm&&p.default.createElement("jdiv",null,p.default.createElement(E.default,{type:"single",ref:function(e){a._inputPhone=e}}),p.default.createElement("jdiv",{className:M.default.button,onClick:function(e){return a.submitPhone(e,H)}},(0,b.default)("cw_callButtonText"))))),(0,_.showAd)()?p.default.createElement("jdiv",{className:M.default.copyContainer},p.default.createElement(T.default,{type:"chat",bottom:!0})):null,v.default.eula?p.default.createElement(L.Path,{paths:[D.Route.CALL_EULA],transition:"PopupSlideUpEULA",name:"CallEulaPopup"},p.default.createElement("jdiv",{className:t.popupContainer},p.default.createElement(N.default,{showCallback:function(){},hideCallback:this.props.closeCallback,callContainer:!0}))):null)}}]),a}(w.default);t.default=W},37480:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(87672)),r=n(a(5872)),l=n(a(33032)),u=n(a(81643)),s=n(a(54103)),c=n(a(26394)),d=n(a(69198)),f=n(a(5824)),h=n(a(51379)),p=n(a(214)),m=n(a(66380)),g=n(a(59748)),v=n(a(62107)),_=n(a(75119)),y=n(a(62652)),b=n(a(36216)),E=n(a(69961)),w=a(56602),C=n(a(62904)),T=n(a(66273)),k=n(a(82817)),S=n(a(58061)),I=n(a(69288)),x=n(a(71059)),A=n(a(39880)),M=n(a(58165)),R=n(a(76235)),N=n(a(86999)),O=n(a(531)),D=n(a(75043)),L=n(a(55160)),P=n(a(76969)),j=a(17674),B=a(85442),F=a(37916),H=a(36143),W=a(81426),U=a(75245);function z(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,m.default)(e);if(t){var o=(0,m.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,p.default)(this,a)}}var G=D.default.name("Callback"),V="callback_screen",q=function(e){(0,h.default)(a,e);var t=z(a);function a(e){var n,i;return(0,c.default)(this,a),(i=t.call(this,e)).state={mode:null,percent:0,deg:0,agent:null,error:!1,hide_content:!1,hide_form:!1,circleDeg:null,timerValue:null,blocked:!1,isDelayedCall:!!b.default.cw_call_delayed,phone:!1},i._blockTimeout=null,i._timer=null,i._inputPhone=null,i.processState=(0,s.default)(n=i.processState).call(n,(0,f.default)(i)),i}return(0,d.default)(a,[{key:"getState",value:function(){var e={mode:b.default.cw_call.status,agent:E.default,message:!1,isDelayedCall:!!b.default.cw_call_delayed,delayedCallPeriods:b.default.cw_call_delayed_periods,delayedCallStatus:b.default.cw_call_delayed_status};return j.Router.getCurrentRoute()===B.Route.CALL&&(e.hide_content=!1,e.hide_form=!1),e}},{key:"processState",value:function(){var e=this.getState();(0,O.default)(e,this.state)&&b.default.cw_call.status===this.state.mode||("cw_error"===e.mode&&(e.message=b.default.cw_call.error,e.message||(e.message=(0,_.default)("cw_unableToConnect")+" "+(0,_.default)("cw_errInfoText")),this.setTimerNull()),"cw_connected"===e.mode&&this.setTimerNull(),"cw_wait"===e.mode&&this.startTimer(),this.state.timerValue||(e.timerValue=C.default.callback_settings.time),this.setState(e))}},{key:"componentDidMount",value:function(){var e,t=this;G.log("mount"),F.CallbackUtils.isCallbackEnabled()&&(this.on(b.default,(function(){t.processState()})),this.on(E.default,(function(){t.setState({agent:E.default})})),this.on(y.default,(function(){var e=t.getState();j.Router.getCurrentRoute()===B.Route.CALL&&-1!==(0,u.default)(v.default).call(v.default,["form",!1],t.state.mode)&&(0,l.default)((function(){t._inputPhone&&t._inputPhone.focus()}),300),y.default.eula_accepted&&t.phone&&C.default.eula&&(t.setTimerNull(),e.phone=t.phone,t.phone=!1,j.Router.getCurrentRoute()===B.Route.CALL_EULA&&!y.default.is_online&&t._inputPhone&&t.submitPhone(null,V,t._inputPhone.getCurrentCode())),t.setState(e)})),this.debounceTimer=v.default.throttle((function(e){t.setState({timerValue:e.toFixed(1).replace(".",",")});var a=100-1e3*e/1e3/C.default.callback_settings.time*100;a>0&&t.drawTimer(a)}),100),this.initTimer(this._timer,(function(e){G.log("timer_finished",t.state.mode,e),"timer_finished"===e.inputType&&"cw_wait"===t.state.mode&&t.showConnecting()}),(0,s.default)(e=this.debounceTimer).call(e,this)),this.processState(),this._inputPhone&&this._inputPhone.subscribe("onEnter",(function(e,a){return t.submitPhone(e,V,a)})),j.Router.on("submit_eula_success",(function(e){G.log("callback submit_eula"),e===B.Route.CALL_EULA&&t._inputPhone&&t.submitPhone(null,V,t._inputPhone.getCurrentCode())})))}},{key:"startChat",value:function(e){e.preventDefault(),this.isConnected()?j.Router.next(B.RouterEvent.ToChat):(this.setState({hide_content:!0}),this.props.onAnimate()),U.messageActions.addPrechatMessage()}},{key:"processToChat",value:function(){G.log("processToChat"),y.default.is_focused=1,y.default.show_eula=!1,j.Router.next(B.RouterEvent.ToChat)}},{key:"showConnecting",value:function(){this.setState({mode:"cw_connecting"})}},{key:"drawTimer",value:function(e){this.setState({circleDeg:3.6*e})}},{key:"renderLogo",value:function(e){return g.default.createElement("jdiv",{className:L.default.logoBox},g.default.createElement("a",{href:(0,w.trackCallLogo)(),target:"_blank",rel:"noopener",title:"Jivo"+(C.default.bill_ru?"":"chat"),className:"jivo-logo jivo-logo-dark",style:{display:"cw_connected"!==this.state.mode&&(0,w.showAd)()?"block":"none"}},this.renderLogoIcon(e)))}},{key:"renderLogoIcon",value:function(e){var t=C.default.bill_ru?"logo-jivosite":"logo-jivochat";return g.default.createElement(M.default,(0,r.default)({iconName:t,color:"#323648",color2:"#00D376"},e.logoIcon))}},{key:"submitCall",value:function(e,t){var a=this;!this.state.blocked&&this._inputPhone&&this.submitPhone(e,t,this._inputPhone.getCurrentCode()),this.setState({blocked:!0}),clearTimeout(this._blockTimeout),this._blockTimeout=(0,l.default)((function(){a.setState({blocked:!1})}),2e3)}},{key:"isConnected",value:function(){return-1!==(0,u.default)(v.default).call(v.default,["cw_connected"],this.state.mode)}},{key:"getRenderData",value:function(){var e,t,a=C.default.bubble_color||"green",n=this.isConnected(),i=(0,_.default)("cw_callButtonText");H.RouterUtils.needToShowEula()&&(i=(0,_.default)("continue")),"cw_call_end"===this.state.mode&&(i=(0,_.default)("cw_repeatCallAgain"));var r,l,u={};this.state.circleDeg&&(r="rotate("+this.state.circleDeg+"deg)",l=100*this.state.circleDeg/360,u={transform:r,OTransform:r,msTransform:r,MozTransform:r,webkitTransform:r});var s={background:N.default.getGradientBg(y.default.widget_color)},c=N.default.getRightColor(y.default.widget_color);return{styles:{main:[(e={main:!0},(0,o.default)(e,"_"+a,!1),(0,o.default)(e,"_disabled",this.props.disabled),(0,o.default)(e,"__animateToChat",this.state.hide_content),e),{display:this.props.display?"block":"none",backgroundColor:n?y.default.widget_color:"#ffffff"}],inputButton:[(t={inputButton:!0},(0,o.default)(t,"_"+a,!0),(0,o.default)(t,"_disabled",this.props.disabled),t)],timerTextTop:[{timerTextTop:!0,_ad:(0,w.showAd)()}],timerTextBottom:[{timerTextBottom:!0}],timerBox:[{timerBox:!0,_show:l>0}],logoIcon:[{logoIcon:!0},{color:(0,w.getTextColor)(y.default.widget_font_color)}],callLoader:[{callLoader:!0,_gt50:l&&l>50}],callCircle:[{callCircle:!0,_fill:l&&l>50}],callCircle2:[{callCircle:!0},u],callActionTimer:[{callActionTimer:!0}],connectBox:[{connectBox:!0,_ad:(0,w.showAd)()}],iconConnecting:[{iconConnecting:!0}],headerBox:[{headerBox:!0},s]},style:L.default,data:{isWhiteBg:n,submitText:i,color2:c}}}},{key:"renderData",value:function(e,t){var a,n,i,o=this;if(!(0,w.isEmpty)(C.default.callback_settings)){var l=!this.state.mode||-1!==(0,u.default)(v.default).call(v.default,["cw_error","cw_call_end"],this.state.mode);switch(this.state.mode){case"cw_wait":return g.default.createElement("jdiv",{className:L.default.waitBox},g.default.createElement(T.default,{type:"call",orientation:C.default.widget_orientation,color:"#fff",ignoreOffline:!0}),(0,w.showAd)()?this.renderLogo(t):null,g.default.createElement("jdiv",null,g.default.createElement("jdiv",t.timerTextTop,(0,_.default)("cw_callAfter")),g.default.createElement("jdiv",t.timerBox,g.default.createElement("jdiv",t.callLoader,g.default.createElement("jdiv",t.callCircle),g.default.createElement("jdiv",t.callCircle2)),g.default.createElement("jdiv",t.callActionTimer,g.default.createElement("jdiv",{className:L.default.callTime,ref:function(e){o._timer=e}},this.state.timerValue))),g.default.createElement("jdiv",{className:L.default.timerTextBottom},(0,_.default)("cw_form_secondd"))));case"cw_connecting":return g.default.createElement("jdiv",{className:L.default.waitBox},g.default.createElement(T.default,{type:"call",orientation:C.default.widget_orientation,color:"#fff",ignoreOffline:!0}),(0,w.showAd)()?this.renderLogo(t):null,g.default.createElement("jdiv",t.connectBox,g.default.createElement("jdiv",{className:L.default.iconConnectBox},g.default.createElement(M.default,{color:"#fff",iconName:"icon-connect2",className:L.default.connectIcon}),g.default.createElement("jdiv",{className:P.default.pinBoxBig},g.default.createElement("jdiv",{className:P.default.pin1}),g.default.createElement("jdiv",{className:P.default.pin2}),g.default.createElement("jdiv",{className:P.default.pin3})))),g.default.createElement("jdiv",{className:L.default.timerTextBottom},(0,_.default)("cw_connecting")));case"cw_connected":return g.default.createElement("jdiv",null,g.default.createElement("jdiv",t.headerBox,g.default.createElement(A.default,{color:y.default.widget_color,color2:C.default.widget_color2,fadeState:!0!==y.default.showContainer})),g.default.createElement("jdiv",{className:L.default.buttonConnected,onClick:(0,s.default)(a=this.startChat).call(a,this)},C.default.chat_mode===W.ChatMode.ONLINE?(0,_.default)("cw_typeInChat"):(0,_.default)("lblLeaveMessage"),g.default.createElement(M.default,{iconName:"icon-v",color:"#18c139",hoverColor:"#12a730",className:L.default.iconSelect})))}var c=this.state,d=c.isDelayedCall,f=c.delayedCallStatus,h=c.delayedCallPeriods;return g.default.createElement("jdiv",(0,r.default)({},t.main,{onTransitionEnd:function(){return o.processToChat()}}),g.default.createElement("jdiv",{className:L.default.formBox,style:{display:l?"block":"none"}},d?g.default.createElement(R.default,{phone:b.default.client_info.phone,statusCode:f,periods:h}):g.default.createElement("jdiv",{className:"call-content"+(this.state.hide_form,"")},g.default.createElement("jdiv",{className:L.default.inputBox},g.default.createElement(I.default,{type:"single",onEnter:function(e){return o.submitCall(e,V)},ref:function(e){o._inputPhone=e}})),g.default.createElement(x.default,{click:function(e){return o.submitCall(e,V)},disabled:this.state.blocked,text:e.submitText,medium:!0})),g.default.createElement("jdiv",{className:L.default.bottomBox},g.default.createElement("jdiv",{className:L.default.link,onClick:S.default.mobileOrTablet()?null:(0,s.default)(n=this.startChat).call(n,this),onTouchStart:S.default.mobileOrTablet()?(0,s.default)(i=this.startChat).call(i,this):null},y.default.is_online?(0,_.default)("cw_typeInChat"):(0,_.default)("lblLeaveMessage")))))}G.log("Callwidget not configured yet.")}}]),a}(k.default);t.default=q},76235:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(26394)),r=n(a(69198)),l=n(a(51379)),u=n(a(214)),s=n(a(66380)),c=n(a(59748)),d=n(a(75119)),f=n(a(69288)),h=n(a(75900)),p=n(a(87374)),m=a(47760),g=a(93298),v=n(a(72963)),_=n(a(60410));function y(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var b=function(e){(0,l.default)(a,e);var t=y(a);function a(){return(0,o.default)(this,a),t.apply(this,arguments)}return(0,r.default)(a,[{key:"render",value:function(){var e=this.props.statusCode,t=this.state,a=t.periods,n=t.activePeriodIndex,i=(t.phoneInvalid,t.phoneNumber,e===g.DELAYED_CALL_STATUS.wait),o=i,r=(0,g.isErrorStatusCode)(e);return e===g.DELAYED_CALL_STATUS.success?c.default.createElement(m.CallbackDelayedBodyInfo,null,(0,d.default)("callback_delayed_submit_success")):c.default.createElement("jdiv",{className:_.default.body},c.default.createElement(h.default,{disabled:i,classNameWrap:_.default.periodSelectWrap,activeOptionIndex:n,invalid:r,options:a,onChange:this.onPeriodChange}),c.default.createElement(f.default,{type:"single",fillBorderAround:!1,classNameContainer:_.default.inputPhone,onChange:this.onPhoneChange,onEnter:this.onSubmit}),c.default.createElement(p.default,{disabled:o,onClick:this.onSubmit},(0,d.default)("callback_delayed_button_submit")))}}]),a}(v.default);t.default=b},47760:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.CallbackChatDelayedBodyInfo=t.CallbackDelayedBodyInfo=void 0;var i=n(a(59748)),o=n(a(60410));t.CallbackDelayedBodyInfo=function(e){var t=e.children;return i.default.createElement("jdiv",{className:o.default.bodyInfo},i.default.createElement("jdiv",{className:o.default.bodyInfoText,dangerouslySetInnerHTML:{__html:t}}))};t.CallbackChatDelayedBodyInfo=function(e){var t=e.children;return i.default.createElement("jdiv",{className:o.default.bodyInfoChat},i.default.createElement("jdiv",{className:o.default.bodyInfoChatText,dangerouslySetInnerHTML:{__html:t}}))}},72963:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(54103)),r=n(a(77766)),l=n(a(26394)),u=n(a(69198)),s=n(a(5824)),c=n(a(51379)),d=n(a(214)),f=n(a(66380)),h=n(a(87672)),p=n(a(59748)),m=n(a(75043)),g=n(a(36216)),v=a(93298),_=n(a(47321)),y=a(17674),b=a(36143);function E(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}m.default.name("DelayedBase");var w=function(e){(0,c.default)(a,e);var t=E(a);function a(){var e,n;(0,l.default)(this,a);for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return n=t.call.apply(t,(0,r.default)(e=[this]).call(e,o)),(0,h.default)((0,s.default)(n),"state",{periods:(0,v.formatPeriodsToSelectModel)(g.default.cw_call_delayed_periods),activePeriodIndex:0,phoneInvalid:!0}),(0,h.default)((0,s.default)(n),"onSubmit",(function(){var e=n.state,t=e.activePeriodIndex,a=e.phoneNumber,i=(e.eulaAccepted,n.state.periods[t].value),o=a;n.state.phoneInvalid||_.default.submitShowEula(o)||_.default.checkConnection((function(){(0,v.requestDelayedCall)({dateTime:i,phone:o})}))})),(0,h.default)((0,s.default)(n),"onPeriodChange",(function(e){var t=e.activeOptionIndex;n.setState({activePeriodIndex:t})})),(0,h.default)((0,s.default)(n),"onPhoneChange",(function(e){var t=e.invalidPhone,a=e.value,i=e.code;n.setState({phoneInvalid:t,phoneNumber:a,phoneCode:i})})),n}return(0,u.default)(a,[{key:"componentDidMount",value:function(){var e;b.RouterUtils.needToShowEula()&&y.Router.on("submit_eula_success",(0,o.default)(e=function(){this.onSubmit()}).call(e,this))}},{key:"componentWillReceiveProps",value:function(e){var t=e.periods,a=e.phone,n={};n.periods=(0,v.formatPeriodsToSelectModel)(t),a&&a!==this.state.phone&&(n.phoneNumber=a.replace(/\+/,"")),this.setState(n)}}]),a}(p.default.Component);t.default=w},19452:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=t.CallbackDelayedHeader=void 0;var i=n(a(77149)),o=n(a(59748)),r=n(a(75119)),l=a(20965),u=n(a(58165)),s=n(a(60410));var c=function(e){var t,a,n=e.color,c=e.statusCode,d=(t=c,(0,i.default)(a=[l.DelayedCallStatus.MAX_REQUESTS_LIMIT,l.DelayedCallStatus.NOT_WORK_TIME,l.DelayedCallStatus.BAD_CALLBACK_TIME,l.DelayedCallStatus.BLOCKED,l.DelayedCallStatus.BAD_DIRECTION]).call(a,(function(e){return t===e}))),f=(0,r.default)("callback_delayed_title");return c===l.DelayedCallStatus.SUCCESS&&(f=o.default.createElement(u.default,{color:n,iconName:"icon-callok",className:s.default.successHeaderIcon})),d&&(f=(0,r.default)("callback_delayed_submit_fail")),d?o.default.createElement("jdiv",{className:s.default.header,dangerouslySetInnerHTML:{__html:f}}):o.default.createElement("jdiv",{className:s.default.header},f)};t.CallbackDelayedHeader=c;var d=c;t.default=d},10120:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(26394)),r=n(a(69198)),l=n(a(51379)),u=n(a(214)),s=n(a(66380)),c=n(a(59748)),d=n(a(75119)),f=n(a(69288)),h=n(a(75900)),p=n(a(87374)),m=n(a(72963)),g=a(47760),v=a(93298),_=n(a(78066));function y(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var b=function(e){(0,l.default)(a,e);var t=y(a);function a(){return(0,o.default)(this,a),t.apply(this,arguments)}return(0,r.default)(a,[{key:"render",value:function(){var e=this.props.statusCode,t=this.state,a=t.periods,n=t.activePeriodIndex,i=(t.phoneInvalid,t.phoneNumber,e===v.DELAYED_CALL_STATUS.wait),o=i,r=(0,d.default)("callback_delayed_title");return(0,v.isErrorStatusCode)(e)&&(r=(0,d.default)("callback_delayed_submit_fail")),e===v.DELAYED_CALL_STATUS.success?c.default.createElement(g.CallbackChatDelayedBodyInfo,{mode:"chat"},(0,d.default)("callback_delayed_submit_success")):c.default.createElement("jdiv",{className:_.default.body},c.default.createElement("jdiv",{className:_.default.message},r),c.default.createElement(h.default,{theme:"inset",height:"sm",invalid:(0,v.isErrorStatusCode)(e),disabled:i,classNameWrap:_.default.periodSelectWrap,activeOptionIndex:n,options:a,onChange:this.onPeriodChange}),c.default.createElement(f.default,{type:"inForm",classNameContainer:_.default.classNameInputPhone,onChange:this.onPhoneChange,onEnter:this.onSubmit}),c.default.createElement(p.default,{height:"sm",widthFluid:!0,disabled:o,onClick:this.onSubmit},(0,d.default)("callback_delayed_button_submit")))}}]),a}(m.default);t.default=b},33414:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(26394)),r=n(a(69198)),l=n(a(51379)),u=n(a(214)),s=n(a(66380)),c=n(a(59748)),d=n(a(75119)),f=n(a(23144)),h=n(a(75900)),p=n(a(87374)),m=n(a(72963)),g=a(93298),v=a(80476),_=n(a(58061)),y=n(a(68806)),b=n(a(74983));function E(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var w=function(e){(0,l.default)(a,e);var t=E(a);function a(){return(0,o.default)(this,a),t.apply(this,arguments)}return(0,r.default)(a,[{key:"render",value:function(){var e=this.props,t=e.statusCode,a=e.textSize,n=this.state,i=n.periods,o=n.activePeriodIndex,r=t===g.DELAYED_CALL_STATUS.wait,l=r,u=(0,g.isErrorStatusCode)(t),s=u?(0,d.default)("callback_delayed_submit_fail"):(0,d.default)("callback_delayed_title");return t===g.DELAYED_CALL_STATUS.success?c.default.createElement(v.StatusInfo,{isSuccess:!0,html:(0,d.default)("callback_delayed_submit_success"),textSize:a}):c.default.createElement("jdiv",null,c.default.createElement("jdiv",{className:b.default.titleMessage,dangerouslySetInnerHTML:{__html:s},style:{lineHeight:_.default.ios()?y.default.getLineHeight(4):null}}),c.default.createElement(h.default,{isNative:!0,disabled:r,activeOptionIndex:o,invalid:u,options:i,onChange:this.onPeriodChange}),c.default.createElement(f.default,{type:"single",classNameContainer:b.default.classNameInputPhone,onChange:this.onPhoneChange}),c.default.createElement(p.default,{widthFluid:!0,disabled:l,onClick:this.onSubmit},(0,d.default)("callback_delayed_button_submit")))}}]),a}(m.default);t.default=w},80476:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.StatusInfo=void 0;var i=n(a(87672)),o=n(a(59748)),r=n(a(94184)),l=n(a(74983));t.StatusInfo=function(e){var t,a=e.children,n=e.isSuccess,u=e.html,s=e.textSize,c=(0,r.default)(l.default.statusInfoIcon,(t={},(0,i.default)(t,l.default.successIcon,n),(0,i.default)(t,l.default.failIcon,!n),t));return o.default.createElement("jdiv",null,o.default.createElement("jdiv",{className:l.default.statusInfo},o.default.createElement("jdiv",{className:c}),u?o.default.createElement("jdiv",{className:l.default.text,dangerouslySetInnerHTML:{__html:u},style:s}):o.default.createElement("jdiv",null,a)))}},80150:function(e,t,a){"use strict";var n=a(87646),i=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a(1068)),r=i(a(94473)),l=i(a(86902)),u=i(a(20116)),s=i(a(54103)),c=i(a(26394)),d=i(a(69198)),f=i(a(5824)),h=i(a(51379)),p=i(a(214)),m=i(a(66380)),g=(i(a(59748)),i(a(60021))),v=i(a(62107)),_=n(a(56602)),y=i(a(36216)),b=i(a(62904)),E=i(a(58061)),w=i(a(75119)),C=a(51139),T=a(94515),k=a(17674);function S(e){var t=function(){if("undefined"==typeof Reflect||!o.default)return!1;if(o.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,o.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,m.default)(e);if(t){var i=(0,m.default)(this).constructor;a=(0,o.default)(n,arguments,i)}else a=n.apply(this,arguments);return(0,p.default)(this,a)}}var I=function(e){(0,h.default)(a,e);var t=S(a);function a(e){var n,i,o;return(0,c.default)(this,a),o=t.call(this,e),(0,_.isEmpty)(b.default.callback_settings)?(console.log("Callwidget not configured yet."),(0,p.default)(o)):(o.parseCurrentPhone(),o.initState(),o.documentOnClicked=(0,s.default)(n=o.documentOnClicked).call(n,(0,f.default)(o)),o.documentOnKeyPress=(0,s.default)(i=o.documentOnKeyPress).call(i,(0,f.default)(o)),o._input=null,o.linkRefs={},o)}return(0,d.default)(a,[{key:"componentDidMount",value:function(){var e,t=this;this.on(y.default,(function(){"cw_error"!==y.default.cw_call.status||y.default.cw_call.error!==(0,w.default)("cw_call_forward")?y.default.client_info.phone!==e&&(e=y.default.client_info.phone,t.parseCurrentPhone(),t.initState()):t.setState({number:""})})),this.state.currentCountry.phone_format&&this.setNumber(),k.Router.on("route_change",(function(){y.default.client_info.phone&&!t.state.number&&t.initState()})),this.triggerOnChangeProp()}},{key:"initState",value:function(){this.state={number:this.getCurrentNumber(),showList:!1,errorPhone:!1,countries:this.getAllowCountries(),currentCountry:this.getCurrentCountry(),placeholder:this.getCurrentCountry().phone_format,color:b.default.bubble_color||"green"}}},{key:"parseCurrentPhone",value:function(){y.default.client_info.phone&&(this.clientPhoneInfo=(0,C.getPhoneNumberInfo)(y.default.client_info.phone))}},{key:"getCurrentNumber",value:function(){return this.clientPhoneInfo?this.clientPhoneInfo.innerNumber:""}},{key:"getAllowCountries",value:function(){return this.countries=this.countries||v.default.sortBy(b.default.callback_settings.countries,"name")}},{key:"getCurrentCountry",value:function(){var e;return this.clientPhoneInfo?e=this.clientPhoneInfo.countryCode:b.default.geoip&&(e=b.default.geoip.split(";")[0]),v.default.findWhere(this.getAllowCountries(),{code:e})||this.getAllowCountries()[0]}},{key:"toggleCountriesList",value:function(e){this.state.countries.length<2||(this.state.showList?this.hideCountriesList():this.showCountriesList(),e.stopPropagation())}},{key:"showCountriesList",value:function(){this.setState({showList:!0,isFocusedInput:!0}),_.default.addListener(window.parent.document,"keypress",this.documentOnKeyPress),_.default.addListener(window.parent.document,"click",this.documentOnClicked)}},{key:"hideCountriesList",value:function(){this.setState({showList:!1,isFocusedInput:!1}),_.default.removeEvent(window.parent.document,"click",this.documentOnClicked),_.default.removeEvent(window.parent.document,"keypress",this.documentOnKeyPress)}},{key:"validPhoneNumber",value:function(){if(this._input&&this.state.currentCountry.phone_format){var e=this.state.currentCountry.phone_format,t=this._input&&this._input.value.toString();return(0,C.checkPhoneLength)(t,e,this.state.currentCountry.code)}return this.getFullPhoneNumber().length>9&&this.getFullPhoneNumber().length<16}},{key:"getFullPhoneNumber",value:function(){return this.state.currentCountry.phone_code+this.state.number.replace(/\D+/g,"")}},{key:"getCurrentCode",value:function(){return this.state.currentCountry.phone_code}},{key:"isShowErrorState",value:function(){return!this.state.number||0===this.state.number.length||!this.validPhoneNumber()}},{key:"inputOnBlur",value:function(){this.setState({isFocusedInput:!1,invalidPhone:this.isShowErrorState()})}},{key:"inputOnFocus",value:function(){this.setState({isFocusedInput:!0,showList:!1})}},{key:"triggerOnChangeProp",value:function(){var e=this.props.onChange;void 0!==e&&e({value:this.getFullPhoneNumber(),invalidPhone:this.isShowErrorState(),code:this.getCurrentCode()})}},{key:"triggerOnEnterProp",value:function(){var e=this.props.onEnter;void 0!==e&&e()}},{key:"inputOnInput",value:function(){var e=this;this.setNumber((function(){e.setState({invalidPhone:e.isShowErrorState()}),e.trigger("onChange",e._input&&e._input.value.toString().replace(/\D+/g,"")),e.triggerOnChangeProp()}))}},{key:"inputPhoneKeyUp",value:function(e){var t=this;this.setNumber((function(){"keyup"!==e.type||13!==e.keyCode&&13!==e.which||(t.validPhoneNumber()?(t.trigger("onEnter",t.getFullPhoneNumber(),t.state.currentCountry),t.triggerOnEnterProp()):t.setState({invalidPhone:!0}))}))}},{key:"codeOnClick",value:function(){E.default.desktop()&&this._input&&this._input.focus()}},{key:"documentOnKeyPress",value:function(e){var t=this.getChar(e),a=(0,u.default)(v.default).call(v.default,(0,l.default)(this.linkRefs),(function(e){return"link_"===e.substr(0,5)})),n=(0,r.default)(v.default).call(v.default,a,(function(e){return e.substr(5,1).toUpperCase()===t.toUpperCase()}));n&&this.linkRefs[n].scrollIntoView(!0)}},{key:"documentOnClicked",value:function(e){e.target.closest("#countryList")||this.hideCountriesList()}},{key:"getChar",value:function(e){return null==e.which?e.keyCode<32?null:String.fromCharCode(e.keyCode):0!=e.which&&0!=e.charCode?e.which<32?null:String.fromCharCode(e.which):null}},{key:"countrySelect",value:function(e){var t=this,a=e.delegateTarget&&e.delegateTarget.getAttribute("data-code")||e.target.value;this.setNumber((function(){var e=v.default.findWhere(t.state.countries,{code:a});t.setState({currentCountry:e,showList:!1,placeholder:e.phone_format,invalidPhone:t.isShowErrorState()}),E.default.desktop()&&t._input&&t._input.focus(),t.triggerOnChangeProp()}))}},{key:"getFlagIconLink",value:function(e){var t="/images/flags/".concat(e,".png");return'url("'+(T.EnvironmentManager.isDevelopment()?"/public"+t:_.default.staticUrl(t,!0))+'")'}},{key:"setNumber",value:function(e){var t=this._input&&this._input.value.toString();this.setState({number:this.getMaskedNumber(t)},(function(){e&&e()}))}},{key:"getMaskedNumber",value:function(e){return(0,C.getMaskedValue)(e,this.state.currentCountry.phone_format)}},{key:"focus",value:function(){E.default.desktop()&&this._input&&this._input.focus()}},{key:"isValid",value:function(){var e=this.validPhoneNumber();return this.setState({invalidPhone:!e}),e}},{key:"numberMaxLength",value:function(){return this.state.currentCountry.phone_format?this.state.currentCountry.phone_format.length:15-this.state.currentCountry.phone_code.length}}]),a}(g.default);t.default=I},69288:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(2991)),l=n(a(54103)),u=n(a(26394)),s=n(a(69198)),c=n(a(51379)),d=n(a(214)),f=n(a(66380)),h=n(a(87672)),p=n(a(59748)),m=n(a(80150)),g=n(a(75676)),v=n(a(20748)),_=n(a(94184)),y=n(a(58165));function b(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var E=function(e){(0,c.default)(a,e);var t=b(a);function a(){return(0,u.default)(this,a),t.apply(this,arguments)}return(0,s.default)(a,[{key:"getRenderData",value:function(){return{styles:{container:[{container:!0,__singleMod:"single"===this.props.type,__inFormMod:"inForm"===this.props.type}],inputWrap:[(0,h.default)({inputWrap:!0,__focused:this.state.isFocusedInput,__error:!this.state.isFocusedInput&&this.state.invalidPhone,__alone:1===this.state.countries.length},"_"+this.state.color,!(!this.state.color||"green"===this.state.color))],input:[{phoneInput:!0}],countryWrap:[{countryWrap:!0,_isScroll:this.state.countries.length>4},{display:this.state.showList?"block":"none"}]},style:g.default}}},{key:"renderCountryList",value:function(e,t){var a,n,i,o=this;return p.default.createElement("jdiv",{className:g.default.countryList,onClick:this.delegate("listItem",(0,l.default)(a=this.countrySelect).call(a,this)),onTouchEnd:this.delegate("listItem",(0,l.default)(n=this.countrySelect).call(n,this))},(0,r.default)(i=this.state.countries).call(i,(function(e,t){return p.default.createElement("jdiv",{className:g.default.listItem,key:t,dgName:"listItem","data-code":e.code,ref:function(t){o.linkRefs["link_"+e.name]=t}},p.default.createElement("jdiv",{className:g.default.flagIcon+" "+g.default.list,style:{backgroundImage:o.getFlagIconLink(e.code)}}),p.default.createElement("jdiv",{className:g.default.countryName},e.name),p.default.createElement("jdiv",{className:g.default.countryCode},"+"+e.phone_code))})))}},{key:"renderData",value:function(e,t){var a,n,i,r,u,s,c=this,d=(0,_.default)(g.default.flagIcon,this.props.classNameIcon),f=(0,_.default)(t.container.className,this.props.classNameContainer,{});return p.default.createElement("jdiv",(0,o.default)({},t.container,{className:f}),p.default.createElement("jdiv",t.inputWrap,p.default.createElement("jdiv",{className:g.default.flagWrap,onClick:(0,l.default)(a=this.toggleCountriesList).call(a,this)},p.default.createElement("jdiv",{className:d,style:{backgroundImage:this.getFlagIconLink(this.state.currentCountry.code)}}),p.default.createElement("jdiv",{className:g.default.flagArrow,style:{display:this.state.countries.length<2?"none":null}},p.default.createElement(y.default,{iconName:"icon-v",color:"#959BA0",hoverColor:"#222D38",className:g.default.iconSelect}))),p.default.createElement("jdiv",{className:g.default.phoneCodeWrap,onClick:(0,l.default)(n=this.codeOnClick).call(n,this)},"+"+this.state.currentCountry.phone_code),p.default.createElement("input",(0,o.default)({},t.input,{onBlur:(0,l.default)(i=this.inputOnBlur).call(i,this),placeholder:this.state.placeholder,onFocus:(0,l.default)(r=this.inputOnFocus).call(r,this),type:"text",maxLength:this.numberMaxLength(),value:this.getMaskedNumber(this.state.number),onInput:(0,l.default)(u=this.inputOnInput).call(u,this),onKeyUp:(0,l.default)(s=this.inputPhoneKeyUp).call(s,this),"data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false",ref:function(e){c._input=e}})),p.default.createElement("jdiv",t.countryWrap,this.state.countries.length>4?p.default.createElement(v.default,{railClass:g.default.rail,position:"relative"},this.renderCountryList(e,t)):this.renderCountryList(e,t))))}}]),a}(m.default);t.default=E,(0,h.default)(E,"defaultProps",{fillBorderAround:!0})},23144:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(2991)),r=n(a(54103)),l=n(a(26394)),u=n(a(69198)),s=n(a(51379)),c=n(a(214)),d=n(a(66380)),f=n(a(59748)),h=n(a(80150)),p=n(a(58165)),m=n(a(75676)),g=n(a(58061)),v=n(a(62107));function _(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var y=function(e){(0,s.default)(a,e);var t=_(a);function a(){return(0,l.default)(this,a),t.apply(this,arguments)}return(0,u.default)(a,[{key:"getRenderData",value:function(){return{styles:{container:[{container:!0,__mobile:g.default.mobileOrTablet()}],inputWrap:[{inputWrap:!0,__focused:this.state.isFocusedInput,__error:!this.state.isFocusedInput&&this.state.invalidPhone}],flagWrap:[{flagWrap:!0,__mobile:g.default.mobile()},{width:"100%",position:"absolute"}],input:[{phoneInput:!0}]},style:m.default}}},{key:"countrySelect",value:function(e){var t=this,a=e.target.value;this.setNumber((function(){var e=v.default.findWhere(t.state.countries,{code:a});t.setState({currentCountry:e,showList:!1,placeholder:e.phone_format,invalidPhone:t.isShowErrorState()}),t._input&&t._input.focus(),t.triggerOnChangeProp()}))}},{key:"renderData",value:function(e,t){var a,n,i,l,u,s,c,d=this;return f.default.createElement("jdiv",t.container,f.default.createElement("jdiv",{className:m.default.countryMobileWrap},f.default.createElement("select",{onChange:(0,r.default)(a=this.countrySelect).call(a,this),className:m.default.countrySelect},(0,o.default)(n=this.state.countries).call(n,(function(e){return d.state.currentCountry.code===e.code?f.default.createElement("option",{selected:!0,value:e.code},e.name):f.default.createElement("option",{value:e.code},e.name)}))),f.default.createElement(p.default,{iconName:"icon-v",color:"#959BA0",hoverColor:"#222D38",className:m.default.iconSelect})),f.default.createElement("jdiv",t.inputWrap,f.default.createElement("jdiv",{className:m.default.phoneCodeWrap,onClick:(0,r.default)(i=this.codeOnClick).call(i,this)},"+"+this.state.currentCountry.phone_code),f.default.createElement("input",{className:m.default.phoneInput,ref:function(e){d._input=e},onBlur:(0,r.default)(l=this.inputOnBlur).call(l,this),placeholder:this.state.placeholder,onFocus:(0,r.default)(u=this.inputOnFocus).call(u,this),type:"tel",maxLength:this.numberMaxLength(),value:this.getMaskedNumber(this.state.number),onInput:(0,r.default)(s=this.inputOnInput).call(s,this),onKeyUp:(0,r.default)(c=this.inputPhoneKeyUp).call(c,this)})))}}]),a}(h.default);t.default=y},58744:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(54103)),l=n(a(26394)),u=n(a(69198)),s=n(a(5824)),c=n(a(51379)),d=n(a(214)),f=n(a(66380)),h=n(a(59748)),p=n(a(60021)),m=n(a(16552)),g=n(a(62652)),v=n(a(36216)),_=n(a(62904)),y=n(a(58165)),b=a(17674),E=a(37916),w=a(85442),C=a(24335),T=a(33367),k=a(63242),S=a(81189),I=a(42796),x=a(70645),A=a(83093),M=a(23582);function R(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}n(a(75043)).default.name("CallbackBtn");var N=function(e){(0,c.default)(a,e);var t=R(a);function a(e){var n,i,o;return(0,l.default)(this,a),(o=t.call(this,e)).state={isShow:o.getShowState()},o.on(g.default,(0,r.default)(n=o.checkState).call(n,(0,s.default)(o))),o.on(v.default,(0,r.default)(i=o.checkState).call(i,(0,s.default)(o))),o}return(0,u.default)(a,[{key:"checkState",value:function(){var e=this.getShowState();this.state.isShow!==e&&this.setState({isShow:e})}},{key:"openCallback",value:function(){C.isDesignerEditor||(S.userDispatchers.setCallHeaderText(null),M.FeatureManager.isEnabled(M.Feature.NEW_ANIMATION)&&S.transitionDispatchers.startTransition(I.ScriptName.OPEN_WIDGET),b.Router.next(w.RouterEvent.ToCall),T.Monitoring.telemetry(k.TelemetryName.CW_BUTTON_CLICK))}},{key:"getShowState",value:function(){var e=b.Router.getCurrentRoute();return e===w.Route.LABEL&&e!==w.Route.HIDDEN&&E.CallbackUtils.isCallbackEnabled()&&!window.parent.jivo_cobrowse&&"col_old_page"!==window.parent.name||C.isDesignerEditor}},{key:"getRenderData",value:function(){m.default.__jivoCallbackBtn="__jivoCallbackBtn";var e={backgroundColor:_.default.callback_btn_color||"#18c139"};return{styles:{wrap:[{wrap:!0,_show:this.state.isShow,__jivoCallbackBtn:!0},e],button:[{button:!0},e],iconWrap:[{iconWrap:!0}],logoCallback:[{logoCallback:!0}]},style:m.default}}},{key:"renderData",value:function(e,t){var a;return h.default.createElement("jdiv",(0,o.default)({},t.wrap,{onClick:(0,r.default)(a=this.openCallback).call(a,this)}),h.default.createElement("jdiv",(0,o.default)({},t.button,(0,x.withLocator)(A.Locator.CALLBACK_BUTTON))),h.default.createElement("jdiv",t.iconWrap,h.default.createElement(y.default,(0,o.default)({iconName:"icon-tube",color:"#fff"},t.logoCallback))))}}]),a}(p.default);t.default=N},9650:function(e,t,a){"use strict";var n=a(87646),i=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a(87672)),r=i(a(18777)),l=n(a(59748)),u=a(26213),s=i(a(45697)),c=i(a(94184)),d=i(a(36216)),f=i(a(62904)),h=i(a(20608)),p=i(a(76646)),m=i(a(95512)),g=i(a(75779)),v=i(a(66107)),_=i(a(75215)),y=i(a(17678)),b=i(a(12784)),E=i(a(58061)),w=a(17674),C=a(85442),T=a(57539),k=i(a(75043)),S=i(a(10803)),I=a(94515),x=i(a(9805)),A=i(a(22952)),M=a(23582),R=l.default.lazy((function(){return a.e(711).then(a.t.bind(a,86588,7))})),N=k.default.name("ChatContainer"),O=[C.Route.CHAT,C.Route.CHAT_CALL,C.Route.CHAT_EULA,C.Route.CHAT_EVAL,C.Route.CHAT_INTRODUCE,C.Route.CHAT_MIN,C.Route.CHAT_SOCIAL,C.Route.DEPARTMENTS,C.Route.INTRODUCE,C.Route.DEBUG],D=[C.Route.CHAT,C.Route.CHAT_CALL,C.Route.CHAT_EVAL,C.Route.CHAT_INTRODUCE,C.Route.CHAT_SOCIAL],L=[C.Route.CHAT,C.Route.CHAT_CALL,C.Route.CHAT_EVAL,C.Route.CHAT_INTRODUCE,C.Route.CHAT_SOCIAL],P=function(e){var t,a,n,i,u,s,k,P,j=e.canRenderCall,B=e.showHeaderText,F=e.showBody,H=e.isOnline,W=e.widgetId,U=e.isContactFormFocused,z=(0,l.useErrorBoundary)((function(e){return N.warn(e)})),G=(0,r.default)(z,2),V=(G[0],G[1],(0,l.useRef)(null)),q=(0,l.useState)({inputHeight:0}),K=(0,r.default)(q,2),Y=K[0],Z=K[1],J=!E.default.mobileOrTablet()&&(w.Router.getCurrentRoute()===C.Route.INTRODUCE||"cw_connected"===d.default.cw_call.status&&w.Router.getCurrentRoute()===C.Route.CALL),X=function(){return f.default.joint&&(f.default.joint.vk||f.default.joint.fb)?l.default.createElement(T.Path,{paths:[C.Route.CHAT_SOCIAL],withMountTransition:!0,withUnmountTransition:!0,transition:"PopupSlideUpEULA",name:"ChatSocialPopup",duration:300,cheap:!0},l.default.createElement("jdiv",{className:h.default.popupFull},l.default.createElement(b.default,{mode:"vk",showCallback:function(){},hideCallback:function(){w.Router.next(C.RouterEvent.ToChat)}}))):null},$=function(){return l.default.createElement("jdiv",{className:h.default.popup},j?l.default.createElement(T.Path,{paths:[C.Route.CHAT_CALL],withMountTransition:!0,withUnmountTransition:!0,transition:"Fade",name:"ChatBodyCallPopup",style:{top:0,position:"absolute",width:"100%"},cheap:!0},l.default.createElement(y.default,{route:"chat",status:d.default.cw_call.status,display:!0})):null,1===f.default.show_rate_form?l.default.createElement(T.Path,{paths:[C.Route.CHAT_EVAL],withMountTransition:!0,withUnmountTransition:!0,transition:"Fade",name:"ChatBodyEvalPopup",style:{top:0,position:"absolute",width:"100%"},cheap:!0},l.default.createElement(m.default,null)):null)};return l.default.createElement("jdiv",{className:(0,c.default)((t={},(0,o.default)(t,h.default.main,!E.default.mobileOrTablet()),(0,o.default)(t,h.default.mobile,E.default.mobileOrTablet()),(0,o.default)(t,h.default.__static,J),(0,o.default)(t,h.default.noShadow,!B),t)),ref:V},l.default.createElement(T.Path,{paths:O,name:"ChatHeader",className:h.default.headerBox,isStatic:J},l.default.createElement("jdiv",{className:h.default.header},l.default.createElement(S.default,{showHeaderText:F}))),l.default.createElement(T.Path,{paths:D,name:"ChatBody"},l.default.createElement("jdiv",{className:(0,c.default)((P={},(0,o.default)(P,h.default.body,!0),(0,o.default)(P,h.default.show,F),P))},l.default.createElement(A.default,{inputHeight:Y.inputHeight})),$(),X()),l.default.createElement(T.Path,{paths:L,name:"ChatInput",transition:"Fade",shouldWait:0,className:(0,c.default)((k={},(0,o.default)(k,h.default.input,!0),(0,o.default)(k,h.default.show,!E.default.mobileOrTablet()||!U),k))},l.default.createElement(g.default,{onInputChangeHeight:function(e){Y.inputHeight!==e&&Z({inputHeight:e})}})),(u=w.Router.needToShowIntroduceForm()&&H,s=M.FeatureManager.isEnabled(M.Feature.OLD_CAPTCHA)&&!d.default.client_id,u||s?l.default.createElement(T.Path,{paths:[C.Route.INTRODUCE],name:"Introduce",withMountTransition:!0,transition:w.Router.getPrevRoute()===C.Route.LABEL?"FadeWithDelay":"Fade",waitBeforeUnmount:100},l.default.createElement("jdiv",{className:(0,c.default)((i={},(0,o.default)(i,h.default.body,!0),(0,o.default)(i,h.default.show,F),i))},l.default.createElement(v.default,null))):null),f.default.departments?l.default.createElement(T.Path,{paths:[C.Route.DEPARTMENTS],name:"Departments",shouldWait:0,className:(0,c.default)((n={},(0,o.default)(n,h.default.body,!0),(0,o.default)(n,h.default.show,F),n))},l.default.createElement(_.default,null)):null,f.default.eula?l.default.createElement(T.Path,{paths:[C.Route.CHAT_EULA],withMountTransition:!0,withUnmountTransition:!0,transition:"PopupSlideUpEULA",name:"ChatBodyEulaPopup",fixed:!0,duration:300,cheap:!0},l.default.createElement("jdiv",{className:h.default.popupFull},l.default.createElement(p.default,{showCallback:function(){},hideCallback:function(){}}))):null,l.default.createElement(T.Path,{paths:[C.Route.DEBUG],name:"Debug",shouldWait:0,className:(0,c.default)((a={},(0,o.default)(a,h.default.body,!0),(0,o.default)(a,h.default.show,F),a))},l.default.createElement(l.default.Suspense,{fallback:l.default.createElement("jdiv",{className:h.default.loading},"Loading...")},l.default.createElement(R,{online:H,version:I.EnvironmentManager.getVersion(),branch:I.EnvironmentManager.getBranch(),widgetId:W,hasErrors:x.default.getInstance().pageHasErrors(),closeButtonClick:function(){w.Router.next(C.RouterEvent.ToChat)}}))))};P.propTypes={isOnline:s.default.bool,canRenderCall:s.default.bool.isRequired,showHeaderText:s.default.bool,showBody:s.default.bool,widgetId:s.default.string,isContactFormFocused:s.default.bool};var j=(0,u.connect)((function(e){return{isOnline:e.app.isOnline,widgetId:e.settings.system.widgetId,appStore:e.app,callback:e.callback,features:e.settings.features,social:e.social,userSettings:e.settings.user,route:e.app.route,callbackEnabled:e.callback.available,isContactFormFocused:e.app.isContactFormFocused}}),{})(P);t.default=j},99952:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(5872)),o=n(a(87672)),r=n(a(59748)),l=n(a(54291)),u=n(a(94184)),s=n(a(45697)),c=n(a(58165)),d=n(a(2336)),f=a(70645),h=a(83093),p=function(e){var t,a=e.onClick,n=e.drag,s=e.callEnabled,p=e.inCall,m=e.show,g=e.ignoreDragHeight;return r.default.createElement(r.default.Fragment,null,r.default.createElement("jdiv",{className:(0,u.default)((t={},(0,o.default)(t,l.default.wrap,!0),(0,o.default)(t,l.default.__show,m),(0,o.default)(t,l.default.__call,p),t)),dir:"ltr",id:"jivo_action"},r.default.createElement("jdiv",{className:l.default.closeButton,onClick:a,id:"jivo_close_button"},r.default.createElement(c.default,(0,i.default)({iconName:"icon-close-chat",color:"#7D8999",hoverColor:"#7D8999",className:l.default.closeIcon},(0,f.withLocator)(h.Locator.CLOSE_BUTTON))))),n?r.default.createElement(d.default,{short:s,ignoreHeight:g}):null)};p.propTypes={onClick:s.default.func.isRequired,drag:s.default.bool,callEnabled:s.default.bool,inCall:s.default.bool,show:s.default.bool,ignoreDragHeight:s.default.bool};var m=r.default.memo(p);t.default=m},71059:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(54103)),l=n(a(87672)),u=n(a(26394)),s=n(a(69198)),c=n(a(51379)),d=n(a(214)),f=n(a(66380)),h=n(a(59748)),p=n(a(60021)),m=n(a(58165)),g=n(a(62904)),v=n(a(58061)),_=n(a(75043)),y=a(70645),b=a(83093),E=n(a(2090));function w(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}_.default.name("Button");var C=g.default.bubble_color||"green",T=function(e){(0,c.default)(a,e);var t=w(a);function a(e){return(0,u.default)(this,a),t.call(this,e)}return(0,s.default)(a,[{key:"getRenderData",value:function(){var e,t;return{styles:{button:[(e={button:!0},(0,l.default)(e,"_"+C,!0),(0,l.default)(e,"_disabled",this.props.disabled),(0,l.default)(e,"_medium",this.props.medium),(0,l.default)(e,"__ios",v.default.ios()),e)],inputButton:[(t={inputButton:!0},(0,l.default)(t,"_"+C,!0),(0,l.default)(t,"_disabled",this.props.disabled),(0,l.default)(t,"__mobileChat",this.props.chatMobile),t)]},style:E.default}}},{key:"renderData",value:function(e,t){var a,n,i,l=this;switch(this.props.type){case"input-button":return h.default.createElement("jdiv",(0,o.default)({},t.inputButton,{onClick:(0,r.default)(a=this.props.click).call(a,this)}),h.default.createElement(m.default,{color:"#fff",iconName:this.props.iconName,className:E.default.buttonIcon}));default:return h.default.createElement("jdiv",(0,o.default)({},t.button,{onClick:v.default.mobileOrTablet()?null:(0,r.default)(n=this.props.click).call(n,this),onTouchStart:v.default.mobileOrTablet()?(0,r.default)(i=this.props.click).call(i,this):null,ref:function(e){l._submitBtn=e}},(0,y.withLocator)(b.Locator[this.props["data-qa-id"]])),h.default.createElement("jdiv",{className:E.default.text},this.props.text))}}}]),a}(p.default);t.default=T},60801:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(54103)),l=n(a(25843)),u=n(a(89400)),s=n(a(26394)),c=n(a(69198)),d=n(a(51379)),f=n(a(214)),h=n(a(66380)),p=n(a(59748)),m=n(a(60021)),g=n(a(75119)),v=n(a(62652)),_=n(a(62904)),y=n(a(62107)),b=n(a(71059)),E=n(a(22259)),w=a(17674),C=a(85442),T=n(a(94686)),k=a(70645),S=a(83093),I=a(56602),x=a(81189);function A(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,h.default)(e);if(t){var o=(0,h.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}var M=n(a(75043)).default.name("Buttons"),R=function(e){(0,d.default)(a,e);var t=A(a);function a(e){var n;return(0,s.default)(this,a),(n=t.call(this,e)).successCallback=e.successCallback||function(){},n.errorCallback=e.errorCallback||function(){},n.focusPopupInput=e.focusPopupInput||function(){},n._submitBtn=null,n._submitBy=null,n}return(0,c.default)(a,[{key:"submitForm",value:function(e){if(e&&(e.preventDefault(),e.stopPropagation(),this._submitBy=e.view?"byClick":"byEnter"),this.props.disabled)M.log("Button is disabled.");else{var t=(0,u.default)(this.props),a={};this.values=!1,y.default.each(t,(function(e){var t;"name"==e.name&&(e.name="client_name");var n="string"==typeof e.value?(0,l.default)(t=e.value).call(t):e.value;a[e.name]=n||null}));var n=this.isValid(t);if(M.log("submitForm",t,n),n.error)e.preventDefault(),this.errorCallback(n.data),this.values=!1;else{var i={};y.default.each(n.data,(function(e){i[e.name]=e.value})),_.default.eula&&!v.default.eula_accepted&&this.countNotEmptyValues(i)?this.values=i:this.resetForm(i)}}}},{key:"componentDidMount",value:function(){var e=this;this.on(v.default,(function(){_.default.eula&&v.default.eula_accepted&&(0,u.default)(e)&&(e.resetForm((0,u.default)(e)),e.values=!1)}))}},{key:"countNotEmptyValues",value:function(e){var t=y.default.without((0,u.default)(y.default).call(y.default,e),null).length;return 1===t&&e.message?0:t}},{key:"cancel",value:function(){x.clientDispatchers.setIsIntroduced(!0),w.Router.next(C.RouterEvent.Cancel)}},{key:"isValid",value:function(e){var t=!1;for(var a in e)if(a){var n=a;"client_name"==a&&(n="name");var i=_.default.contacts_settings[n]&&_.default.contacts_settings[n].required;e[a]&&(T.default[a](e[a].value||"")||(0,I.isEmpty)(e[a].value)&&!i&&"message"!==a?e[a].error=!1:(t=!0,e[a].error=!0))}return{data:e,error:t}}},{key:"resetForm",value:function(e){_.default.eula&&!v.default.eula_accepted&&this.countNotEmptyValues(e)||this.setInfo(e)}},{key:"setInfo",value:function(e){M.log("setInput",e),this._submitBtn.disabled=!0,this.successCallback(e,this._submitBy)}},{key:"getRenderData",value:function(){var e=1===_.default.contacts_ask&&v.default.is_online&&w.Router.getCurrentRoute()===C.Route.INTRODUCE?(0,g.default)("lblSendBefore"):(0,g.default)("lblSend");return _.default.eula&&!v.default.eula_accepted&&(e=(0,g.default)("continue")),{styles:{},style:E.default,data:{text:e}}}},{key:"renderData",value:function(e,t){var a,n=this;return p.default.createElement(p.default.Fragment,null,p.default.createElement(b.default,(0,o.default)({click:(0,r.default)(a=this.submitForm).call(a,this),text:e.text,ref:function(e){n._submitBtn=e},disabled:this.props.disabled},(0,k.withLocator)(S.Locator.CONTACTS_FORM_SUBMIT))))}}]),a}(m.default);t.default=R},27365:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(54103)),l=n(a(81643)),u=n(a(26394)),s=n(a(69198)),c=n(a(51379)),d=n(a(214)),f=n(a(66380)),h=n(a(59748)),p=n(a(60021)),m=a(56602),g=n(a(47321)),v=n(a(62652)),_=n(a(36216)),y=n(a(58061)),b=n(a(58165)),E=a(17674),w=a(85442),C=n(a(38514)),T=n(a(45808)),k=a(21224),S=n(a(75043)),I=n(a(97865)),x=a(33367),A=a(63242),M=a(70645),R=a(83093),N=n(a(67966));function O(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var D=S.default.name("CloseButton"),L=function(e){(0,c.default)(a,e);var t=O(a);function a(e){var n;return(0,u.default)(this,a),(n=t.call(this,e)).state={show:n.canShow(),call:null},n._drag=null,n}return(0,s.default)(a,[{key:"canShow",value:function(e){var t,a;if(!v.default.show_container)return!1;var n=-1==(0,l.default)(t=[w.Route.LABEL,w.Route.CHAT_MIN]).call(t,e);return e==w.Route.CALL&&(0,l.default)(a=["cw_wait","cw_connecting","cw_connected"]).call(a,_.default.cw_call.status)>-1&&(n=!1),n}},{key:"componentDidMount",value:function(){var e=this;if(D.log("mount"),y.default.mobileOrTablet())this.setState({show:!0});else{var t=function(){var t=e.canShow(E.Router.getCurrentRoute());e.state.show===t&&e.state.call===_.default.cw_call_enabled||e.setState({show:e.canShow(E.Router.getCurrentRoute()),call:_.default.cw_call_enabled})};E.Router.on("route_change",(function(){t()})),this.on(v.default,t),this.on(_.default,t),t(),(0,m.isWixIframe)()||this._drag&&C.default.initializeDrag(this._drag)}}},{key:"closeWindow",value:function(){g.default.closeWidget(),this.setState({show:!1}),x.Monitoring.telemetry(A.TelemetryName.WIDGET_CLOSE_CLICK,{param1:N.default.get("text")?1:0})}},{key:"componentWillUmount",value:function(){this.off()}},{key:"getRenderData",value:function(){var e={display:this.state.show?"block":"none",height:"call"==v.default.route?"31px !important":"70px"};return{styles:{action:[{action:!0},e],drag:[{drag:!0,__call:this.state.call},e]},style:I.default,data:{}}}},{key:"renderData",value:function(e,t){var a,n=this;return h.default.createElement(h.default.Fragment,null,h.default.createElement("jdiv",(0,o.default)({},t.action,{dir:"ltr",id:"jivo_action"}),h.default.createElement("jdiv",{className:I.default.closeButton,onClick:(0,r.default)(a=this.closeWindow).call(a,this),id:"jivo_close_button"},h.default.createElement(b.default,(0,o.default)({iconName:"icon-close-chat",color:"#7D8999",hoverColor:"#7D8999",className:I.default.closeIcon},(0,M.withLocator)(R.Locator.CLOSE_BUTTON))))),y.default.mobileOrTablet()||(0,m.isWixIframe)()?null:h.default.createElement("jdiv",(0,o.default)({key:"drag"},t.drag,{ref:function(e){n._drag=e,T.default.set(k.Component.DRAG,e)}})))}}]),a}(p.default);t.default=L},44068:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(54103)),l=n(a(87672)),u=n(a(26394)),s=n(a(69198)),c=n(a(51379)),d=n(a(214)),f=n(a(66380)),h=n(a(59748)),p=n(a(60021)),m=n(a(62904)),g=a(99112),v=n(a(36216)),_=n(a(58061)),y=a(70645),b=a(83093),E=n(a(75043)),w=n(a(22259));function C(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}E.default.name("Input");var T=function(e){(0,c.default)(a,e);var t=C(a);function a(e){var n;(0,u.default)(this,a);var i=(n=t.call(this,e)).props.name;return"client_name"===i&&(i="name"),n.state={text:v.default.client_info[n.props.name]?v.default.client_info[n.props.name]:"",error:e.error,key:i},n.onBlur=e.onBlur||function(){},n.onFocus=function(){n.setState({error:!1}),e.onFocus&&e.onFocus()},n.handleChange=function(t,a){a.target.value!==n.props.value&&e.handleChange&&e.handleChange(t,a)},n._input=null,n}return(0,s.default)(a,[{key:"componentDidMount",value:function(){this._input&&(this._input.value=this.props.value)}},{key:"getType",value:function(e){switch(e){case"phone":return"tel";case"email":return"email";default:return"text"}}},{key:"setValue",value:function(e){this._input.value=e,this.handleChange(this.props.name,{target:{value:e,required:this.props.required}})}},{key:"needRender",value:function(){return m.default.contacts_settings&&m.default.contacts_settings[this.state.key]&&m.default.contacts_settings[this.state.key].show||this.props.show}},{key:"getRenderData",value:function(){var e;return{styles:{inputField:[(e={inputField:!0,_error:this.props.submited?this.props.error:this.props.submited},(0,l.default)(e,"_"+this.props.color,!(!this.props.color||"green"===this.props.color)),(0,l.default)(e,"__mobile",_.default.mobileOrTablet()),(0,l.default)(e,"__valid",this.props.valid),(0,l.default)(e,"__bluredEmpty",!(this._input&&this._input.value)),e)]},style:w.default,data:{placeholder:this.props.placeholder+(this.props.required||m.default.contacts_settings[this.state.key].required?"*":"")}}}},{key:"renderData",value:function(e,t){var a,n,i=this;if(this.needRender())return h.default.createElement("jdiv",{className:w.default.fieldWrap},h.default.createElement("input",(0,o.default)({},t.inputField,{type:this.getType(this.state.key),autoComplete:this.getType(this.state.key),onKeyPress:function(e){e.stopPropagation(),g.getNextSiblingNodeFocus.call(i,e)},onBlur:(0,r.default)(a=this.onBlur).call(a,this),onFocus:(0,r.default)(n=this.onFocus).call(n,this),placeholder:e.placeholder,onInput:function(e){e.stopPropagation(),i.handleChange.call(i,i.props.name,e)},onKeyUp:function(e){e.stopPropagation(),i.handleChange.call(i,i.props.name,e)},onKeyDown:function(e){e.stopPropagation()},ref:function(e){i._input=e}},(0,y.withLocator)(b.Locator["CONTACTS_FORM_".concat(this.state.key.toUpperCase())]))))}}]),a}(p.default);t.default=T},43986:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(54103)),l=n(a(87672)),u=n(a(26394)),s=n(a(69198)),c=n(a(51379)),d=n(a(214)),f=n(a(66380)),h=n(a(59748)),p=n(a(60021)),m=n(a(62904)),g=n(a(36216)),v=n(a(58061)),_=a(99112),y=a(70645),b=a(83093),E=n(a(75043)),w=n(a(22259));function C(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}E.default.name("InputChat");var T=function(e){(0,c.default)(a,e);var t=C(a);function a(e){var n;(0,u.default)(this,a);var i=(n=t.call(this,e)).props.name;return"client_name"===i&&(i="name"),n.state={text:g.default.client_info[n.props.name]?g.default.client_info[n.props.name]:"",error:e.error,key:i},n.onFocus=function(t){n._focused=!0,n.setState({error:!1}),e.onFocus&&e.onFocus(t)},n.onBlur=function(t){n._focused=!1,e.onBlur&&e.onBlur(t)},n.handleChange=function(t,a){n.setState({error:!1}),e.handleChange(t,a),e.onChange(t,a)},n.onSubmit=function(){e.onSubmit&&e.onSubmit(n.state.key,e.error)},n._input=null,n._focused=null,n}return(0,s.default)(a,[{key:"componentDidMount",value:function(){this._input&&(this._input.value=this.props.value)}},{key:"componentWillReceiveProps",value:function(e){this._input&&(this._input.value=e.value)}},{key:"getType",value:function(e){switch(e){case"phone":return"tel";case"email":return"email";case"name":return"name";default:return"text"}}},{key:"needRender",value:function(){return m.default.contacts_settings&&m.default.contacts_settings[this.state.key]&&m.default.contacts_settings[this.state.key].show}},{key:"getRenderData",value:function(){var e;return{styles:{inputField:[(e={inputField:!0,_error:this.props.submited?this.props.error:this.props.submited},(0,l.default)(e,"_"+this.props.color,!(!this.props.color||"green"===this.props.color)),(0,l.default)(e,"__mobile",v.default.mobileOrTablet()),(0,l.default)(e,"__valid",this.props.valid&&""!==this._input.value),(0,l.default)(e,"__bluredEmpty",!(this._input&&this._input.value)),(0,l.default)(e,"__inputChat",!0),e)]},style:w.default,data:{placeholder:this.props.placeholder+(m.default.contacts_settings[this.state.key].required?"*":"")}}}},{key:"renderData",value:function(e,t){var a=this;if(this.needRender()){var n,i,l=this.props.hint&&this._input&&(""!==this._input.value||v.default.ie()&&this._focused);return h.default.createElement("jdiv",{className:w.default.fieldWrap},l?h.default.createElement("jdiv",{className:w.default.hint},e.placeholder):null,h.default.createElement("input",(0,o.default)({},t.inputField,{type:this.getType(this.state.key),name:this.state.key,autoComplete:this.getType(this.state.key),onKeyPress:function(e){e.stopPropagation(),e.keyCode&&13==e.keyCode&&e.currentTarget.blur(),_.getNextSiblingNodeFocus.call(a,e)},onBlur:(0,r.default)(n=this.onBlur).call(n,this),onFocus:(0,r.default)(i=this.onFocus).call(i,this),placeholder:e.placeholder,onInput:function(e){e.stopPropagation(),a.handleChange.call(a,a.props.name,e)},onKeyUp:function(e){e.stopPropagation(),a.handleChange.call(a,a.props.name,e)},onKeyDown:function(e){e.stopPropagation()},disabled:this.props.disabled,title:e.placeholder,ref:function(e){a._input=e}},(0,y.withLocator)(b.Locator["CONTACTS_FORM_".concat(this.state.key.toUpperCase())]))),this.props.valid&&""!==this._input.value?h.default.createElement("jdiv",{className:w.default.iconValid}):null)}}}]),a}(p.default);t.default=T},98077:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(54103)),l=n(a(26394)),u=n(a(69198)),s=n(a(51379)),c=n(a(214)),d=n(a(66380)),f=n(a(59748)),h=n(a(60021)),p=n(a(75043)),m=n(a(75119)),g=a(56602),v=n(a(77244)),_=n(a(58061)),y=n(a(31636));function b(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}p.default.name("IntroduceButton");var E=function(e){(0,s.default)(a,e);var t=b(a);function a(e){var n;return(0,l.default)(this,a),(n=t.call(this,e)).state={},n.scrollToForm=e.scrollToForm||function(){},n}return(0,u.default)(a,[{key:"getRenderData",value:function(){return{styles:{scrollForm:[{scrollForm:!0,__hide:this.props.hide,__ad:(0,g.showAd)(),__mobile:_.default.mobileOrTablet()}]},style:y.default}}},{key:"renderData",value:function(e,t){var a,n;return f.default.createElement("jdiv",(0,o.default)({},t.scrollForm,{onClick:_.default.mobileOrTablet()?null:(0,r.default)(a=this.scrollToForm).call(a,this),onTouchStart:_.default.mobileOrTablet()?(0,r.default)(n=this.scrollToForm).call(n,this):null}),f.default.createElement("jdiv",{className:y.default.textToForm},f.default.createElement(v.default,{icon:"1f44b-1f3fb",alone:!1,className:"emojiMessages",style:!0})," ",(0,m.default)("lblIntroduceRequest")))}}]),a}(h.default);t.default=E},19301:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(54103)),r=n(a(26394)),l=n(a(69198)),u=n(a(51379)),s=n(a(214)),c=n(a(66380)),d=n(a(59748)),f=n(a(60021)),h=n(a(75043)),p=n(a(58165)),m=n(a(97865)),g=a(17674),v=a(85442);function _(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}h.default.name("CloseButton");var y=function(e){(0,u.default)(a,e);var t=_(a);function a(e){return(0,r.default)(this,a),t.call(this,e)}return(0,l.default)(a,[{key:"componentDidMount",value:function(){}},{key:"getRenderData",value:function(){return{styles:{},style:m.default,data:{}}}},{key:"handleClick",value:function(e){e.stopPropagation(),g.Router.next(v.RouterEvent.Cancel),this.props.onClose(e)}},{key:"renderData",value:function(e,t){var a;return d.default.createElement("jdiv",{className:m.default.popupClose,onClick:(0,o.default)(a=this.handleClick).call(a,this)},d.default.createElement(p.default,{className:m.default.closeIcon,iconName:"icon-popup-close",color:"#959BA0",hoverColor:"#222D38"}))}}]),a}(f.default);t.default=y},96884:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(54103)),l=n(a(87672)),u=n(a(26394)),s=n(a(69198)),c=n(a(51379)),d=n(a(214)),f=n(a(66380)),h=n(a(59748)),p=n(a(60021)),m=(n(a(47321)),n(a(75119))),g=n(a(58061)),v=a(17674),_=a(70645),y=a(83093),b=n(a(75043)),E=n(a(22259));function w(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var C=b.default.name("TextArea"),T=(0,m.default)("lblYourMessage")+"*",k=!1,S=function(e){(0,c.default)(a,e);var t=w(a);function a(e){var n;return(0,u.default)(this,a),(n=t.call(this,e))._textarea=null,n.handleChange=e.handleChange||function(){},n}return(0,s.default)(a,[{key:"componentDidMount",value:function(){g.default.ie()&&v.Router.on("route_change",(function(){k=!1}))}},{key:"fixIe",value:function(e){!g.default.ie()||g.default.mobileOrTablet()||!v.Router.isFormRoute()||!e||e.textContent||this.props.value||k||(C.log("fixIe"),e.textContent=T,k=!0)}},{key:"onInput",value:function(e){e.stopPropagation(),e.target.value!==this.props.value&&this.handleChange.call(this,"message",e)}},{key:"getRenderData",value:function(){var e;return{styles:{fieldWrap:[{fieldWrap:!0}],inputField:[(e={inputField:!0},(0,l.default)(e,"_"+this.props.color,!(!this.props.color||"green"===this.props.color)),(0,l.default)(e,"__textarea",!0),(0,l.default)(e,"_error",this.props.error),(0,l.default)(e,"__mobile",g.default.mobileOrTablet()),(0,l.default)(e,"__bluredEmpty",!this.props.value),e)]},style:E.default}}},{key:"renderData",value:function(e,t){var a,n=this;return h.default.createElement("jdiv",t.fieldWrap,h.default.createElement("textarea",(0,o.default)({},t.inputField,{value:this.props.value||void 0,maxLength:"1000",onInput:(0,r.default)(a=this.onInput).call(a,this),onKeyUp:function(e){e.stopPropagation()},onKeyDown:function(e){e.stopPropagation()},placeholder:T,"data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false",ref:function(e){n._textarea=e,n.fixIe(e)}},(0,_.withLocator)(y.Locator.CONTACTS_FORM_INPUT))))}}]),a}(p.default);t.default=S},12907:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(54103)),r=n(a(5872)),l=n(a(77766)),u=n(a(87672)),s=n(a(51942)),c=n(a(26394)),d=n(a(69198)),f=n(a(51379)),h=n(a(214)),p=n(a(66380)),m=n(a(59748)),g=n(a(59748)),v=n(a(60021)),_=n(a(62652)),y=n(a(69961)),b=n(a(62904)),E=n(a(62107)),w=n(a(75119)),C=a(56602),T=a(99112),k=n(a(58061)),S=n(a(94184)),I=n(a(71155)),x=n(a(58165)),A=n(a(75043)),M=a(33367),R=a(63242),N=a(70645),O=a(83093);function D(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,p.default)(e);if(t){var o=(0,p.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,h.default)(this,a)}}var L=A.default.name("Copyright"),P=(0,C.getUtmLink)("label_tooltip"),j=(0,w.default)("businessCopyright").split("{0}"),B=j[0],F=j[1],H=function(e){(0,f.default)(a,e);var t=D(a);function a(e){var n;if((0,c.default)(this,a),(n=t.call(this,e)).state={enabled:!0,show:!1,hidden:!1},n.custom_copyright=window.parent.document.getElementById("jivo_copyright"),n.custom_copyright&&n.props.refWrap){var i=window.parent.document.createElement("div");i.id="jivo_copyright_corner",n.custom_copyright_corner=i,n.custom_copyright_corner.className="jivo-"+b.default.widget_orientation,n.custom_copyright.appendChild(n.custom_copyright_corner),M.Monitoring.telemetry(R.TelemetryName.SITE_CUSTOM_COPYRIGHT)}return n}return(0,d.default)(a,[{key:"componentDidMount",value:function(){var e=this;if(L.log("mounted"),this.on(_.default,(function(){"label"==_.default.route!==e.state.enabled&&e.setState({enabled:"label"==_.default.route})})),k.default.mobileOrTablet()&&this.isChat()&&!this.props.bottom){var t=0;this.on(y.default,(function(){e.state.typing!==t&&e.setState({hidden:y.default.typing}),t=y.default.typing}))}if(this.custom_copyright){var a;if(E.default.each(this.custom_copyright.childNodes,(function(e){"A"===e.tagName&&(a=e)})),a){var n=document.createElement("jdiv");n.className=I.default.customWrap,this.custom_copyright.replaceChild(n,a),g.default.render(this.renderLogo(),n)}(0,C.addListener)(this.custom_copyright,"mouseover",(function(){return e.mouseOver()})),(0,C.addListener)(this.custom_copyright,"mouseout",(function(){return e.mouseOut()}))}}},{key:"getTooltipPosition",value:function(){var e,t,a={top:0,left:0};switch(null!==this.custom_copyright&&this.props.refWrap&&this.props.refWrap()&&(t=(0,T.getElementPosition)(this.props.refWrap())),b.default.widget_orientation){case"left":e=10,a={top:20+(t?t.top:0)+"px",left:40+e+"px"};break;case"right":e="en"===b.default.iconLocale?80:60,a={top:20+(t?t.top:0)+"px",right:"50px"};break;case"bottom":a={bottom:"48px",right:(t?t.windowWidth-t.width-t.left+30:42)+"px"}}return a}},{key:"getCopyStyles",value:function(){var e=this.getTooltipPosition(),t={color:(0,C.getTextColor)(),display:this.state.show?"block":"none",background:(0,C.getGradientBg)(this.props.color,this.props.color2).background};return(0,s.default)(t,e)}},{key:"showCustom",value:function(e){this.custom_copyright&&this.setState({show:e})}},{key:"mouseOver",value:function(){this.showCustom(!0)}},{key:"mouseOut",value:function(){this.showCustom(!1)}},{key:"isChat",value:function(){return"chat"===this.props.type}},{key:"renderLogo",value:function(){var e,t=b.default.bill_ru?"logo-jivosite":"logo-jivochat",a=_.default.is_online?"#18C139":"#62666c",n=(0,C.getTextColor)(_.default.widget_font_color);this.isChat()&&(n="#323648",a="#18C139");var i=(0,S.default)((e={},(0,u.default)(e,I.default.link,!0),(0,u.default)(e,I.default.__ru,!!b.default.bill_ru),e));return m.default.createElement("a",{href:P,rel:"nofollow noopener",target:"_blank",className:i},m.default.createElement(x.default,{iconName:t,color:n,color2:a,className:I.default.logoIcon}))}},{key:"getRenderData",value:function(){var e,t=[(e={copyright:!0},(0,u.default)(e,"_"+this.props.orientation,!0),(0,u.default)(e,"_light",!1),(0,u.default)(e,"__ru",!!b.default.bill_ru),e),this.props.bg],a={},n={},i=this.props.color2||this.props.color;switch(this.props.orientation){case"right":a={borderLeftColor:i};break;case"left":var o;if(a={borderRightColor:this.props.color},this.props.color2)n.backgroundImage=(0,l.default)(o="linear-gradient(95deg, ".concat(this.props.color2," 20%, ")).call(o,this.props.color," 80%)"),t[1]=n;break;case"bottom":a={borderTopColor:i}}return{styles:{copyright:t,hide:[{hide:!0}],logoIcon:[{logoIcon:!0}],link:[{link:!0,__ru:!!b.default.bill_ru}],text:[{text:!0},{color:this.isChat()?null:(0,C.getTextColor)(_.default.widget_font_color)}],corner:[{corner:!0},a],chatCopyright:[{chatCopyright:!0,__mobile:k.default.mobileOrTablet(),__tablet:k.default.tablet(),__hidden:this.state.hidden,__call:this.props.bottom,__chat:this.isChat(),__top:this.props.top}]},style:I.default}}},{key:"renderData",value:function(e,t){if(this.isChat())return m.default.createElement("jdiv",(0,r.default)({},t.chatCopyright,(0,N.withLocator)(O.Locator.CHAT_COPYRIGHT)),m.default.createElement("jdiv",t.text,B,this.renderLogo(),F));if(this.custom_copyright){var a=this.getCopyStyles();return this.custom_copyright.className=t.copyright.className,(0,s.default)(this.custom_copyright.style,a),(0,s.default)(this.custom_copyright_corner.style,t.corner.style),m.default.createElement("jdiv",t.hide)}var n,i;return m.default.createElement("jdiv",(0,r.default)({},t.copyright,{onMouseOver:(0,o.default)(n=this.mouseOver).call(n,this),onMouseOut:(0,o.default)(i=this.mouseOut).call(i,this)},(0,N.withLocator)(O.Locator.LABEL_COPYRIGHT_POPUP)),m.default.createElement("jdiv",t.text,B,this.renderLogo(),F),m.default.createElement("jdiv",t.corner))}}]),a}(v.default);t.default=H},75215:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(2991)),l=n(a(87672)),u=n(a(94198)),s=n(a(26394)),c=n(a(69198)),d=n(a(51379)),f=n(a(214)),h=n(a(66380)),p=n(a(59748)),m=n(a(60021)),g=n(a(62904)),v=n(a(62107)),_=a(56602),y=n(a(58061)),b=n(a(69961)),E=n(a(47321)),w=n(a(68806)),C=n(a(12907)),T=n(a(75043)),k=n(a(11897)),S=a(17674),I=a(85442);function x(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,h.default)(e);if(t){var o=(0,h.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}var A=T.default.name("Departments"),M=g.default.departments,R=function(e){(0,d.default)(a,e);var t=x(a);function a(e){var n;return(0,s.default)(this,a),(n=t.call(this,e)).state={textSize:y.default.ios()?w.default.getTextSize():null},n.on(b.default,(function(){b.default.agent_id||E.default.setDepartmentId(null),S.Router.getCurrentRoute()===I.Route.DEPARTMENTS&&S.Router.next(I.RouterEvent.Navigate)})),n}return(0,c.default)(a,[{key:"componentDidMount",value:function(){var e=this;A.log("mounted"),y.default.ios()&&w.default.listenChangeZoom((function(){e.setState({textSize:w.default.getTextSize()})}))}},{key:"onDepartmentSelect",value:function(e){(e=(0,u.default)(e))&&(E.default.setDepartmentId(e),S.Router.next(I.RouterEvent.Navigate),A.log("set department id",e))}},{key:"getRenderData",value:function(){var e=y.default.ios()?{"-webkit-text-size-adjust":this.state.textSize}:null;return{styles:{main:[(0,l.default)({main:!0,__logo:(0,_.showAd)(),__mobile:y.default.mobileOrTablet()},"_"+(g.default.bubble_color||"green"),!0)],department:[{department:!0},e]},style:k.default}}},{key:"renderData",value:function(e,t){var a=this;if(!M)return null;var n=(0,r.default)(v.default).call(v.default,M,(function(e){return p.default.createElement("jdiv",(0,o.default)({},t.department,{onClick:function(){a.onDepartmentSelect(e.id)}}),e.name,p.default.createElement("jdiv",{className:k.default.circle}))}));return p.default.createElement(p.default.Fragment,null,(0,_.showAd)()&&p.default.createElement(C.default,{type:"chat",bottom:!0}),p.default.createElement("jdiv",t.main,n))}}]),a}(m.default);t.default=R},2336:function(e,t,a){"use strict";var n=a(87646),i=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a(87672)),r=i(a(18777)),l=n(a(59748)),u=i(a(50712)),s=i(a(94184)),c=i(a(45697)),d=a(14549),f=function(e){var t,a=e.short,n=e.ignoreHeight,i=(0,l.useRef)(null),c=(0,l.useState)({dragStarted:!1}),f=(0,r.default)(c,2),h=f[0],p=f[1];return l.default.createElement("jdiv",{className:(0,s.default)((t={},(0,o.default)(t,u.default.wrap,!0),(0,o.default)(t,u.default.__short,a),(0,o.default)(t,u.default.__active,h.dragStarted),t)),ref:i,onMouseDown:function(e){h.dragStarted||(p({dragStarted:!0}),(0,d.startDrag)(e))},onMouseMove:function(e){h.dragStarted&&(0,d.drag)(e,n)},onMouseUp:function(){h.dragStarted&&((0,d.stopDrag)(),p({dragStarted:!1}))},onMouseOut:function(){h.dragStarted&&(p({dragStarted:!1}),(0,d.stopDrag)())}})};f.propTypes={short:c.default.bool,ignoreHeight:c.default.bool};var h=l.default.memo(f);t.default=h},14549:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.drag=t.stopDrag=t.startDrag=void 0;var i,o,r,l,u,s=n(a(94198)),c=a(56602),d=a(99112),f=n(a(45808)),h=a(21224),p=n(a(62904)),m=a(81189),g=a(17674),v=n(a(58061)),_=a(10872),y=a(57018),b=n(a(75043)).default.name("DragHelper"),E=null,w=function(){return"0"==p.default.widget_padding&&"bottom"===p.default.widget_orientation||"left"===p.default.widget_orientation?"left":"right"},C=function(e){E||(E=f.default.get(h.Component.SCROLL_CONTAINER)),E&&(E.style.display=e?"block":"none")};t.startDrag=function(e){m.appDispatchers.setIsInDrag(!0),l=e.screenX,u=e.screenY,C(!1);var t,a=f.default.get(h.Component.WIDGET_CONTAINER),n=w();if("right"===n&&null===(0,_.getProperty)("right",a)&&((0,_.setProperty)("right",(t=a,(0,c.getPageWindow)().document.body.clientWidth-(t.offsetLeft||40)-t.offsetWidth+"px"),a),(0,_.setProperty)("left",null,a)),"left"===n&&null!==(0,_.getProperty)("right",a)){var p=a.offsetLeft+"px";(0,_.setProperty)("left",p,a),(0,_.setProperty)("right",null,a)}if("left"===n&&""===(0,_.getProperty)("left",a)){var g=a.offsetLeft||"40px";(0,_.setProperty)("left",g,a),(0,_.setProperty)("right",null,a)}var v=(0,d.getElementPosition)(a),b=a.offsetHeight;i=(0,s.default)((0,_.getProperty)(n,a)),o=(0,s.default)(b),v.minLeft="left"===n?40:30,v.maxLeft=v.windowWidth-v.width-v.minLeft,v.maxLeft-=30,v.minHeight=y.MINIMAL_WIDGET_HEIGHT,v.height=b<v.minHeight?v.minHeight:b,v.maxHeight=(0,c.getPageWindow)().innerHeight-30,r=v};t.stopDrag=function(){b.log("stopDrag"),C(!0),function(){var e=f.default.get(h.Component.WIDGET_CONTAINER),t=(0,s.default)((0,_.getProperty)("height",e));t&&t<y.MINIMAL_WIDGET_HEIGHT&&(t=y.MINIMAL_WIDGET_HEIGHT),t||(t=y.DEFAULT_WIDGET_HEIGHT);var a=(0,_.getProperty)("left",e),n=(0,_.getProperty)("right",e);m.positionDispatchers.initializePositionStore({height:t+"px",left:a,right:n})}(),m.appDispatchers.setIsInDrag(!1)};t.drag=function(e,t){var a=l-e.screenX,n=u-e.screenY,s=w();"left"==s&&(a=-a);var c=r,d=i?i+a:c.minLeft+a,p=f.default.get(h.Component.WIDGET_CONTAINER);d<c.minLeft?(0,_.setProperty)(s,c.minLeft+"px",p):d>c.maxLeft?(0,_.setProperty)(s,c.maxLeft+"px",p):(0,_.setProperty)(s,d+"px",p);var m=o+n;if(m!==c.height&&(m>c.minHeight||m>c.height)&&(g.Router.isIgnoreDragHeightRoute()&&(m=c.height),m>r.maxHeight&&(m=r.maxHeight),r.height=m,t||(0,_.setProperty)("height",m+"px",p)),v.default.safari()&&!v.default.mobileOrTablet()){(0,_.updateKeyframes)(p);var y=(0,_.getSavedLabelPosition)();y&&((0,_.setProperty)("labelright",y.right,p),(0,_.setProperty)("labelleft",y.left,p),(0,_.setProperty)("labelwidth",y.offsetWidth+"px",p))}}},77244:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(81643)),r=n(a(5872)),l=n(a(87672)),u=n(a(26394)),s=n(a(69198)),c=n(a(51379)),d=n(a(214)),f=n(a(66380)),h=n(a(94198)),p=n(a(59748)),m=n(a(60021)),g=n(a(62107)),v=n(a(16083)),_=a(56602),y=n(a(78557));function b(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var E={angel:"1f607",unicorn_face:"1f984",confused:"1f615",rage:"1f621",imp:"1f608",disappointed:"1f61e",kissing_heart:"1f618",yum:"1f60b",disappointed_relieved:"1f625",weary:"1f629",grin:"1f601",laughing:"1f606",wink:"1f609",sunglasses:"1f60e",neutral_face:"1f610",winking_eye:"1f61c",hushed:"1f62e",thumbsup:"1f44d",thumbsdown:"1f44e",smile:"1f603"},w=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,C=String.fromCharCode,T=/\uFE0F/g,k=String.fromCharCode(8205);function S(e,t){return String(e).replace(w,t)}function I(e){var t="string"==typeof e?(0,h.default)(e,16):e;return t<65536?C(t):C(55296+((t-=65536)>>10),56320+(1023&t))}var x=function(e){(0,c.default)(a,e);var t=b(a);function a(e){var n;return(0,u.default)(this,a),(n=t.call(this,e)).icon=e.icon,n.customStyle=e.style||{},n.className=e.className||"",n.type=n.getTypeIcon(e.icon),n}return(0,s.default)(a,[{key:"getTypeIcon",value:function(e){var t=this,a="img";return g.default.each(E,(function(n,i){e!==n&&e!==i||(a="div",e===n&&(t.icon=i))})),a}},{key:"getRenderData",value:function(){var e;return{data:{},styles:{emojiIcon:[(e={emojiIcon:!0},(0,l.default)(e,this.className,this.className),(0,l.default)(e,"__alone",this.props.alone),e)]},style:v.default}}},{key:"renderData",value:function(e,t){var a=encodeURIComponent((0,y.default)(this.icon)),n='url("data:image/svg+xml,'.concat(a,'")'),i=I(E[this.icon]),o=p.default.createElement("jdiv",(0,r.default)({},t.emojiIcon,{draggable:!1,alt:I(this.icon),style:{backgroundImage:"url('".concat((0,_.cdnLinkToEmoji)(this.icon),"')")}}),_.isTextEmojiDisabled?null:I(this.icon)),l=p.default.createElement("jdiv",(0,r.default)({},t.emojiIcon,{style:this.customStyle,"jv-emoji":this.icon}),p.default.createElement("jdiv",{className:v.default.icon,style:{backgroundImage:n},alt:i},_.isTextEmojiDisabled?null:i));return"img"===this.type?o:l}}],[{key:"cdnLinkToEmoji",value:function(e){return(0,_.cdnLinkToEmoji)(e)}},{key:"fromCodePoint",value:function(e){return I(e)}},{key:"toCodePoint",value:function(e,t){return function(e,t){for(var a=[],n=0,i=0,o=0;o<e.length;)n=e.charCodeAt(o++),i?(a.push((65536+(i-55296<<10)+(n-56320)).toString(16)),i=0):55296<=n&&n<=56319?i=n:a.push(n.toString(16));return a.join(t||"-")}((0,o.default)(e).call(e,k)<0?e.replace(T,""):e,t)}},{key:"parse",value:function(e,t){return function(e,t){return S(e,t)}(e,t)}},{key:"replace",value:function(e,t){return S(e,t)}},{key:"getEmojiList",value:function(){return E}},{key:"getRegExp",value:function(){return w}}]),a}(m.default);t.default=x},78557:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(69861)),o=n(a(22783)),r=n(a(69860)),l=n(a(44544)),u=n(a(12239)),s=n(a(70881)),c=n(a(92380)),d=n(a(74373)),f=n(a(67567)),h=n(a(57737)),p=n(a(14534)),m=n(a(78393)),g=n(a(79378)),v=n(a(5541)),_=n(a(87966)),y=n(a(94475)),b=n(a(45152)),E=n(a(63365)),w=n(a(22426)),C=n(a(56482)),T=n(a(23791));var k=function(e){return{angel:i.default,unicorn_face:o.default,confused:r.default,rage:l.default,imp:u.default,disappointed:s.default,kissing_heart:c.default,yum:d.default,disappointed_relieved:f.default,weary:h.default,grin:p.default,laughing:m.default,wink:g.default,sunglasses:v.default,neutral_face:_.default,winking_eye:y.default,hushed:b.default,thumbsup:C.default,thumbsdown:E.default,smile:w.default,tada:T.default}[e]};t.default=k},40731:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(2991)),o=n(a(59748)),r=n(a(77244)),l=n(a(62107)),u=function(){return o.default.createElement("jdiv",null,(0,i.default)(l.default).call(l.default,r.default.getEmojiList(),(function(e,t){return o.default.createElement(r.default,{icon:t})})))};t.default=u},76646:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(51942)),l=n(a(87672)),u=n(a(54103)),s=n(a(33032)),c=n(a(26394)),d=n(a(69198)),f=n(a(51379)),h=n(a(214)),p=n(a(66380)),m=n(a(59748)),g=n(a(60021)),v=n(a(75043)),_=n(a(62652)),y=n(a(47321)),b=n(a(75119)),E=n(a(58061)),w=n(a(68806)),C=n(a(62904)),T=n(a(20748)),k=n(a(43013)),S=a(17674),I=a(85442),x=a(33367),A=a(63242),M=n(a(45808)),R=a(10872),N=a(21224),O=a(23582),D=n(a(75959));function L(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,p.default)(e);if(t){var o=(0,p.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,h.default)(this,a)}}v.default.name("EulaPopup");var P=window.parent.location.protocol+C.default.base_url+"/script/eula/"+C.default.widget_id,j=function(e){(0,f.default)(a,e);var t=L(a);function a(e){var n;(0,c.default)(this,a),n=t.call(this,e);var i=C.default.eula;return n.state={show:!0,checked:!1,text:!1,url:i&&i.external_link?i.external_link:P,agreementBasis:i&&i.custom_agreement?i.custom_agreement:"законом №152-ФЗ «О персональных данных» от 27.07.2006",textSize:null,customTitle:"Согласен на обработку персональных данных",customLink:"Пользовательского&nbsp;соглашения"},i&&i.use_gdpr&&(n.state.customTitle=i.custom_title||(0,b.default)("eula_custom_title"),n.state.customLink=i.title_external_link||!1,n.state.agreementBasis=i.custom_agreement||(0,b.default)("eula_custom_agreement")),n._titleRef=null,n._callRef=null,n}return(0,d.default)(a,[{key:"componentDidUpdate",value:function(){var e=this.getTopOffset();this._textRef&&this._textRef.style&&e&&(this._textRef.style.top=e+"px")}},{key:"componentDidMount",value:function(){var e=this,t=_.default.route;this.on(_.default,(function(){_.default.show_eula&&!_.default.eula_accepted?(e.setState({show:!0,text:_.default.show_eula}),E.default.mobileOrTablet()&&y.default.blurActiveElement()):!_.default.show_eula&&e.state.show&&e.setState({show:!1,text:_.default.show_eula}),t!==_.default.route&&e.setState({show:!1,text:_.default.show_eula})})),w.default.listenChangeZoom((function(){var t=w.default.getTextSize();e.state.textSize!==t&&e.setState({textSize:t})}))}},{key:"submitCheckbox",value:function(){var e=this;this.setState({checked:!this.state.checked}),this.state.checked&&D.default.eulaLink&&(window.open(D.default.eulaLink),D.default.eulaLink=null),(0,s.default)((function(){e.state.checked&&(D.default.acceptEula(),S.Router.next(I.RouterEvent.Submit))}),500)}},{key:"cancel",value:function(e){var t=this;S.Router.next(I.RouterEvent.Cancel),O.FeatureManager.isEnabled(O.Feature.NEW_ANIMATION)&&E.default.safari()&&!E.default.mobileOrTablet()&&(0,s.default)((function(){var e=M.default.get(N.Component.WIDGET_CONTAINER);(0,R.updateKeyframes)(e)}),0),(0,s.default)((function(){t.setState({show:!1}),D.default.showEula(!1),e&&x.Monitoring.telemetry(A.TelemetryName.EULA_CANCEL_BTN,{param1:D.default.context})}),200)}},{key:"trackClick",value:function(){x.Monitoring.telemetry(A.TelemetryName.EULA_LINK_CLICKED,{param1:D.default.context})}},{key:"renderAgreement",value:function(){return C.default.eula&&!C.default.eula.use_gdpr?"Ставя отметку, я даю свое согласие на обработку моих персональных данных в соответствии с\n                ".concat(this.state.agreementBasis," и принимаю условия "):"".concat(this.state.agreementBasis," ")}},{key:"renderLink",value:function(){var e;if(!C.default.eula.use_gdpr||C.default.eula.use_gdpr&&C.default.eula.external_link&&this.state.customLink)return m.default.createElement("a",{href:this.state.url,onClick:(0,u.default)(e=this.trackClick).call(e,this),target:"_blank",rel:"noopener",dangerouslySetInnerHTML:{__html:this.state.customLink}})}},{key:"renderCancel",value:function(){var e,t;return E.default.tablet()?m.default.createElement("jdiv",{className:k.default.cancel,onTouchEnd:(0,u.default)(e=this.cancel).call(e,this)},(0,b.default)("cancel")):m.default.createElement("jdiv",{className:k.default.cancel,onClick:(0,u.default)(t=this.cancel).call(t,this)},(0,b.default)("cancel"))}},{key:"getTopOffset",value:function(){return(this.state.text&&this._callRef&&this._callRef.offsetHeight)+(this._titleRef&&this._titleRef.offsetHeight)}},{key:"getRenderData",value:function(){var e,t=E.default.ios()?{"-webkit-text-size-adjust":this.state.textSize}:{},a="string"==typeof this.state.text;return{styles:{wrap:[(e={eulaPopup:!0,_mobile:E.default.mobile(),_tablet:E.default.tablet()},(0,l.default)(e,"_"+C.default.bubble_color,!(!C.default.bubble_color||"green"===C.default.bubble_color)),(0,l.default)(e,"__call",this.props.callContainer),(0,l.default)(e,"__offlineForm",E.default.mobile()&&this.props.offlineForm),e)],popupContent:[{popupContent:!0},t],textBlock:[{textBlock:!0,__call:a}],text:[{text:!0},(0,r.default)(t,E.default.ios()?{lineHeight:w.default.getLineHeight(1.5)}:{})],title:[{title:!0,__hidden:!a},(0,r.default)(t,E.default.ios()?{lineHeight:w.default.getLineHeight(1.4)}:{})],formText:[{formText:!0},(0,r.default)(t,E.default.ios()?{lineHeight:w.default.getLineHeight(1.375)}:{})],checkbox:[{checkbox:!0,_checked:this.state.checked}],error:[{error:!0},{display:this.state.error?"block":"none"}]},style:k.default,data:{isCallText:a}}}},{key:"renderText",value:function(){return m.default.createElement("jdiv",{className:k.default.scrollText},this.renderAgreement(),this.renderLink())}},{key:"renderData",value:function(e,t){var a,n=this;return C.default.eula?m.default.createElement("jdiv",t.wrap,m.default.createElement("jdiv",t.popupContent,m.default.createElement("jdiv",t.text,m.default.createElement("jdiv",(0,o.default)({},t.title,{dangerouslySetInnerHTML:{__html:this.state.text},ref:function(e){n._callRef=e}})),m.default.createElement("jdiv",(0,o.default)({},t.formText,{ref:function(e){n._titleRef=e}}),m.default.createElement("jdiv",{className:k.default.popupCheckbox},m.default.createElement("jdiv",(0,o.default)({},t.checkbox,{onClick:(0,u.default)(a=this.submitCheckbox).call(a,this)}))),this.state.customTitle),m.default.createElement("jdiv",(0,o.default)({},t.textBlock,{ref:function(e){n._textRef=e}}),E.default.mobileOrTablet()?this.renderText():m.default.createElement(T.default,{position:"relative",railClass:k.default.rail},this.renderText())))),this.renderCancel()):null}}]),a}(g.default);t.default=j},95512:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(54103)),r=n(a(87672)),l=n(a(81643)),u=n(a(33032)),s=n(a(26394)),c=n(a(69198)),d=n(a(51379)),f=n(a(214)),h=n(a(66380)),p=n(a(59748)),m=n(a(60021)),g=n(a(62107)),v=n(a(62904)),_=n(a(47321)),y=n(a(62652)),b=n(a(36216)),E=n(a(99357)),w=n(a(18228)),C=a(17674),T=a(85442),k=n(a(40387)),S=n(a(64063)),I=n(a(75043)),x=n(a(27816));function A(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,h.default)(e);if(t){var o=(0,h.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}var M=I.default.name("EvaluationPopup"),R=function(e){(0,d.default)(a,e);var t=A(a);function a(e){var n;return(0,s.default)(this,a),(n=t.call(this,e)).state={step:"rate",fadeIn:!1},n.hideDelay=null,n}return(0,c.default)(a,[{key:"shouldComponentUpdate",value:function(e,t){return!(0,S.default)(e,this.props)||!(0,S.default)(t,this.state)}},{key:"componentDidMount",value:function(){var e=this;this.checkEvaulation();var t=b.default.evaluate;this.on(b.default,(function(){t!==b.default.evaluate&&e.checkEvaulation(),t=b.default.evaluate})),C.Router.on("route_change",(function(t){t==T.Route.CHAT_EVAL&&e.checkEvaulation()})),E.default.on("update",g.default.debounce((function(){e.checkEvaulation()}),300)),w.default.on("socket_message",(function(t){"resume_ok"===t.name&&e.checkEvaulation()}))}},{key:"cancel",value:function(){this.hideDelay&&clearTimeout(this.hideDelay)}},{key:"cancelRate",value:function(e){M.log("cancelRate"),this.hide(e),this.hideDelay=(0,u.default)((function(){C.Router.next(T.RouterEvent.Cancel)}),300)}},{key:"hide",value:function(e,t,a){var n=this;M.log("hide",t,a),e instanceof Event&&(e.preventDefault(),t=1),_.default.markEvaluated(),a&&(this.hideDelay=(0,u.default)((function(){M.log("HIDE CALLBACK",n.hideDelay),n.setState({fadeIn:!1},(function(){C.Router.next(T.RouterEvent.Submit,{from:T.Route.CHAT_EVAL})}))}),t))}},{key:"checkMessageCount",value:function(){var e=E.default.getChatId(),t=E.default.getCurrentClientMessages(),a=!!t.length&&t[t.length-1],n=E.default.getChatMessages(e).length>=5&&E.default.getAgentChatMessages(e).length>0;return y.default.chat_started&&e&&n&&a&&a.get("chat_id")}},{key:"checkEvaulation",value:function(){var e=this.checkMessageCount(),t={};e||(this.hideDelay=null),v.default.show_rate_form&&e&&!b.default.evaluate&&y.default.chat_started?(M.log("Show evaluation dialog."),t.fadeIn=!0):this.hideDelay||(t.fadeIn=!1),b.default.evaluate||-1===(0,l.default)(g.default).call(g.default,["positive","negative"],this.state.step)||(t.step=""),this.setState(t)}},{key:"rate",value:function(e,t,a,n){e.preventDefault(),"cancel"==t&&(t="rate",this.cancel()),this.setState({step:t}),n&&this.hide(null,n,!0),_.default.sendEvaluation(a)}},{key:"getRenderData",value:function(){var e,t=v.default.bubble_color||"green";return{styles:{main:[(e={main:!0},(0,r.default)(e,"_"+t,!1),(0,r.default)(e,"__fadeIn",this.state.fadeIn),e)]},style:x.default}}},{key:"renderData",value:function(e,t){var a,n;return p.default.createElement("jdiv",t.main,p.default.createElement(k.default,{step:this.state.step,onRate:(0,o.default)(a=this.rate).call(a,this),onCancel:(0,o.default)(n=this.cancelRate).call(n,this)}))}}]),a}(m.default);t.default=R},40387:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=t.Rate=void 0;var i=n(a(59748)),o=n(a(45697)),r=n(a(75119)),l=n(a(77244)),u=n(a(58165)),s=n(a(75043)),c=n(a(27816)),d=(s.default.name("Rate"),function(e){var t=e.step,a=e.onRate,n=e.onCancel,o=function(e,t,n,i){a(e,t,n,i)};return i.default.createElement(i.default.Fragment,null,function(e){switch(e){case"negative":return i.default.createElement("jdiv",{className:c.default.cancelBox},i.default.createElement("jdiv",{className:c.default.cancel,onClick:function(e){o(e,"cancel",0,null)}},(0,r.default)("lblEvaluateCancel")));case"positive":return i.default.createElement("jdiv",{className:c.default.positiveBox},(0,r.default)("lblEvaluateThanks"),i.default.createElement(l.default,{type:"img",icon:"1f389",className:"iconSuccess"}));case"rate":default:return i.default.createElement(i.default.Fragment,null,i.default.createElement("jdiv",{className:c.default.text},(0,r.default)("lblEvaluatePlease")),i.default.createElement("jdiv",{className:c.default.buttonsBox},i.default.createElement("jdiv",{className:c.default.button,onClick:function(e){o(e,"positive",1,5e3)}},i.default.createElement(u.default,{iconName:"rating-positive",color:"#afa9a9",hoverColor:"#12a730",className:c.default.iconUp})),i.default.createElement("jdiv",{className:c.default.button,onClick:function(e){o(e,"negative",-1,15e3)}},i.default.createElement(u.default,{iconName:"rating-negative",color:"#afa9a9",hoverColor:"#ff4642",className:c.default.iconDown}))),i.default.createElement("jdiv",{className:c.default.close,onClick:function(e){e.stopPropagation(),n(e)}},i.default.createElement(u.default,{className:c.default.closeIcon,iconName:"icon-popup-close",color:"#959BA0",hoverColor:"#222D38"})))}}(t))});t.Rate=d,d.propTypes={step:o.default.string.isRequired,onRate:o.default.func,onCancel:o.default.func};var f=i.default.memo(d);t.default=f},32832:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(54103)),l=n(a(26394)),u=n(a(69198)),s=n(a(51379)),c=n(a(214)),d=n(a(66380)),f=n(a(2991)),h=n(a(59748)),p=n(a(60021)),m=n(a(34777)),g=n(a(75119)),v=a(56602),_=n(a(99357)),y=n(a(62652)),b=a(17674),E=a(85442),w=n(a(44992)),C=a(75245),T=n(a(75043)),k=n(a(70692)),S=a(33367),I=a(63242),x=n(a(58165)),A=a(81189),M=n(a(34935));function R(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var N=T.default.name("FileUpload"),O=(0,f.default)(M.default).call(M.default,(function(e){return"."+e.extension})).join(","),D=function(e){(0,s.default)(a,e);var t=R(a);function a(e){var n;return(0,l.default)(this,a),(n=t.call(this,e)).state={uploading:!1},n._privateId=null,n}return(0,u.default)(a,[{key:"componentDidMount",value:function(){var e,t=this;N.log("did mount"),this.on(m.default,{uploading:function(e){if(!t._privateId||!t.state.uploading){var a=(0,v.generateGUID)();A.messagesDispatchers.addMessage({type:"media",from:"client",body:{icon_type:(0,v.detectType)(e.type),name:e.name,size:e.size,type:e.type},private_id:a}),y.default.is_online||y.default.chat_started||(y.default.chat_started=!0),t._privateId=a,t.setState({uploading:!0})}},error:function(e,a,n){N.log("error",e,a);var i=t.getUploadMessage(t._privateId);i&&(N.log("currentMsg",i),i.set("body",{error:e,name:a.name,type:a.type,size:a.size}),t._privateId=null,t.setState({uploading:!1}),t.restoreInput())},complete:function(e,a){N.log("complete",e,a);var n={file:a,file_name:e.name,file_size:e.size,type:(0,v.detectType)(e.type),mime_type:e.type,thumb:e.imagePreview};"photo"===n.type&&(n.width=e.width,n.height=e.height),C.messageActions.storeMediaFile(n,t._privateId);var i=(0,v.getUrlEmoji)(e.type,a);C.messageActions.sendClientMessage(i),t.setState({uploading:!1}),t._privateId=null,w.default.play("outgoing_message"),S.Monitoring.telemetry(I.TelemetryName.FILE_UPLOAD_SUCCESS,{param1:e.type})},abort:function(){var e=t.getUploadMessage(t._privateId);e&&e.set("body.error",(0,g.default)("file_upl_cancel")),t.setState({uploading:!1}),t._privateId=null,t.restoreInput(),S.Monitoring.telemetry(I.TelemetryName.FILE_UPLOAD_CANCELED)}}),this._fileInput.onchange=(0,r.default)(e=this.handleChangeFile).call(e,this)}},{key:"restoreInput",value:function(){y.default.is_online||C.messageActions.setInputDisabled(!1)}},{key:"getUploadMessage",value:function(e){return _.default.getMessageByPrivateId(e)}},{key:"handleChangeFile",value:function(e){if(e.target.files){var t=e.target.files[0];N.log("fileinfo:",t),t&&(t&&t.name&&m.default.getFileInfo(e.target.files[0]),e.target.value="")}}},{key:"handleClick",value:function(e){!y.default.is_online&&this.props.disabled||b.Router.needToShowIntroduceForm()&&y.default.is_online&&(e.preventDefault(),e.stopPropagation(),b.Router.next(E.RouterEvent.ToIntroduce))}},{key:"getRenderData",value:function(){return{styles:{wrap:[{wrap:!0,__disabled:this.props.disabled}],uploadButton:[{uploadButton:!0,__uploading:this.state.uploading}],iconFile:[{iconFile:!0}]},style:k.default}}},{key:"renderData",value:function(e,t){var a,n=this;return h.default.createElement("jdiv",t.wrap,h.default.createElement(x.default,{iconName:"icon-attach",color:this.props.disabled?"#c9cdd3":"#a3aab5",className:k.default.iconAttach2}),h.default.createElement("jdiv",{className:k.default.uploadFwrap},h.default.createElement("input",(0,o.default)({type:"file",ref:function(e){n._fileInput=e},onClick:(0,r.default)(a=this.handleClick).call(a,this),disabled:this.props.disabled},t.uploadButton,{accept:O}))))}}]),a}(p.default);t.default=D},47396:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(63978)),o=n(a(20368)),r=n(a(39649)),l=n(a(78914)),u=n(a(34074)),s=n(a(14310)),c=n(a(86902)),d=n(a(1068)),f=n(a(5872)),h=n(a(2991)),p=n(a(23765)),m=n(a(81643)),g=n(a(20116)),v=n(a(77766)),_=n(a(25843)),y=n(a(33032)),b=n(a(87672)),E=n(a(54103)),w=n(a(26394)),C=n(a(69198)),T=n(a(5824)),k=n(a(51379)),S=n(a(214)),I=n(a(66380)),x=n(a(59748)),A=n(a(60021)),M=n(a(62904)),R=n(a(62652)),N=n(a(36216)),O=a(56602),D=a(17674),L=n(a(58061)),P=n(a(531)),j=n(a(62107)),B=n(a(10505)),F=n(a(94686)),H=n(a(75043)),W=n(a(22755)),U=a(33367),z=a(63242),G=a(70645),V=a(83093),q=a(23582),K=a(81189);function Y(e,t){var a=(0,c.default)(e);if(s.default){var n=(0,s.default)(e);t&&(n=(0,g.default)(n).call(n,(function(t){return(0,u.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function Z(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(a=Y(Object(n),!0)).call(a,(function(t){(0,b.default)(e,t,n[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(n));else{var s;(0,l.default)(s=Y(Object(n))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(n,t))}))}}return e}function J(e){var t=function(){if("undefined"==typeof Reflect||!d.default)return!1;if(d.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,d.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,I.default)(e);if(t){var i=(0,I.default)(this).constructor;a=(0,d.default)(n,arguments,i)}else a=n.apply(this,arguments);return(0,S.default)(this,a)}}var X=H.default.name("FormContainer"),$=function(e){(0,k.default)(a,e);var t=J(a);function a(e){var n,i;return(0,w.default)(this,a),(i=t.call(this,e)).successCallback=(0,E.default)(n=i.successCallback).call(n,(0,T.default)(i)),i._form=i.getInitForm(),X.log("init config",i._form),i._submited=!1,i}return(0,C.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=N.default.last_message,a=Z({},N.default.client_info);this.on(N.default,(function(){e._form.message.show&&t!==N.default.last_message&&(e._form.message.value=N.default.last_message?N.default.last_message:"",e.setState({form:e._form}),t=e._form.message.value),(0,P.default)(a,Z({},N.default.client_info))||(e._form=e.getInitForm(),e.setState({form:e._form})),a=Z({},N.default.client_info)})),L.default.mobileOrTablet()||L.default.ie()||D.Router.on("route_change",(function(){(0,y.default)((function(){if(R.default.is_focused&&D.Router.isFormRoute()&&e.base&&e.base.querySelector){var t=e.base.querySelector("input, textarea");t&&t.focus&&t.focus()}}),500)}))}},{key:"getInitForm",value:function(){var e=N.default.client_info||{},t=q.FeatureManager.isEnabled(q.Feature.OLD_CAPTCHA)&&!N.default.client_id;return{message:{name:"message",value:N.default.last_message?N.default.last_message:"",error:!1,required:"chat"!=this.props.type,show:"chat"!=this.props.type},client_name:{name:"client_name",value:e.client_name?e.client_name:"",error:!1,required:M.default.contacts_settings.name&&M.default.contacts_settings.name.required,show:M.default.contacts_settings.name&&M.default.contacts_settings.name.show},email:{name:"email",value:e.email?e.email:"",error:!1,required:M.default.contacts_settings.email&&M.default.contacts_settings.email.required,show:M.default.contacts_settings.email&&M.default.contacts_settings.email.show},phone:{name:"phone",value:e.phone?e.phone:"",error:!1,required:M.default.contacts_settings.phone&&M.default.contacts_settings.phone.required,show:M.default.contacts_settings.phone&&M.default.contacts_settings.phone.show},captcha:{name:"captcha",value:"",error:!1,required:t,show:t}}}},{key:"successCallback",value:function(e,t){var a=this.getData();X.log("SUBMIT CALLBACK",a),j.default.each(this.getData(),(function(e){var t,n="string"==typeof e.value?(0,_.default)(t=e.value).call(t):e.value;a[e.name].value=n||null}));var n=this.isValid(a);if(this._submited=!0,this._form=n.data,n.error){if(X.log("FORM NOT VALID"),this.props.errorCallback(n.data),this.setState({form:n.data}),this.isIntroduceForm()||!R.default.is_online){X.log("checkData",n);var i=[],o={name:0,phone:1,email:2};R.default.is_online||(o.message=3),j.default.each(n.data,(function(e){if(e.error){var t,a,n=e.required?"*":"",r="client_name"==e.name?"name":e.name;i[o[r]]=(0,v.default)(t=(0,v.default)(a="".concat(r)).call(a,n,":")).call(t,e.value)}}));var r=R.default.is_online?z.TelemetryName.CHAT_INTRODUCE:z.TelemetryName.OFFLINE_SENT_FAIL;U.Monitoring.telemetry(r,{param1:"formSubmitFail",param2:(0,O.getContactSettingsInfo)(),param3:(0,g.default)(i).call(i,(function(e){return e})).join(";")})}}else X.log("FORM VALID"),this.isIntroduceForm()&&U.Monitoring.telemetry(z.TelemetryName.CHAT_INTRODUCE,{param1:"formSubmit",param2:(0,O.getContactSettingsInfo)(),param3:t}),K.clientDispatchers.setLastMessage(n.data.message.value||null),this.props.successCallback(n.data)}},{key:"isIntroduceForm",value:function(){var e;return!N.default.is_introduced&&-1!==(0,m.default)(e=[0,-1]).call(e,M.default.contacts_ask)&&R.default.is_online}},{key:"isAnyNotEmpty",value:function(e){var t=this,a=!1;return j.default.each(e,(function(e){!("chat"==t.props.type&&"message"==e.name)&&e.value&&(a=!0)})),a}},{key:"isValid",value:function(){var e=this,t=!1,a=this.getData();return 1===M.default.contacts_ask||this.isAnyNotEmpty(a)||(0,O.isAnyRequired)()?(j.default.each(a,(function(e){e.show&&e.required&&!e.value&&(a[e.name].error=!0),e.required||e.value||(a[e.name].error=!1),e.show&&a[e.name].error&&(t=!0),X.log("item validation:",e)})),{data:a,error:t}):(j.default.each(a,(function(t){"chat"==e.props.type&&"message"==t.name||(a[t.name].error=!0)})),{data:a,error:!0})}},{key:"errorCallback",value:function(){X.log("ERROR CALLBACK")}},{key:"resetForm",value:function(){}},{key:"getData",value:function(){return this._form}},{key:"setError",value:function(e,t){if(e)return this._form[e].error=t}},{key:"getError",value:function(e){if(e)return this._form[e].error}},{key:"getValue",value:function(e){if(e)return this._form[e].value}},{key:"handleData",value:function(e,t){var a=t.target;if(X.log("handleData",e,a.value,(0,p.default)(a.value)),a){var n=a.value;if("email"==e)try{n=B.default.toUnicode(n)}catch(e){}var i=!F.default[e](n)||!n;a.required||a.value||(i=!1),this._form[e]=j.default.extend(this._form[e],{value:n,error:i})}}},{key:"checkValue",value:function(e){var t=this.getValue(e);return!(!t||!F.default[e](t))}},{key:"getRenderData",value:function(){return{styles:{main:[{main:!0}]},style:W.default}}},{key:"renderData",value:function(e,t){var a,n=this,i=(0,h.default)(a=x.default.Children).call(a,this.props.children,(function(e){var t,a,i={};if(!e)return null;if(e.props&&e.props.name){var o,r=e.props.name;i={handleChange:(0,E.default)(o=n.handleData).call(o,n),error:n.getError(r),value:n.getValue(r),color:M.default.bubble_color||"green",submited:n._submited}}e.props&&e.props.type&&(i={successCallback:(0,E.default)(t=n.successCallback).call(t,n),errorCallback:(0,E.default)(a=n.errorCallback).call(a,n)});return x.default.cloneElement(e,i)})),o=D.Router.isFormRoute()?"form":"jdiv";return x.default.createElement("jdiv",t.main,x.default.createElement(o,(0,f.default)({ref:function(e){n._formRef=e},autocomplete:"on",onSubmit:function(e){e.preventDefault()}},(0,G.withLocator)(V.Locator.CONTACTS_FORM)),i))}}]),a}(A.default);t.default=$},39880:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(54103)),l=n(a(33032)),u=n(a(78914)),s=n(a(97093)),c=n(a(81643)),d=n(a(26394)),f=n(a(69198)),h=n(a(51379)),p=n(a(214)),m=n(a(66380)),g=n(a(62107)),v=n(a(59748)),_=n(a(60021)),y=n(a(47321)),b=n(a(36216)),E=n(a(62652)),w=n(a(69961)),C=n(a(62904)),T=n(a(58061)),k=n(a(75119)),S=n(a(86999)),I=n(a(16810)),x=n(a(53897)),A=n(a(99357)),M=n(a(8282)),R=n(a(58165)),N=n(a(30769)),O=a(17674),D=a(85442),L=a(37916),P=a(81426),j=a(33367),B=a(63242),F=a(56602),H=n(a(80743)),W=a(24335),U=a(70645),z=a(83093);function G(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,m.default)(e);if(t){var o=(0,m.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,p.default)(this,a)}}var V=n(a(75043)).default.name("Header"),q=function(e){(0,h.default)(a,e);var t=G(a);function a(e){var n,i;return(0,d.default)(this,a),(i=t.call(this,e)).state={},i.agent={},i.state=i.getState(),i.state.fadeState="fade-in",i.state.expanded=-1!==(0,c.default)(n=O.Router.getCurrentRoute()||E.default.route).call(n,"/min"),i._firstAnim=!0,i}return(0,f.default)(a,[{key:"getState",value:function(){var e,t=a===D.Route.CALL,a=O.Router.getCurrentRoute()||E.default.route,n=L.CallbackUtils.isCallbackEnabled()&&a!==D.Route.DEPARTMENTS,i=null;T.default.mobileOrTablet()&&!n&&C.default.power_button_phone&&(n=!0);var o,r=M.default.getAgentsByStatus("join");(1==r.length&&(this.agent=r[0].toJSON()),r.length||!w.default.agent_id&&!w.default.bot_id||(this.agent=w.default,w.default.bot_id?this.agent.agent_id=0:this.agent.bot_id=0),T.default.mobileOrTablet())||(n=n&&-1===(0,c.default)(o=["cw_wait","cw_connecting","cw_connected"]).call(o,b.default.cw_call.status));if(E.default.is_online){var l,u="cw_connected"===b.default.cw_call.status;if(a!==D.Route.DEPARTMENTS||u||r.length||E.default.chat_started||b.default.department_id)if(a===D.Route.INTRODUCE&&!u||a===D.Route.CHAT_EULA&&O.Router.getPrevRoute()===D.Route.INTRODUCE)e=(0,k.default)("lblIntroduceRequestBefore"),l="",n=!1;else if(-1!==(0,c.default)(g.default).call(g.default,["preview","editor"],(0,F.isWixContext)())&&(C.default.wix_agent_display_name||C.default.wix_agent_title))e=C.default.wix_agent_display_name||(0,k.default)("lblConnectedToAgent"),l=C.default.wix_agent_title||(0,k.default)("lblOperatorsOnline");else if(r.length>1)e=this.getTitle(),l="",i=(0,s.default)(r).call(r);else{var d=this.agent.agent_id||this.agent.bot_id;e=d?this.agent.display_name:(0,k.default)("lblConnectedToAgent"),l=d?this.agent.title:(0,k.default)("lblOperatorsOnline")}else e=(0,k.default)("lblSelectDep"),l="";return{head:e,hide:t,subhead:l,callMe:n,connected:u,chat_started:E.default.chat_started,expanded:-1!==(0,c.default)(a).call(a,"/min"),avatars:i}}return e=C.default.offline_form_title||C.default.offline_widget_label,"offline/success"===a&&(e=(0,k.default)("lblOfflineMessageSend")),{head:e,hide:t,subhead:!1,expanded:!1,callMe:n}}},{key:"getTitle",value:function(){var e=M.default.getAgentsByStatus("join"),t=[];return(0,u.default)(e).call(e,(function(e){t.push(e.get("display_name").replace(/ /g," "))})),t.join(", ")}},{key:"processState",value:function(){var e,t=this,a=this.getState(),n=!1;(a.head!==this.state.head||a.subhead!==this.state.subhead||a.expanded!==this.state.expanded&&-1===(0,c.default)(e=[D.Route.CHAT_MIN,D.Route.INTRODUCE]).call(e,O.Router.getCurrentRoute()))&&(n=!0),W.isDesignerEditor&&!this._firstAnim&&(n=!1),n?(this.setState({fadeState:"fade-out"}),(0,l.default)((function(){t.setState({fadeState:""}),(0,l.default)((function(){var e=t.getState();e.fadeState="fade-in",t.setState(e),t._firstAnim=!1}),100)}),150)):this.setState(this.getState())}},{key:"componentDidMount",value:function(){var e;V.log("mounted");var t=g.default.debounce((0,r.default)(e=this.processState).call(e,this),50);O.Router.on("route_change",t),this.on(b.default,t),this.on(w.default,t),M.default.on("create",t),M.default.on("update",t),A.default.on("create",t)}},{key:"componentWillUnmount",value:function(){this.off()}},{key:"headerClick",value:function(e){var t=O.Router.getCurrentRoute();if(V.log("headerClick",t),e&&e.stopPropagation(),C.default.chat_mode===P.ChatMode.OFFLINE&&t===D.Route.CHAT_CALL||!this.state.expanded||t===D.Route.CHAT)return V.log("Ignore click"),void O.Router.next(D.RouterEvent.ToDebug);E.default.is_focused=1,this.setState({expanded:!1}),O.Router.next(D.RouterEvent.Navigate)}},{key:"closeMobile",value:function(e){e.preventDefault(),e.stopPropagation(),y.default.closeWidget(),j.Monitoring.telemetry(B.TelemetryName.MOBILE_CHAT_CLOSE)}},{key:"renderCallIcon",value:function(e){return T.default.mobileOrTablet()?v.default.createElement(R.default,{color:e.isDarkText?"#272433":"#fff",iconName:"icon-tube",className:N.default.callIcon}):v.default.createElement("jdiv",{className:N.default.callIcon})}},{key:"navigateCall",value:function(e){e.stopPropagation(),!b.default.cw_call_enabled&&C.default.power_button_phone&&T.default.mobileOrTablet()?(0,F.getPageWindow)().document.location.href="tel:"+C.default.power_button_phone:O.Router.next(D.RouterEvent.ToCall)}},{key:"getRenderData",value:function(){var e={},t=C.default.power_button_color||"#44BB6E";C.default.power_gradient&&(t=E.default.widget_color);var a="dark"===E.default.widget_font_color,n={display:this.state.hide?"none":"block"};T.default.mobile()||(e=this.state.callMe?"77%":"97%",this.state.avatars||this.agent.agent_id||(e=this.state.callMe?"80%":"97%"));var i=S.default.getGradientBg(E.default.widget_color,E.default.widget_color2);T.default.mobileOrTablet()?(C.default.power_gradient&&(t=i),n={background:t}):n={background:i};var o=this.state.avatars&&this.state.avatars.length>1||"introduce"===O.Router.getCurrentRoute();return{styles:{header:[{header:!0,_expanded:this.state.expanded,_light:!a,_dark:a,_mobile:T.default.mobileOrTablet(),__ios:T.default.safari(),_tablet:T.default.tablet(),_offline:!E.default.is_online,_callEnabled:this.state.callMe,_fadeOut:"label"===O.Router.getCurrentRoute()&&!this.props.fadeState}],headerContainer:[{headerContainer:!0,"_fade-out":"fade-out"===this.state.fadeState,"_fade-in":"fade-in"===this.state.fadeState}],headerBox:[{headerBox:!0,hideCorners:O.Router.getCurrentRoute()===D.Route.LABEL&&"left"===C.default.widget_orientation,__mobile:T.default.mobileOrTablet()},n],pattern:[{pattern:C.default.pattern,visibilityHack:O.Router.getCurrentRoute()===D.Route.LABEL&&"left"===C.default.widget_orientation},{backgroundImage:C.default.pattern?(0,F.cdnPatternUrl)():null}],callMe:[{callMe:!0},{display:this.state.callMe?"block":"none"}],agentName:[{agentName:!0,__url:o},{width:e}]},style:N.default,data:{isDarkText:a,leafColor:E.default.widget_color2||E.default.widget_color}}}},{key:"renderInfo",value:function(e,t){return v.default.createElement("jdiv",(0,o.default)({className:N.default.info},(0,U.withLocator)(z.Locator.HEADER_TEXT)),this.state.head&&v.default.createElement("jdiv",(0,o.default)({},t.agentName,(0,U.withLocator)(z.Locator.HEADER_AGENT_NAME)),this.state.head),this.state.subhead&&v.default.createElement("jdiv",(0,o.default)({className:N.default.title},(0,U.withLocator)(z.Locator.HEADER_AGENT_POSITION)),this.state.subhead))}},{key:"renderCallButton",value:function(e,t){var a;return v.default.createElement("jdiv",(0,o.default)({},t.callMe,{onClick:(0,r.default)(a=this.navigateCall).call(a,this)},(0,U.withLocator)(z.Locator.HEADER_CALLBACK_BUTTON)),this.renderCallIcon(e))}},{key:"renderData",value:function(e,t){var a,n;return v.default.createElement("jdiv",(0,o.default)({},t.headerBox,(0,U.withLocator)(z.Locator.HEADER)),v.default.createElement("jdiv",t.pattern,v.default.createElement(x.default,(0,o.default)({onClick:function(){O.Router.next(D.RouterEvent.ToDebug)},orientation:"bottom",backgroundColor:e.leafColor,online:E.default.is_online},(0,U.withLocator)(z.Locator.HEADER_LEAF))),v.default.createElement("jdiv",(0,o.default)({className:t.headerClass},t.header,{onClick:(0,r.default)(a=this.headerClick).call(a,this)}),v.default.createElement("jdiv",t.headerContainer,!O.Router.isHideAvatarRoute()&&E.default.is_online&&this.agent.bot_id?v.default.createElement(H.default,{isHeader:!0,url:this.agent.avatar_url?this.agent.avatar_url:null}):v.default.createElement(I.default,(0,o.default)({isLightBg:e.isDarkText,avatars:this.state.avatars,connected:this.state.connected},(0,U.withLocator)(z.Locator.HEADER_AGENT_AVATAR))),this.renderInfo(e,t)),this.renderCallButton(e,t),T.default.mobileOrTablet()?v.default.createElement("jdiv",{className:N.default.closeBox,onTouchStart:(0,r.default)(n=this.closeMobile).call(n,this)},v.default.createElement(R.default,{color:e.isDarkText?"#272433":"#fff",iconName:"icon-close",className:N.default.mobileBack})):null)))}}]),a}(_.default);t.default=q},10803:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(59748)),o=a(26213),r=n(a(45697)),l=n(a(28593)),u=(n(a(31722)),a(53406)),s=a(47804),c=n(a(58061)),d=function(e){var t=e.isOnline,a=e.pattern,n=e.color,o=e.color2,r=e.powerGradient,d=e.powerButtonColor,f=e.powerButtonPhone,h=e.avatarUrl,p=e.widgetFontColor,m=e.wixAgentDisplayName,g=e.wixAgentTitle,v=e.offlineWidgetLabel,_=e.offlineFormTitle,y=e.route,b=e.joinedAgents,E=e.joinedBots,w=e.agents,C=e.bots,T=e.showHeaderText,k=(0,u.getTexts)(t,m,g,v,_,b,w,E,C),S=k.mainText,I=k.subText;return i.default.createElement(l.default,{avatars:(0,u.getAvatars)(h,b,w,E,C),backButton:!c.default.desktop(),background:(0,u.getBackground)(n,o,r,d),callButton:(0,u.getCallButton)(f),clickable:(0,u.getClickable)(y),darkText:(0,u.getDarkText)(p),inCall:(0,u.getInCall)(),isIos:c.default.ios(),isTablet:c.default.tablet(),leaf:c.default.desktop(),leafBackground:o||n,mainText:S,online:t,pattern:(0,u.getPatternUrl)(a),subText:I,onCallClick:s.onCallClick,onCloseClick:s.onCloseClick,onHeaderClick:s.onHeaderClick,onLeafClick:s.onLeafClick,showHeaderText:T})};d.propTypes={isOnline:r.default.bool,pattern:r.default.number,color:r.default.string,color2:r.default.string,powerButtonColor:r.default.string,powerGradient:r.default.bool,powerButtonPhone:r.default.string,avatarUrl:r.default.string,widgetFontColor:r.default.string,wixAgentDisplayName:r.default.string,wixAgentTitle:r.default.string,offlineWidgetLabel:r.default.string,offlineFormTitle:r.default.string,route:r.default.string,joinedAgents:r.default.arrayOf(r.default.number),joinedBots:r.default.arrayOf(r.default.number),agents:r.default.any,bots:r.default.any,showHeaderText:r.default.bool};var f=(0,o.connect)((function(e){var t=e.chats[e.chats.length?e.chats.length-1:0],a=t&&t.joinedAgents?t.joinedAgents:[],n=t&&t.joinedBots?t.joinedBots:[];return{isOnline:e.app.isOnline,pattern:e.settings.user.pattern,color:e.settings.user.widgetColor,color2:e.settings.user.widgetColor2,powerButtonColor:e.settings.user.powerButtonColor,powerGradient:e.settings.user.powerGradient,powerButtonPhone:e.settings.user.powerButtonPhone,avatarUrl:e.settings.system.avatarUrl,widgetFontColor:e.settings.user.widgetFontColor,wixAgentDisplayName:e.settings.user.wixAgentDisplayName,wixAgentTitle:e.settings.user.wixAgentTitle,offlineWidgetLabel:e.settings.user.offlineWidgetLabel,offlineFormTitle:e.settings.user.offlineFormTitle,route:e.app.route,joinedAgents:a,joinedBots:n,agents:e.agents,bots:e.bots}}),{})(d);t.default=f},28593:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(87672)),o=n(a(2991)),r=n(a(5872)),l=n(a(59748)),u=n(a(8126)),s=n(a(94184)),c=n(a(45697)),d=n(a(53897)),f=n(a(91858)),h=n(a(80740)),p=n(a(58165)),m=a(70645),g=a(83093),v=function(e){var t,a,n,c,v=e.avatars,_=void 0===v?[]:v,y=e.backButton,b=void 0!==y&&y,E=e.background,w=void 0===E?"#44BB6E":E,C=e.callButton,T=void 0!==C&&C,k=e.clickable,S=void 0!==k&&k,I=e.darkText,x=void 0===I||I,A=e.inCall,M=void 0!==A&&A,R=e.isIos,N=void 0!==R&&R,O=e.isTablet,D=void 0!==O&&O,L=e.leaf,P=void 0===L||L,j=e.leafBackground,B=void 0===j?"#44BB6E":j,F=e.mainText,H=void 0===F?"":F,W=e.onCallClick,U=e.onCloseClick,z=e.onHeaderClick,G=e.onLeafClick,V=e.online,q=void 0===V||V,K=e.pattern,Y=void 0!==K&&K,Z=e.subText,J=void 0===Z?"":Z,X=e.showHeaderText,$=(0,s.default)((t={},(0,i.default)(t,u.default.headerBox,!0),(0,i.default)(t,u.default.hideCorners,!1),(0,i.default)(t,u.default.__mobile,!P),t)),Q=(0,s.default)((a={},(0,i.default)(a,u.default.header,!0),(0,i.default)(a,u.default._expanded,S),(0,i.default)(a,u.default._light,!x),(0,i.default)(a,u.default._dark,x),(0,i.default)(a,u.default._mobile,!P),(0,i.default)(a,u.default.__ios,N),(0,i.default)(a,u.default._tablet,D),(0,i.default)(a,u.default._offline,!q),(0,i.default)(a,u.default._callEnabled,T),(0,i.default)(a,u.default.showContent,X),a));return l.default.createElement("jdiv",(0,r.default)({className:$,style:{background:w}},(0,m.withLocator)(g.Locator.HEADER)),l.default.createElement("jdiv",{className:(0,s.default)((0,i.default)({},u.default.pattern,Y)),style:{backgroundImage:Y||null}},P?l.default.createElement(d.default,(0,r.default)({onClick:G,orientation:"bottom",backgroundColor:B,online:q},(0,m.withLocator)(g.Locator.HEADER_LEAF))):null,l.default.createElement("jdiv",{className:Q,onClick:z},l.default.createElement("jdiv",{className:u.default.headerContainer},function(){if(!q||0===_.length||_.length>3)return null;if(1===_.length){var e=_[0].url||null;return l.default.createElement(f.default,(0,r.default)({dark:x,expanded:S,isMobile:!P,inCall:M,url:e},(0,m.withLocator)(g.Locator.HEADER_AGENT_AVATAR)))}var t=(0,o.default)(_).call(_,(function(e){return e.url}));return l.default.createElement(h.default,(0,r.default)({bgColor:w,urls:t,dark:x,expanded:S,inCall:M,isMobile:!P,isTablet:D},(0,m.withLocator)(g.Locator.HEADER_AGENT_AVATAR)))}(),l.default.createElement("jdiv",(0,r.default)({className:u.default.info},(0,m.withLocator)(g.Locator.HEADER_TEXT)),(c=(0,s.default)((n={},(0,i.default)(n,u.default.agentName,!0),(0,i.default)(n,u.default.__agents,!J),(0,i.default)(n,u.default.__call,T),n)),l.default.createElement("jdiv",(0,r.default)({className:c},(0,m.withLocator)(g.Locator.HEADER_AGENT_NAME)),H)),J?l.default.createElement("jdiv",(0,r.default)({className:u.default.title},(0,m.withLocator)(g.Locator.HEADER_AGENT_POSITION)),J):null)),T?l.default.createElement("jdiv",(0,r.default)({className:u.default.callMe,onClick:W},(0,m.withLocator)(g.Locator.HEADER_CALLBACK_BUTTON)),P?l.default.createElement("jdiv",{className:u.default.callIcon}):l.default.createElement(p.default,{color:x?"#272433":"#fff",iconName:"icon-tube",className:u.default.callIcon})):null,P||!b?null:l.default.createElement("jdiv",{className:u.default.closeBox,onTouchStart:U},l.default.createElement(p.default,{color:x?"#272433":"#fff",iconName:"icon-close",className:u.default.mobileBack})))))};v.propTypes={avatars:c.default.arrayOf(c.default.any),backButton:c.default.bool,background:c.default.string,callButton:c.default.bool,clickable:c.default.bool,darkText:c.default.bool,inCall:c.default.bool,isIos:c.default.bool,isTablet:c.default.bool,leaf:c.default.bool,leafBackground:c.default.string,mainText:c.default.string,onCallClick:c.default.func,onCloseClick:c.default.func,onHeaderClick:c.default.func,onLeafClick:c.default.func,online:c.default.bool,pattern:c.default.string,subText:c.default.string,showHeaderText:c.default.bool};var _=l.default.memo(v);t.default=_},47804:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.onLeafClick=t.onHeaderClick=t.onCloseClick=t.onCallClick=void 0;var i=a(17674),o=a(85442),r=a(81189),l=a(53172),u=a(33367),s=a(63242),c=a(56602),d=n(a(47321)),f=n(a(58061)),h=n(a(75043)),p=a(42796),m=h.default.name("HeaderContainer");t.onCallClick=function(e){e.stopPropagation();var t=i.Router.getCurrentRoute();!(0,l.getCallback)().available&&(0,l.getUserSettings)().powerButtonPhone&&f.default.mobileOrTablet()?(0,c.getPageWindow)().document.location.href="tel:"+(0,l.getUserSettings)().powerButtonPhone:i.Router.next(o.RouterEvent.ToCall),t===o.Route.CHAT_MIN&&r.transitionDispatchers.startTransition(p.ScriptName.MAXIMIZE_WIDGET)};t.onCloseClick=function(e){e.preventDefault(),e.stopPropagation(),d.default.closeWidget(),i.Router.next(o.RouterEvent.CloseWindow),u.Monitoring.telemetry(s.TelemetryName.MOBILE_CHAT_CLOSE)};t.onHeaderClick=function(e){var t=i.Router.getCurrentRoute();if(m.log("headerClick",t),e&&e.stopPropagation(),!(0,l.getApp)().isOnline&&t===o.Route.CHAT_CALL||!i.Router.isMinRoute()||t===o.Route.CHAT)return m.log("Ignore header click"),void i.Router.next(o.RouterEvent.ToDebug);r.appDispatchers.setAppIsFocused(1),i.Router.next(o.RouterEvent.Navigate),t===o.Route.CHAT_MIN&&r.transitionDispatchers.startTransition(p.ScriptName.MAXIMIZE_WIDGET)};t.onLeafClick=function(){i.Router.next(o.RouterEvent.ToDebug)}},53406:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.getClickable=t.getTexts=t.getInCall=t.getDarkText=t.getCallButton=t.getAvatars=t.getPatternUrl=t.getBackground=void 0;var i=n(a(81643)),o=n(a(77766)),r=n(a(94473)),l=n(a(78914)),u=n(a(2991)),s=a(56602),c=n(a(86999)),d=a(37916),f=n(a(58061)),h=a(17674),p=a(85442),m=n(a(75119)),g=n(a(10505)),v=a(94515),_=a(58165);t.getBackground=function(e,t,a,n,i){var o=c.default.getGradientBg(e,t);return i&&(o=y(a,n,o)),o};var y=function(e,t,a){return e?a:t||"#44BB6E"};t.getPatternUrl=function(e){return e?"url(".concat((0,s.staticUrl)((v.EnvironmentManager.isDevelopment()?"/public":"")+"/images/pattern/"+e+".svg",!0),")"):null};t.getAvatars=function(e,t,a,n,i){var o=b(t,a),r=b(n,i);return o.length||r.length?o.length?(0,u.default)(o).call(o,(function(t){return{url:t.avatarUrl?w(e,t.avatarUrl):null}})):(0,u.default)(r).call(r,(function(t){return{url:t.avatarUrl?w(e,t.avatarUrl):(0,_.getSvgBgIcon)("iconBot")}})):[]};var b=function(e,t){if(e.length>t.length)return[];var a=[];return(0,l.default)(e).call(e,(function(e){var n=E(e,t);n&&a.push(n)})),a},E=function(e,t){return(0,r.default)(t).call(t,(function(t){return t.id===e}))},w=function(e,t){var a,n;return(0,o.default)(a=(0,o.default)(n="".concat((0,s.getProtocol)())).call(n,e,"/avatars/")).call(a,t)};t.getCallButton=function(e){var t,a=-1!==(0,i.default)(t=[p.Route.DEPARTMENTS,p.Route.CHAT_EULA,p.Route.INTRODUCE]).call(t,h.Router.getCurrentRoute()),n=f.default.mobileOrTablet()&&e;return(d.CallbackUtils.isCallbackEnabled()||n)&&!d.CallbackUtils.isCallActive()&&!a};t.getDarkText=function(e){return"dark"===e};t.getInCall=function(){return d.CallbackUtils.isCallActive()};t.getTexts=function(e,t,a,n,i,o,r,u,c){if(!e)return{mainText:i||n,subText:""};var f=h.Router.getCurrentRoute();if(f===p.Route.DEPARTMENTS)return{mainText:(0,m.default)("lblSelectDep"),subText:""};if(f===p.Route.INTRODUCE&&!d.CallbackUtils.isCallActive()||f===p.Route.CHAT_EULA&&h.Router.getPrevRoute()===p.Route.INTRODUCE)return{mainText:(0,m.default)("lblIntroduceRequestBefore"),subText:""};if((0,s.isWixEditor)()&&(t||a))return{mainText:t||(0,m.default)("lblConnectedToAgent"),subText:a||(0,m.default)("lblOperatorsOnline")};var g=b(o,r),v=b(u,c);if(1===g.length)return{mainText:g[0].name,subText:g[0].title};if(g.length>3)return{mainText:C(),subText:""};if(g.length>1){var _=[];return(0,l.default)(g).call(g,(function(e){_.push(e.name.replace(/ /g," "))})),{mainText:_.join(", "),subText:""}}return v.length?{mainText:v[0].name,subText:v[0].title}:{mainText:(0,m.default)("lblConnectedToAgent"),subText:(0,m.default)("lblOperatorsOnline")}};var C=function(){var e=(0,s.getPageWindow)().location.hostname.replace("www.","");if(""===e)return(0,m.default)("lblOperatorsOnline");try{return g.default.toUnicode(e)}catch(t){return e}};t.getClickable=function(e){return e===p.Route.CHAT_MIN}},83126:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(81643)),r=n(a(5872)),l=n(a(26394)),u=n(a(69198)),s=n(a(51379)),c=n(a(214)),d=n(a(66380)),f=n(a(59748)),h=n(a(60021)),p=n(a(75119)),m=n(a(58165)),g=a(56602),v=n(a(62904)),_=n(a(86999)),y=n(a(62652)),b=a(17674),E=a(85442),w=n(a(6991)),C=n(a(90179)),T=a(33367),k=a(63242);function S(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var I=function(e){(0,s.default)(a,e);var t=S(a);function a(){return(0,l.default)(this,a),t.call(this)}return(0,u.default)(a,[{key:"renderIcon",value:function(e,t){return f.default.createElement(m.default,(0,r.default)({},t.iconStartChat,{color:e.isLightColor?"#fff":"#272433",iconName:"start-chat"}))}},{key:"renderStartChat",value:function(e,t){if(w.default.ifIMessageEnabled()){var a=w.default.getJoints();return f.default.createElement("a",{href:a.links.imUrl,target:"_blank",rel:"nofollow noopener noreferrer"},this.renderIcon(e,t))}return f.default.createElement("jdiv",{onTouchStart:function(e){e.preventDefault(),b.Router.next(E.RouterEvent.ToChat)}},this.renderIcon(e,t))}},{key:"getRenderData",value:function(){var e=(0,p.default)("service_from");if(-1!==(0,o.default)(e).call(e,"_ICON_")){var t=e.split("_ICON_");e=t[0],t[1]}var a=_.default.getGradientBg(y.default.widget_color,y.default.widget_color2),n=v.default.power_button_color||"#44BB6E",i=n;v.default.power_gradient&&(n=y.default.widget_color,i=a);var r=_.default.isLightColor(i);return{styles:{header:[{header:!0,__dark:r},{background:i}],backButton:[{backButton:!0}],title:[{title:!0}],logo:[{logo:!0}],iconStartChat:[{iconStartChat:!0}],pattern:[{pattern:!0},{backgroundImage:v.default.pattern?(0,g.cdnPatternUrl)():null}]},style:C.default,data:{isLightColor:!r}}}},{key:"renderData",value:function(e,t){return f.default.createElement("jdiv",(0,r.default)({},t.header,{onTouchStart:function(){b.Router.next(E.RouterEvent.ToDebug)}}),f.default.createElement("jdiv",t.pattern,f.default.createElement("jdiv",{onTouchStart:function(e){e.preventDefault(),b.Router.next(E.RouterEvent.CloseWindow),T.Monitoring.telemetry(k.TelemetryName.MOBILE_CLOSE_CALLBACK)}},f.default.createElement(m.default,(0,r.default)({iconName:"icon-back",color:e.isLightColor?"#fff":"#272433"},t.backButton))),this.renderStartChat(e,t),f.default.createElement("jdiv",t.title,(0,p.default)("cw_callHeader"))))}}]),a}(h.default);t.default=I},46223:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(5872)),o=n(a(59748)),r=n(a(45697)),l=n(a(58165)),u=a(70645),s=a(83093),c=(n(a(75043)).default.name("SendIcon"),function(e){var t=e.isMobile,a=e.disabled,n=e.onClick,r=e.hasError,c=e.theme,d=e.styles;return t&&(c.color=r?"#f1f0f0":c.color),o.default.createElement("jdiv",{onClick:t||a?null:n,onTouchStart:t&&!a?n:null},o.default.createElement(l.default,(0,i.default)({iconName:t?"mobile-send-button":"send-button",color:c.color,color2:t&&r?"#dedede":"#ffffff",hoverColor:c.hoverColor,className:d.sendButton},(0,u.withLocator)(s.Locator.INPUT_SUBMIT))))});c.propTypes={isMobile:r.default.bool,disabled:r.default.bool,onClick:r.default.func,hasError:r.default.bool,theme:r.default.shape({color:r.default.string,hoverColor:r.default.string}),styles:r.default.shape({sendButton:r.default.string})};var d=o.default.memo(c);t.default=d},17196:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(77766)),l=n(a(25843)),u=n(a(81643)),s=n(a(33032)),c=n(a(54103)),d=n(a(26394)),f=n(a(69198)),h=n(a(5824)),p=n(a(51379)),m=n(a(214)),g=n(a(66380)),v=n(a(59748)),_=n(a(60021)),y=n(a(62107)),b=n(a(58061)),E=n(a(62904)),w=a(56602),C=n(a(62652)),T=n(a(36216)),k=n(a(69961)),S=n(a(75119)),I=n(a(47321)),x=n(a(99357)),A=n(a(73113)),M=n(a(34777)),R=n(a(68806)),N=n(a(44992)),O=n(a(58165)),D=n(a(77244)),L=n(a(5422)),P=n(a(12907)),j=n(a(55471)),B=n(a(6991)),F=n(a(53401)),H=a(24335),W=n(a(75043)),U=a(17674),z=a(85442),G=n(a(45808)),V=a(21224),q=a(75245),K=a(33367),Y=a(63242),Z=n(a(41526)),J=a(99112),X=a(63465),$=a(70645),Q=a(83093),ee=a(23582),te=n(a(13106)),ae=a(81189);function ne(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,g.default)(e);if(t){var o=(0,g.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,m.default)(this,a)}}var ie=W.default.name("Input"),oe=function(e){(0,p.default)(a,e);var t=ne(a);function a(){var e,n,i,o,r;(0,d.default)(this,a);var l=(r=t.call(this)).getDisabled(),u=l?(0,S.default)("offlineBlockedInputPlaceholder"):"";return E.default.maintenance&&(u=(0,S.default)("maintenanceBlockedPlaceholder")),r.state={hasError:!1,text:u,social:!1,theme:r.getColorTheme(l),disabled:l,disableFileUpload:!((!E.default.bots||k.default.agent_id)&&M.default.isFileUploadEnabled())},(0,H.designerBind)("setBubbleColor",(function(){r.setState({theme:r.getColorTheme()})})),r.startTyping=y.default.throttle((function(){if(r.state.text){var e=E.default.disable_emoji?r.state.text:r.replaceEmoji(r.state.text);ie.log("startTyping",e),I.default.clientTyping(e),I.default.typingInsight(e)}}),1e3),r.getColorTheme=(0,c.default)(e=r.getColorTheme).call(e,(0,h.default)(r)),r.isInputFocused=(0,c.default)(n=r.isInputFocused).call(n,(0,h.default)(r)),r.ipadVisibilityChange=(0,c.default)(i=r.ipadVisibilityChange).call(i,(0,h.default)(r)),r.setDisabled=(0,c.default)(o=r.setDisabled).call(o,(0,h.default)(r)),r._inputField=null,r._inputDiv=null,r._focused=!1,r}return(0,f.default)(a,[{key:"componentDidMount",value:function(){var e,t=this;ie.log("mount"),this.autoResizer=new A.default(this._inputField,{maxSize:90,minSize:b.default.mobileOrTablet()?16:60,onResize:function(){if(t._inputField){var e=t._inputField.parentNode.offsetHeight;t.props.onInputChangeHeight&&t.props.onInputChangeHeight(e)}}}),(0,s.default)((function(){t.checkPlaceholder()}),200),b.default.mobileOrTablet()||!this._inputField||H.isDesignerEditor||this._inputField.focus(),this.checkPlaceholder(),this.on(T.default,(function(){t.checkInputState(),t.checkFileUpload()})),this.on(k.default,(function(){t.checkFileUpload()})),U.Router.on("route_change",(function(e){t.checkInputState(!0),U.Router.isChatInputRoute(e)&&(0,s.default)((function(){t.checkPlaceholder()}),200),C.default.is_focused&&t._inputField&&U.Router.isChatInputRoute(e)&&!b.default.mobileOrTablet()&&(0,s.default)((function(){H.isDesignerEditor||(t._inputField.focus(),C.default.is_focused=0,t.setCursorEnd(t._inputField))}),500)})),x.default.on("create",(function(){t.checkSocial()&&!t.state.social&&t.setState({social:!0})})),this.on(M.default,{disableFileUpload:function(){t.setState(t.state)}}),(0,w.addListener)(this._inputField,"keypress",(0,c.default)(e=this.onKeyPress).call(e,this))}},{key:"checkFileUpload",value:function(){var e=M.default.isFileUploadEnabled()?0:1;e!==this.state.disableFileUpload&&this.setState({disableFileUpload:e})}},{key:"checkSocial",value:function(){return!(!E.default.joint||(0,w.hasIntegration)(T.default.has_integration)||b.default.mobileOrTablet()||!x.default.getClientMessages().length||!x.default.getAgentMessages().length&&3==E.default.contacts_ask)}},{key:"checkInputState",value:function(e){var t=this.getDisabled();this.state.disabled!==t?this.setDisabled(t):e&&this.checkPlaceholder()}},{key:"getPlaceholder",value:function(){var e;if(this.state.disabled){if(e=(0,S.default)("offlineBlockedInputPlaceholder"),E.default.maintenance&&(e=(0,S.default)("maintenanceBlockedPlaceholder")),ee.FeatureManager.isEnabled(ee.Feature.RECAPTCHA)){var t=te.default.getInstance();t&&t.isBlocked()&&(e=(0,S.default)("maintenanceBlockedPlaceholder"))}}else e=b.default.mobileOrTablet()?(0,S.default)("lblMessageHere"):(0,S.default)("lblEnterMessageHere");return e}},{key:"checkPlaceholder",value:function(){var e=this.getPlaceholder();this.setPlaceholder(e)}},{key:"getDisabled",value:function(){if(ee.FeatureManager.isEnabled(ee.Feature.RECAPTCHA)){var e=te.default.getInstance();if(e&&e.isBlocked())return!0}return!!E.default.maintenance||(0,X.isOfflineCanSend)()}},{key:"setDisabled",value:function(e){var t=this;ie.log("setDisabled",e),this.state.disabled!==e&&this.setState({text:"",disabled:e,theme:this.getColorTheme(e)},(function(){t.checkPlaceholder()}))}},{key:"setPlaceholder",value:function(e){if(ie.log("setPlaceholder",e),e=e.replace(/&quot;/g,'"').replace(/&#039;/g,"'"),U.Router.getCurrentRoute()!==z.Route.LABEL){var t=this._inputField;t&&t.setAttribute("placeholder",e),this.autoResizer&&this.autoResizer.check()}}},{key:"componentDidUpdate",value:function(){this.autoResizer&&this.autoResizer.check()}},{key:"componentWillUnmount",value:function(){this.off()}},{key:"onKeyPress",value:function(e){var t;e.stopPropagation();var a=e.keyCode;if(!b.default.mobileOrTablet()&&""!==this.state.text&&(e.ctrlKey||e.metaKey||e.shiftKey)&&-1!==(0,u.default)(t=[10,13]).call(t,a)){if(!e.shiftKey&&!b.default.edge()){var n=(0,J.addNewLine)(this._inputField,this.state.text);n&&this.setState({text:n})}return!1}return 13===a?(e.preventDefault(),this.inputSendMessage()):8===a&&""===e.target.value&&this.setState({text:""}),!1}},{key:"onInput",value:function(e){var t;e.stopPropagation();var a=e.target.value.replace(/[\u202E]/gi,"");if(""===a)return e.target.value="",""!==this.state.text&&this.setState({text:"",hasError:!0}),void I.default.typingInsight("");this.setState({text:a,hasError:!1}),this.autoResizer&&this.autoResizer.check(),this.startTyping(),clearTimeout(this.typingTimeout),this.typingTimeout=(0,s.default)((0,c.default)(t=this.stopTyping).call(t,this),5e3)}},{key:"stopTyping",value:function(){ie.log("stopTyping"),I.default.clientTyping(!1)}},{key:"setCursorEnd",value:function(e){e.setSelectionRange&&e.setSelectionRange(this.state.text.length+2,this.state.text.length+2)}},{key:"replaceEmoji",value:function(e){return e.replace(/:\w+:/g,(function(e){var t=e.replace(/:/g,"");return D.default.getEmojiList()[t]?D.default.fromCodePoint(D.default.getEmojiList()[t]):e}))}},{key:"inputSendMessage",value:function(e){var t=this;e&&(e.preventDefault(),e.stopPropagation()),ie.log("inputSendMessage",e,this.state.text);var a=E.default.disable_emoji?this.state.text:this.replaceEmoji(this.state.text);if(a=a.replace(D.default.getRegExp()," $& ")){if(ae.clientDispatchers.setLastMessage(a),this.setState({text:""}),1===E.default.contacts_ask&&!T.default.is_introduced&&x.default.store.length>=0&&C.default.is_online)return C.default.is_focused=1,void U.Router.next(z.RouterEvent.ToIntroduce);if(!(0,l.default)(a).call(a))return this.setState({hasError:!0}),!1;q.messageActions.sendClientMessage(a),I.default.typingInsight(""),I.default.clientTyping(!1),(0,s.default)((function(){t.autoResizer&&t.autoResizer.check(),t._inputField&&t._inputField.focus()}),50),b.default.mobileOrTablet()&&document.activeElement===this._inputField&&e&&e.preventDefault(),N.default.play("outgoing_message")}}},{key:"onFocus",value:function(e){var t=this;ie.log("onFocus");var a=G.default.getComponent(V.Component.SCROLL_CONTAINER);a&&a.setIgnore(!1),this._focused=!0,b.default.ipad()&&b.default.osVersion()&&11.2==b.default.osVersion()&&!b.default.chromeIOS()&&"portrait"===R.default.getOrientation()&&!R.default.isSiteOptimizedForMobile&&(0,s.default)((function(){var e,a=(0,w.getPageWindow)(),n=a.document,i=n.scrollingElement.scrollTop,o=n.getElementById("jivo-iframe-container");i>0&&(n.scrollingElement.scrollTop=i,o.setAttribute("style",(0,r.default)(e="".concat(o.style.cssText," top: ")).call(e,-1*i,"px !important")));(0,w.removeEvent)(a.document,"visibilitychange",t.ipadVisibilityChange),(0,w.addListener)(a.document,"visibilitychange",t.ipadVisibilityChange)}),500)}},{key:"onBlur",value:function(e){this._focused=!1}},{key:"onPaste",value:function(e){if(M.default.isFileUploadEnabled()&&!U.Router.needToShowIntroduceForm()){var t=e.clipboardData;t&&t.files&&t.files.length&&(e.preventDefault(),M.default.getFileInfo(t.files[0]))}}},{key:"ipadVisibilityChange",value:function(){var e=this;"visible"===document.visibilityState&&(0,w.hasClass)((0,w.getPageWindow)().document.documentElement,"jivo-mobile-overlay")&&((0,s.default)((function(){e._inputField.blur()}),500),(0,w.removeEvent)((0,w.getPageWindow)().document,"visibilitychange",this.ipadVisibilityChange))}},{key:"getColorTheme",value:function(e){var t=E.default.bubble_color||"green";switch(e&&(t="disabled"),t){case"disabled":return{color:"#c9cdd3",hoverColor:"#c9cdd3"};case"blue":return{color:"#0b82f7",hoverColor:"#086bcd"};case"grey":return{color:"#445669",hoverColor:"#303f4e"};case"green":default:return{color:"#18c139",hoverColor:"#12a730"}}}},{key:"insertEmoji",value:function(e){var t=this;if(C.default.is_online||!this.state.disabled){var a=e.target.getAttribute("jv-emoji");if(null!==a){var n=0===this.state.text.length;this.setState({text:this.state.text+":"+a+":"},(function(){t.startTyping(),K.Monitoring.telemetry(Y.TelemetryName.EMOJI_INSERT_SMILE),(0,s.default)((function(){t.autoResizer&&t.autoResizer.check();var e=t._inputField;e.focus(),t.setCursorEnd(e),C.default.is_focused=0}),150),n&&t.inputSendMessage()}))}}}},{key:"renderSendIcon",value:function(e){var t=this.state.theme.color;return b.default.mobileOrTablet()&&(t=this.state.hasError?"#f1f0f0":t),v.default.createElement(O.default,(0,o.default)({iconName:b.default.mobileOrTablet()?"mobile-send-button":"send-button",color:t,color2:b.default.mobileOrTablet()&&this.state.hasError?"#dedede":"#ffffff",hoverColor:this.state.theme.hoverColor,className:F.default.sendButton},(0,$.withLocator)(Q.Locator.INPUT_SUBMIT)))}},{key:"isInputFocused",value:function(){return this._focused}},{key:"getRenderData",value:function(){return{styles:{input:[{input:!0,__mobile:b.default.mobileOrTablet(),windowsPhone:b.default.windowsPhone()},{display:this.props.show?"block":"none"}],inputField:[{inputField:!0,_error:this.state.hasError}],tdTextarea:[{tdTextarea:!0,__filedisabled:b.default.mobileOrTablet()&&E.default.disable_filetransfer}]},style:F.default}}},{key:"renderData",value:function(e,t){var a,n,i,r,l,u,s=this;return v.default.createElement("jdiv",(0,o.default)({},t.input,{ref:function(e){s._inputDiv=e}}),v.default.createElement("jdiv",t.tdTextarea,v.default.createElement("textarea",(0,o.default)({maxLength:"1000"},t.inputField,{key:"inputField",onInput:(0,c.default)(a=this.onInput).call(a,this),onKeyUp:function(e){e.stopPropagation()},onKeyDown:function(e){e.stopPropagation()},onFocus:(0,c.default)(n=this.onFocus).call(n,this),onPaste:(0,c.default)(i=this.onPaste).call(i,this),value:this.state.disabled?"":this.state.text,autoComplete:"false","data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false",disabled:this.state.disabled,ref:function(e){s._inputField=e,e&&G.default.set(V.Component.INPUT,e)}},(0,$.withLocator)(Q.Locator.INPUT))),(0,w.showAd)()&&b.default.mobileOrTablet()?v.default.createElement(P.default,{type:"chat"}):null,b.default.mobileOrTablet()&&1==E.default.typing_insight?v.default.createElement(j.default,null):null),v.default.createElement("jdiv",{onClick:b.default.mobileOrTablet()||this.state.disabled?null:(0,c.default)(r=this.inputSendMessage).call(r,this),onTouchStart:b.default.mobileOrTablet()&&!this.state.disabled?(0,c.default)(l=this.inputSendMessage).call(l,this):null},this.renderSendIcon(t)),v.default.createElement(Z.default,{disabled:this.state.disabled,disableFileUpload:this.state.disableFileUpload,insertEmoji:(0,c.default)(u=this.insertEmoji).call(u,this)}),!b.default.mobileOrTablet()&&!I.default.isChatContactForm()&&v.default.createElement("jdiv",{className:F.default.socialPanel},v.default.createElement(L.default,{mode:B.default.getSocial()})))}}]),a}(_.default);t.default=oe},78534:function(e,t,a){"use strict";var n=a(87646),i=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a(63978)),r=i(a(20368)),l=i(a(39649)),u=i(a(78914)),s=i(a(34074)),c=i(a(20116)),d=i(a(14310)),f=i(a(86902)),h=i(a(81643)),p=i(a(33032)),m=i(a(25843)),g=i(a(87672)),v=i(a(18777)),_=n(a(59748)),y=i(a(62107)),b=a(26213),E=i(a(45697)),w=a(17674),C=a(85442),T=i(a(12907)),k=i(a(55471)),S=i(a(75591)),I=i(a(58061)),x=i(a(45808)),A=a(21224),M=i(a(94184)),R=i(a(53401)),N=a(43472),O=a(56602),D=a(99112),L=a(24335),P=i(a(73113)),j=i(a(11234)),B=i(a(22905)),F=i(a(46223)),H=a(81189),W=i(a(47321)),U=a(33367),z=a(63242),G=a(70669);function V(e,t){var a=(0,f.default)(e);if(d.default){var n=(0,d.default)(e);t&&(n=(0,c.default)(n).call(n,(function(t){return(0,s.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,u.default)(a=V(Object(n),!0)).call(a,(function(t){(0,g.default)(e,t,n[t])}));else if(l.default)(0,r.default)(e,(0,l.default)(n));else{var i;(0,u.default)(i=V(Object(n))).call(i,(function(t){(0,o.default)(e,t,(0,s.default)(n,t))}))}}return e}var K=i(a(75043)).default.name("InputContainer"),Y=function(e){var t,a=e.isContactFormFocused,n=e.appStore,i=e.contactsAsk,o=e.disableEmoji,r=e.onInputChangeHeight,l=e.isInputDisabled,u=e.isIntroduced,s=e.disableFiletransfer,c=e.inputText,d=(0,_.useRef)(null),f=(0,_.useState)({hasError:!1,text:(0,G.getDisabledText)()?"":c||(0,G.getDisabledText)(),disabled:!(!(0,G.getDisabled)()&&!l)}),b=(0,v.default)(f,2),E=b[0],V=b[1],Y=(0,_.useState)((0,G.getColorTheme)(E.disabled)),Z=(0,v.default)(Y,2),J=(Z[0],Z[1]),X=(0,_.useState)(0),$=(0,v.default)(X,2),Q=$[0],ee=$[1],te=(0,_.useState)(0),ae=(0,v.default)(te,2),ne=ae[0],ie=ae[1],oe=(0,_.useState)(0),re=(0,v.default)(oe,2),le=re[0],ue=re[1],se=x.default.get(A.Component.AUTORESIZER),ce=I.default.mobileOrTablet();ne||ie({run:y.default.throttle((function(e){(0,G.startTyping)(e)}),1e3)}),(0,_.useEffect)((function(){(0,G.checkOfflineForm)(u,n.isOnline),J((0,G.getColorTheme)(E.disabled)),(0,L.designerBind)("setBubbleColor",(function(){J((0,G.getColorTheme)(E.disabled))}));var e=x.default.get(A.Component.INPUT);K.log("init",e),x.default.set(A.Component.AUTORESIZER,new P.default(e,{maxSize:90,minSize:ce?16:60,onResize:function(){!function(){var e=d.current.base;if(e){var t=e.parentNode.offsetHeight;le!==t&&(r&&r(t),ue(t))}}()}})),pe(E.disabled)}),[]);var de=!0;ce&&(de=!a);var fe=function(e,t){e&&(e.preventDefault(),e.stopPropagation());var a=t||E.text;K.log("inputSendMessage",a);var o=!!a&&(0,G.replaceEmojiValue)((0,G.getText)(a));if(o){if(H.clientDispatchers.setLastMessage(o),V(q(q({},E),{},{text:""})),1===i&&!u&&N.reduxStore.getState().messages.length&&n.isOnline)return H.appDispatchers.setAppIsFocused(1),void w.Router.next(C.RouterEvent.ToIntroduce);if(!(0,m.default)(o).call(o))return V(q(q({},E),{},{hasError:!0})),!1;V(q(q({},E),{},{text:""})),H.clientDispatchers.setInputText(""),(0,G.onInputSubmit)(o),(0,p.default)((function(){se&&se.check();var e=x.default.get(A.Component.INPUT);e&&e.focus()}),50),ce&&document.activeElement===d&&e&&e.preventDefault()}},he=function(e){E.disabled!==e&&(V(q(q({},E),{},{text:"",disabled:!!e})),J((0,G.getColorTheme)(!!e)),pe(e))},pe=function(e){(0,G.setPlaceholder)((0,G.getPlaceholder)(e))},me=function(e){return e.replace(/[\u202E]/gi,"")},ge=N.reduxStore.getState().settings.features,ve=(0,M.default)((t={},(0,g.default)(t,R.default.input,!0),(0,g.default)(t,R.default.__mobile,ce),(0,g.default)(t,R.default.inputPhone,I.default.windowsPhone()),t)),_e=function(){return(0,G.getDisabled)()||l?(he(!0),!0):(he(!1),!1)},ye=s||(0,G.isFileUploadDisabled)();return _.default.createElement(_.default.Fragment,null,_.default.createElement("jdiv",{className:ve,style:{display:de?"block":"none"},ref:function(e){e&&x.default.set(A.Component.CHAT_INPUT,e)}},_.default.createElement(S.default,{text:E.text,disabled:_e(),onInput:function(e){e.stopPropagation();var t=me(e.target.value);if(""===t)return e.target.value="",""!==E.text&&V(q(q({},E),{},{text:"",hasError:!0})),H.clientDispatchers.setInputText(t),void W.default.typingInsight("");V(q(q({},E),{},{text:t,hasError:!1})),J((0,G.getColorTheme)(!!E.disabled)),H.clientDispatchers.setInputText(t),(0,p.default)((function(){se&&se.check()}),150),ne.run(t),clearTimeout(Q),ee((0,p.default)(G.stopTyping,5e3))},onKeyPress:function(e){!function(e,t){var a,n=me(e.target.value);K.log("onKeyPress",n,t),e.stopPropagation(),E.text&&(n=E.text);var i=e.keyCode;if(!ce&&""!==n&&(e.ctrlKey||e.metaKey||e.shiftKey)&&-1!==(0,h.default)(a=[10,13]).call(a,i)){if(!e.shiftKey&&!I.default.edge()){var o=(0,D.addNewLine)(e.target,n);o&&(V(q(q({},E),{},{text:o})),H.clientDispatchers.setInputText(o))}return!1}13===i?(e.preventDefault(),fe(e,n)):8===i&&""===n&&(V(q(q({},E),{},{text:""})),H.clientDispatchers.setInputText(""))}(e,E.text)},onFocus:G.onFocus,onPaste:function(e){ce&&V(q(q({},E),{},{hasError:!1})),(0,G.onPaste)(e)},disableFileUpload:ye,ref:d}),ce&&(0,O.showAd)()?_.default.createElement(T.default,{type:"chat"}):null,ce&&1==ge.typingInsight?_.default.createElement(k.default,null):null,_.default.createElement(F.default,{isMobile:ce,disabled:_e(),onClick:fe,hasError:E.hasError,theme:(0,G.getColorTheme)(E.disabled),styles:R.default})),_.default.createElement(j.default,{disabled:_e(),disableFileUpload:ye,insertEmoji:function(e){if(n.isOnline||!E.disabled){var t=e.target.getAttribute("jv-emoji");if(null!==t){var a=":"+t+":";if(0===E.text.length)fe(null,a),ne.run(a);else{var i=E.text+a;V(q(q({},E),{},{text:i})),ne.run(i),H.clientDispatchers.setInputText(i)}U.Monitoring.telemetry(z.TelemetryName.EMOJI_INSERT_SMILE),(0,p.default)((function(){(0,G.afterEmojiInserted)(se),H.appDispatchers.setAppIsFocused(1)}),150)}}},isPopupMenuVisible:!(!I.default.desktop()||!N.reduxStore.getState().messages.length),isOnline:n.isOnline,disableEmoji:ce||o}),(0,G.isSocialButtonEnabled)()?_.default.createElement(B.default,null):null)};Y.propTypes={appStore:E.default.shape({isOnline:E.default.bool.isRequired,route:E.default.string.isRequired,isFocused:E.default.number.isRequired}).isRequired,contactsAsk:E.default.number,isContactFormFocused:E.default.bool,onInputChangeHeight:E.default.func,isInputDisabled:E.default.bool,disableEmoji:E.default.bool,isIntroduced:E.default.bool,disableFiletransfer:E.default.bool,inputText:E.default.string};var Z=(0,b.connect)((function(e){return{appStore:e.app,contactsAsk:e.settings.user.contactsAsk,disableEmoji:e.settings.features.disableEmoji,isContactFormFocused:e.app.isContactFormFocused,isInputDisabled:e.app.isInputDisabled,isIntroduced:e.client.isIntroduced,disableFiletransfer:!!e.settings.features.disableFiletransfer,inputText:e.client.inputText}}),{})(Y);t.default=Z},75591:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(5872)),o=n(a(87672)),r=n(a(59748)),l=n(a(53401)),u=n(a(94184)),s=n(a(45697)),c=a(70645),d=a(83093),f=n(a(45808)),h=a(21224),p=function(e){var t,a=e.text,n=e.disabled,s=e.onInput,p=e.onFocus,m=e.onPaste,g=e.onKeyPress,v=e.disableFileUpload,_=(0,u.default)((t={},(0,o.default)(t,l.default.tdTextarea,!0),(0,o.default)(t,l.default.__filedisabled,v),t));return r.default.createElement("jdiv",{className:_},r.default.createElement("textarea",(0,i.default)({maxLength:"1000",className:(0,u.default)((0,o.default)({},l.default.inputField,!0)),key:"inputField",onInput:s,onKeyPress:g,onKeyUp:function(e){e.stopPropagation()},onKeyDown:function(e){e.stopPropagation()},onFocus:p,onPaste:m,value:n?"":a,disabled:n,autoComplete:"false","data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false",ref:function(e){e&&f.default.set(h.Component.INPUT,e)}},(0,c.withLocator)(d.Locator.INPUT))))};p.propTypes={text:s.default.string,disabled:s.default.bool,onInput:s.default.func.isRequired,onFocus:s.default.func.isRequired,onPaste:s.default.func.isRequired,onKeyPress:s.default.func.isRequired,disableFileUpload:s.default.bool};var m=r.default.memo(p);t.default=m},75779:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(59748)),o=a(26213),r=n(a(45697)),l=n(a(62904)),u=n(a(58061)),s=n(a(45808)),c=a(21224),d=n(a(17196)),f=n(a(78534)),h=(n(a(75043)).default.name("InputWrap"),function(e){var t=e.isContactFormFocused,a=e.onInputChangeHeight,n=!0;return u.default.mobileOrTablet()&&(n=!t),l.default.enable_new_animation?i.default.createElement(f.default,{onInputChangeHeight:a}):i.default.createElement(d.default,{onInputChangeHeight:a,show:n,ref:function(e){e&&s.default.set(c.Component.CHAT_INPUT,e)}})});h.propTypes={isContactFormFocused:r.default.bool,onInputChangeHeight:r.default.func};var p=(0,o.connect)((function(e){return{isContactFormFocused:e.app.isContactFormFocused}}),{})(h);t.default=p},70669:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.getColorTheme=function(e){var t=r.default.bubble_color||"green";e&&(t="disabled");switch(t){case"disabled":return{color:"#c9cdd3",hoverColor:"#c9cdd3"};case"blue":return{color:"#0b82f7",hoverColor:"#086bcd"};case"grey":return{color:"#445669",hoverColor:"#303f4e"};case"green":default:return{color:"#18c139",hoverColor:"#12a730"}}},t.getPlaceholder=function(e){var t;if(e){if(t=(0,l.default)("offlineBlockedInputPlaceholder"),r.default.maintenance&&(t=(0,l.default)("maintenanceBlockedPlaceholder")),w.FeatureManager.isEnabled(w.Feature.RECAPTCHA)){var a=C.default.getInstance();a&&a.isBlocked()&&(t=(0,l.default)("maintenanceBlockedPlaceholder"))}}else t=u.default.mobileOrTablet()?(0,l.default)("lblMessageHere"):(0,l.default)("lblEnterMessageHere");return t},t.getDisabled=S,t.getDisabledText=function(){var e=S()?(0,l.default)("offlineBlockedInputPlaceholder"):"";r.default.maintenance&&(e=(0,l.default)("maintenanceBlockedPlaceholder"));return e},t.getText=I,t.replaceEmoji=x,t.startTyping=function(e){if(e){var t=I(e);k.log("startTyping",t),d.default.clientTyping(t),d.default.typingInsight(t)}},t.stopTyping=function(){k.log("stopTyping"),d.default.clientTyping(!1)},t.setCursorEnd=A,t.replaceEmojiValue=function(e){return e.replace(c.default.getRegExp()," $& ")},t.isFileUploadDisabled=function(){return!((!r.default.bots||f.default.agent_id)&&m.default.isFileUploadEnabled())},t.onInputSubmit=function(e){h.messageActions.sendClientMessage(e),d.default.typingInsight(""),d.default.clientTyping(!1),p.default.play("outgoing_message")},t.setPlaceholder=function(e){if(e=e.replace(/&quot;/g,'"').replace(/&#039;/g,"'"),g.Router.getCurrentRoute()!==v.Route.LABEL){var t=_.default.get(y.Component.INPUT);t&&t.setAttribute("placeholder",e);var a=_.default.get(y.Component.AUTORESIZER);a&&a.check()}},t.onFocus=function(){k.log("onFocus");var e=_.default.getComponent(y.Component.SCROLL_CONTAINER);e&&e.setIgnore(!1);u.default.ipad()&&u.default.osVersion()&&11.2==u.default.osVersion()&&!u.default.chromeIOS()&&"portrait"===b.default.getOrientation()&&!b.default.isSiteOptimizedForMobile&&(0,o.default)((function(){var e,t=(0,E.getPageWindow)(),a=t.document,n=a.scrollingElement.scrollTop,o=a.getElementById("jivo-iframe-container");n>0&&(a.scrollingElement.scrollTop=n,o.setAttribute("style",(0,i.default)(e="".concat(o.style.cssText," top: ")).call(e,-1*n,"px !important")));(0,E.removeEvent)(t.document,"visibilitychange",M),(0,E.addListener)(t.document,"visibilitychange",M)}),500)},t.onPaste=function(e){if(m.default.isFileUploadEnabled()&&!g.Router.needToShowIntroduceForm()){var t=e.clipboardData;t&&t.files&&t.files.length&&(e.preventDefault(),m.default.getFileInfo(t.files[0]))}},t.ipadVisibilityChange=M,t.afterEmojiInserted=function(e){e&&e.check();var t=_.default.get(y.Component.INPUT);t&&(t.focus(),A(t,t.value))},t.isSocialButtonEnabled=function(){return r.default.joint&&!u.default.mobileOrTablet()&&!d.default.isChatContactForm()},t.checkOfflineForm=function(e,t){e||t||!T.default.getClientMessages().length||h.messageActions.handleContactsForm()};var i=n(a(77766)),o=n(a(33032)),r=n(a(62904)),l=n(a(75119)),u=n(a(58061)),s=a(63465),c=n(a(77244)),d=n(a(47321)),f=n(a(69961)),h=a(75245),p=n(a(44992)),m=n(a(34777)),g=a(17674),v=a(85442),_=n(a(45808)),y=a(21224),b=n(a(68806)),E=a(56602),w=a(23582),C=n(a(13106)),T=n(a(99357)),k=n(a(75043)).default.name("InputHelpers");function S(){return!!r.default.maintenance||(0,s.isOfflineCanSend)()}function I(e){return r.default.disable_emoji?e:x(e)}function x(e){return e.replace(/:\w+:/g,(function(e){var t=e.replace(/:/g,"");return c.default.getEmojiList()[t]?c.default.fromCodePoint(c.default.getEmojiList()[t]):e}))}function A(e,t){e.setSelectionRange&&e.setSelectionRange(t.length+2,t.length+2)}function M(){"visible"===document.visibilityState&&(0,E.hasClass)((0,E.getPageWindow)().document.documentElement,"jivo-mobile-overlay")&&((0,o.default)((function(){var e=_.default.get(y.Component.INPUT);e&&e.blur()}),500),(0,E.removeEvent)((0,E.getPageWindow)().document,"visibilitychange",M))}},75020:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(87672)),o=n(a(59748)),r=n(a(58165)),l=n(a(78162)),u=n(a(45697)),s=n(a(40731)),c=n(a(7636)),d=n(a(94184)),f=function(e){var t,a=e.opened,n=void 0!==a&&a,u=e.disabled,f=void 0!==u&&u,h=e.width,p=void 0===h?227:h,m=e.height,g=void 0===m?182:m,v=e.offsetRight,_=void 0===v?15:v,y=e.onClick,b=e.onItemClick;return o.default.createElement("jdiv",{className:l.default.emojiWrap,onClick:f?null:y},o.default.createElement(r.default,{iconName:"icon-emoji",color:f?"#c9cdd3":"#a3aab5",className:(0,d.default)((t={},(0,i.default)(t,l.default.iconEmoji,!0),(0,i.default)(t,l.default.__disabled,f),t))}),o.default.createElement(c.default,{show:n,onClick:b,width:p,height:g,offsetRight:_},o.default.createElement(s.default,null)))};f.propTypes={opened:u.default.bool.isRequired,onClick:u.default.func.isRequired,onItemClick:u.default.func.isRequired,width:u.default.number,height:u.default.number,offsetRight:u.default.number,disabled:u.default.bool};var h=o.default.memo(f);t.default=h},41526:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(54103)),r=n(a(26394)),l=n(a(69198)),u=n(a(5824)),s=n(a(51379)),c=n(a(214)),d=n(a(66380)),f=n(a(59748)),h=n(a(60021)),p=n(a(58061)),m=n(a(62904)),g=n(a(62652)),v=a(56602),_=n(a(32832)),y=n(a(76645)),b=a(33367),E=a(63242),w=n(a(9805)),C=n(a(99357)),T=n(a(75020)),k=n(a(44345));function S(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var I=n(a(75043)).default.name("InputIcons"),x=function(e){(0,s.default)(a,e);var t=S(a);function a(){var e,n,i;return(0,r.default)(this,a),(i=t.call(this)).state={emojiListOpened:!1,menuOpened:!1,link:{fileName:"",url:""}},i.closeMenu=(0,o.default)(e=i.closeMenu).call(e,(0,u.default)(i)),i.closeEmojiList=(0,o.default)(n=i.closeEmojiList).call(n,(0,u.default)(i)),i}return(0,l.default)(a,[{key:"handleEmojiListClick",value:function(e){I.log("toggleEmojiList"),e.stopPropagation(),!g.default.is_online&&this.props.disabled||(this.state.emojiListOpened||(0,v.addListener)((0,v.getPageWindow)(),"click",this.closeEmojiList),this.setState({emojiListOpened:!this.state.emojiListOpened,menuOpened:!1}),this.state.emojiListOpened&&b.Monitoring.telemetryOnce(E.TelemetryName.EMOJI_OPEN_SMILE_LIST))}},{key:"closeEmojiList",value:function(){I.log("closeEmojiList"),(0,v.removeEvent)((0,v.getPageWindow)(),"click",this.closeEmojiList),this.setState({emojiListOpened:!1})}},{key:"renderEmojiPanel",value:function(){var e;if(!p.default.mobileOrTablet()&&!m.default.disable_emoji)return f.default.createElement(T.default,{disabled:!!this.props.disabled,opened:this.state.emojiListOpened,onClick:(0,o.default)(e=this.handleEmojiListClick).call(e,this),onItemClick:this.props.insertEmoji,offsetRight:this.getEmojiPanelOffset()})}},{key:"getEmojiPanelOffset",value:function(){var e=this.isPopupMenuVisible(),t=!this.props.disableFileUpload;return e&&!t?15:e&&t?45:e||t?15:0}},{key:"renderFileUpload",value:function(){if(!this.props.disableFileUpload)return f.default.createElement(_.default,{disabled:this.props.disabled})}},{key:"isPopupMenuVisible",value:function(){return p.default.desktop()&&C.default.hasMessages()}},{key:"handleMenuClick",value:function(e){I.log("openMenu"),e.stopPropagation(),this.props.disabled||(this.state.menuOpened||(0,v.addListener)((0,v.getPageWindow)(),"click",this.closeMenu),this.setState({menuOpened:!this.state.menuOpened,emojiListOpened:!1,link:w.default.getInstance().getMessagesAsHTML()}),b.Monitoring.telemetryOnce(E.TelemetryName.MORE_CLICK))}},{key:"closeMenu",value:function(){I.log("closeMenu"),(0,v.removeEvent)((0,v.getPageWindow)(),"click",this.closeMenu),this.setState({menuOpened:!1})}},{key:"renderPopupMenu",value:function(e){var t;if(this.isPopupMenuVisible())return f.default.createElement(k.default,{show:this.state.menuOpened,disabled:!!this.props.disabled,link:this.state.link,onClick:(0,o.default)(t=this.handleMenuClick).call(t,this),onItemClick:function(){b.Monitoring.telemetryOnce(E.TelemetryName.DOWNLOAD_CHAT_LOG_CLICK)}})}},{key:"getRenderData",value:function(){return{styles:{iconPanel:[{iconPanel:!0,__mobile:p.default.mobileOrTablet()}]},style:y.default}}},{key:"renderData",value:function(e,t){return f.default.createElement("jdiv",t.iconPanel,this.renderPopupMenu(t),this.renderFileUpload(t),this.renderEmojiPanel(t))}}]),a}(h.default);t.default=x},11234:function(e,t,a){"use strict";var n=a(87646),i=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=t.componentProps=void 0;var o=i(a(63978)),r=i(a(20368)),l=i(a(39649)),u=i(a(78914)),s=i(a(34074)),c=i(a(20116)),d=i(a(14310)),f=i(a(86902)),h=i(a(87672)),p=i(a(18777)),m=n(a(59748)),g=i(a(45697)),v=i(a(94184)),_=i(a(58061)),y=a(56602),b=i(a(32832)),E=a(33367),w=a(63242),C=i(a(75020)),T=i(a(44345)),k=i(a(9805)),S=i(a(76645));function I(e,t){var a=(0,f.default)(e);if(d.default){var n=(0,d.default)(e);t&&(n=(0,c.default)(n).call(n,(function(t){return(0,s.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,u.default)(a=I(Object(n),!0)).call(a,(function(t){(0,h.default)(e,t,n[t])}));else if(l.default)(0,r.default)(e,(0,l.default)(n));else{var i;(0,u.default)(i=I(Object(n))).call(i,(function(t){(0,o.default)(e,t,(0,s.default)(n,t))}))}}return e}var A=i(a(75043)).default.name("InputIconsPure"),M=function(e){var t,a=e.disabled,n=void 0!==a&&a,i=e.disableFileUpload,o=void 0!==i&&i,r=e.insertEmoji,l=e.isPopupMenuVisible,u=e.isOnline,s=e.disableEmoji,c=(0,m.useState)({emojiListOpened:!1,menuOpened:!1,link:{fileName:"",url:""}}),d=(0,p.default)(c,2),f=d[0],g=d[1];A.log(f);var I=function e(){A.log("closeMenu"),(0,y.removeEvent)((0,y.getPageWindow)(),"click",e),g(x(x({},f),{},{menuOpened:!1}))},M=function(e){A.log("menuClick"),e.stopPropagation(),n||(f.menuOpened||(0,y.addListener)((0,y.getPageWindow)(),"click",I),g(x(x({},f),{},{menuOpened:!f.menuOpened,emojiListOpened:!1,link:k.default.getInstance().getMessagesAsHTML()})),E.Monitoring.telemetryOnce(w.TelemetryName.MORE_CLICK))},R=function e(){A.log("closeEmojiList"),(0,y.removeEvent)((0,y.getPageWindow)(),"click",e),g(x(x({},f),{},{emojiListOpened:!1}))},N=function(e){A.log("toggleEmojiList"),e.stopPropagation(),!u&&n||(f.emojiListOpened||(0,y.addListener)((0,y.getPageWindow)(),"click",R),g(x(x({},f),{},{emojiListOpened:!f.emojiListOpened,menuOpened:!1})),f.emojiListOpened&&E.Monitoring.telemetryOnce(w.TelemetryName.EMOJI_OPEN_SMILE_LIST))},O=(0,v.default)((t={},(0,h.default)(t,S.default.iconPanel,!0),(0,h.default)(t,S.default.__mobile,_.default.mobileOrTablet()),t));return m.default.createElement("jdiv",{className:O},function(){if(l)return m.default.createElement(T.default,{show:f.menuOpened,disabled:n,link:f.link,onClick:M,onItemClick:function(){E.Monitoring.telemetryOnce(w.TelemetryName.DOWNLOAD_CHAT_LOG_CLICK)}})}(),function(){if(!o)return m.default.createElement(b.default,{disabled:n})}(),function(){if(!s)return m.default.createElement(C.default,{disabled:n,opened:f.emojiListOpened,onClick:N,onItemClick:r,offsetRight:(e=!o,l&&!e?15:l&&e?45:l||e?15:0)});var e}())},R=M.propTypes={disabled:g.default.bool.isRequired,disableFileUpload:g.default.bool.isRequired,insertEmoji:g.default.func.isRequired,isOnline:g.default.bool,isPopupMenuVisible:g.default.bool,disableEmoji:g.default.bool};t.componentProps=R;var N=m.default.memo(M);t.default=N},7636:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(87672)),o=n(a(59748)),r=n(a(53597)),l=n(a(94184)),u=n(a(45697)),s=function(e){var t,a=e.show,n=void 0===a||a,u=e.width,s=void 0===u?100:u,c=e.height,d=void 0===c?100:c,f=e.offsetRight,h=void 0===f?0:f,p=e.children,m=e.onClick;return o.default.createElement("jdiv",{className:(0,l.default)((t={},(0,i.default)(t,r.default.popup,!0),(0,i.default)(t,r.default.show,!!n),t)),style:{width:"".concat(s,"px"),height:"".concat(d,"px"),right:"".concat(h,"px"),top:"-".concat(38+d,"px")},onClick:m},o.default.createElement("jdiv",{className:r.default.childrenWrap},p),o.default.createElement("jdiv",{className:r.default.pip,style:{left:"".concat(2+h,"px")}}))};s.propTypes={show:u.default.bool.isRequired,width:u.default.number.isRequired,onClick:u.default.func.isRequired,children:u.default.oneOfType([u.default.arrayOf(u.default.node),u.default.node]).isRequired,height:u.default.number,offsetRight:u.default.number};var c=o.default.memo(s);t.default=c},44345:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(87672)),o=n(a(59748)),r=n(a(48305)),l=n(a(58165)),u=n(a(45697)),s=n(a(94184)),c=n(a(75119)),d=function(e){var t,a,n=e.disabled,u=e.onClick,d=e.onItemClick,f=e.link,h=e.show;return o.default.createElement("jdiv",{className:r.default.menuWrap},o.default.createElement("jdiv",{onClick:u},o.default.createElement(l.default,{iconName:"icon-more",color:n?"#c9cdd3":"#a3aab5",hoverColor:n?null:"#a3aab5",disabled:n,className:(0,s.default)((t={},(0,i.default)(t,r.default.iconMenu,!0),(0,i.default)(t,r.default.__disabled,n),t))})),o.default.createElement("jdiv",{className:(0,s.default)((a={},(0,i.default)(a,r.default.menu,!0),(0,i.default)(a,r.default.show,!!h),a))},o.default.createElement("jdiv",{className:r.default.menuItem,onClick:d},o.default.createElement("a",{download:f.fileName,href:f.url,target:"_blank",rel:"nofollow noopener noreferrer"},(0,c.default)("downloadChatText"))),o.default.createElement("jdiv",{className:r.default.pip})))};d.propTypes={show:u.default.bool.isRequired,onClick:u.default.func.isRequired,onItemClick:u.default.func.isRequired,link:u.default.shape({fileName:u.default.string.isRequired,url:u.default.string.isRequired}).isRequired,disabled:u.default.bool};var f=o.default.memo(d);t.default=f},97280:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(54103)),l=n(a(87672)),u=n(a(2991)),s=n(a(33032)),c=n(a(26394)),d=n(a(69198)),f=n(a(51379)),h=n(a(214)),p=n(a(66380)),m=n(a(59748)),g=n(a(60021)),v=n(a(62107)),_=n(a(47321)),y=n(a(62904)),b=n(a(36216)),E=n(a(58061)),w=n(a(58165)),C=n(a(20748)),T=n(a(75043)),k=n(a(22259));function S(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,p.default)(e);if(t){var o=(0,p.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,h.default)(this,a)}}var I=y.default.departments,x=T.default.name("DepartmensSelect"),A=function(e){(0,f.default)(a,e);var t=S(a);function a(e){var n;if((0,c.default)(this,a),(n=t.call(this,e)).state={showList:!1,department_name:I&&I.length?I[0].name:""},b.default.department_id){var i=n.findDepartmentById(b.default.department_id);i&&(n.state.department_name=i.name)}return n._focused=!1,n}return(0,d.default)(a,[{key:"componentDidMount",value:function(){x.log("mounted")}},{key:"toggleDepartments",value:function(e){e.preventDefault(),this.setState({showList:!this.state.showList})}},{key:"findDepartmentById",value:function(e){return v.default.findWhere(I,{id:e})}},{key:"onDepartmentSelect",value:function(e,t){this.setState({showList:!1,department_name:t}),_.default.setDepartmentId(e)}},{key:"onBlurPopup",value:function(){var e=this;(0,s.default)((function(){e._focused||e.setState({showList:!1})}),1300),this._focused=!1}},{key:"onEnterPopup",value:function(){x.log("onEnterPopup"),this._focused=!0}},{key:"getItems",value:function(){var e=this;return(0,u.default)(v.default).call(v.default,I,(function(t){var a=t.id===b.default.department_id?k.default.itemSelected:k.default.item;return m.default.createElement("jdiv",{className:a,onClick:function(){return e.onDepartmentSelect(t.id,t.name)}},t.name)}))}},{key:"renderList",value:function(){return I.length>3?m.default.createElement(C.default,{railClass:k.default.rail,hideTracksWhenNotNeeded:!1},this.getItems()):this.getItems()}},{key:"getRenderData",value:function(){var e;return{styles:{currentItem:[(e={currentItem:!0,_open:this.state.showList},(0,l.default)(e,"_"+y.default.bubble_color||0,!0),(0,l.default)(e,"__mobile",E.default.mobileOrTablet()),e)],selectPopup:[{selectPopup:!0,__ios:E.default.ios(),__scroll:I.length>3},{display:this.state.showList?"block":"none"}]},style:k.default}}},{key:"renderData",value:function(e,t){var a,n,i;return m.default.createElement("jdiv",{className:k.default.fieldWrap},m.default.createElement("jdiv",{className:k.default.select,onMouseLeave:(0,r.default)(a=this.onBlurPopup).call(a,this),onMouseEnter:(0,r.default)(n=this.onEnterPopup).call(n,this)},m.default.createElement("jdiv",(0,o.default)({},t.currentItem,{onClick:(0,r.default)(i=this.toggleDepartments).call(i,this)}),this.state.department_name,m.default.createElement(w.default,{iconName:"icon-v",color:"#8B9096",hoverColor:"#222D38",className:k.default.iconSelect})),m.default.createElement("jdiv",t.selectPopup,this.renderList())))}}]),a}(g.default);t.default=A},66107:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(33032)),l=n(a(54103)),u=n(a(26394)),s=n(a(69198)),c=n(a(51379)),d=n(a(214)),f=n(a(66380)),h=n(a(59748)),p=n(a(60021)),m=n(a(62107)),g=n(a(75119)),v=n(a(62904)),_=a(56602),y=n(a(62652)),b=n(a(36216)),E=n(a(58061)),w=n(a(47396)),C=n(a(44068)),T=n(a(96884)),k=n(a(60801)),S=n(a(97280)),I=n(a(58165)),x=n(a(58165)),A=n(a(12907)),M=n(a(18228)),R=n(a(47321)),N=n(a(75043)),O=n(a(30890)),D=a(17674),L=a(85442),P=a(21224),j=n(a(45808)),B=a(75245),F=a(10872),H=a(23582);function W(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var U=N.default.name("Introduce"),z=v.default.departments,G=z&&z.length>0,V=function(e){(0,c.default)(a,e);var t=W(a);function a(e){var n;(0,u.default)(this,a),(n=t.call(this,e)).state={show:!0,anon:!0,captchaPlaceholder:(0,g.default)("captchaPlaceholder"),captchaImgSrc:null,captchaLoadErr:!1},n.captchaPassed=null,n.enableCaptcha=H.FeatureManager.isEnabled(H.Feature.OLD_CAPTCHA)&&!b.default.client_id;var i=0;return v.default.contacts_settings&&m.default.each(v.default.contacts_settings,(function(e){e.show&&i++})),i>=2&&(n.state.anon=!1),n}return(0,s.default)(a,[{key:"componentDidMount",value:function(){var e;(U.log("mounted"),v.default.eula&&!y.default.eula_accepted)&&D.Router.on("submit_eula_success",(0,l.default)(e=this.processEula).call(e,this));this.enableCaptcha&&this.loadCaptcha()}},{key:"loadCaptcha",value:function(){var e=this;this.captchaPassed=null,R.default.getCaptcha((function(t){e.setState({captchaImgSrc:t,captchaLoadErr:null})}),(function(){e.setState({captchaLoadErr:!0,captchaImgSrc:null})}))}},{key:"captchaReload",value:function(){this.setState({captchaPlaceholder:(0,g.default)("captchaPlaceholder")}),this.loadCaptcha()}},{key:"captchaCheckSuccess",value:function(e){U.log("captchaCheckSuccess"),M.default.setCaptchaToken(e),this.captchaPassed=!0,this.successCallback(this.formData)}},{key:"captchaCheckError",value:function(){U.log("captchaCheckError"),this.captchaInput.setValue(""),this.fc.successCallback(),this.setState({captchaPlaceholder:(0,g.default)("captchaPlaceholderAgain")}),this.loadCaptcha()}},{key:"componentDidUnmount",value:function(){U.log("unmount",this.formData)}},{key:"processEula",value:function(e){if(U.log("Introduce submit_eula_success",e),D.Router.off("submit_eula_success"),e===L.Route.INTRODUCE){var t=this.formData||!!this.fc&&this.fc._form;this.sendFormData(t)}}},{key:"sendFormData",value:function(e){if(!e)return U.log("Not found formData");1===v.default.contacts_ask&&(y.default.is_online?B.messageActions.sendClientMessage(e.message.value):B.messageActions.sendOfflineMessage(e.message.value),R.default.setClientContactInfo(this.getIntroduceData(e)))}},{key:"getIntroduceData",value:function(e){var t={};return m.default.each(e,(function(e){t[e.name]=e.value})),t}},{key:"successCallback",value:function(e){var t,a;U.log("successCallbackIntroduce",e),G&&!b.default.department_id&&R.default.setDepartmentId(v.default.departments[0].id),this.formData=e,!this.enableCaptcha||this.captchaPassed?(v.default.eula&&!y.default.eula_accepted||this.sendFormData(this.formData),D.Router.next(L.RouterEvent.Submit),H.FeatureManager.isEnabled(H.Feature.NEW_ANIMATION)&&E.default.safari()&&!E.default.mobileOrTablet()&&(0,r.default)((function(){var e=j.default.get(P.Component.WIDGET_CONTAINER);(0,F.updateKeyframes)(e)}),0)):R.default.checkCaptcha(e.captcha.value,(0,l.default)(t=this.captchaCheckSuccess).call(t,this),(0,l.default)(a=this.captchaCheckError).call(a,this))}},{key:"errorCallback",value:function(e){U.log("errorCallbackintroduce",e)}},{key:"renderAnon",value:function(){if(this.state.anon&&!E.default.mobileOrTablet())return h.default.createElement("jdiv",{className:O.default.avatarBox},h.default.createElement(I.default,{iconName:"icon-anonymous",className:O.default.iconAnonymous}))}},{key:"getRenderData",value:function(){return{styles:{main:[{main:!0,__mobile:E.default.mobileOrTablet()},{display:this.state.show?"block":"none"}],captchaWrap:[{captchaWrap:!0},{display:this.enableCaptcha?"block":"none"}],captcha:[{captchaImg:!0},{"background-image":this.state.captchaImgSrc?"url(".concat(this.state.captchaImgSrc,")"):null}]},style:O.default}}},{key:"renderData",value:function(e,t){var a,n,i,r=this;return h.default.createElement("jdiv",(0,o.default)({},t.main,{ref:function(e){j.default.set(P.Component.INTRODUCE,e)}}),(0,_.showAd)()&&h.default.createElement(A.default,{type:"chat",bottom:!0}),h.default.createElement(w.default,{successCallback:(0,l.default)(a=this.successCallback).call(a,this),errorCallback:(0,l.default)(n=this.errorCallback).call(n,this),ref:function(e){r.fc=e}},this.renderAnon(t),h.default.createElement(C.default,{name:"client_name",placeholder:(0,g.default)("lblIntroduceName")}),h.default.createElement(C.default,{name:"phone",placeholder:(0,g.default)("lblYourPhone")}),h.default.createElement(C.default,{name:"email",placeholder:(0,g.default)("lblYourEmail")}),G?h.default.createElement(S.default,null):"",h.default.createElement(T.default,{name:"message"}),h.default.createElement("jdiv",t.captchaWrap,h.default.createElement("jdiv",t.captcha,this.state.captchaLoadErr&&"Ошибка загрузки"),h.default.createElement("jdiv",{className:O.default.reloadCaptcha,onClick:(0,l.default)(i=this.captchaReload).call(i,this)},h.default.createElement(x.default,{className:O.default.refreshIcon,iconName:"refresh"}))),h.default.createElement(C.default,{name:"captcha",placeholder:this.state.captchaPlaceholder,required:!0,ref:function(e){r.captchaInput=e},show:this.enableCaptcha}),h.default.createElement(k.default,{type:"submit",disabled:this.state.captchaLoadErr})))}}]),a}(p.default);t.default=V},36392:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(63978)),o=n(a(20368)),r=n(a(39649)),l=n(a(78914)),u=n(a(34074)),s=n(a(20116)),c=n(a(14310)),d=n(a(86902)),f=n(a(1068)),h=n(a(54103)),p=n(a(5872)),m=n(a(51942)),g=n(a(87672)),v=n(a(26394)),_=n(a(69198)),y=n(a(51379)),b=n(a(214)),E=n(a(66380)),w=n(a(59748)),C=n(a(60021)),T=n(a(12907)),k=n(a(28364)),S=n(a(15937)),I=n(a(62904)),x=a(56602),A=a(99112),M=n(a(58061)),R=n(a(62652)),N=n(a(47321)),O=n(a(40695)),D=n(a(86999)),L=n(a(58165)),P=n(a(55129)),j=n(a(66273)),B=a(17674),F=a(85442),H=a(37916),W=a(75245),U=a(24335),z=n(a(6991)),G=n(a(99357)),V=a(33367),q=a(63242),K=n(a(35792)),Y=a(60906),Z=n(a(5972));function J(e,t){var a=(0,d.default)(e);if(c.default){var n=(0,c.default)(e);t&&(n=(0,s.default)(n).call(n,(function(t){return(0,u.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(a=J(Object(n),!0)).call(a,(function(t){(0,g.default)(e,t,n[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(n));else{var s;(0,l.default)(s=J(Object(n))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(n,t))}))}}return e}function $(e){var t=function(){if("undefined"==typeof Reflect||!f.default)return!1;if(f.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,f.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,E.default)(e);if(t){var i=(0,E.default)(this).constructor;a=(0,f.default)(n,arguments,i)}else a=n.apply(this,arguments);return(0,b.default)(this,a)}}var Q=n(a(75043)).default.name("Label"),ee=function(e){(0,y.default)(a,e);var t=$(a);function a(e){var n;return(0,v.default)(this,a),(n=t.call(this,e)).state={inited:!1,online:e.app.is_online,text:e.app.is_online?e.config.online_widget_label:e.config.offline_widget_label,color:e.app.widget_color,color2:e.app.widget_color2,chat:B.Router.getCurrentRoute()===F.Route.LABEL||B.Router.isMinRoute(),orientation:e.config.widget_orientation,padding:e.config.widget_padding,appearDelay:!1,invitation:null},n._copyRight=null,n._labelWrap=null,n._hoverOnce=!1,n}return(0,_.default)(a,[{key:"componentDidMount",value:function(){var e=this;Q.log("mounted"),this.on(R.default,(function(){var t={},a=!1;e.state.color!==R.default.widget_color&&(t.color=R.default.widget_color,t.color2=R.default.widget_color2,a=!0),R.default.is_online!==e.state.online&&(t.online=R.default.is_online,t.text=R.default.is_online?I.default.online_widget_label:I.default.offline_widget_label,a=!0),a&&e.setState(t)}));var t=B.Router.getCurrentRoute();B.Router.on("route_change",(function(a){e.checkState({route:a}),t!==a&&a===F.Route.LABEL&&e.updateLabelSize(),t=a})),(0,x.isCustomLabel)()||this._getLabelSize(),this.checkState({route:t}),(0,U.designerBind)("setWidgetPosition",(function(t){"50"===e.state.padding&&"bottom"===e.state.orientation&&(e._labelWrap.right=0),e.setState({orientation:t.orientation,padding:t.padding,inited:!1},(function(){e._getLabelSize()}))})),(0,U.designerBind)("setOnlineText",(function(t){e.setState({text:t})}))}},{key:"checkState",value:function(e){e.route!==F.Route.LABEL||B.Router.isMinRoute()?this.setState(X({appearDelay:!1,chat:!0,inited:!1,invitation:null},e)):this.setState(X({appearDelay:!0,chat:!1,inited:!(0,x.isCustomLabel)()},e))}},{key:"_getLabelSize",value:function(){var e=this.state.orientation,t=+this.state.padding,a=this.updateLabelSize(),n=this._labelWrap.style;if("bottom"===e&&50==t&&(n.marginRight=-1*(a.width/2).toFixed(0)+"px"),n.marginBottom="bottom"!==e&&50==t?-1*(a.height/2).toFixed(0)+"px":null,("right"===e||"bottom"===e&&50!==t)&&(n.marginRight=null),this.props.el){var i={};i.backgroundColor=this.props.config.widget_color,(0,m.default)(n,i)}B.Router.getCurrentRoute()===F.Route.LABEL&&this.setState({inited:!0})}},{key:"updateLabelSize",value:function(){var e={};return"left"==this.state.orientation||"right"==this.state.orientation?(e.width=(0,A.getElementPosition)(this._labelWrap).height,e.height=(0,A.getElementPosition)(this._labelWrap).width):(e.width=(0,A.getElementPosition)(this._labelWrap).width,e.height=(0,A.getElementPosition)(this._labelWrap).height),R.default.height!==e.height&&(R.default.height=e.height),R.default.width!==e.width&&(R.default.width=e.width),e}},{key:"showChat",value:function(e,t){((0,A.hasClass)(e.target,S.default.hoverl)||t)&&(R.default.is_focused=1,N.default.chatOpenByClient=!0,B.Router.next(F.RouterEvent.Navigate),R.default.is_online?(O.default.trackChatOpenedByClick(),W.messageActions.deleteUnansweredOfflineSystemInvite(),W.messageActions.addPrechatMessage()):(W.messageActions.deleteUnansweredOfflineSystemInvite(),I.default.maintenance||(W.messageActions.offlineSystemInvite(),O.default.trackOfflineFormOpenedByClick())),V.Monitoring.telemetry(q.TelemetryName.WIDGET_CLICK))}},{key:"mouseOver",value:function(){this._copyRight&&this._copyRight.mouseOver()}},{key:"mouseOut",value:function(){this._copyRight&&this._copyRight.mouseOut()}},{key:"getRenderData",value:function(){var e,t,a=D.default.getGradientBg(this.state.color,this.state.color2);Q.log("render:",a);var n=[(e={label:!0,_chat:this.state.chat||this.state.invitation},(0,g.default)(e,"_"+this.state.orientation,!0),(0,g.default)(e,"_pad"+this.state.padding,!0),(0,g.default)(e,"_init",this.state.inited&&!this.state.invitation),(0,g.default)(e,"_designer",U.isDesignerEditor),(0,g.default)(e,"_custom",(0,x.isCustomLabel)()),e),{background:a}],i={};"label"!=R.default.route&&(i={display:"none"});var o=this.props.config.font_type.split(" "),r=(0,x.getTextColor)(this.props.app.widget_font_color);return{styles:{wrap:n,text:[(t={text:!0},(0,g.default)(t,"_offline",!this.state.online),(0,g.default)(t,"_noAd",!(0,x.showAd)()),t),{fontSize:this.props.config.font_size+"px",fontFamily:this.props.config.font_family+", Arial",fontWeight:"bold"===o[0]?"bold":null,fontStyle:"bold"!==o[0]?o[0]:o[1]||null,color:r}],copy:[{copy:!0},{color:r}],labelStatus:[{labelStatus:!0}],hoverl:[{hoverl:!0}],lbContainer:[{lbContainer:!0},i],leafCont:[{leafCont:!0}],pattern:[{pattern:!1}],invitationWrap:[{invitation:!0}]},style:S.default}}},{key:"showInvitation",value:function(){if(I.default.enable_api_invitation){var e=G.default.getLastUnreadApiInvitation(),t=e&&e.get("body")||{},a=e&&e.get("text")||"";this.setState({chat:!0,inited:!1,invitation:{text:a,agent:t}})}}},{key:"hideInvitation",value:function(){I.default.enable_api_invitation&&(this.setState({chat:!1,inited:!0,invitation:null}),Z.default.set("close_time",(new Date).getTime()),V.Monitoring.telemetry(q.TelemetryName.INVITE_CLOSE))}},{key:"checkSocial",value:function(){this._hoverOnce||(z.default.startSocials(),this._hoverOnce=!0)}},{key:"renderData",value:function(e,t){var a,n,i,o,r,l=this;return w.default.createElement("jdiv",null,I.default.enable_api_invitation?w.default.createElement(K.default,{show:!!this.state.invitation,popup:this.state.invitation,onOpen:function(e){l.showChat(e,!0),Y.ApiInvitationsManager.markInvitationsRead()},onClose:function(e){l.hideInvitation(),Y.ApiInvitationsManager.markInvitationsRead()}}):null,w.default.createElement("jdiv",(0,p.default)({},(0,A.addNoTranslateClass)(t.wrap),{ref:function(e){return l._labelWrap=e},id:"jvlabelWrap"}),w.default.createElement("jdiv",t.pattern,!this.state.online&&w.default.createElement(L.default,(0,p.default)({iconName:"envelope-offline",color:(0,x.getTextColor)(this.props.app.widget_font_color)},t.labelStatus)),w.default.createElement("jdiv",(0,p.default)({},t.hoverl,{onClick:(0,h.default)(a=this.showChat).call(a,this),onMouseOver:(0,h.default)(n=this.checkSocial).call(n,this)}),M.default.desktop()&&(I.default.joint||H.CallbackUtils.isCallbackEnabled())&&w.default.createElement("jdiv",t.lbContainer,w.default.createElement(k.default,null))),w.default.createElement("jdiv",t.text,this.state.text),(0,x.showAd)()&&w.default.createElement("jdiv",(0,p.default)({},t.copy,{onMouseOver:(0,h.default)(i=this.mouseOver).call(i,this),onMouseOut:(0,h.default)(o=this.mouseOut).call(o,this)}),w.default.createElement(P.default,{orientation:this.props.config.widget_orientation,fontColor:this.props.config.widget_font_color,online:this.props.app.is_online,showChat:(0,h.default)(r=this.showChat).call(r,this)})),w.default.createElement("jdiv",t.leafCont,w.default.createElement(j.default,{orientation:this.props.config.widget_orientation,color:this.state.color2||this.state.color})),M.default.desktop()&&w.default.createElement("jdiv",{className:S.default.copyContainer},w.default.createElement(T.default,{bg:t.wrap.style,color:this.state.color,color2:this.state.color2,orientation:this.props.config.widget_orientation,refWrap:function(){return l._labelWrap},ref:function(e){return l._copyRight=e}})))))}}]),a}(C.default);t.default=ee},46707:function(e,t,a){"use strict";var n=a(87646),i=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a(87672)),r=i(a(18777)),l=n(a(59748)),u=a(26213),s=i(a(45697)),c=i(a(29816)),d=i(a(32822)),f=i(a(31722)),h=a(42796),p=a(85442),m=a(21224),g=i(a(45808)),v=a(24335),_=a(56602),y=a(95561),b=a(44835),E=(i(a(75043)).default.name("LabelContainer"),function(e){var t,a=e.userSettings,n=e.features,i=e.appStore,u=e.callback,s=e.social,E=e.billRu,w=(0,b.getLabelButtons)(a,n,i,u,s),C=(0,l.useState)(!0),T=(0,r.default)(C,2),k=T[0],S=T[1];return i.route===p.Route.HIDDEN?null:l.default.createElement(l.default.Fragment,null,n.apiInvitation?l.default.createElement(d.default,{onClose:function(){S(!0)},onShow:function(){S(!1)}}):null,(0,_.isCustomLabel)()?null:l.default.createElement(f.default,{name:m.Component.LABEL,startCallbacks:(t={},(0,o.default)(t,h.ScriptName.CLOSE_WIDGET,(function(){S(!0)})),(0,o.default)(t,h.ScriptName.OPEN_WIDGET,(function(){S(!0)})),t),endCallbacks:(0,o.default)({},h.ScriptName.OPEN_WIDGET,(function(){S(!1)})),style:{display:"block",zIndex:2147483646,position:"fixed"},duration:"left"===a.widgetOrientation?"600ms":"300ms",animationPostfix:a.widgetOrientation},l.default.createElement(c.default,{ad:(0,b.getAdProp)(),background:(0,b.getBackgroundProp)(a),buttons:w,designer:v.isDesignerEditor,onButtonsClick:function(){(0,y.showChat)(i.isOnline,p.RouterEvent.Navigate)},online:i.isOnline,onLogoClick:function(){(0,y.showChat)(i.isOnline,p.RouterEvent.Navigate)},orientation:a.widgetOrientation,padding:a.widgetPadding,textStyle:(0,b.getTextStyle)(a),color:a.widgetColor,color2:a.widgetColor2,ref:function(e){e&&g.default.set(m.Component.LABEL,e)},showText:!0,text:(0,b.getTextProp)(i,a),billRu:E,show:k,onLabelHover:y.initSocial})))});E.propTypes={appStore:s.default.shape({isOnline:s.default.bool.isRequired,route:s.default.string.isRequired}).isRequired,callback:s.default.any.isRequired,features:s.default.shape({apiInvitation:s.default.bool.isRequired}).isRequired,social:s.default.any.isRequired,userSettings:s.default.shape({widgetOrientation:s.default.string.isRequired,widgetColor:s.default.string.isRequired,widgetColor2:s.default.string,widgetPadding:s.default.string.isRequired}).isRequired,billRu:s.default.bool.isRequired};var w=(0,u.connect)((function(e){return{appStore:e.app,callback:e.callback,features:e.settings.features,social:e.social,userSettings:e.settings.user,billRu:e.settings.system.billRu}}),{})(E);t.default=w},35792:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(54103)),l=n(a(77766)),u=n(a(33032)),s=n(a(26394)),c=n(a(69198)),d=n(a(51379)),f=n(a(214)),h=n(a(66380)),p=n(a(59748)),m=n(a(60021)),g=n(a(62904)),v=n(a(4013)),_=a(56602),y=(n(a(58061)),a(57018)),b=n(a(58165)),E=n(a(96747));function w(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,h.default)(e);if(t){var o=(0,h.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}n(a(75043)).default.name("LabelInvitation");var C=function(e){(0,d.default)(a,e);var t=w(a);function a(e){var n;return(0,s.default)(this,a),(n=t.call(this,e)).state={agent:n.props.agent,text:n.props.text,fade:!1,textHeight:0},n}return(0,c.default)(a,[{key:"componentDidUpdate",value:function(){if(this._popupText){var e=this._popupText.offsetHeight;this.state.textHeight!==e&&this.setState({textHeight:e})}}},{key:"closePopup",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.setState({fade:!0}),(0,u.default)((function(){t.props.onClose&&t.props.onClose(e)}),300)}},{key:"renderAvatar",value:function(e){var t,a;if(!this.props.popup)return null;var n=this.props.popup.agent,i=n.avatar_url,o=!!i&&(0,l.default)(t=(0,l.default)(a="".concat((0,_.getProtocol)())).call(a,g.default.avatar_url,"/avatars/")).call(t,i),r=o?{backgroundImage:"url(".concat(o,")")}:{};return p.default.createElement("jdiv",e.avatar,p.default.createElement("jdiv",{className:v.default.avatarImg,style:r}),p.default.createElement("jdiv",e.agentName,n.display_name))}},{key:"getRenderData",value:function(){var e=this.props.popup&&this.props.popup.text.length<y.PROACTIVE_TEXT_LIMIT;return{styles:{popupWrap:[{popupWrap:!0,__show:this.props.show}],avatar:[{avatar:!0}],popupBlock:[{popupBlock:!0,__show:!this.state.fade&&this.props.show,__short:e,__longText:this.state.textHeight>y.PROACTIVE_MAX_HEIGHT}],text:[{text:!0}],textBox:[{textBox:!0}],agentName:[{agentName:!0}]},style:v.default,data:{text:this.props.popup?this.props.popup.text:null}}}},{key:"renderData",value:function(e,t){var a,n=this;return p.default.createElement("jdiv",t.popupWrap,p.default.createElement("jdiv",(0,o.default)({},t.popupBlock,{onClick:function(e){n.props.onOpen(e,"popup")}}),this.renderAvatar(t),p.default.createElement("jdiv",{className:v.default.closeBlock,onClick:(0,r.default)(a=this.closePopup).call(a,this)},p.default.createElement(b.default,{iconName:"icon-popup-close",color:"#959BA0",hoverColor:"#7D8999",className:v.default.closePopupIcon})),p.default.createElement("jdiv",t.text,p.default.createElement("jdiv",(0,o.default)({},t.textBox,{ref:function(e){n._popupText=e}}),p.default.createElement(E.default,{text:e.text})))))}}]),a}(m.default);t.default=C},29816:function(e,t,a){"use strict";var n=a(87646),i=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a(63978)),r=i(a(20368)),l=i(a(39649)),u=i(a(78914)),s=i(a(34074)),c=i(a(20116)),d=i(a(14310)),f=i(a(86902)),h=i(a(51942)),p=i(a(87672)),m=n(a(59748)),g=i(a(71731)),v=i(a(45697)),_=i(a(94184)),y=i(a(53897)),b=i(a(12907)),E=i(a(59821)),w=i(a(58165)),C=i(a(12844)),T=a(10872);function k(e,t){var a=(0,f.default)(e);if(d.default){var n=(0,d.default)(e);t&&(n=(0,c.default)(n).call(n,(function(t){return(0,s.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,u.default)(a=k(Object(n),!0)).call(a,(function(t){(0,p.default)(e,t,n[t])}));else if(l.default)(0,r.default)(e,(0,l.default)(n));else{var i;(0,u.default)(i=k(Object(n))).call(i,(function(t){(0,o.default)(e,t,(0,s.default)(n,t))}))}}return e}var I=i(a(75043)).default.name("LabelPure"),x=function(e){var t,a=e.ad,n=e.background,i=e.buttons,o=e.designer,r=e.onButtonsClick,l=e.online,u=e.onLogoClick,s=e.orientation,c=e.padding,d=e.textStyle,f=e.color,v=e.color2,k=e.text,x=e.billRu,A=e.show,M=e.onLabelHover,R=(0,m.useRef)(null),N=(0,m.useRef)(null);(0,m.useLayoutEffect)((function(){if(R.current){var e=S({},L());(0,h.default)(R.current.style,e),(0,T.saveLabelPosition)(S(S({},e),{},{offsetWidth:R.current.offsetWidth}))}}));var O,D=function(){var e=R.current&&R.current.offsetWidth,t=R.current&&R.current.offsetHeight,a="rotate(-90deg) translate(20px, 0)",n=Math.round(e/2-t/2);if(!e||!t)return{};if("bottom"===s){if("0"===c)return{left:"40px",bottom:"0px"};if("50"===c)return{right:"calc(50% - ".concat(n,"px)"),bottom:"0px"};if("100"===c)return{right:"30px",bottom:"0px"}}if("left"===s){if("50"===c)return{left:"-".concat(n,"px"),top:"50%",transform:a};if("100"===c)return{left:"-".concat(n,"px"),bottom:"".concat(n,"px"),transform:a}}if("right"===s){if("50"===c)return{right:"-".concat(n,"px"),top:"50%",transform:a};if("100"===c)return{right:"-".concat(n,"px"),bottom:"".concat(n,"px"),transform:a}}},L=function(){return I.log("getWrapStyle",D()),S({background:n},D())};return A?m.default.createElement("jdiv",{ref:R,className:(0,_.default)((t={},(0,p.default)(t,g.default.label,!0),(0,p.default)(t,g.default["_"+s],!0),(0,p.default)(t,g.default._designer,o||!1),(0,p.default)(t,"notranslate",!0),t)),style:L(),id:"jvlabelWrap"},!l&&m.default.createElement(w.default,{iconName:"envelope-offline",color:d.color,className:g.default.labelStatus}),i&&m.default.createElement("jdiv",{className:g.default.hoverl,onClick:r,onMouseOver:M},m.default.createElement("jdiv",{className:g.default.lbContainer},m.default.createElement(C.default,i))),m.default.createElement("jdiv",{className:(0,_.default)((O={},(0,p.default)(O,g.default.text,!0),(0,p.default)(O,g.default._offline,!l),(0,p.default)(O,g.default._noAd,!a),(0,p.default)(O,g.default.contentTransitionWrap,!0),O)),style:d},k),a&&m.default.createElement("jdiv",{className:g.default.copy,onMouseOver:function(){N.current&&N.current.mouseOver()},onMouseOut:function(){N.current&&N.current.mouseOut()}},m.default.createElement(E.default,{leafColor:l?"#18C139":"#62666c",onClick:u,orientation:s,ru:x,textColor:d.color})),m.default.createElement("jdiv",{className:g.default.leafCont},m.default.createElement(y.default,{backgroundColor:v||f,online:l,orientation:s})),m.default.createElement("jdiv",{className:g.default.copyContainer},m.default.createElement(b.default,{ref:N,bg:{background:n},color:f,color2:v,orientation:s,refWrap:function(){return R.current}}))):null};x.propTypes={ad:v.default.bool.isRequired,background:v.default.string.isRequired,buttons:v.default.shape({buttons:v.default.arrayOf(v.default.shape({icon:v.default.string,info:v.default.string,social:v.default.shape({href:v.default.string.isRequired,type:v.default.string.isRequired}),onClick:v.default.func,show:v.default.bool.isRequired,title:v.default.string}).isRequired),orientation:v.default.string}),designer:v.default.bool.isRequired,onButtonsClick:v.default.func,online:v.default.bool.isRequired,onLogoClick:v.default.func,orientation:v.default.string.isRequired,padding:v.default.string.isRequired,textStyle:v.default.any,color:v.default.string,color2:v.default.string,text:v.default.string,billRu:v.default.bool,show:v.default.bool,onLabelHover:v.default.func};var A=x;t.default=A},66273:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(87672)),l=n(a(26394)),u=n(a(69198)),s=n(a(51379)),c=n(a(214)),d=n(a(66380)),f=n(a(59748)),h=n(a(60021)),p=n(a(62652)),m=n(a(48882)),g=n(a(58165)),v=n(a(58061)),_=a(17674),y=a(85442);function b(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}n(a(75043)).default.name("Leaf");var E=function(e){(0,s.default)(a,e);var t=b(a);function a(e){return(0,l.default)(this,a),t.call(this,e)}return(0,u.default)(a,[{key:"isOnline",value:function(){return p.default.is_online||this.props.ignoreOffline}},{key:"getRenderData",value:function(){var e=this.isOnline()?"#18C139":"#5e5f61",t="call"===this.props.type?"_bottom":"_"+this.props.orientation;return{styles:{leaf:[(0,r.default)({leaf:!0},t,!0)],cssLeaf:[{cssLeaf:!0}]},style:m.default,data:{color:e}}}},{key:"renderData",value:function(e,t){return v.default.mobileOrTablet()?null:f.default.createElement("jdiv",(0,o.default)({},t.leaf,{onClick:function(){_.Router.next(y.RouterEvent.ToDebug)}}),f.default.createElement(g.default,(0,o.default)({color:this.props.color,color2:e.color,iconName:this.isOnline()?"leafBottom":"leafBottomOffline"},t.cssLeaf)))}}]),a}(h.default);t.default=E},55129:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(54103)),r=n(a(5872)),l=n(a(87672)),u=n(a(26394)),s=n(a(69198)),c=n(a(51379)),d=n(a(214)),f=n(a(66380)),h=n(a(59748)),p=n(a(60021)),m=n(a(62904)),g=a(56602),v=n(a(62652)),_=n(a(58165)),y=n(a(9186));function b(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}n(a(75043)).default.name("Logo");var E=function(e){(0,c.default)(a,e);var t=b(a);function a(e){return(0,u.default)(this,a),t.call(this,e)}return(0,s.default)(a,[{key:"getRenderData",value:function(){return{styles:{logo:[(0,l.default)({logo:!0},"_"+this.props.orientation,!0)],logoIcon:[{logoIcon:!0,__ru:!!m.default.bill_ru},{color:(0,g.getTextColor)(v.default.widget_font_color)}]},style:y.default}}},{key:"showChat",value:function(e){this.props.showChat(e,!0)}},{key:"renderLogo",value:function(e){var t=m.default.bill_ru?"logo-jivosite":"logo-jivochat",a=this.props.online?"#18C139":"#62666c";return h.default.createElement(_.default,(0,r.default)({iconName:t,color:(0,g.getTextColor)(v.default.widget_font_color),color2:a},e.logoIcon))}},{key:"renderData",value:function(e,t){var a;return h.default.createElement("jdiv",t.logo,h.default.createElement("jdiv",{className:y.default.hoverBox,onClick:(0,o.default)(a=this.showChat).call(a,this)}),this.renderLogo(t),h.default.createElement("jdiv",{className:y.default.fallback}))}}]),a}(p.default);t.default=E},95561:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.initSocial=t.hideInvitation=t.showChat=void 0;var i=a(81189),o=n(a(47321)),r=n(a(40695)),l=a(75245),u=a(33367),s=a(63242),c=a(17674),d=a(85442),f=a(42796);t.showChat=function(e,t){i.appDispatchers.setAppIsFocused(1),o.default.chatOpenByClient=!0,c.Router.next(t),i.transitionDispatchers.startTransition(f.ScriptName.OPEN_WIDGET),e?(r.default.trackChatOpenedByClick(),l.messageActions.deleteUnansweredOfflineSystemInvite(),l.messageActions.addPrechatMessage()):(l.messageActions.deleteUnansweredOfflineSystemInvite(),l.messageActions.offlineSystemInvite(),r.default.trackOfflineFormOpenedByClick()),u.Monitoring.telemetry(s.TelemetryName.WIDGET_CLICK)};t.hideInvitation=function(){c.Router.next(d.RouterEvent.CloseWindow),u.Monitoring.telemetry(s.TelemetryName.INVITE_CLOSE)};t.initSocial=function(){o.default.initSocial()}},44835:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.getLabelButtons=t.getTextStyle=t.getTextProp=t.getBackgroundProp=t.getAdProp=t.getAnimationPostfix=void 0;var i=n(a(77766)),o=a(56602),r=n(a(62652)),l=(a(17674),a(36143)),u=a(85442),s=a(75245),c=a(33367),d=a(63242),f=a(51139),h=n(a(75119)),p=n(a(86999)),m=n(a(40695)),g=a(81189),v=a(95561);t.getAnimationPostfix=function(e){!l.RouterUtils.isChatMinAvailable()&&e.widgetOrientation};t.getAdProp=function(){return(0,o.showAd)()};t.getBackgroundProp=function(e){return p.default.getGradientBg(e.widgetColor,e.widgetColor2)};t.getTextProp=function(e,t){return e.isOnline?t.onlineWidgetLabel:t.offlineWidgetLabel};t.getTextStyle=function(e){var t=e.fontType.split(" "),a=(0,o.getTextColor)(e.widgetFontColor);return{fontSize:e.fontSize+"px",fontFamily:e.fontFamily+", Arial",fontWeight:"bold"===t[0]?"bold":null,fontStyle:"bold"!==t[0]?t[0]:t[1]||null,color:a}};t.getLabelButtons=function(e,t,a,n,i){var o=[];i.vk&&o.push(y(a,t,i,e)),i.fb&&o.push(b(a,t,i,e));var r=!(!t.joint||!t.joint.wa)&&t.joint.wa;return n.available&&o.push(E(a,n,e)),r&&o.push(w(r)),(i.vk||i.fb||n.available||r)&&o.push(C(a,n,i,r)),{buttons:o,orientation:e.widgetOrientation}};var _=function(e){var t=e.target.getAttribute("jv-social-type");m.default.trackSocial(t),c.Monitoring.telemetry(d.TelemetryName.LABEL_BUTTONS+t)},y=function(e,t,a,n){return{show:a.vk,social:{type:"vk",href:k(t)},title:(0,h.default)("label_vk_text"),info:I(e,n),onClick:function(e){e.stopPropagation(),_(e)}}},b=function(e,t,a,n){return{show:a.fb,social:{type:"fb",href:S(t)},title:(0,h.default)("label_fb_text"),info:I(e,n),onClick:function(e){e.stopPropagation(),_(e)}}},E=function(e,t,a){return{icon:"callback",onClick:function(t){t.stopPropagation(),g.userDispatchers.setCallHeaderText(null),(0,v.showChat)(e.isOnline,u.RouterEvent.ToCall),c.Monitoring.telemetry(d.TelemetryName.LABEL_BUTTONS_CALL)},show:t.available,title:T(a,t)}},w=function(e){return{icon:"wa",onClick:function(t){t.stopPropagation(),window.open("https://wa.me/"+e),c.Monitoring.telemetry(d.TelemetryName.LABEL_BUTTONS_WA)},show:!0,title:"WhatsApp"}},C=function(e,t,a,n){return{icon:"chat",onClick:function(t){t.stopPropagation(),r.default.is_focused=1,s.messageActions.addPrechatMessage(),(0,v.showChat)(e.isOnline,u.RouterEvent.Navigate),c.Monitoring.telemetry(d.TelemetryName.LABEL_BUTTONS_CHAT)},show:a.vk||a.fb||t.available||n,title:1===e.isOnline?(0,h.default)("cw_typeInChat"):(0,h.default)("lblLeaveMessage")}},T=function(e,t){return t.isDelayed?(0,h.default)("callback_delayed_button_submit"):(0,i.default)(a=(0,i.default)(n="".concat((0,h.default)("cw_callAfter"),"\n")).call(n,e.callback.time," ")).call(a,(0,f.getTextSeconds)(e.callback.time),"!");var a,n},k=function(e){return e.joint&&e.joint.vk&&e.joint.vk.joint_id?"https://vk.com/im?sel=-"+e.joint.vk.joint_id:null},S=function(e){return e.joint&&e.joint.fb&&e.joint.fb.joint_id?"https://www.facebook.com/messages/t/"+e.joint.fb.joint_id:null},I=function(e,t){return 1===e.isOnline?(0,h.default)("social_text_"+(t.socialResponse||1)):null}},2183:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(59748)),o=n(a(73525)),r=n(a(45697)),l=n(a(94184)),u=function(e){var t=e.icon,a=e.info,n=e.social,r=e.onClick,u=e.show,s=e.title;return!u||!n&&!t||n&&t?null:i.default.createElement("jdiv",{className:o.default.labelButton,onClick:r},n&&i.default.createElement("a",{className:(0,l.default)([o.default.text,o.default[n.type]]),onClick:r,target:"_blank",rel:"noopener noreferrer nofollow","jv-social-type":n.type,href:n.href},s&&i.default.createElement("jdiv",{className:o.default.title},s),a&&i.default.createElement("jdiv",{className:o.default.info},a)),t&&i.default.createElement("jdiv",{className:(0,l.default)([o.default.text,o.default[t]])},s&&i.default.createElement("jdiv",{className:o.default.title},s)))};u.propTypes={icon:r.default.string,info:r.default.string,social:r.default.shape({href:r.default.string.isRequired,type:r.default.string.isRequired}),onClick:r.default.func,show:r.default.bool.isRequired,title:r.default.string};var s=i.default.memo(u);t.default=s},28364:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(87672)),l=n(a(54103)),u=n(a(26394)),s=n(a(69198)),c=n(a(5824)),d=n(a(51379)),f=n(a(214)),h=n(a(66380)),p=n(a(59748)),m=n(a(60021)),g=n(a(16132)),v=n(a(75043)),_=n(a(62904)),y=n(a(75119)),b=a(51139),E=n(a(62652)),w=n(a(36216)),C=n(a(6991)),T=a(17674),k=a(85442),S=a(37916),I=a(81426),x=a(75245),A=a(33367),M=a(63242),R=n(a(40695)),N=a(81189);function O(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,h.default)(e);if(t){var o=(0,h.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}var D=v.default.name("LabelButtons"),L=function(e){(0,d.default)(a,e);var t=O(a);function a(e){var n,i;return(0,u.default)(this,a),(i=t.call(this,e)).state={hover:!1,callback:!1,vk:!1,fb:!1,wa:_.default.joint&&_.default.joint.wa},i.displayLabelButtons=(0,l.default)(n=i.displayLabelButtons).call(n,(0,c.default)(i)),i}return(0,s.default)(a,[{key:"componentDidMount",value:function(){var e=this;D.log("mounted"),this.on(w.default,(function(){S.CallbackUtils.isCallbackEnabled()?e.setState({callback:!0}):e.setState({callback:!1})})),this.init()}},{key:"init",value:function(){var e=this;S.CallbackUtils.isCallbackEnabled()&&this.setState({callback:!0}),_.default.joint&&this.on(C.default,{update:function(t){e.setState(t)}})}},{key:"openChat",value:function(){E.default.is_focused=1,T.Router.next(k.RouterEvent.Navigate),x.messageActions.addPrechatMessage(),A.Monitoring.telemetry(M.TelemetryName.LABEL_BUTTONS_CHAT)}},{key:"openCallForm",value:function(){N.userDispatchers.setCallHeaderText(null),T.Router.next(k.RouterEvent.ToCall),A.Monitoring.telemetry(M.TelemetryName.LABEL_BUTTONS_CALL)}},{key:"openWa",value:function(e){e.stopPropagation(),window.open("https://wa.me/"+_.default.joint.wa),A.Monitoring.telemetry(M.TelemetryName.LABEL_BUTTONS_WA)}},{key:"socialClick",value:function(e){var t=e.target.getAttribute("jv-social-type");R.default.trackSocial(t),A.Monitoring.telemetry(M.TelemetryName.LABEL_BUTTONS+t)}},{key:"displayLabelButtons",value:function(){return this.state.callback||this.state.fb||this.state.vk||this.state.wa?"block":"none"}},{key:"getRenderData",value:function(){return{styles:{wrap:[(0,r.default)({LabelButtons:!0},"_"+_.default.widget_orientation,!0),{display:this.displayLabelButtons()}],textVk:[{text:!0,labelVk:!0}],textFb:[{text:!0,labelFb:!0}],textCall:[{text:!0,callme:!0}],wa:[{text:!0,wa:!0}],textChat:[{text:!0,chat:!0}],buttonsCorner:[(0,r.default)({buttonsCorner:!0},_.default.widget_orientation+"Corner",!0)]},style:g.default}}},{key:"renderCallText",value:function(){return w.default.cw_call_delayed?p.default.createElement("jdiv",{className:g.default.title},(0,y.default)("callback_delayed_button_submit")):p.default.createElement("jdiv",{className:g.default.title},(0,y.default)("cw_callAfter")," ",_.default.callback_settings.time," ",(0,b.getTextSeconds)(_.default.callback_settings.time),"!")}},{key:"renderData",value:function(e,t){var a,n,i,r,u;return p.default.createElement("jdiv",t.wrap,this.state.vk&&p.default.createElement("jdiv",{className:g.default.labelButton},p.default.createElement("a",(0,o.default)({},t.textVk,{onClick:(0,l.default)(a=this.socialClick).call(a,this),target:"_blank",rel:"nofollow","jv-social-type":"vk",href:"https://vk.com/im?sel=-"+_.default.joint.vk.joint_id}),p.default.createElement("jdiv",{className:g.default.title,"jv-social-type":"vk"},(0,y.default)("label_vk_text")),1==E.default.is_online&&p.default.createElement("jdiv",{className:g.default.info,"jv-social-type":"vk"},(0,y.default)("social_text_"+(_.default.social_response||1))))),this.state.fb&&p.default.createElement("jdiv",{className:g.default.labelButton},p.default.createElement("a",(0,o.default)({},t.textFb,{onClick:(0,l.default)(n=this.socialClick).call(n,this),target:"_blank",rel:"nofollow","jv-social-type":"fb",href:"https://www.facebook.com/messages/t/"+_.default.joint.fb.joint_id}),p.default.createElement("jdiv",{className:g.default.title,"jv-social-type":"fb"},(0,y.default)("label_fb_text")),1==E.default.is_online&&p.default.createElement("jdiv",{className:g.default.info,"jv-social-type":"fb"},(0,y.default)("social_text_"+(_.default.social_response||1))))),this.state.callback&&p.default.createElement("jdiv",{className:g.default.labelButton},p.default.createElement("jdiv",(0,o.default)({},t.textCall,{onClick:(0,l.default)(i=this.openCallForm).call(i,this)}),this.renderCallText())),this.state.wa&&p.default.createElement("jdiv",{className:g.default.labelButton},p.default.createElement("jdiv",(0,o.default)({},t.wa,{onClick:(0,l.default)(r=this.openWa).call(r,this)}),"WhatsApp")),p.default.createElement("jdiv",{className:g.default.labelButton},p.default.createElement("jdiv",(0,o.default)({},t.textChat,{onClick:(0,l.default)(u=this.openChat).call(u,this)}),p.default.createElement("jdiv",{className:g.default.title},_.default.chat_mode==I.ChatMode.ONLINE?(0,y.default)("cw_typeInChat"):(0,y.default)("lblLeaveMessage")))),p.default.createElement("jdiv",t.buttonsCorner))}}]),a}(m.default);t.default=L},12844:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(5872)),o=n(a(2991)),r=n(a(87672)),l=n(a(59748)),u=n(a(52156)),s=n(a(2183)),c=n(a(94184)),d=n(a(45697)),f=function(e){var t,a,n=e.buttons,d=e.orientation;return n.length>0?l.default.createElement("jdiv",{className:(0,c.default)((t={},(0,r.default)(t,u.default.labelButtons,!0),(0,r.default)(t,u.default["_"+d],!0),t))},(0,o.default)(n).call(n,(function(e,t){return l.default.createElement(s.default,(0,i.default)({key:t},e))})),l.default.createElement("jdiv",{className:(0,c.default)((a={},(0,r.default)(a,u.default.buttonsCorner,!0),(0,r.default)(a,u.default[d+"Corner"],!0),a))})):null};f.propTypes={buttons:d.default.arrayOf(d.default.shape({icon:d.default.string,info:d.default.string,social:d.default.shape({href:d.default.string.isRequired,type:d.default.string.isRequired}),onClick:d.default.func,show:d.default.bool.isRequired,title:d.default.string}).isRequired),orientation:d.default.string.isRequired};var h=l.default.memo(f);t.default=h},76775:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(54103)),l=n(a(33032)),u=n(a(26394)),s=n(a(69198)),c=n(a(51379)),d=n(a(214)),f=n(a(66380)),h=n(a(59748)),p=n(a(60021)),m=n(a(34197)),g=a(57018),v=n(a(58165));function _(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var y=function(e){(0,c.default)(a,e);var t=_(a);function a(e){var n;return(0,u.default)(this,a),(n=t.call(this,e)).state={agent:n.props.agent,text:n.props.text,fade:!1,textHeight:0},n}return(0,s.default)(a,[{key:"componentDidUpdate",value:function(){if(this._popupText){var e=this._popupText.offsetHeight;this.state.textHeight!==e&&this.setState({textHeight:e})}}},{key:"closePopup",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.setState({fade:!0}),(0,l.default)((function(){t.props.onClose&&t.props.onClose(e)}),300)}},{key:"renderAvatar",value:function(e){if(!this.props.popup)return null;var t=this.props.popup.agent,a=t.avatar_url?{backgroundImage:"url(".concat(t.avatar_url,")")}:{};return h.default.createElement("jdiv",e.avatar,h.default.createElement("jdiv",{className:m.default.avatarImg,style:a}),h.default.createElement("jdiv",e.agentName,t.display_name))}},{key:"getRenderData",value:function(){var e=this.props.popup&&this.props.popup.text.length<g.PROACTIVE_TEXT_LIMIT;return{styles:{popupWrap:[{popupWrap:!0,__show:this.props.show}],avatar:[{avatar:!0}],popupBlock:[{popupBlock:!0,__show:!this.state.fade&&this.props.show,__short:e,__longText:this.state.textHeight>g.PROACTIVE_MAX_HEIGHT}],text:[{text:!0}],textBox:[{textBox:!0}],agentName:[{agentName:!0}]},style:m.default,data:{text:this.props.popup?this.props.popup.text:null}}}},{key:"renderData",value:function(e,t){var a,n=this;return h.default.createElement("jdiv",t.popupWrap,h.default.createElement("jdiv",(0,o.default)({},t.popupBlock,{onClick:function(e){n.props.onOpen(e,"popup")}}),this.renderAvatar(t),h.default.createElement("jdiv",{className:m.default.closeBlock,onClick:(0,r.default)(a=this.closePopup).call(a,this)},h.default.createElement(v.default,{iconName:"icon-popup-close",color:"#959BA0",hoverColor:"#7D8999",className:m.default.closePopupIcon})),h.default.createElement("jdiv",t.text,h.default.createElement("jdiv",(0,o.default)({},t.textBox,{dangerouslySetInnerHTML:{__html:e.text},ref:function(e){n._popupText=e}})))))}}]),a}(p.default);t.default=y},32822:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(59748)),o=a(26213),r=n(a(45697)),l=n(a(76775)),u=a(57539),s=a(85442),c=a(8479),d=a(66481),f=function(e){var t=e.appStore,a=e.systemSettings,n=e.onShow,o=e.onClose,r={text:(0,c.getLabelInvitationText)(),agent:(0,c.getLabelInvitationAgent)(a)};return t.route===s.Route.LABEL_INVITATION&&n(),i.default.createElement(u.Path,{paths:[s.Route.LABEL_INVITATION],name:"LabelInvitation",transition:"Fade",duration:300,withMountTransition:!0,withUnmountTransition:!0,cheap:!0},i.default.createElement(l.default,{show:!0,popup:r,onOpen:function(){(0,d.openInvitation)(t.isOnline)},onClose:function(){(0,d.closeInvitation)(),o()}}))};f.propTypes={appStore:r.default.shape({isOnline:r.default.bool.isRequired}).isRequired,systemSettings:r.default.any.isRequired,onClose:r.default.func,onShow:r.default.func};var h=(0,o.connect)((function(e){return{appStore:e.app,callback:e.callback,features:e.settings.features,social:e.social,systemSettings:e.settings.system,userSettings:e.settings.user}}),{})(f);t.default=h},66481:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.closeInvitation=t.openInvitation=void 0;var n=a(95561),i=a(60906),o=a(17674),r=a(85442),l=a(33367),u=a(63242);t.openInvitation=function(e){(0,n.showChat)(e,r.RouterEvent.Navigate),i.ApiInvitationsManager.markInvitationsRead()};t.closeInvitation=function(){o.Router.next(r.RouterEvent.CloseWindow),l.Monitoring.telemetry(u.TelemetryName.INVITE_CLOSE)}},8479:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.getLabelInvitationAgent=t.getLabelInvitationText=void 0;var i=n(a(77766)),o=a(56602),r=n(a(99357));t.getLabelInvitationText=function(){var e=r.default.getLastUnreadApiInvitation();return e&&e.get("text")||""};t.getLabelInvitationAgent=function(e){var t=r.default.getLastUnreadApiInvitation(),a=t&&t.get("body")||{};if(a.avatar_url){var n,l,u=(0,i.default)(n=(0,i.default)(l="".concat((0,o.getProtocol)())).call(l,e.avatarUrl,"/avatars/")).call(n,a.avatar_url);a.avatar_url=u}return a}},52673:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(54103)),l=n(a(26394)),u=n(a(69198)),s=n(a(51379)),c=n(a(214)),d=n(a(66380)),f=n(a(59748)),h=n(a(5711)),p=n(a(60021)),m=n(a(68806));function g(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var v=function(e){(0,s.default)(a,e);var t=g(a);function a(e){return(0,l.default)(this,a),t.call(this,e)}return(0,u.default)(a,[{key:"onTouchStart",value:function(e){e.preventDefault(),this.props.onTouchStart()}},{key:"getRenderData",value:function(){return{styles:{wrap:[{wrap:!0,_extraPadding:m.default.getUserZoom()>1},{zIndex:this.props.landscape?"2147483647":null}]},style:h.default}}},{key:"renderData",value:function(e,t){var a;return f.default.createElement("jdiv",(0,o.default)({},t.wrap,{onTouchStart:(0,r.default)(a=this.onTouchStart).call(a,this)}),this.props.landscape?f.default.createElement("jdiv",{className:h.default.image}):null)}}]),a}(p.default);t.default=v},53897:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(5872)),o=n(a(87672)),r=n(a(59748)),l=n(a(68691)),u=n(a(58165)),s=n(a(58061)),c=n(a(45697)),d=n(a(94184)),f=a(70645),h=function(e){var t,a=e.backgroundColor,n=e.onClick,c=e.online,h=e.orientation,p=e["data-qa-id"];return s.default.mobileOrTablet()?null:r.default.createElement("jdiv",(0,i.default)({className:(0,d.default)((t={},(0,o.default)(t,l.default.leaf,!0),(0,o.default)(t,l.default["_"+h],!0),t)),onClick:n||null},(0,f.withLocator)(p)),r.default.createElement(u.default,{color:a,color2:c?"#18C139":"#5e5f61",iconName:c?"leafBottom":"leafBottomOffline",className:l.default.cssLeaf}))};h.propTypes={backgroundColor:c.default.string.isRequired,onClick:c.default.func,online:c.default.bool.isRequired,orientation:c.default.string.isRequired,"data-qa-id":c.default.string};var p=r.default.memo(h);t.default=p},59821:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(87672)),o=n(a(59748)),r=n(a(58165)),l=n(a(60284)),u=n(a(45697)),s=n(a(94184)),c=function(e){var t,a,n=e.ru,u=e.leafColor,c=e.onClick,d=e.orientation,f=e.textColor;return o.default.createElement("jdiv",{className:(0,s.default)((t={},(0,i.default)(t,l.default.logo,!0),(0,i.default)(t,l.default["_"+d],!0),t))},o.default.createElement("jdiv",{className:l.default.hoverBox,onClick:function(e){c(e,!0)}}),o.default.createElement(r.default,{iconName:n?"logo-jivosite":"logo-jivochat",color:f,color2:u,className:(0,s.default)((a={},(0,i.default)(a,l.default.logoIcon,!0),(0,i.default)(a,l.default.__ru,n),a))}),o.default.createElement("jdiv",{className:l.default.fallback}))};c.propTypes={ru:u.default.bool.isRequired,leafColor:u.default.string.isRequired,onClick:u.default.func.isRequired,orientation:u.default.string.isRequired,textColor:u.default.string.isRequired};var d=o.default.memo(c);t.default=d},96747:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(2991)),o=n(a(78580)),r=n(a(59748)),l=n(a(45697)),u=n(a(7886)),s=n(a(13245)),c=a(33367),d=a(63242),f=n(a(71168)),h=function e(t){var a=t.text,n=t.nodes,l=a?(0,u.default)(a):n||[],h=function(e){return r.default.createElement(s.default,{text:e})},p=function(t){return 1===t.block.length&&"image"===t.block[0].type?(t.block[0].linkUrl=t.url,_(t.block[0])):r.default.createElement("a",{target:"_blank",onClick:function(){c.Monitoring.telemetry(d.TelemetryName.MARKDOWN_LINK_CLICK,{param1:t.url})},rel:"nofollow noopener noreferrer",href:t.url},r.default.createElement(e,{nodes:t.block}))},m=function(t){return r.default.createElement("strong",null,r.default.createElement(e,{nodes:t.block}))},g=function(t){return r.default.createElement("em",null,r.default.createElement(e,{nodes:t.block}))},v=function(t){return r.default.createElement("s",null,r.default.createElement(e,{nodes:t.block}))},_=function(e){var t,a,n,i=e.linkUrl&&((0,o.default)(t=e.linkUrl).call(t,"youtube")||(0,o.default)(a=e.linkUrl).call(a,"youtu.be")),l=!i&&(0,o.default)(n=e.url).call(n,".gif");return r.default.createElement("a",{href:e.linkUrl||e.url,title:e.alt,target:"_blank",rel:"nofollow noopener noreferrer",className:f.default.imageLink},r.default.createElement("img",{src:e.url,title:e.alt,alt:e.alt,loading:"lazy",className:f.default.image}),l?r.default.createElement("jdiv",{className:f.default.mediaType},"GIF"):null,i?r.default.createElement("jdiv",{className:f.default.mediaType},"Youtube"):null)};return r.default.createElement(r.default.Fragment,null,(0,i.default)(l).call(l,(function(e){return function(e){switch(e.type){case"text":return h(e.text);case"bold":return m(e);case"italic":return g(e);case"strike":return v(e);case"link":return p(e);case"image":return _(e);default:return null}}(e)})))};h.propTypes={text:l.default.string.isRequired,nodes:l.default.any};var p=h;t.default=p},13245:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(2991)),o=n(a(81643)),r=n(a(3649)),l=n(a(59036)),u=n(a(78914)),s=n(a(59748)),c=n(a(45697)),d=n(a(77244)),f=function(e){var t=e.text,a=function e(t){var a=[],n=t.match(/\r|\n/);if(n){var i=(0,r.default)(t).call(t,0,n.index),o=(0,r.default)(t).call(t,n.index+1);a.push({text:i,type:"text"}),a.push({type:"br"}),a.push.apply(a,(0,l.default)(e(o)))}else a.push({text:t,type:"text"});return a},n=function(e){if("br"===e.type)return[e];var t=[],a=[];if(d.default.parse(e.text,(function(e){var t=d.default.toCodePoint(e);a.push({icon:e,code:t})})),a.length>0){var n=e.text;(0,u.default)(a).call(a,(function(e){var a=(0,o.default)(n).call(n,e.icon);t.push({text:(0,r.default)(n).call(n,0,a),type:"text"}),t.push({type:"emoji",icon:e.icon,code:e.code}),n=n.replace(e.icon,""),n=(0,r.default)(n).call(n,a)})),t.push({text:n,type:"text"})}else t.push(e);return t},c=function(e){return s.default.createElement(s.default.Fragment,null,e)},f=function(){return s.default.createElement(s.default.Fragment,null,s.default.createElement("br",null))},h=function(e){var t=e.code;return s.default.createElement(s.default.Fragment,null,s.default.createElement(d.default,{icon:t,className:"emojiMessages"}))},p=function(e){var t=[],i=a(e,t);return(0,u.default)(i).call(i,(function(e){t.push.apply(t,(0,l.default)(n(e)))})),t}(t);return s.default.createElement(s.default.Fragment,null,(0,i.default)(p).call(p,(function(e){return function(e){switch(e.type){case"text":return c(e.text);case"br":return f();case"emoji":return h(e);default:return c(e.text)}}(e)})))};f.propTypes={text:c.default.string,children:c.default.oneOfType([c.default.arrayOf(c.default.node),c.default.node]).isRequired};var h=f;t.default=h},90140:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(87672)),r=n(a(5872)),l=n(a(26394)),u=n(a(69198)),s=n(a(51379)),c=n(a(214)),d=n(a(66380)),f=n(a(59748)),h=n(a(60021)),p=n(a(8717)),m=n(a(68806)),g=n(a(99357)),v=n(a(8282)),_=n(a(69961)),y=n(a(58061)),b=n(a(62904)),E=n(a(16810)),w=n(a(45808)),C=a(21224),T=n(a(80743)),k=a(8565);function S(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var I=function(e){(0,s.default)(a,e);var t=S(a);function a(e){var n;return(0,l.default)(this,a),(n=t.call(this,e)).state={textSize:m.default.getTextSize(),transparent:e.isPreview},n}return(0,u.default)(a,[{key:"componentDidMount",value:function(){var e=this;m.default.listenChangeZoom((function(){var t=m.default.getTextSize();t!==e.state.textSize&&e.setState({textSize:t})}))}},{key:"isLastMessage",value:function(){var e=g.default.getLastMessage(),t=w.default.getComponent(C.Component.SCROLL_CONTAINER);return!(!this.base||!t)&&(!this.base.nextSibling&&e.get("type")===k.MessageType.MESSAGE&&(e.get("from")===k.MessageInitiator.AGENT||"bot"===e.get("from"))&&t.animated)}},{key:"renderAvatar",value:function(e,t){if(t.msgAgent)return t.isBot?f.default.createElement("jdiv",(0,r.default)({},e.avatarBox,{title:t.agentName}),f.default.createElement(T.default,{url:t.msgAgent.avatar_url?t.msgAgent.avatar_url:null})):f.default.createElement("jdiv",(0,r.default)({},e.avatarBox,{title:t.agentName}),f.default.createElement(E.default,{avatars:[t.msgAgent],connected:!1,type:"chat"}))}},{key:"getRenderData",value:function(){var e,t,a=this.props.messages[0];t=this.props.messages&&"invoice"===a.get("type")?"while":b.default.bubble_color||"green";var n=null,i=a.get("from_id"),r=v.default.getAgentById(i),l="bot"===a.get("from");if(a.get("type")===k.MessageType.PROACTIVE?n=(r=a.get("body")&&a.get("body").agent_id?a.get("body"):_.default).display_name:r&&!l&&(n=r.get("display_name")),l){var u=v.default.getBotById(i);u&&(n=(r=u.toJSON()).display_name)}var s=y.default.ios()?{"-webkit-text-size-adjust":this.state.textSize}:null;return{styles:{main:[(e={main:!0,_mobile:y.default.mobileOrTablet()},(0,o.default)(e,"__"+t,!1),(0,o.default)(e,"_transparent",this.state.transparent),(0,o.default)(e,"_noagent",!a.get("from_id")&&!l),e),s],agentName:[{agentName:!0}],avatarBox:[{avatarBox:!0,__isAnimated:this.isLastMessage()}]},style:p.default,data:{msgAgent:r,agentName:n,isBot:l}}}},{key:"renderData",value:function(e,t){return f.default.createElement("jdiv",t.main,e.isBot||e.agentName?f.default.createElement("jdiv",t.agentName,e.isBot?f.default.createElement(f.default.Fragment,null,e.agentName||"Bot",f.default.createElement("jdiv",{className:p.default.botBadge},"bot")):e.agentName):"",this.renderAvatar(t,e),f.default.createElement("jdiv",{className:p.default.content},this.props.children))}}]),a}(h.default);t.default=I},68205:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(87672)),r=n(a(26394)),l=n(a(69198)),u=n(a(51379)),s=n(a(214)),c=n(a(66380)),d=n(a(59748)),f=n(a(58061)),h=n(a(62904)),p=n(a(90140)),m=n(a(8717));function g(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var v=function(e){(0,u.default)(a,e);var t=g(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,l.default)(a,[{key:"getRenderData",value:function(){var e,t,a=this.props.messages[0];t=this.props.messages&&"invoice"===a.get("type")?"while":h.default.bubble_color||"green";var n=f.default.ios()?{"-webkit-text-size-adjust":this.state.textSize}:null;return{styles:{main:[(e={main:!0,_mobile:f.default.mobileOrTablet()},(0,o.default)(e,"__"+t,!1),(0,o.default)(e,"_transparent",this.state.transparent),(0,o.default)(e,"_noagent",!0),e),n],agentName:[{agentName:!0}],avatarBox:[{avatarBox:!0,__isAnimated:this.isLastMessage()}]},style:m.default,data:{msgAgent:null,agentName:null}}}},{key:"renderData",value:function(e,t){return d.default.createElement("jdiv",t.main,e.agentName?d.default.createElement("jdiv",t.agentName,e.agentName):"",d.default.createElement("jdiv",{className:m.default.content},this.props.children))}}]),a}(p.default);t.default=v},43738:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(87672)),r=n(a(26394)),l=n(a(69198)),u=n(a(51379)),s=n(a(214)),c=n(a(66380)),d=n(a(59748)),f=n(a(60021)),h=n(a(62904)),p=n(a(58061)),m=n(a(68806)),g=n(a(74336));function v(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var _=function(e){(0,u.default)(a,e);var t=v(a);function a(e){var n;return(0,r.default)(this,a),(n=t.call(this,e)).state={textSize:m.default.getTextSize()},n}return(0,l.default)(a,[{key:"componentDidMount",value:function(){var e=this;m.default.listenChangeZoom((function(){var t=m.default.getTextSize();t!==e.state.textSize&&e.setState({textSize:t})}))}},{key:"getRenderData",value:function(){var e,t=p.default.ios()?{"-webkit-text-size-adjust":this.state.textSize}:null,a=this.props.messages[0];return e=this.props.messages&&"invoice"===a.get("type")?"while":h.default.bubble_color||"green",{styles:{main:[(0,o.default)({main:!0,_mobile:p.default.mobileOrTablet()},"__"+e,!0),t],time:[{time:!0,_mobile:p.default.mobileOrTablet()},t]},style:g.default}}},{key:"renderData",value:function(e,t){return d.default.createElement("jdiv",t.main,d.default.createElement("jdiv",{className:g.default.content},this.props.children))}}]),a}(f.default);t.default=_},33104:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i,o=n(a(63978)),r=n(a(20368)),l=n(a(39649)),u=n(a(34074)),s=n(a(20116)),c=n(a(14310)),d=n(a(86902)),f=n(a(1068)),h=n(a(5872)),p=n(a(2991)),m=n(a(78914)),g=n(a(33032)),v=n(a(54103)),_=n(a(59340)),y=n(a(26394)),b=n(a(69198)),E=n(a(51379)),w=n(a(214)),C=n(a(66380)),T=n(a(87672)),k=n(a(59748)),S=n(a(60021)),I=n(a(58061)),x=n(a(62107)),A=n(a(62904)),M=a(56602),R=n(a(47321)),N=n(a(18228)),O=n(a(62652)),D=n(a(36216)),L=n(a(36421)),P=n(a(20748)),j=n(a(55471)),B=n(a(71093)),F=n(a(99357)),H=n(a(69961)),W=n(a(67966)),U=n(a(8282)),z=n(a(531)),G=n(a(16810)),V=n(a(12907)),q=n(a(76644)),K=n(a(72961)),Y=n(a(39401)),Z=n(a(63686)),J=n(a(54280)),X=n(a(22620)),$=n(a(38061)),Q=n(a(12090)),ee=n(a(37117)),te=n(a(28412)),ae=n(a(45423)),ne=a(17674),ie=a(85442),oe=n(a(45808)),re=n(a(98077)),le=a(21224),ue=n(a(96153)),se=n(a(75043)),ce=a(75245),de=n(a(75119)),fe=a(8565),he=n(a(17031)),pe=a(24335),me=a(33367),ge=a(63242),ve=a(63465),_e=a(99112),ye=a(77347),be=n(a(80743)),Ee=n(a(74819)),we=n(a(57371)),Ce=a(23582);function Te(e,t){var a=(0,d.default)(e);if(c.default){var n=(0,c.default)(e);t&&(n=(0,s.default)(n).call(n,(function(t){return(0,u.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function ke(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,m.default)(a=Te(Object(n),!0)).call(a,(function(t){(0,T.default)(e,t,n[t])}));else if(l.default)(0,r.default)(e,(0,l.default)(n));else{var i;(0,m.default)(i=Te(Object(n))).call(i,(function(t){(0,o.default)(e,t,(0,u.default)(n,t))}))}}return e}function Se(e){var t=function(){if("undefined"==typeof Reflect||!f.default)return!1;if(f.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,f.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,C.default)(e);if(t){var i=(0,C.default)(this).constructor;a=(0,f.default)(n,arguments,i)}else a=n.apply(this,arguments);return(0,w.default)(this,a)}}var Ie=se.default.name("MessagesMain"),xe=(i={},(0,T.default)(i,fe.MessageType.MESSAGE,K.default),(0,T.default)(i,fe.MessageType.PROACTIVE,K.default),(0,T.default)(i,fe.MessageType.SEPARATOR,q.default),(0,T.default)(i,fe.MessageType.INVOICE,Y.default),(0,T.default)(i,fe.MessageType.COBROWSE,Z.default),(0,T.default)(i,fe.MessageType.SYSTEM,J.default),(0,T.default)(i,fe.MessageType.INVITE,J.default),(0,T.default)(i,fe.MessageType.PREFORM,J.default),(0,T.default)(i,fe.MessageType.SOCIAL,X.default),(0,T.default)(i,fe.MessageType.MEDIA,Q.default),(0,T.default)(i,fe.MessageType.EMAIL,$.default),(0,T.default)(i,fe.MessageType.FORM,ee.default),(0,T.default)(i,fe.MessageType.TEMPORARY,te.default),(0,T.default)(i,fe.MessageType.FOR_TEST,he.default),(0,T.default)(i,fe.MessageType.PRECHAT,ae.default),(0,T.default)(i,fe.MessageType.BOT,K.default),(0,T.default)(i,fe.MessageType.LISTPICKER,Ee.default),i),Ae=I.default.mobileOrTablet(),Me=Ae?40:30,Re=le.Component.CHAT_INPUT,Ne=function(e){(0,E.default)(a,e);var t=Se(a);function a(e){var n;return(0,y.default)(this,a),(n=t.call(this,e)).state={messagesGroups:(0,ye.getMessagesGroup)(),lastEdit:null,hideScrollButton:!0,bottom:Ae?50:106,diff:0,lastAgent:null,show:!1,showMore:!1,forceUpdate:!1},n._container=null,n._scroll=null,n._lastHeight=0,n}return(0,b.default)(a,[{key:"updateMessages",value:function(e,t){var a=this;Ie.log("updateMessages",e,t),t&&(0,ye.cleanTempProactive)(),this.setState({messagesGroups:(0,ye.getMessagesGroup)(),lastEdit:e?(0,_.default)(e.toJSON()):null,lastAgent:(0,ve.getLastAgent)()},(function(){if(a.state.show){var t=e&&e.toJSON();if(a.setLastAgentScroll())Ie.log("ignore anims and scroll to bottom");else if(t&&t.type===fe.MessageType.PROACTIVE||a._scroll&&a._scroll.getIgnore())Ie.log("Ignore scroll for proactive update.");else if((0,ve.isProactivePrechat)())Ie.log("Need ignore for prechat and big proactives");else if(pe.isDesignerEditor)a.scrollToBottom();else if(a._scroll&&!a._scroll.hasScroll()&&t&&t.from==fe.MessageInitiator.FORM&&t.body&&t.body.inited)Ie.log("No scroll, animate form");else{var n=a._scroll&&a._scroll.getScrollDiff();0===n&&a._container&&(n=a._container.clientHeight-a._lastHeight),a._lastHeight=a._container.clientHeight,Ie.log("diff",n,a._lastHeight),n&&n<600&&n!==a._lastHeight?(n<0&&(n=0),a.setState({diff:n>>0})):(Ie.log("scroll bottom on update message"),a.scrollToBottom())}}})),this.readMessages()}},{key:"shouldComponentUpdate",value:function(e,t){return!(0,z.default)(e,this.props)||!(0,z.default)(t,this.state)}},{key:"componentDidMount",value:function(){var e,t,a=this;Ie.log("mount"),(!ne.Router.getPrevRoute()&&this.isChatInput()||Ce.FeatureManager.isEnabled(Ce.Feature.NEW_ANIMATION))&&this.showMessages(),W.default.on("all",(function(){a.setState({messagesGroups:(0,ye.getMessagesGroup)(),lastAgent:(0,ve.getLastAgent)()}),a.readMessages()}));var n=(0,v.default)(e=this.updateMessages).call(e,this);F.default.on("create",(function(e,t){n&&n.call(a,e,t),a.getBottom(a.props.inputHeight);var i=e&&e.toJSON();i&&i.from===fe.MessageInitiator.CLIENT&&(a._scroll&&a._scroll.setIgnore(!1),a.setState({showMore:!1,showBadge:!1})),i&&i.from===fe.MessageInitiator.AGENT&&a.state.showMore&&a.needShowMore()&&a.setLastAgentScroll()&&a.setState({showBadge:!0})}));var i=x.default.debounce((0,v.default)(t=this.updateMessages).call(t,this),200);F.default.on("update",(0,v.default)(i).call(i,this)),U.default.on("update",(function(){a.setState({messagesGroups:(0,ye.getMessagesGroup)(),lastAgent:(0,ve.getLastAgent)(),forceUpdate:!a.state.forceUpdate})})),ne.Router.on("route_change",(function(e){ne.Router.isChatInputRoute(ne.Router.getPrevRoute())||(a.showMessages(),a.readMessages(),Ae&&e===ie.Route.LABEL&&a._scroll&&a._scroll.setIgnore(!1))})),this.on(L.default,{update:function(){a.readMessages()}}),N.default.on("socket_message",(function(e){e&&"resume_ok"===e.name&&a.readMessages()})),Ae||this.readMessages(),this._scroll&&oe.default.set(le.Component.SCROLL_CONTAINER,this._scroll),!A.default.maintenance&&(0,ve.isOfflineCanSend)()&&0===F.default.getFormMessage().length&&ce.messageActions.startFormSequence((0,de.default)("offlineIntroductionText")),A.default.maintenance&&ce.messageActions.addMaintenanceMessage(),(0,pe.designerBind)("setBubbleColor",(function(){a.forceUpdate()}))}},{key:"showMessages",value:function(){var e=this;(0,g.default)((function(){e.setState({show:!0}),Ie.log("show messages"),e._scroll&&e._scroll.setIgnore(!1),I.default.mobileOrTablet()?!e.setLastAgentScroll()&&e.scrollToBottom():e.scrollToBottom()}),50)}},{key:"checkShowBadge",value:function(){Ie.log("checkShowBadge"),this._scroll&&this.needShowMore()&&this._scroll.getIgnore()&&this.setState({showMore:!0,showBadge:F.default.getAgentMessages().length>1||F.default.getMessagesByType(fe.MessageType.PRECHAT).length>0})}},{key:"setLastAgentScroll",value:function(){if(this._scroll){var e=(0,ve.isLastAgentMessage)(),t=this._scroll.base,a=(0,ve.getLastMessageHeight)(t),n=t.offsetHeight;if(e&&a&&n&&a>n){this._scroll.setIgnore(!0),this.checkShowBadge();var i=I.default.mobileOrTablet()?80:50,o=this._scroll.getScrollHeight()-a-i;return(W.default.get("text")?1:0)&&1==F.default.getAgentMessages().length?this._scroll.scrollToTop():this._scroll.scrollTop(o),!0}return!1}}},{key:"getBottom",value:function(e){var t=this,a=Ae?56:106,n=e||a;n<a&&(n=a),Ae&&(0,M.showAd)()&&(n+=20);var i=!(!Ae||!this._scroll);return i&&this.props.isContactFormFocused&&(n=0),Ie.log("getBottom",e,n),this.state.bottom!==n&&this.setState({bottom:n},(function(){i&&!t.props.isContactFormFocused&&t._scroll.scrollToBottom()})),n}},{key:"isInputVisible",value:function(e){if(e)return"none"!==e.style.display}},{key:"scrollToBottom",value:function(){this._scroll&&(Ie.log("scrollToBottom",this._scroll.getIgnore()),this._scroll.getIgnore()?Ie.log("Ignore scroll to bottom, input focused."):this._scroll.scrollToBottom())}},{key:"readMessages",value:function(){if(L.default.isActive){var e=[],t=F.default.getUnreadMessage();(0,m.default)(t).call(t,(function(t){t.set("status",fe.MessageStatus.READ);var a=t.get("msg_id");null!==a&&e.push(a)})),e.length&&this.isChatInput()&&R.default.agentMessageRead(e)}}},{key:"isChatInput",value:function(){return ne.Router.isChatInputRoute(ne.Router.getCurrentRoute())}},{key:"scrollToForm",value:function(){var e=(0,ye.getScrollToFormState)(O.default.is_online);e&&(this.scrollToBottom(),this.setState(ke(ke({},e),{},{lastAgent:(0,ve.getLastAgent)()})))}},{key:"renderScrollToForm",value:function(){var e,t=F.default.getFormMessage();if(!D.default.is_introduced&&t.length)return k.default.createElement(re.default,{hide:this.state.hideScrollButton,scrollToForm:(0,v.default)(e=this.scrollToForm).call(e,this),scrollContainer:this._scroll})}},{key:"needShowMore",value:function(){return!!this._scroll&&this._scroll.getScrollDiff()>=40}},{key:"onScrollEnd",value:function(){Ie.log("onScrollEnd");var e={};this.needShowMore()?e.showMore=!0:(e.showMore=!1,e.showBadge=!1);var t=F.default.getFormMessage();if(!D.default.is_introduced&&t.length){var a=oe.default.get(le.Component.CHAT_INTRODUCE);if(a){var n=(0,_e.isScrolledIntoView)(a,this._scroll);n!==this.state.hideScrollButton&&(e.hideScrollButton=n)}this.setState(e)}else this.setState(e)}},{key:"onWrapTouch",value:function(){if(I.default.mobileOrTablet()&&ne.Router.getCurrentRoute()!==ie.RouteList.LABEL){var e=(0,M.getPageWindow)().document.activeElement,t=oe.default.get(Re);(0,_e.isInput)(e)&&this.isInputVisible(t)&&(Ie.log("onScrollStart",e),e.blur())}}},{key:"onMoreClick",value:function(){this._scroll&&(this._scroll.setIgnore(!1),this.scrollToBottom()),me.Monitoring.telemetry(ge.TelemetryName.MORE_BTN_CLICK,{param1:W.default.get("text")?1:0})}},{key:"isShowAvatar",value:function(){return!!(this._scroll&&this._scroll.animated>0&&(0,ve.getLastAgent)())}},{key:"getRenderData",value:function(){var e=null;return this._scroll&&(e=(0,_e.isNoScroll)(this._scroll,this._container)?"".concat(-1*this.state.diff||0,"px"):null),this._scroll&&(this._scroll.animated=this.state.diff),{styles:{main:[{main:!0,__mobile:Ae,__ad:(0,M.showAd)()},{bottom:"".concat(this.getBottom(this.props.inputHeight),"px"),opacity:this.state.show||Ce.FeatureManager.isEnabled(Ce.Feature.NEW_ANIMATION)?1:0}],wrap:[{wrap:!0}],container:[{container:!0,__tablet:I.default.tablet()},{transform:this.state.diff?"translateY(".concat(-1*this.state.diff,"px)"):"translateY(0)",bottom:e||0,transition:0===this.state.diff?"none":"transform 0.2s cubic-bezier(0, 0.76, 0.28, 1)"}],avatarShadow:[{avatarShadow:!0,__mobile:Ae,__show:this.isShowAvatar()},{marginBottom:this.getBottom(this.props.inputHeight)}]},style:ue.default}}},{key:"renderData",value:function(e,t){var a,n,i,o,r=this,l=H.default.bot_id>0;return k.default.createElement("jdiv",t.main,this.renderScrollToForm(t),k.default.createElement("jdiv",(0,h.default)({},t.wrap,{onTouchStart:(0,v.default)(a=this.onWrapTouch).call(a,this),ref:function(e){r._main=e}}),k.default.createElement(P.default,{onScrollStop:x.default.debounce((0,v.default)(n=this.onScrollEnd).call(n,this),200),className:ue.default.scroll,autoHide:!0,id:"scrollbar-container",scrollMarginTop:(0,M.showAd)()?Me:0,railClass:ue.default.rail,ref:function(e){r._scroll=e,oe.default.set(le.Component.SCROLL_CONTAINER,e)}},k.default.createElement("jdiv",(0,h.default)({},t.container,{onTransitionEnd:function(e){"transform"===e.propertyName&&0!==r.state.diff&&(Ie.log("Container animation end:",r.state.diff),r.setState({diff:0},(function(){r.scrollToBottom()})),r._scroll.animated=!1)},ref:function(e){r._container=e}}),(0,p.default)(i=this.state.messagesGroups).call(i,(function(e,t){var a=e[0]instanceof B.default?e[0].toJSON():e[0];if(a.type==fe.MessageType.MEDIA&&a.body&&"sticker"==a.body.type&&(a.type=fe.MessageType.MESSAGE),a.type){var n=xe[a.type];return k.default.createElement(n,{messages:e,key:t})}})))),1!=A.default.typing_insight||Ae?null:k.default.createElement(j.default,null),(0,M.showAd)()&&!Ae?k.default.createElement(V.default,{type:"chat"}):null,k.default.createElement("jdiv",t.avatarShadow,l?k.default.createElement(be.default,{url:H.default.avatar_url?H.default.avatar_url:null}):k.default.createElement(G.default,{avatars:[this.state.lastAgent],connected:!1,type:"chat"})),k.default.createElement(we.default,{color:A.default.bubble_color,show:this.state.showMore&&!this.props.isInDrag,showBadge:this.state.showBadge,onClick:(0,v.default)(o=this.onMoreClick).call(o,this)})))}}]),a}(S.default);t.default=Ne},22952:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(59748)),o=a(26213),r=n(a(45697)),l=n(a(33104)),u=(n(a(75043)).default.name("MessagesWrap"),function(e){var t=e.route,a=e.isInDrag,n=e.isContactFormFocused,o=e.inputHeight;return i.default.createElement(l.default,{route:t,isInDrag:a,isContactFormFocused:n,inputHeight:o})});u.propTypes={route:r.default.string,isContactFormFocused:r.default.bool,isInDrag:r.default.bool,inputHeight:r.default.number};var s=(0,o.connect)((function(e){return{route:e.app.route,isInDrag:e.app.isInDrag,isContactFormFocused:e.app.isContactFormFocused}}),{})(u);t.default=s},63686:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(87672)),o=n(a(59748)),r=n(a(45026)),l=n(a(94184)),u=n(a(45697)),s=n(a(45127)),c=n(a(27968)),d=n(a(75119)),f=n(a(62904)),h=n(a(58061)),p=n(a(90140)),m=a(33367),g=a(63242),v=a(17674),_=a(85442),y=a(23582),b=function(e){var t,a=e.messages;if("highlight"!==a[0].get("body").type)return null;var n=a[0].toJSON(),u=(0,s.default)(n.created_ts,"dd.mm.yy H:MM:ss"),b=n.body.hash,E=n.body.page_url,w=function(e){e.preventDefault(),m.Monitoring.telemetry(g.TelemetryName.COBROWSE_CLICK_BUTTON),c.default.getCobrowseData(b,E),y.FeatureManager.isEnabled(y.Feature.NEW_ANIMATION)&&h.default.mobileOrTablet()&&v.Router.next(_.RouterEvent.CloseWindow)};return o.default.createElement(p.default,{messages:a},o.default.createElement("jdiv",{className:(0,l.default)((t={},(0,i.default)(t,r.default.main,!0),(0,i.default)(t,r.default["__"+f.default.bubble_color||0],!0),(0,i.default)(t,r.default.__mobile,h.default.mobileOrTablet()),t)),title:u},o.default.createElement("jdiv",{className:r.default.text},n.text?n.text:(0,d.default)("lblDefaultCobrowseComment")),o.default.createElement("jdiv",{className:r.default.showBtn,onClick:w,onTouchEnd:w,title:(0,d.default)("lblDefaultCobrowseComment")},(0,d.default)("lblView"))))};b.propTypes={messages:u.default.any};var E=o.default.memo(b);t.default=E},38061:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(54103)),l=n(a(87672)),u=n(a(81643)),s=n(a(26394)),c=n(a(69198)),d=n(a(51379)),f=n(a(214)),h=n(a(66380)),p=n(a(59748)),m=n(a(60021)),g=n(a(75119)),v=n(a(40695)),_=(n(a(47321)),n(a(18228))),y=n(a(62652)),b=n(a(36216)),E=n(a(62904)),w=n(a(58061)),C=n(a(99357)),T=n(a(68806)),k=n(a(71059)),S=n(a(94184)),I=n(a(42085)),x=n(a(22259)),A=a(17674),M=a(85442),R=n(a(94686)),N=a(33367),O=a(63242);function D(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,h.default)(e);if(t){var o=(0,h.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}var L=n(a(75043)).default.name("MessageEmail"),P=function(e){(0,d.default)(a,e);var t=D(a);function a(e){var n;return(0,s.default)(this,a),(n=t.call(this,e)).state={submit:!1,email:!1,emailForm:!0,emailError:!0,submittedOnce:!1,hideForm:!0},n._input=null,n}return(0,c.default)(a,[{key:"componentDidMount",value:function(){var e=this;L.log("mounted"),E.default.eula&&!y.default.eula_accepted&&A.Router.on("submit_eula_success",(function(){L.log("email eula_submit_success",e.email,A.Router.getCurrentRoute()),(e._input&&e._input.value||e.email)&&e.saveChatEmail()})),A.Router.on("route_change",(function(){var t;-1!==(0,u.default)(t=[M.Route.LABEL,M.Route.CHAT_MIN]).call(t,A.Router.getCurrentRoute())?e.setState({hideForm:!0}):e.setState({hideForm:!1})})),this.on(b.default,(function(){!e.state.submit&&b.default.is_introduced&&b.default.client_info.email&&e.setState({submit:!0,email:b.default.client_info.email})}))}},{key:"saveChatEmail",value:function(e){e&&e.preventDefault();var t=this._input&&this._input.value||this.email;L.log("saveChatEmail",t),t&&R.default.email(t)?!y.default.eula_accepted&&E.default.eula?(this.email=t,this.setState({email:t}),A.Router.next(M.RouterEvent.Submit,{context:"messageEmail"})):(this.setState({submit:!0,email:t}),b.default.client_info.email=t,_.default.sendIfConnected({name:"introduction",client_name:b.default.client_info.client_name,phone:b.default.client_info.phone,email:t,description:b.default.client_info.description,accept_eula:E.default.eula&&y.default.eula_accepted||null}),this.email=!1,C.default.trigger("update"),v.default.trackSystemMessageEmailSubmitted(),N.Monitoring.telemetry(O.TelemetryName.EMAIL_MESSAGE_SUBMITTED)):this.setState({emailError:!0,submittedOnce:!0})}},{key:"typeEmail",value:function(e){if(e.keyCode&&13==e.keyCode)this.saveChatEmail();else{var t=this._input?this._input.value:e.target.value;R.default.email(t)?this.setState({emailError:!1}):this.state.submittedOnce&&this.setState({emailError:!0,submittedOnce:!1})}}},{key:"getInputClass",value:function(){var e;return(0,S.default)((e={},(0,l.default)(e,x.default.inputField,!0),(0,l.default)(e,x.default["_"+E.default.bubble_color],!0),(0,l.default)(e,x.default.__emailChat,!0),(0,l.default)(e,x.default._error,this.state.emailError&&this.state.submittedOnce),e))}},{key:"getRenderData",value:function(){return{styles:{box:[{box:!0,__finished:this.state.submit,__mobile:w.default.mobileOrTablet(),__ios:w.default.ios()||w.default.safari()},{display:this.state.emailForm?"block":"none"}],emailBlock:[{emailBlock:!0,_error:this.state.emailError&&this.state.submittedOnce}],emailText:[{emailText:!0},w.default.ios()?{lineHeight:T.default.getLineHeight(1.5)}:null],fieldWrap:[{fieldWrap:!0}],emailFinished:[{emailFinished:!0},{display:this.state.submit?"block":"none"}]},style:I.default}}},{key:"renderData",value:function(e,t){var a,n,i=this,l=this.state.hideForm?"jdiv":"form";return p.default.createElement("jdiv",{className:I.default.wrap},p.default.createElement("jdiv",t.box,this.state.submit?p.default.createElement("jdiv",t.emailFinished,p.default.createElement("jdiv",(0,o.default)({},t.emailText,{dangerouslySetInnerHTML:{__html:(0,g.default)("social_success_email").replace("_EMAIL_",this.state.email)}}))):p.default.createElement("jdiv",{className:I.default.form},p.default.createElement("jdiv",t.emailText,this.props.messages[0].get("text")),p.default.createElement(l,(0,o.default)({},t.emailBlock,{autocomplete:"on",onSubmit:function(e){e.preventDefault()}}),p.default.createElement("jdiv",{className:I.default.fieldWrap},p.default.createElement("input",{type:"email",autoComplete:"email",onKeyUp:(0,r.default)(a=this.typeEmail).call(a,this),placeholder:(0,g.default)("lblYourEmail"),className:this.getInputClass(),ref:function(e){i._input=e,i._input&&""===i._input.value&&i.email&&(i._input.value=i.email)}}),p.default.createElement(k.default,{disabled:this.state.disabled,click:(0,r.default)(n=this.saveChatEmail).call(n,this),type:"input-button",iconName:"icon-ok-white"}))))))}}]),a}(m.default);t.default=P},37117:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(63978)),o=n(a(20368)),r=n(a(39649)),l=n(a(78914)),u=n(a(34074)),s=n(a(14310)),c=n(a(86902)),d=n(a(1068)),f=n(a(2991)),h=n(a(89400)),p=n(a(5872)),m=n(a(54103)),g=n(a(33032)),v=n(a(51942)),_=n(a(20116)),y=n(a(47302)),b=n(a(87672)),E=n(a(26394)),w=n(a(69198)),C=n(a(51379)),T=n(a(214)),k=n(a(66380)),S=n(a(59748)),I=n(a(60021)),x=n(a(75119)),A=n(a(62904)),M=n(a(47321)),R=n(a(58061)),N=n(a(62107)),O=n(a(62652)),D=n(a(36216)),L=n(a(6991)),P=n(a(68806)),j=n(a(99357)),B=a(56602),F=n(a(45808)),H=a(21224),W=n(a(47396)),U=n(a(43986)),z=n(a(77244)),G=n(a(60801)),V=n(a(531)),q=a(8565),K=a(17674),Y=a(85442),Z=n(a(75043)),J=n(a(68853)),X=a(75245),$=a(36143),Q=a(33367),ee=a(63242),te=a(5505),ae=a(81189);function ne(e,t){var a=(0,c.default)(e);if(s.default){var n=(0,s.default)(e);t&&(n=(0,_.default)(n).call(n,(function(t){return(0,u.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function ie(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(a=ne(Object(n),!0)).call(a,(function(t){(0,b.default)(e,t,n[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(n));else{var s;(0,l.default)(s=ne(Object(n))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(n,t))}))}}return e}function oe(e){var t=function(){if("undefined"==typeof Reflect||!d.default)return!1;if(d.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,d.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,k.default)(e);if(t){var i=(0,k.default)(this).constructor;a=(0,d.default)(n,arguments,i)}else a=n.apply(this,arguments);return(0,T.default)(this,a)}}var re=Z.default.name("ContactForm"),le=L.default.getJoints(),ue=function(e){(0,C.default)(a,e);var t=oe(a);function a(e){var n;(0,E.default)(this,a),(n=t.call(this,e))._steps={},2===A.default.contacts_ask&&O.default.is_online&&!(0,B.isEmailOrPhoneRequired)()&&(A.default.contacts_settings.email={show:!0,required:!0}),O.default.is_online||(0,B.isEmailOrPhoneRequired)()||(!A.default.contacts_settings.email.show&&A.default.contacts_settings.phone.show?A.default.contacts_settings.phone={show:!0,required:!0}:A.default.contacts_settings.email={show:!0,required:!0}),n._totalSteps=n.getSteps();var i=n.props.messages[0],o=i.get("body")&&i.get("body").inited,r=D.default.is_introduced;return n.state={submited:r,step:3,steps:n._steps,social:n.canRenderSocial(),showForm:r||o,showMessage:r||o,focused:r||o,lastValue:null},n._formData=null,n._formContainer=null,n._introduceText=null,n}return(0,w.default)(a,[{key:"shouldComponentUpdate",value:function(e,t){return!(0,V.default)(this.state,t)||!(0,V.default)(this.props,e)}},{key:"componentDidMount",value:function(){var e=this;re.log("mount",this.props),$.RouterUtils.needToShowEula()&&K.Router.on("submit_eula_success",(function(){e.successCallback(e._formData)})),this.on(D.default,(function(){var t={};e.canRenderSocial()||(t.social=!1),D.default.is_introduced&&!e.state.submited&&(t=ie(ie({},t),{},{submited:!0,showForm:!0,focused:!0}),e.checkAllStepsValid()),e.setState(t)}));var t=this.props.messages[0],a=t.get("body")&&t.get("body").inited;D.default.is_introduced&&!a||(this.setState({showForm:!0}),t&&!a&&t.set("body",{inited:!0})),D.default.is_introduced&&this.checkAllStepsValid(),K.Router.on("route_change",(function(){e.ignoreScroll(!1)}));var n=j.default.getFormMessage();n.length&&n[0].on("created_ts",(function(){(0,y.default)(j.default).call(j.default),j.default.trigger("update")}))}},{key:"getSteps",value:function(){var e=this,t=1;return(0,_.default)(N.default).call(N.default,A.default.contacts_settings,(function(a,n){if(a.show){var i=t++;e._steps[n]={keyName:n,e:a,step:i}}return!0===a.show})).length}},{key:"checkAllStepsValid",value:function(){var e=this;N.default.each(this._steps,(function(t){var a=e._formContainer.checkValue(e.getStepName(t.keyName));e._steps[t.keyName].valid=a})),this.setState({step:this._totalSteps,steps:this._steps})}},{key:"getStepName",value:function(e){return"name"===e?"client_name":e}},{key:"getClientInfo",value:function(e){return{client_name:e.client_name.value,phone:e.phone.value,email:e.email.value}}},{key:"successCallback",value:function(e){var t=this;if(re.log("successChatIntroduce",e),this._formData=e,e&&!e.error){if($.RouterUtils.needToShowEula())return void K.Router.next(Y.RouterEvent.ToEula,{context:"chatIntroduce"});var a=(0,B.getPageWindow)().document.activeElement;R.default.mobile()&&a&&"function"==typeof a.blur&&a.blur();var n=F.default.refs.ScrollContainer;this.setState({submited:!0},(function(){if(!O.default.is_online){n&&n.setIgnore(!1),X.messageActions.setInputDisabled(!1);var a=t.getClientInfo(e);if(D.default.is_introduced)M.default.setClientContactInfo(a,!1,!0);else D.default.client_info=(0,v.default)(D.default.client_info,{client_name:a.name||a.client_name||null,phone:a.phone||null,email:a.email||null,description:a.description||null}),X.messageActions.sendTemporaryMessages()||M.default.setClientContactInfo(a,!1,!0),ae.clientDispatchers.setIsIntroduced(!0);var i=X.messageActions.getOfflineSuccessText();return X.messageActions.systemMessageOnce(i),(0,te._callUserFunction)("onOfflineFormSubmit"),void Q.Monitoring.telemetryOnce(ee.TelemetryName.NEWOFFLINE_FORM_SUBMIT)}n&&n.setIgnore(!1);var o=t.getClientInfo(e);D.default.is_introduced?M.default.setIntroduce(o):M.default.setClientContactInfo(o,!1,!0)}))}}},{key:"errorCallback",value:function(e){re.log("errorCallbackintroduce",e),this._formData=e,this.setState({submited:!1,steps:this._steps})}},{key:"blurPopupInput",value:function(e){re.log("blurPopupInput",this.state.submited),this.ignoreScroll(!1);var t=this._formContainer.checkValue(this.getStepName(e));this._steps[e].valid=t,this.setState({steps:this._steps}),ae.appDispatchers.setIsContactFormFocused(!1)}},{key:"focusPopupInput",value:function(e){re.log("focusPopupInput",this.state.submited),this.ignoreScroll(!0),ae.appDispatchers.setIsContactFormFocused(!0),this.state.focused||(this.setState({focused:!0}),Q.Monitoring.telemetryOnce(ee.TelemetryName.CHAT_INTRODUCE,{param1:"formFocused"}))}},{key:"ignoreScroll",value:function(e){var t=F.default.getComponent(H.Component.SCROLL_CONTAINER);t&&t.setIgnore(e)}},{key:"focusFirstInput",value:function(){this._formContainer&&this._formContainer.base&&(this._formContainer.base.querySelector("input").focus(),(0,g.default)((function(){var e=j.default.getLastMessage(),t=F.default.getComponent(H.Component.SCROLL_CONTAINER);t&&e&&e.get("type")===q.MessageType.FORM&&t.scrollToBottom()}),50))}},{key:"processSocial",value:function(e){if(R.default.mobileOrTablet()){var t=le.links,a=t.fbUrl,n=t.vkUrl;window.open("fb"===e?a:n)}else L.default.setPopupMode(e),K.Router.next(Y.RouterEvent.ToSocial),Q.Monitoring.telemetry(ee.TelemetryName.CHAT_INTRODUCE_SOCIAL,{param1:"click_"+e})}},{key:"canRenderSocial",value:function(){return O.default.chat_started&&!R.default.mobileOrTablet()&&!(0,B.hasIntegration)(D.default.has_integration)&&(le.links.fbUrl||le.links.vkUrl)}},{key:"renderSocial",value:function(e){var t,a,n=this,i=le.links,o=i.fbUrl,r=i.vkUrl;if(this.canRenderSocial())return S.default.createElement("jdiv",(0,p.default)({},e.socialText,{ref:function(e){n._social=e}}),(0,x.default)("introduce_social")+" ",r?S.default.createElement("jdiv",{className:J.default.link,onClick:(0,m.default)(t=this.processSocial).call(t,this,"vk")},(0,x.default)("social_vk")):null,r&&o?" "+(0,x.default)("introduce_or")+" ":null,o?S.default.createElement("jdiv",{className:J.default.link,onClick:(0,m.default)(a=this.processSocial).call(a,this,"fb")},"Facebook"):null)}},{key:"getPlaceholder",value:function(e){switch(e){case"name":return(0,x.default)("lblIntroduceName");case"email":return(0,x.default)("lblYourEmail");case"phone":return(0,x.default)("lblYourPhone")}}},{key:"onChange",value:function(e,t){var a=this;if(t&&t.key)switch(t.key){case"Meta":case"Shift":case"Control":case"Alt":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":return}this.setState({submited:!1,lastValue:t.target.value},(function(){a.checkAllStepsValid()}))}},{key:"getFormHeight",value:function(){if(this._mainContainer&&this._formContainer){var e=this._formContainer.base.clientHeight||null;return this.state.focused?e:null}return null}},{key:"getIntroduceHeight",value:function(){return this._introduceText?this.state.showMessage?this._introduceText.clientHeight:null:void 0}},{key:"renderFormInputs",value:function(){var e=this,t=(0,h.default)(N.default).call(N.default,this._steps),a=N.default.sortBy(t,(function(e){return e.step}));return(0,f.default)(a).call(a,(function(t,a){var n,i,o;return S.default.createElement(U.default,{name:e.getStepName(t.keyName),placeholder:e.getPlaceholder(t.keyName),onBlur:(0,m.default)(n=e.blurPopupInput).call(n,e,t.keyName),onFocus:(0,m.default)(i=e.focusPopupInput).call(i,e),onChange:(0,m.default)(o=e.onChange).call(o,e),valid:e.state.steps[t.keyName].valid,hint:e.state.focused,key:a})}))}},{key:"getRenderData",value:function(){var e={lineHeight:R.default.ios()?P.default.getLineHeight(1.5):null};return{styles:{box:[{box:!0,__noanim:D.default.is_introduced,__tablet:R.default.tablet()}],mainWrap:[{mainWrap:!0,__submited:this.state.submited,__show:this.state.showForm,__focus:this.state.focused}],main:[(0,b.default)({main:!0,__submited:this.state.submited,__show:!0,__focus:this.state.focused},"__"+A.default.bubble_color||0,!0),{height:this.state.focused&&!this.state.submited?this.getFormHeight():null}],successMessage:[{successMessage:!0,__submited:D.default.is_introduced||this.state.submited}],introduceText:[{introduceText:!0,__show:!0,__submited:!0}],content:[{content:!0},e],socialText:[{socialText:!0,__show:!0},e],buttonWrapper:[{buttonWrapper:!0,__show:this.state.submited,__fadeOut:!this.state.submited}],submitSuccess:[{submitSuccess:!0,__show:this.state.submited}]},style:J.default}}},{key:"renderData",value:function(e,t){var a,n,i,o,r,l,u=this;return S.default.createElement("jdiv",t.box,S.default.createElement("jdiv",(0,p.default)({},t.mainWrap,{ref:function(e){u._introduceMain=e}}),S.default.createElement("jdiv",(0,p.default)({},t.main,{title:"",ref:function(e){u._mainContainer=e}}),!this.state.focused&&S.default.createElement("jdiv",{className:J.default.overlay,onClick:(0,m.default)(a=this.focusFirstInput).call(a,this)}),S.default.createElement(W.default,{successCallback:(0,m.default)(n=this.successCallback).call(n,this),errorCallback:(0,m.default)(i=this.errorCallback).call(i,this),route:this.props.route,type:"chat",submited:this.state.submited,ref:function(e){u._formContainer=e,e&&F.default.set(H.Component.CHAT_INTRODUCE,e)}},this.renderFormInputs(),S.default.createElement(G.default,{type:"submit",focusPopupInput:(0,m.default)(o=this.focusPopupInput).call(o,this),onBlur:(0,m.default)(r=this.blurPopupInput).call(r,this),onFocus:(0,m.default)(l=this.focusPopupInput).call(l,this),disabled:this.state.submited}),this.state.focused&&S.default.createElement("jdiv",t.buttonWrapper,S.default.createElement("jdiv",t.submitSuccess,S.default.createElement(z.default,{icon:"1f389",alone:!1,className:"emojiMessages",style:!0})," ",(0,x.default)("lblThanks"))))),this.renderSocial(t)))}}]),a}(I.default);t.default=ue},39401:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(26394)),r=n(a(69198)),l=n(a(51379)),u=n(a(214)),s=n(a(66380)),c=n(a(59748)),d=n(a(60021)),f=n(a(9950)),h=n(a(68494));function p(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var m=function(e){(0,l.default)(a,e);var t=p(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).state={},n}return(0,r.default)(a,[{key:"render",value:function(e,t){var a=this.props.messages[0].toJSON().body;return"yandex"===a.type?c.default.createElement(f.default,{messages:this.props.messages}):"tinkoffInvoice"===a.type?c.default.createElement(h.default,{messages:this.props.messages}):void 0}}]),a}(d.default);t.default=m},68494:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(26394)),l=n(a(69198)),u=n(a(51379)),s=n(a(214)),c=n(a(66380)),d=n(a(59748)),f=n(a(60021)),h=n(a(75119)),p=n(a(90140)),m=n(a(58165)),g=n(a(45127)),v=n(a(71297));function _(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var y=function(e){(0,u.default)(a,e);var t=_(a);function a(e){return(0,r.default)(this,a),t.call(this,e)}return(0,l.default)(a,[{key:"getRenderData",value:function(){return{styles:{main:[{main:!0,_tinkoff:!0}],invoice:[{message:!0,__success:"SUCCESS"===this.props.messages[0].get("body").status}]},style:v.default}}},{key:"renderData",value:function(e,t){var a=this.props.messages[0].toJSON(),n=a.body,i=(0,g.default)(a.created_ts,"dd.mm.yy H:MM:ss");return d.default.createElement(p.default,{messages:this.props.messages},d.default.createElement("jdiv",(0,o.default)({},t.main,{title:i}),d.default.createElement("jdiv",t.invoice,d.default.createElement("jdiv",{className:v.default.successIcon}),d.default.createElement("jdiv",{className:v.default.info},d.default.createElement("jdiv",{className:v.default.text},(0,h.default)("paymentsInvoice"),n.invoice_id,":"),d.default.createElement("jdiv",{className:v.default.productName},n.comment,", "),d.default.createElement("jdiv",{className:v.default.amountWrap},d.default.createElement("jdiv",{className:v.default.amount}," "+n.amount),d.default.createElement(m.default,{color:"#222d38",iconName:"icon-ruble",className:v.default.rubleIcon})),d.default.createElement("jdiv",{className:v.default.successText},(0,h.default)("paymentsSuccess"))),d.default.createElement("a",{href:n.payment_url,onTouchEnd:function(){window.open(n.payment_url)},className:v.default.actionBtn,"data-css":"notreset",rel:"nofollow noopener noreferrer",target:"_blank",title:(0,h.default)("paymentsPay")},d.default.createElement("jdiv",{className:v.default.actionText},(0,h.default)("paymentsPay"))))))}}]),a}(f.default);t.default=y},9950:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(54103)),r=n(a(51942)),l=n(a(26394)),u=n(a(69198)),s=n(a(51379)),c=n(a(214)),d=n(a(66380)),f=n(a(59748)),h=n(a(60021)),p=n(a(56602)),m=n(a(90140)),g=n(a(8575)),v=n(a(18228)),_=n(a(58061)),y=n(a(75119)),b=n(a(62652)),E=n(a(36216)),w=n(a(62904)),C=n(a(58165)),T=n(a(45127)),k=n(a(71297)),S=n(a(22259)),I=a(17674),x=a(85442),A=n(a(94686));function M(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var R=function(e){(0,s.default)(a,e);var t=M(a);function a(e){var n;return(0,l.default)(this,a),(n=t.call(this,e)).state={isValidEmail:!0,userEmail:n.props.messages[0].get("body").userEmail||""},n._actionBtn=null,n}return(0,u.default)(a,[{key:"proceedToInvoice",value:function(e){var t=!A.default.email(this.state.userEmail);A.default.email(this.state.userEmail)?w.default.eula&&!b.default.eula_accepted?(e.preventDefault(),I.Router.next(x.RouterEvent.ToEula,{link:e.currentTarget.getAttribute("href"),context:"invoice"})):_.default.tablet()&&window.open(e.currentTarget.getAttribute("href")):(e.preventDefault(),this.setState({isValidEmail:!1})),t&&!E.default.client_info.email&&(E.default.client_info.email=this.state.userEmail,v.default.sendIfConnected((0,r.default)({name:"introduction"},E.default.client_info)))}},{key:"onChangeYandexEmail",value:function(e){var t=e.target.value,a=this.props.messages[0].toJSON(),n=g.default.parse(a.body.url),i=this._actionBtn;this.setState({userEmail:t}),A.default.email(t)?(this.setState({isValidEmail:!0}),a.body.userEmail=t,i.href=n.protocol+"//"+n.host+n.pathname+p.default.setGetParam("cps_email",t,n.search)):this.setState({isValidEmail:!1})}},{key:"getRenderData",value:function(){return{styles:{main:[{main:!0}],invoice:[{message:!0,__success:"confirmed"===this.props.messages[0].get("body").status,__emailError:!this.state.isValidEmail}]},style:k.default}}},{key:"renderData",value:function(e,t){var a,n,i,r=this,l=this.props.messages[0].toJSON(),u=(0,T.default)(l.created_ts,"dd.mm.yy H:MM:ss"),s=l.body,c="confirmed"===s.status;return f.default.createElement(m.default,{messages:this.props.messages},f.default.createElement("jdiv",{className:k.default.main,title:u},f.default.createElement("jdiv",t.invoice,f.default.createElement("jdiv",{className:k.default.successIcon}),f.default.createElement("jdiv",{className:k.default.info},f.default.createElement("jdiv",{className:k.default.text},(0,y.default)("paymentsInvoice"),s.invoiceId,":"),f.default.createElement("jdiv",{className:k.default.productName},s.comment,",",f.default.createElement("jdiv",{className:k.default.amountWrap},f.default.createElement("jdiv",{className:k.default.amount}," "+s.amount),f.default.createElement(C.default,{color:"#222d38",iconName:"icon-ruble",className:k.default.rubleIcon}))),f.default.createElement("jdiv",{className:k.default.successText},(0,y.default)("paymentsSuccess"))),f.default.createElement("a",{onClick:(0,o.default)(a=this.proceedToInvoice).call(a,this),onTouchEnd:(0,o.default)(n=this.proceedToInvoice).call(n,this),ref:function(e){r._actionBtn=e},href:s.url,className:k.default.actionBtn,"data-css":"notreset",rel:"nofollow noopener noreferrer",target:"_blank",title:(0,y.default)("paymentsPay")},f.default.createElement("jdiv",{className:k.default.actionText},(0,y.default)("paymentsPay")),f.default.createElement("jdiv",{className:k.default.byYandex},(0,y.default)("byYandex"))),!c&&f.default.createElement("jdiv",{className:k.default.emailLabel},(0,y.default)("invoiceEmail")),!c&&f.default.createElement("input",{onInput:(0,o.default)(i=this.onChangeYandexEmail).call(i,this),className:S.default.inputField,value:this.state.userEmail,placeholder:(0,y.default)("enterEmailPlaceholder")}))))}}]),a}(h.default);t.default=R},38684:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(2991)),o=n(a(87672)),r=n(a(59748)),l=n(a(94184)),u=n(a(45697)),s=n(a(96116)),c=n(a(70602)),d=n(a(75043)),f=a(33367),h=a(63242),p=d.default.name("Listpicker"),m=function(e){var t,a,n=e.data,u=void 0===n?{}:n,d=e.onClick;p.log("Listpicker",u);var m=(0,l.default)((t={},(0,o.default)(t,c.default.main,!0),(0,o.default)(t,s.default.__mobile,!1),t));return u.answer_id?null:(u.answer_id=null,r.default.createElement("jdiv",{className:m},r.default.createElement("jdiv",{className:s.default.buttonsWrap},(0,i.default)(a=u.keyboard).call(a,(function(e,t){var a,n=(0,l.default)((a={},(0,o.default)(a,c.default.button,!0),(0,o.default)(a,c.default.__bot,!0),(0,o.default)(a,s.default._disabled,null!==u.answer_id),a));return r.default.createElement("jdiv",{className:n,title:e.title,onClick:function(a){u.answer_id||(p.log("text",e),d&&d(a,t,e.text),f.Monitoring.telemetry(h.TelemetryName.BOT_BUTTON_CLICK))},key:t},e.text)})))))};m.propTypes={data:u.default.object,onClick:u.default.func};var g=m;t.default=g},74819:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(26394)),r=n(a(69198)),l=n(a(51379)),u=n(a(214)),s=n(a(66380)),c=n(a(59748)),d=n(a(60021)),f=n(a(96116)),h=n(a(38684)),p=a(75245);a(8565);function m(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var g=function(e){(0,l.default)(a,e);var t=m(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).state={},n}return(0,r.default)(a,[{key:"getRenderData",value:function(){return{styles:{},style:f.default,data:{}}}},{key:"renderData",value:function(e,t){var a=this.props.messages[0],n=a.get("body"),i=a.get("msg_id");return c.default.createElement(h.default,{data:n,onClick:function(e,t,a){e.preventDefault(),p.messageActions.setListpickerAnswer(i,t),p.messageActions.sendClientMessage(a)}})}}]),a}(d.default);t.default=g},12090:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(87672)),l=n(a(54103)),u=n(a(59340)),s=n(a(94473)),c=n(a(26394)),d=n(a(69198)),f=n(a(51379)),h=n(a(214)),p=n(a(66380)),m=n(a(59748)),g=n(a(60021)),v=n(a(75043)),_=n(a(75119)),y=n(a(90140)),b=n(a(43738)),E=n(a(448)),w=n(a(62904)),C=a(56602),T=n(a(45127)),k=n(a(34777)),S=n(a(68806)),I=n(a(58165)),x=n(a(58061)),A=n(a(99357)),M=(n(a(47321)),a(33367));function R(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,p.default)(e);if(t){var o=(0,p.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,h.default)(this,a)}}var N=v.default.name("MediaMessage"),O=function(e){(0,f.default)(a,e);var t=R(a);function a(e){var n;return(0,c.default)(this,a),(n=t.call(this,e)).state=n.getState(e),n.disableClick=!1,e.messages[0].on("body.file_url",(function(){n.setState(n.getState(n.props))})),n._circle=null,n}return(0,d.default)(a,[{key:"getState",value:function(e){var t=e.messages[0].toJSON().body,a=!1;return(t.sign||t.error)&&(a=!1),(t.file_url||t.file)&&(a=!0),{percentComplete:0,uploading:!a,complete:a,url:!!a&&(t.file_url||t.file),type:!!a&&(t.icon_type||t.type||(0,C.detectType)(t.mime_type)),error:!1,loaded:0,total:a?(t.size||t.file_size)>>0:0,file:!1,imagePreview:t.thumb?t.thumb:null}}},{key:"componentDidMount",value:function(){var e=this;if(!this.state.complete){var t=this.props.messages[0].toJSON().body;!t.name||t.error?this.setState({complete:!1,uploading:!1,error:t.error,file:t}):this.on(k.default,{uploading:function(t){N.log("uploading",t),e.state.complete||e.setState({uploading:!0,percentComplete:0,loaded:0,total:t.size})},error:function(t,a,n){N.log("ERROR:",t),!n&&e.state.complete||e.setState({complete:!1,uploading:!1,error:t,file:a}),e.offListeners()},complete:function(t,a){if(N.log("complete",t,a),!e.state.complete){e.setState({uploading:!1,complete:!0,url:a,type:t.icon_type,error:!1,total:t.size,imagePreview:t.imagePreview?t.imagePreview:null});var n=e.props.messages[0].toJSON().private_id,i=(0,s.default)(A.default).call(A.default,(function(e){return e.get("private_id")===n}));i.set("body.file_url",a),i.set("body.thumb",t.imagePreview?t.imagePreview:a),t.width&&(i.set("body.width",t.width),i.set("body.height",t.height))}e.offListeners()},progress:function(t,a){N.log("progress",t,a);var n=(t/a*100).toFixed(0),i=n,o=e._circle;if(isNaN(i))i=100;else if(o){var r=o.getAttribute("r"),l=(100-i)/100*(Math.PI*(2*r));o.style.strokeDashoffset=l}e.state.complete||e.setState({complete:!1,uploading:!0,error:!1,percentComplete:n,loaded:t,total:a})}})}}},{key:"handleAbort",value:function(){this.state.uploading&&(k.default.abort(),this.setState({error:(0,_.default)("file_upl_cancel"),complete:!1,uploading:!1,file:{}}),this.offListeners())}},{key:"offListeners",value:function(){this.off(k.default,"error"),this.off(k.default,"progress"),this.off(k.default,"complete"),this.off(k.default,"uploading")}},{key:"reportName",value:function(){var e=this.props.messages[0].toJSON();M.Monitoring.telemetryOnce("media_data_name",{param1:(0,u.default)(e||null)})}},{key:"checkPreview",value:function(e){return e?this.state.complete&&k.default.isPreviewImage(e):(this.reportName(),!1)}},{key:"isGif",value:function(e){if(!e)return this.reportName(),!1;var t=e.toLowerCase();return/\.(gif)$/i.test(t)}},{key:"getUrl",value:function(e){return x.default.mobileOrTablet()&&x.default.chromeIOS()?e.replace(/^https?\:\/\//i,"googlechrome://"):e}},{key:"isAgentMessage",value:function(){var e=this.props.messages[0].toJSON();return"agent"===e.from||"proactive"===e.type}},{key:"onLoadPreview",value:function(){}},{key:"onClick",value:function(e){e.preventDefault(),N.log("onClick"),x.default.tablet()&&S.default.removeTabletPosition(),window.open(e.currentTarget.getAttribute("href"))}},{key:"onTouchStart",value:function(){N.log("onTouchStart"),this.disableClick=!1}},{key:"onTouchMove",value:function(){N.log("onTouchMove"),this.disableClick=!0}},{key:"onTouchEnd",value:function(e){e.preventDefault(),N.log("onTouchEnd"),this.disableClick||this.onClick(e)}},{key:"calculateAspectRatio",value:function(e,t,a,n){var i=Math.min(a/e,n/t);return{width:e*i,height:t*i}}},{key:"getIconColor",value:function(e){switch(e){case"blue":return"#0b82f7";case"grey":return"#445669";default:return"#18c139"}}},{key:"getCircleColor",value:function(e){switch(e){case"blue":return"#086bcd";case"grey":return"#303f4e";default:return"#12a730"}}},{key:"getSize",value:function(){var e=this.props.messages[0].toJSON().body,t={width:null,height:null};if(e.width&&e.width>234){var a=this.calculateAspectRatio(e.width,e.height,234,500);return t.width=a.width,t.height=a.height,t}return t.width=e.width,t.height=e.height,t}},{key:"renderPreview",value:function(e){var t,a,n,i,o,r=this,u=this.props.messages[0].toJSON().body,s=u.thumb||this.state.imagePreview||this.state.url||this.props.url,c=this.getSize(),d=this.isGif(u.file_url||u.file||u.name);return m.default.createElement("jdiv",{className:this.isAgentMessage()?"":E.default.mediaWrapper},m.default.createElement("a",{className:E.default.previewLink,href:this.state.url||this.props.url,onClick:(0,l.default)(t=this.onClick).call(t,this),onTouchStart:(0,l.default)(a=this.onTouchStart).call(a,this),onTouchMove:(0,l.default)(n=this.onTouchMove).call(n,this),onTouchEnd:(0,l.default)(i=this.onTouchEnd).call(i,this),title:e,target:"_blank",rel:"nofollow noopener noreferrer"},m.default.createElement("img",{width:c.width,height:c.height,onLoad:(0,l.default)(o=r.onLoadPreview).call(o,r),src:s,title:e,className:E.default.previewMediaPhoto,loading:"lazy"}),d?m.default.createElement("jdiv",{className:E.default.overlayText},"GIF"):null))}},{key:"getRenderData",value:function(){var e=w.default.bubble_color||"green",t=this.props.messages[0].toJSON().body,a=this.state.file.file_url||t.file_url||t.file||t.name;return this.isAgentMessage()&&(e="grey"),{styles:{main:[(0,r.default)({main:!0,_mobile:x.default.mobileOrTablet(),_client:!this.isAgentMessage(),_preview:this.checkPreview(a)},"_"+e,!0)],icon:[{iconUpload:!0,iconLoading:!0}],mediaComplete:[{mediaComplete:!0,_agent:this.isAgentMessage()}],iconError:[{iconError:!0},{display:this.state.error?"block":"none"}],iconUpload:[{iconUpload:this.state.error?"none":"block"},{display:this.state.complete?"block":"none"}]},style:E.default,data:{color:e,url:a}}}},{key:"renderData",value:function(e,t){var a,n,i,r=this,u=this.props.messages[0].toJSON(),s=u.body,c=(0,T.default)(u.created_ts,"dd.mm.yy H:MM:ss"),d=this.state.file.file_name||s.file_name||s.name,f=this.state.uploading&&this.state.loaded>1,h=this.isAgentMessage()?y.default:b.default,p=this.checkPreview(e.url);return m.default.createElement(h,{messages:this.props.messages,isPreview:p},m.default.createElement("jdiv",(0,o.default)({},t.main,{key:this.props.key,title:c}),p?this.renderPreview(d):null,!p&&m.default.createElement("jdiv",null,m.default.createElement("jdiv",{className:E.default.mediaIcon,onClick:(0,l.default)(a=this.handleAbort).call(a,this),style:{cursor:this.state.uploading?"pointer":"default"}},m.default.createElement("jdiv",{className:E.default.loaderCont,style:{display:this.state.uploading?"block":"none"}},m.default.createElement("svg",{width:"42",height:"42",viewPort:"0 0 21 21",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},m.default.createElement("circle",{r:"18",cx:"21",cy:"21",fill:"#ffffff","stroke-dasharray":"119.38","stroke-dashoffset":"0"}),m.default.createElement("circle",{ref:function(e){r._circle=e},className:E.default.loaderBar,r:"18",cx:"21",cy:"21",fill:"transparent",stroke:this.getCircleColor(e.color),"stroke-dasharray":"119.38","stroke-dashoffset":"0"})),m.default.createElement(I.default,(0,o.default)({color:this.getIconColor(e.color),iconName:"icon-cancel"},t.icon))),m.default.createElement("jdiv",null,!this.state.error&&m.default.createElement(I.default,(0,o.default)({color:this.getIconColor(e.color),iconName:"icon-".concat(this.state.type)},t.iconUpload)),!this.isAgentMessage()&&m.default.createElement(I.default,(0,o.default)({color:this.getIconColor(e.color),iconName:"icon-error"},t.iconError)))),m.default.createElement("jdiv",{className:E.default.mediaText},m.default.createElement("jdiv",{className:E.default.mediaFname,title:d},d),f&&m.default.createElement("jdiv",{className:E.default.mediaPerc},(0,C.humanFileSize)(this.state.loaded)||""," / ",(0,C.humanFileSize)(this.state.total)||""),this.state.complete&&m.default.createElement("jdiv",t.mediaComplete,(0,C.humanFileSize)(this.state.total)," ",m.default.createElement("a",{href:this.getUrl(this.state.url),onClick:(0,l.default)(n=this.onClick).call(n,this),onTouchEnd:(0,l.default)(i=this.onClick).call(i,this),target:"_blank",rel:"noopener noreferrer"},(0,_.default)("file_upl_download"))),this.state.error&&m.default.createElement("jdiv",{className:E.default.mediaComplete},this.state.error)))))}}]),a}(g.default);t.default=O},17031:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(54943)),l=n(a(2991)),u=n(a(26394)),s=n(a(69198)),c=n(a(51379)),d=n(a(214)),f=n(a(66380)),h=n(a(59748)),p=n(a(68205)),m=n(a(45127)),g=n(a(95705)),v=n(a(72961)),_=a(76822);function y(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var b=function(e){(0,c.default)(a,e);var t=y(a);function a(){return(0,u.default)(this,a),t.apply(this,arguments)}return(0,s.default)(a,[{key:"isAgentMessage",value:function(){return!0}},{key:"renderData",value:function(e,t){var a,n=this;return h.default.createElement(p.default,{messages:this.props.messages},h.default.createElement("jdiv",t.main,(0,l.default)(a=this.props.messages).call(a,(function(e,a){var i=(0,m.default)(e.get("created_ts"),"dd.mm.yy H:MM:ss"),l=n.formatText(e.get("text")),u=(0,_.checkAlone)(e.get("text")),s=(0,r.default)(t.message);return u?s.className+=" "+g.default._alone:s=t.message,h.default.createElement("jdiv",(0,o.default)({},s,{title:i,key:a}),h.default.createElement("jdiv",(0,o.default)({},t.text,{dangerouslySetInnerHTML:{__html:l}})))}))))}}]),a}(v.default);t.default=b},28412:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(26394)),r=n(a(69198)),l=n(a(51379)),u=n(a(214)),s=n(a(66380)),c=n(a(59748)),d=(n(a(59748)),n(a(72961))),f=n(a(60021)),h=n(a(12090));function p(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var m=function(e){(0,l.default)(a,e);var t=p(a);function a(){return(0,o.default)(this,a),t.apply(this,arguments)}return(0,r.default)(a,[{key:"render",value:function(){if(this.props.messages&&this.props.messages[0]){var e=this.props.messages[0];return e.get("body")&&e.get("body").type?c.default.createElement(h.default,this.props):c.default.createElement(d.default,this.props)}}}]),a}(f.default);t.default=m},72961:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(2991)),r=n(a(5872)),l=n(a(87672)),u=n(a(26394)),s=n(a(69198)),c=n(a(51379)),d=n(a(214)),f=n(a(66380)),h=n(a(59748)),p=n(a(60021)),m=n(a(62904)),g=n(a(90140)),v=n(a(43738)),_=n(a(68806)),y=n(a(58061)),b=n(a(45127)),E=a(76822),w=n(a(94184)),C=n(a(75119)),T=a(8565),k=n(a(95705)),S=n(a(96747));function I(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var x=function(e){(0,c.default)(a,e);var t=I(a);function a(e){var n;return(0,u.default)(this,a),(n=t.call(this,e)).state={lineHeight:y.default.ios()?_.default.getLineHeight():null,alone:!1},n}return(0,s.default)(a,[{key:"componentDidMount",value:function(){var e=this;_.default.listenChangeZoom((function(){e.setState({lineHeight:y.default.ios()?_.default.getLineHeight():null})}))}},{key:"getRenderData",value:function(){var e,t=m.default.bubble_color||"green";return{styles:{main:[(0,l.default)({main:!0,__mobile:y.default.mobileOrTablet()},this.isAgentMessage()?"__agent":"__client",!0)],message:[(e={message:!0},(0,l.default)(e,"_"+t,!0),(0,l.default)(e,"_alone",this.state.alone),e),{lineHeight:this.state.lineHeight}],text:[{text:!0},{lineHeight:this.state.lineHeight}],error:[{sendErrorMessage:!0}]},style:k.default,data:{color:t}}}},{key:"isAgentMessage",value:function(){var e=this.props.messages[0].toJSON();return e.from===T.MessageInitiator.AGENT||"bot"===e.from||e.type===T.MessageType.PROACTIVE}},{key:"isBotMessage",value:function(){return"bot"===this.props.messages[0].toJSON().from}},{key:"formatText",value:function(e){return(0,E.formatText)(e,this.props.messages)}},{key:"renderText",value:function(e,t,a,n){return n?this.renderMarkdown(e,t,a):h.default.createElement(h.default.Fragment,null,t?h.default.createElement("jdiv",a.text,h.default.createElement("jdiv",{className:k.default.withEditText,dangerouslySetInnerHTML:{__html:e}}),t):h.default.createElement("jdiv",(0,r.default)({},a.text,{dangerouslySetInnerHTML:{__html:e}})))}},{key:"renderMarkdown",value:function(e,t,a){return h.default.createElement("jdiv",a.text,t?h.default.createElement(h.default.Fragment,null,h.default.createElement("jdiv",{className:k.default.withEditText},h.default.createElement(S.default,{text:e})),t):h.default.createElement(S.default,{text:e}))}},{key:"renderError",value:function(e,t){if(!this.isAgentMessage()&&t)return h.default.createElement("jdiv",e.error,(0,C.default)("error_send"))}},{key:"renderData",value:function(e,t){var a,n=this,i=this.props.messages[0].isAgentMessage()?g.default:v.default;return h.default.createElement(i,{messages:this.props.messages},h.default.createElement("jdiv",t.main,(0,o.default)(a=this.props.messages).call(a,(function(a,i){var o,r=a.get("body"),u=r&&r.customerIO,s=r&&r.is_markdown,c=r&&"listpicker"==r.type,d=n.isBotMessage()&&s||u,f=d?a.get("text"):n.formatText(a.get("text"));c&&(f=r.text||r.title);var p=(0,E.checkAlone)(a.get("text")),m=a.get("from")===T.MessageInitiator.CLIENT,g=a.get("status")===T.MessageStatus.DELETED,v=a.get("status")===T.MessageStatus.NOT_DELIVERED,_=a.get("updated_ts"),y=(0,b.default)(_||a.get("created_ts"),"dd.mm.yy H:MM:ss"),S=(0,w.default)((o={},(0,l.default)(o,k.default.message,!0),(0,l.default)(o,k.default["_"+e.color],!0),(0,l.default)(o,k.default.__alone,p),(0,l.default)(o,k.default.__client,m),(0,l.default)(o,k.default.__deleted,g),o)),I=_&&!g?h.default.createElement("jdiv",{className:k.default.editedText,title:y},"(",(0,C.default)("messageEdit"),")"):null;return h.default.createElement(h.default.Fragment,{key:i},h.default.createElement("jdiv",{className:S,title:y,key:i},g?h.default.createElement("jdiv",t.text,(0,C.default)("messageDeleted")):n.renderText(f,I,t,d)),n.renderError(t,v))}))))}}]),a}(p.default);t.default=x},45423:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(2991)),r=n(a(26394)),l=n(a(69198)),u=n(a(5824)),s=n(a(51379)),c=n(a(214)),d=n(a(66380)),f=n(a(59748)),h=n(a(59748)),p=n(a(60021)),m=n(a(62904)),g=n(a(75119)),v=n(a(62107)),_=n(a(77244)),y=a(75245),b=a(33367),E=a(63242),w=a(92097),C=n(a(44992)),T=n(a(40695)),k=a(17674),S=a(85442),I=n(a(45808)),x=a(21224),A=a(81189),M=n(a(70602));function R(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}n(a(75043)).default.name("PrechatMessage");var N=function(e){(0,s.default)(a,e);var t=R(a);function a(e){var n;return(0,r.default)(this,a),(n=t.call(this,e)).state={hide:!1,phases:n.getPhases()},n.subscribe("updatePrechatText",(function(e){n.setState({phases:n.getPhases(e)})})),I.default.set(x.Component.PRECHAT,(0,u.default)(n)),n}return(0,l.default)(a,[{key:"getPhases",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(m.default.options||m.default.enable_prechat){var t=[],a=v.default.sortBy(e||m.default.prechat,"id"),n=3;n=a.length?a.length:3;for(var i=0;i<n;i++){var o=i+1,r=0===i?"":o,l=o<=3?(0,g.default)("prechatText".concat(r)):null;a&&a[i]&&a[i].text&&(l=a[i].text),l&&t.push({id:o,text:l})}return t}}},{key:"sendPhrase",value:function(e,t,a){e.preventDefault(),(0,w.prechatSetUsed)(!0),k.Router.needToShowIntroduceForm()?(A.clientDispatchers.setLastMessage(t),k.Router.next(S.RouterEvent.ToIntroduce)):(y.messageActions.sendClientMessage(t),C.default.play("outgoing_message")),this.setState({hide:!0}),b.Monitoring.telemetryOnce(E.TelemetryName.PRECHAT,{param1:a,param2:m.default.locale}),T.default.trackPrechatClick(a)}},{key:"replaceEmoji",value:function(e){return _.default.replace(e,(function(e){var t=_.default.toCodePoint(e),a=document.createElement("jdiv");return h.default.render(f.default.createElement(_.default,{icon:t,alone:!1,className:"emojiMessages"}),a),a.childNodes[0].outerHTML}))}},{key:"formatText",value:function(e){return e=v.default.escape(e),e=this.replaceEmoji(e),m.default.disable_emoji||this.replaceEmoji(e),e}},{key:"getRenderData",value:function(){return{styles:{main:[{main:!0,__hide:this.state.hide}]},style:M.default}}},{key:"renderData",value:function(e,t){var a,n=this;return f.default.createElement("jdiv",t.main,(0,o.default)(a=this.state.phases).call(a,(function(e,t){return f.default.createElement("jdiv",{className:M.default.button,onClick:function(a){return n.sendPhrase(a,e.text,t+1)},dangerouslySetInnerHTML:{__html:n.formatText(e.text)},key:t})})))}}]),a}(p.default);t.default=N},76644:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(26394)),r=n(a(69198)),l=n(a(51379)),u=n(a(214)),s=n(a(66380)),c=n(a(59748)),d=n(a(60021)),f=n(a(96586)),h=n(a(45127)),p=n(a(75119));function m(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var g=function(e){(0,l.default)(a,e);var t=m(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).state={},n}return(0,r.default)(a,[{key:"render",value:function(e,t){var a,n=this.props.messages[0].time,i=new Date(n),o=new Date;return a=i.getFullYear()===o.getFullYear()&&i.getMonth()===o.getMonth()?i.getDate()===o.getDate()?(0,p.default)("today"):i.getDate()===o.getDate()-1?(0,p.default)("yesterday"):(0,h.default)(n,"dd.mm.yyyy"):(0,h.default)(n,"dd.mm.yyyy"),c.default.createElement("jdiv",{className:f.default.main},a)}}]),a}(d.default);t.default=g},22620:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(26394)),r=n(a(69198)),l=n(a(51379)),u=n(a(214)),s=n(a(66380)),c=n(a(59748)),d=n(a(62904)),f=n(a(75043)),h=n(a(58061)),p=n(a(6991)),m=n(a(73796));function g(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}f.default.name("SocialMessage");var v=function(e){(0,l.default)(a,e);var t=g(a);function a(e){var n;(0,o.default)(this,a),n=t.call(this,e);var i=p.default.getSocial();return p.default.isLoginned()&&(n.state={vk:i.vk,fb:i.fb,mode:i.mode}),n}return(0,r.default)(a,[{key:"componentWillMount",value:function(){d.default.joint&&!h.default.mobileOrTablet()||3!=d.default.contacts_ask||this.setState({mode:"email"})}},{key:"render",value:function(){if(this.props.messages&&this.state.mode)return c.default.createElement(m.default,{mode:this.state,classes:this.props.classes})}}]),a}(c.default.Component);t.default=v},32180:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(77766)),l=n(a(26394)),u=n(a(69198)),s=n(a(51379)),c=n(a(214)),d=n(a(66380)),f=n(a(59748)),h=n(a(72961)),p=n(a(75119)),m=a(56602),g=n(a(62904)),v=n(a(58061)),_=n(a(68806)),y=n(a(8282)),b=n(a(61604));function E(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var w=function(e){(0,s.default)(a,e);var t=E(a);function a(e){var n;return(0,l.default)(this,a),(n=t.call(this,e)).message=e.messages[0].toJSON(),n.state={agentInfo:n.getAgentInfo()},n}return(0,u.default)(a,[{key:"getAgentInfo",value:function(){return y.default.getAgentById(this.message.body.from_id)}},{key:"componentDidMount",value:function(){var e=this;y.default.on("update",(function(){e.setState({agentInfo:e.getAgentInfo()})}))}},{key:"getRenderData",value:function(){var e=this.state.agentInfo,t=(0,p.default)("chat_agent_"+this.message.body.action).replace("_AGENT_",e.get("display_name"));return{styles:{main:[{main:!0,_mobile:v.default.mobile()}],text:[{text:!0},{"-webkit-text-size-adjust":v.default.ios()?_.default.getTextSize():null}],avatar:[{avatar:!0}],img:[{img:!0}]},style:b.default,data:{text:t}}}},{key:"renderAvatar",value:function(e){var t,a,n=this.state.agentInfo.get("avatar_url"),i=!!n&&(0,r.default)(t=(0,r.default)(a="".concat((0,m.getProtocol)())).call(a,g.default.avatar_url,"/avatars/")).call(t,n);return i?f.default.createElement("jdiv",(0,o.default)({},e.img,{style:{backgroundImage:"url(".concat(i,")")}})):""}},{key:"renderData",value:function(e,t){return f.default.createElement("jdiv",t.main,"join"===this.message.body.action?f.default.createElement("jdiv",t.avatar,this.renderAvatar(t)):"",f.default.createElement("jdiv",(0,o.default)({},t.text,{dangerouslySetInnerHTML:{__html:this.formatText(e.text)}})))}}]),a}(h.default);t.default=w},62143:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(87672)),r=n(a(26394)),l=n(a(69198)),u=n(a(51379)),s=n(a(214)),c=n(a(66380)),d=n(a(59748)),f=n(a(60021)),h=n(a(68930)),p=n(a(58061)),m=n(a(58165)),g=n(a(68806));function v(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var _=function(e){(0,u.default)(a,e);var t=v(a);function a(e){var n;return(0,r.default)(this,a),(n=t.call(this,e)).state={textSize:g.default.getTextSize()},n}return(0,l.default)(a,[{key:"getRenderData",value:function(){var e=this.props.messages[0].toJSON(),t=p.default.ios()?{"-webkit-text-size-adjust":this.state.textSize}:{};return{data:{icon:e.body.name+"Icon"},styles:{main:[(0,o.default)({main:!0,__mobile:p.default.mobileOrTablet()},"__"+e.body.name,!0)],text:[{text:!0,__mobile:p.default.mobileOrTablet()},t]},style:h.default}}},{key:"renderData",value:function(e,t){var a=this.props.messages[0].get("text");return d.default.createElement("jdiv",t.main,d.default.createElement("jdiv",t.text,d.default.createElement(m.default,{iconName:e.icon,className:h.default.callIcon}),a.replace("<br>"," ")))}}]),a}(f.default);t.default=_},54280:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(26394)),r=n(a(69198)),l=n(a(51379)),u=n(a(214)),s=n(a(66380)),c=n(a(59748)),d=n(a(60021)),f=n(a(62143)),h=n(a(33701)),p=n(a(32180));function m(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var g=function(e){(0,l.default)(a,e);var t=m(a);function a(){return(0,o.default)(this,a),t.apply(this,arguments)}return(0,r.default)(a,[{key:"render",value:function(){var e,t=this.props.messages[0].get("body");return e=t&&"call"===t.type?f.default:t&&"chat"===t.type?p.default:h.default,c.default.createElement(e,{messages:this.props.messages})}}]),a}(d.default);t.default=g},33701:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(26394)),l=n(a(69198)),u=n(a(51379)),s=n(a(214)),c=n(a(66380)),d=n(a(59748)),f=n(a(72961)),h=n(a(51407)),p=n(a(58061)),m=n(a(68806)),g=n(a(45127)),v=a(8565);function _(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var y=function(e){(0,u.default)(a,e);var t=_(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,l.default)(a,[{key:"getRenderData",value:function(){var e=this.props.messages[0].toJSON(),t={main:!0,__mobile:p.default.mobileOrTablet()};e.body&&e.body.type&&"text"!==e.body.type&&(t["__"+e.body.type]=!0);var a=e.type===v.MessageType.PREFORM;return{styles:{main:[t],text:[{text:!0,__bot:a},{"-webkit-text-size-adjust":p.default.ios()?m.default.getTextSize():"none",lineHeight:p.default.ios()?m.default.getLineHeight():null}]},style:h.default,data:{isBot:a,message:e}}}},{key:"renderData",value:function(e,t){var a=(0,g.default)(e.message.created_ts,"dd.mm.yy H:MM:ss");return d.default.createElement("jdiv",(0,o.default)({},t.main,{title:a}),d.default.createElement("jdiv",(0,o.default)({},t.text,{dangerouslySetInnerHTML:{__html:this.formatText(this.props.messages[0].get("text"))}})))}}]),a}(f.default);t.default=y},50380:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(63978)),o=n(a(20368)),r=n(a(39649)),l=n(a(78914)),u=n(a(34074)),s=n(a(20116)),c=n(a(14310)),d=n(a(86902)),f=n(a(1068)),h=n(a(81643)),p=n(a(54103)),m=n(a(87672)),g=n(a(33032)),v=n(a(26394)),_=n(a(69198)),y=n(a(51379)),b=n(a(214)),E=n(a(66380)),w=n(a(59748)),C=n(a(45697)),T=n(a(48938)),k=n(a(22548)),S=n(a(79042)),I=n(a(87423)),x=n(a(58061)),A=n(a(62652)),M=n(a(56602)),R=n(a(68806)),N=n(a(62107)),O=n(a(62904)),D=a(27770),L=n(a(91505)),P=n(a(52673)),j=n(a(44992)),B=a(17674),F=a(85442),H=n(a(45808)),W=a(21224),U=a(33149),z=n(a(94184));function G(e,t){var a=(0,d.default)(e);if(c.default){var n=(0,c.default)(e);t&&(n=(0,s.default)(n).call(n,(function(t){return(0,u.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(a=G(Object(n),!0)).call(a,(function(t){(0,m.default)(e,t,n[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(n));else{var s;(0,l.default)(s=G(Object(n))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(n,t))}))}}return e}function q(e){var t=function(){if("undefined"==typeof Reflect||!f.default)return!1;if(f.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,f.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,E.default)(e);if(t){var i=(0,E.default)(this).constructor;a=(0,f.default)(n,arguments,i)}else a=n.apply(this,arguments);return(0,b.default)(this,a)}}var K=n(a(75043)).default.name("MobileContainer"),Y=function(e){(0,y.default)(a,e);var t=q(a);function a(e){var n;return(0,v.default)(this,a),(n=t.call(this,e)).showState=!1,n.viewportChangeFn=N.default.throttle((function(){n.getCoordinates()}),200),n.offset=R.default.getBodyOffset(),n.getCoordinates(!0),n._zoomOverlay=null,n._menu=null,n}return(0,_.default)(a,[{key:"getCoordinates",value:function(e){var t;if(O.default.enable_new_animation){var a=H.default.getComponent(W.Component.CHAT_INPUT);a&&a.autoResizer&&e&&(0,g.default)((function(){a.autoResizer.check()}),100)}this.setState(V(V({},(0,U.getCoordinates)()),{},{zIndex:this.showState?2147483647:null,route:B.Router.getCurrentRoute()})),!e&&(0,g.default)((0,p.default)(t=this.getCoordinates).call(t,this,!0),50)}},{key:"handleTouchMove",value:function(e){var t=e.target;if(t===H.default.get(W.Component.INPUT)&&t.scrollHeight>t.clientHeight)K.log("touchmove ignore input scroll");else{var a=!1;this._zoomOverlay&&this._zoomOverlay.isVisible()&&(a=!0),M.default.isWixContext()||a||A.default.route!==F.Route.CHAT||null!==t.closest("#scrollbar-container")||(K.log("ignore move",R.default.getUserZoom()),e.preventDefault())}}},{key:"componentDidMount",value:function(){var e,t=this;K.log("mount"),j.default.initSoundPlayer(),M.default.addListener(M.default.getPageWindow().document,"touchmove",(0,p.default)(e=this.handleTouchMove).call(e,this)),B.Router.on("route_change",(function(e){t.state.route!==e&&t.setState({route:e})})),A.default.addListener((function(){x.default.tablet()&&t.props.chat||(A.default.isShowNativeMobileMenu&&t.state.route==F.Route.LABEL?(t.showContainer(),t._menu&&t._menu.show()):t.hideContainer())})),R.default.listenChangeZoom((function(){t.getCoordinates(!0)}))}},{key:"showContainer",value:function(){this.showState=!0,this.getCoordinates(!0),x.default.mobile()&&!M.default.isWixContext()&&R.default.blockScroll();var e=M.default.getPageWindow();M.default.addListener(e,"orientationchange",this.viewportChangeFn),M.default.addListener(e,"scroll",this.viewportChangeFn),M.default.addListener(e,"resize",this.viewportChangeFn),e.visualViewport&&e.visualViewport.addEventListener&&(e.visualViewport.addEventListener("scroll",this.viewportChangeFn),e.visualViewport.addEventListener("resize",this.viewportChangeFn))}},{key:"hideContainer",value:function(){var e=this;x.default.mobile()&&R.default.unblockScroll();var t=M.default.getPageWindow(),a=t.document;x.default.mobile()?(0,g.default)((function(){if(!A.default.isShowNativeMobileMenu){var n=-1*Math.max(t.innerWidth,a.body.clientWidth)+"px";e.setState({left:n,top:"-100%",zIndex:null})}}),300):this.setState({bottom:"-1000px"}),M.default.removeEvent(t,"orientationchange",this.viewportChangeFn),M.default.removeEvent(t,"scroll",this.viewportChangeFn),M.default.removeEvent(t,"resize",this.viewportChangeFn),this.showState=!1}},{key:"renderMenu",value:function(){var e=this;return!this.props.chat&&x.default.tablet()&&this.state.route===F.Route.LABEL?w.default.createElement(I.default,{hideOnRender:!0,ref:function(t){e._menu=t}}):x.default.ios()?w.default.createElement(S.default,{hideOnRender:!0,ref:function(t){e._menu=t}}):w.default.createElement(k.default,{hideOnRender:!0,ref:function(t){e._menu=t}})}},{key:"renderLandscapeOverlay",value:function(){return(0,U.shouldRenderLandscapeOverlay)(this.state.route,this.state.landscapeMode)?w.default.createElement(P.default,{onTouchStart:function(){B.Router.next(F.RouterEvent.CloseWindow)},landscape:!0}):null}},{key:"renderZoomOverlay",value:function(){var e=this;return(0,U.shouldRenderZoomOverlay)(this.state.route)?w.default.createElement(L.default,{ref:function(t){e._zoomOverlay=t}}):null}},{key:"renderWidgetContainer",value:function(e){var t;return this.props.tabletMenu?null:w.default.createElement("jdiv",{className:(0,z.default)((t={},(0,m.default)(t,T.default.mobileContainer,!0),(0,m.default)(t,T.default._tablet,x.default.tablet()),(0,m.default)(t,T.default._orientationLeft,"left"===O.default.widget_mobile_orientation),t)),style:this.getMobileContainerStyle()},w.default.createElement(D.WidgetContainer,{mobile:!0}))}},{key:"getMenuContainerStyle",value:function(){var e=B.Router.getCurrentRoute()===F.Route.LABEL||B.Router.isChatRoute();return{width:x.default.mobile()&&this.state.width,height:x.default.mobile()&&this.state.height,display:e&&this.showState?"block":"none",opacity:this.showState?1:0,top:x.default.mobile()&&this.state.top,left:x.default.mobile()&&this.state.left,bottom:x.default.tablet()&&this.state.bottom,zoom:this.state.appZoom,zIndex:x.default.mobile()&&this.state.zIndex,"-webkit-text-size-adjust":x.default.ios()?R.default.getTextSize():null}}},{key:"getMobileContainerStyle",value:function(){var e;return{display:-1===(0,h.default)(e=[F.Route.LABEL,F.Route.HIDDEN]).call(e,this.state.route)?"block":"none",zoom:this.state.appZoom,zIndex:x.default.mobile()&&this.state.zIndex,"-webkit-text-size-adjust":x.default.ios()?R.default.getTextSize():null}}},{key:"render",value:function(){var e,t;return-1===(0,h.default)(e=[F.Route.LABEL,F.Route.HIDDEN]).call(e,this.state.route)?R.default.blockSite():R.default.unblockSite(),w.default.createElement("jdiv",null,this.renderWidgetContainer(),this.renderLandscapeOverlay(),this.renderZoomOverlay(),w.default.createElement("jdiv",{className:(0,z.default)((t={},(0,m.default)(t,T.default.container,!0),(0,m.default)(t,T.default._tablet,x.default.tablet()),(0,m.default)(t,T.default._orientationLeft,"left"===O.default.widget_mobile_orientation),t)),style:this.getMenuContainerStyle()},this.renderMenu()))}}]),a}(w.default.PureComponent);Y.propTypes={chat:C.default.bool,tabletMenu:C.default.bool};var Z=Y;t.default=Z},51689:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(63978)),o=n(a(20368)),r=n(a(39649)),l=n(a(78914)),u=n(a(34074)),s=n(a(20116)),c=n(a(14310)),d=n(a(86902)),f=n(a(1068)),h=n(a(81643)),p=n(a(54103)),m=n(a(87672)),g=n(a(33032)),v=n(a(26394)),_=n(a(69198)),y=n(a(51379)),b=n(a(214)),E=n(a(66380)),w=n(a(59748)),C=a(26213),T=n(a(45697)),k=n(a(48938)),S=n(a(22548)),I=n(a(79042)),x=n(a(58061)),A=n(a(62652)),M=n(a(68806)),R=n(a(62107)),N=n(a(62904)),O=n(a(90362)),D=n(a(91505)),L=n(a(52673)),P=n(a(44992)),j=a(17674),B=a(85442),F=n(a(45808)),H=a(21224),W=a(33149),U=n(a(94184)),z=a(20965),G=a(37916),V=a(56602),q=n(a(47321));function K(e,t){var a=(0,d.default)(e);if(c.default){var n=(0,c.default)(e);t&&(n=(0,s.default)(n).call(n,(function(t){return(0,u.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(a=K(Object(n),!0)).call(a,(function(t){(0,m.default)(e,t,n[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(n));else{var s;(0,l.default)(s=K(Object(n))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(n,t))}))}}return e}function Z(e){var t=function(){if("undefined"==typeof Reflect||!f.default)return!1;if(f.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,f.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,E.default)(e);if(t){var i=(0,E.default)(this).constructor;a=(0,f.default)(n,arguments,i)}else a=n.apply(this,arguments);return(0,b.default)(this,a)}}var J=n(a(75043)).default.name("MobileContainer"),X=function(e){(0,y.default)(a,e);var t=Z(a);function a(e){var n;return(0,v.default)(this,a),(n=t.call(this,e)).showState=!1,n.viewportChangeFn=R.default.throttle((function(){n.getCoordinates()}),200),n.offset=M.default.getBodyOffset(),n.getCoordinates(!0),n._zoomOverlay=null,n._menu=null,n}return(0,_.default)(a,[{key:"getCoordinates",value:function(e){var t;if(N.default.enable_new_animation){var a=F.default.getComponent(H.Component.CHAT_INPUT);a&&a.autoResizer&&e&&(0,g.default)((function(){a.autoResizer.check()}),100)}this.setState(Y(Y({},(0,W.getCoordinates)()),{},{zIndex:this.showState?2147483647:null,route:j.Router.getCurrentRoute()})),!e&&(0,g.default)((0,p.default)(t=this.getCoordinates).call(t,this,!0),50)}},{key:"handleTouchMove",value:function(e){var t=e.target;if(t===F.default.get(H.Component.INPUT)&&t.scrollHeight>t.clientHeight)J.log("touchmove ignore input scroll");else{var a=!1;this._zoomOverlay&&this._zoomOverlay.isVisible()&&(a=!0),(0,V.isWixContext)()||a||A.default.route!==B.Route.CHAT||null!==t.closest("#scrollbar-container")||(J.log("ignore move",M.default.getUserZoom()),e.preventDefault())}}},{key:"componentDidMount",value:function(){var e,t=this;J.log("mount"),P.default.initSoundPlayer(),(0,V.addListener)((0,V.getPageWindow)().document,"touchmove",(0,p.default)(e=this.handleTouchMove).call(e,this)),j.Router.on("route_change",(function(e){e===B.Route.LABEL||e===B.Route.HIDDEN?M.default.unblockSite():M.default.blockSite(),t.state.route!==e&&t.setState({route:e})})),A.default.addListener((function(){x.default.tablet()&&t.props.chat||(A.default.isShowNativeMobileMenu&&t.state.route==B.Route.LABEL?(t.showContainer(),t._menu&&t._menu.show()):t.hideContainer())})),M.default.listenChangeZoom((function(){t.getCoordinates(!0)}))}},{key:"showContainer",value:function(){this.showState=!0,this.getCoordinates(!0),x.default.mobile()&&!(0,V.isWixContext)()&&M.default.blockScroll();var e=(0,V.getPageWindow)();(0,V.addListener)(e,"orientationchange",this.viewportChangeFn),(0,V.addListener)(e,"scroll",this.viewportChangeFn),(0,V.addListener)(e,"resize",this.viewportChangeFn),e.visualViewport&&e.visualViewport.addEventListener&&(e.visualViewport.addEventListener("scroll",this.viewportChangeFn),e.visualViewport.addEventListener("resize",this.viewportChangeFn))}},{key:"hideContainer",value:function(){var e=this;x.default.mobile()&&M.default.unblockScroll();var t=(0,V.getPageWindow)(),a=t.document;x.default.mobile()?(0,g.default)((function(){if(!A.default.isShowNativeMobileMenu){var n=-1*Math.max(t.innerWidth,a.body.clientWidth)+"px";e.setState({left:n,top:"-100%",zIndex:null})}}),300):this.setState({bottom:"-1000px"}),(0,V.removeEvent)(t,"orientationchange",this.viewportChangeFn),(0,V.removeEvent)(t,"scroll",this.viewportChangeFn),(0,V.removeEvent)(t,"resize",this.viewportChangeFn),this.showState=!1}},{key:"renderMenu",value:function(){var e=this;return x.default.tablet()?null:x.default.ios()?w.default.createElement(I.default,{hideOnRender:!0,ref:function(t){e._menu=t}}):w.default.createElement(S.default,{hideOnRender:!0,ref:function(t){e._menu=t}})}},{key:"renderLandscapeOverlay",value:function(){return(0,W.shouldRenderLandscapeOverlay)(this.state.route,this.state.landscapeMode)?w.default.createElement(L.default,{onTouchStart:function(){j.Router.next(B.RouterEvent.CloseWindow)},landscape:!0}):null}},{key:"renderZoomOverlay",value:function(){var e=this;return(0,W.shouldRenderZoomOverlay)(this.state.route)?w.default.createElement(D.default,{ref:function(t){e._zoomOverlay=t}}):null}},{key:"renderWidgetContainer",value:function(){var e,t=this;if(this.props.tabletMenu)return null;var a=G.CallbackUtils.isCallbackEnabled();return w.default.createElement("jdiv",{className:(0,U.default)((e={},(0,m.default)(e,k.default.mobileContainer,!0),(0,m.default)(e,k.default.__tablet,x.default.tablet()),(0,m.default)(e,k.default._orientationLeft,"left"===N.default.widget_mobile_orientation),e)),style:this.getMobileContainerStyle()},w.default.createElement(O.default,{needRenderCloseBtn:!1,needRenderCallContainer:a,needRenderDrag:!1,showCloseButton:!0,showHeaderText:!0,showBody:!0,callbackEnabled:this.props.callbackEnabled,route:this.props.route,onCloseButtonClick:function(){q.default.closeWidget(),t.props.callbackStatus===z.CallStatus.CONNECTED&&j.Router.next(B.RouterEvent.CloseWindow)}}))}},{key:"getMenuContainerStyle",value:function(){var e=j.Router.getCurrentRoute()===B.Route.LABEL||j.Router.isChatRoute();return{width:x.default.mobile()&&this.state.width,height:x.default.mobile()&&this.state.height,display:e&&this.showState?"block":"none",opacity:this.showState?1:0,top:x.default.mobile()&&this.state.top,left:x.default.mobile()&&this.state.left,bottom:x.default.tablet()&&this.state.bottom,zoom:this.state.appZoom,zIndex:x.default.mobile()&&this.state.zIndex,"-webkit-text-size-adjust":x.default.ios()?M.default.getTextSize():null}}},{key:"getMobileContainerStyle",value:function(){var e;return{display:-1===(0,h.default)(e=[B.Route.LABEL,B.Route.HIDDEN]).call(e,this.state.route)?"block":"none",zoom:this.state.appZoom,zIndex:x.default.mobile()&&this.state.zIndex,"-webkit-text-size-adjust":x.default.ios()?M.default.getTextSize():null}}},{key:"render",value:function(){var e;return w.default.createElement("jdiv",null,this.renderWidgetContainer(),this.renderLandscapeOverlay(),this.renderZoomOverlay(),w.default.createElement("jdiv",{className:(0,U.default)((e={},(0,m.default)(e,k.default.container,!0),(0,m.default)(e,k.default._tablet,x.default.tablet()),(0,m.default)(e,k.default._orientationLeft,"left"===N.default.widget_mobile_orientation),e)),style:this.getMenuContainerStyle()},this.renderMenu()))}}]),a}(w.default.PureComponent);X.propTypes={chat:T.default.bool,tabletMenu:T.default.bool,callbackEnabled:T.default.bool,route:T.default.string,position:T.default.any,padding:T.default.string,orientation:T.default.string,callbackStatus:T.default.string};var $=(0,C.connect)((function(e){return{padding:e.settings.user.widgetPadding,orientation:e.settings.user.widgetOrientation,route:e.app.route,callbackEnabled:e.callback.available,position:e.position,callbackStatus:e.callback.status}}),{})(w.default.memo(X));t.default=$},33149:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.shouldRenderLandscapeOverlay=t.shouldRenderZoomOverlay=t.getCoordinates=void 0;var i=n(a(81643)),o=n(a(68806)),r=a(56602),l=n(a(58061)),u=a(85442);t.getCoordinates=function(){var e,t,a,n,i=(0,r.isWixContext)()?1:o.default.getAppZoom(),u=Math.max(o.default.document.body.scrollTop,o.default.window.pageYOffset),s=Math.max(o.default.document.body.scrollLeft,o.default.window.pageXOffset),c=o.default.window.visualViewport,d=o.default.getPageZoom(),f=o.default.getBodyOffset();if(c)e=c.width*d,t=c.height*d,a=(c.pageTop-f.top)*d,n=(-1*c.width+c.pageLeft-f.left)*d;else{var h=o.default.window.innerWidth,p=o.default.window.innerHeight;e=i>=1?h/i:h*d,t=i>=1?p/i:p*d,a=(i>=1?u/i:u*d)-f.top*d,n=(i>=1?s/i:s*d)-f.left*d,n-=o.default.window.innerWidth*d}return{width:e,height:t,top:l.default.mobile()&&a,bottom:l.default.tablet()&&"105px",left:n,appZoom:l.default.mobile()&&i,landscapeMode:"landscape"===o.default.getOrientation()}};t.shouldRenderZoomOverlay=function(e){return!(0,r.isWixContext)()&&e!==u.Route.HIDDEN};t.shouldRenderLandscapeOverlay=function(e,t){var a,n=-1!==(0,i.default)(a=[u.Route.HIDDEN,u.Route.LABEL]).call(a,e);return!(l.default.tablet()||!t||n)}},22548:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(54103)),l=n(a(26394)),u=n(a(69198)),s=n(a(51379)),c=n(a(214)),d=n(a(66380)),f=n(a(59748)),h=n(a(62231)),p=n(a(58165)),m=n(a(38011)),g=n(a(75119)),v=n(a(62904)),_=n(a(52673)),y=a(81426);function b(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var E=function(e){(0,s.default)(a,e);var t=b(a);function a(){return(0,l.default)(this,a),t.apply(this,arguments)}return(0,u.default)(a,[{key:"getRenderData",value:function(){var e="landscape"===this.state.orientation;return{data:{chatText:v.default.chat_mode===y.ChatMode.ONLINE?(0,g.default)("onlineChat"):(0,g.default)("lblLeaveMessage"),links:this.joints.links},styles:{wrap:[{wrap:!0,_show:this.state.isShow,_landscape:e&&this.state.isShow}],logoIcon:[{logoIcon:!0,__ru:!!v.default.bill_ru}],menuItemIconText:[{menuItemIcon:!0,textIcon:!0}],menuItemTextHighlight:[{menuItemTextHighlight:!0}],menuWrap:[{menuWrap:!0},{left:this.state.left,bottom:this.state.bottom}]},style:h.default}}},{key:"renderData",value:function(e,t){var a,n,i,l;return 0===this.joints.count?null:f.default.createElement("jdiv",t.wrap,f.default.createElement(_.default,{onTouchStart:(0,r.default)(a=this.close).call(a,this),landscape:"landscape"===this.state.orientation}),f.default.createElement("jdiv",t.menuWrap,this.jivoLink&&f.default.createElement("jdiv",{className:h.default.copyrightWrap},f.default.createElement("jdiv",{className:h.default.copyright},f.default.createElement("a",{href:this.jivoLink,target:"_blank",rel:this.linkProps.rel},f.default.createElement("jdiv",null,(0,g.default)("service_from")),f.default.createElement(p.default,(0,o.default)({iconName:this.logoIconName,color:"#f00"},t.logoIcon))))),f.default.createElement("jdiv",{className:h.default.menuTitle},(0,g.default)("powerBtnMenuTitle")),f.default.createElement("jdiv",{className:h.default.menu},e.links.vkUrl&&f.default.createElement("a",(0,o.default)({href:e.links.vkUrl},this.linkProps,{"jv-link":"vk",rel:this.linkNoRef}),f.default.createElement("jdiv",{className:h.default.menuItemVk},f.default.createElement(p.default,{iconName:"vk",color:"#507299",className:h.default.menuItemIcon}),f.default.createElement("jdiv",{className:h.default.menuItemText},(0,g.default)("social_vk")))),e.links.fbUrl&&f.default.createElement("a",(0,o.default)({href:e.links.fbUrl},this.linkProps,{"jv-link":"fb",rel:this.linkNoRef}),f.default.createElement("jdiv",{className:h.default.menuItem},f.default.createElement(p.default,{iconName:"fb",color:"#0084ff",className:h.default.menuItemIcon}),f.default.createElement("jdiv",{className:h.default.menuItemText},"Facebook Messenger"))),e.links.waUrl&&f.default.createElement("a",(0,o.default)({href:e.links.waUrl},this.linkProps,{"jv-link":"wa",rel:this.linkNoRef}),f.default.createElement("jdiv",{className:h.default.menuItem},f.default.createElement(p.default,{iconName:"wa",color:"#0084ff",className:h.default.menuItemIcon}),f.default.createElement("jdiv",{className:h.default.menuItemText},"WhatsApp"))),e.links.tgUrl&&f.default.createElement("a",(0,o.default)({href:e.links.tgUrl},this.linkProps,{"jv-link":"tg"}),f.default.createElement("jdiv",{className:h.default.menuItem},f.default.createElement(p.default,{iconName:"telegram",color:"#39afe2",className:h.default.menuItemIcon}),f.default.createElement("jdiv",{className:h.default.menuItemText},"Telegram"))),e.links.vbUrl&&f.default.createElement("a",(0,o.default)({href:e.links.vbUrl},this.linkProps,{"jv-link":"vb"}),f.default.createElement("jdiv",{className:h.default.menuItem},f.default.createElement(p.default,{iconName:"viber",className:h.default.menuItemIcon}),f.default.createElement("jdiv",{className:h.default.menuItemText},"Viber"))),e.links.cbUrl&&f.default.createElement("a",(0,o.default)({href:"tel:"+e.links.cbUrl},this.linkProps,{"jv-link":"call",rel:this.linkNoRef}),f.default.createElement("jdiv",{className:h.default.menuItem},f.default.createElement(p.default,{iconName:"phone-outgoing",color:"#0076ff",className:h.default.menuItemIcon}),f.default.createElement("jdiv",{className:h.default.menuItemText},(0,g.default)("lblCallMe")," ",e.links.cbUrl))),e.links.callback&&f.default.createElement("jdiv",{className:h.default.menuItem,onTouchStart:(0,r.default)(n=this.openChatCall).call(n,this)},f.default.createElement(p.default,{iconName:"phone-outgoing",color:"#0076ff",className:h.default.menuItemIcon}),f.default.createElement("jdiv",{className:h.default.menuItemText},this.getCallText())),f.default.createElement("jdiv",{className:h.default.menuItem,onTouchStart:(0,r.default)(i=this.openChat).call(i,this)},f.default.createElement(p.default,(0,o.default)({iconName:"message-text",color:"#05b24b"},t.menuItemIconText)),f.default.createElement("jdiv",t.menuItemTextHighlight,e.chatText))),f.default.createElement("jdiv",{className:h.default.closeBtn,onTouchStart:(0,r.default)(l=this.close).call(l,this)},f.default.createElement("jdiv",{className:h.default.closeIcon},"<"),f.default.createElement("jdiv",{className:h.default.closeText},(0,g.default)("cancel")))))}}]),a}(m.default);t.default=E},79042:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(54103)),l=n(a(26394)),u=n(a(69198)),s=n(a(51379)),c=n(a(214)),d=n(a(66380)),f=n(a(59748)),h=n(a(97694)),p=n(a(58165)),m=n(a(38011)),g=n(a(75119)),v=n(a(62904)),_=n(a(52673)),y=a(81426),b=n(a(6991));function E(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var w=function(e){(0,s.default)(a,e);var t=E(a);function a(){return(0,l.default)(this,a),t.apply(this,arguments)}return(0,u.default)(a,[{key:"getRenderData",value:function(){var e="landscape"===this.state.orientation;return{data:{chatText:v.default.chat_mode===y.ChatMode.ONLINE?(0,g.default)("onlineChat"):(0,g.default)("lblLeaveMessage"),links:this.joints.links},styles:{wrap:[{wrap:!0,_show:this.state.isShow,_landscape:e&&this.state.isShow}],logoIcon:[{logoIcon:!0,__ru:!!v.default.bill_ru}],menuWrap:[{menuWrap:!0},{left:this.state.left,bottom:this.state.bottom}],menuItemTextHighlight:[{menuItemTextHighlight:!0}]},style:h.default}}},{key:"renderData",value:function(e,t){var a,n,i,l;return 0===this.joints.count?null:f.default.createElement("jdiv",t.wrap,f.default.createElement(_.default,{onTouchStart:(0,r.default)(a=this.close).call(a,this),landscape:"landscape"===this.state.orientation}),f.default.createElement("jdiv",t.menuWrap,this.jivoLink&&f.default.createElement("jdiv",{className:h.default.copyrightWrap},f.default.createElement("jdiv",{className:h.default.copyright},f.default.createElement("a",{href:this.jivoLink,target:"_blank",rel:this.linkProps.rel},f.default.createElement("jdiv",null,(0,g.default)("service_from")),f.default.createElement(p.default,(0,o.default)({iconName:this.logoIconName,color:"#f00"},t.logoIcon))))),f.default.createElement("jdiv",{className:h.default.menu},f.default.createElement("jdiv",{className:h.default.menuTitle},(0,g.default)("powerBtnMenuTitle")),e.links.vkUrl&&f.default.createElement("a",(0,o.default)({href:e.links.vkUrl},this.linkProps,{"jv-link":"vk",rel:this.linkNoRef}),f.default.createElement("jdiv",{className:h.default.menuItem},f.default.createElement("jdiv",{className:h.default.menuItemText},(0,g.default)("social_vk")))),e.links.fbUrl&&f.default.createElement("a",(0,o.default)({href:e.links.fbUrl},this.linkProps,{"jv-link":"fb",rel:this.linkNoRef}),f.default.createElement("jdiv",{className:h.default.menuItem},f.default.createElement("jdiv",{className:h.default.menuItemText},"Facebook Messenger"))),e.links.waUrl&&f.default.createElement("a",(0,o.default)({href:e.links.waUrl},this.linkProps,{"jv-link":"wa",rel:this.linkNoRef}),f.default.createElement("jdiv",{className:h.default.menuItem},f.default.createElement("jdiv",{className:h.default.menuItemText},"WhatsApp"))),e.links.tgUrl&&f.default.createElement("a",(0,o.default)({href:e.links.tgUrl},this.linkProps,{"jv-link":"tg"}),f.default.createElement("jdiv",{className:h.default.menuItem},f.default.createElement("jdiv",{className:h.default.menuItemText},"Telegram"))),e.links.vbUrl&&f.default.createElement("a",(0,o.default)({href:e.links.vbUrl},this.linkProps,{"jv-link":"vb"}),f.default.createElement("jdiv",{className:h.default.menuItem},f.default.createElement("jdiv",{className:h.default.menuItemText},"Viber"))),e.links.cbUrl&&f.default.createElement("a",(0,o.default)({href:"tel:"+e.links.cbUrl},this.linkProps,{"jv-link":"call"}),f.default.createElement("jdiv",{className:h.default.menuItem},f.default.createElement(p.default,{iconName:"phone",color:"#0076ff",className:h.default.menuItemIcon}),f.default.createElement("jdiv",{className:h.default.menuItemText},(0,g.default)("lblCallMe")," ",e.links.cbUrl))),e.links.callback&&f.default.createElement("jdiv",{className:h.default.menuItem,onClick:(0,r.default)(n=this.openChatCall).call(n,this)},f.default.createElement(p.default,{iconName:"phone",color:"#0076ff",className:h.default.menuItemIcon}),f.default.createElement("jdiv",{className:h.default.menuItemText},this.getCallText())),b.default.ifIMessageEnabled()?f.default.createElement("a",(0,o.default)({href:e.links.imUrl},this.linkProps,{"jv-link":"im"}),f.default.createElement("jdiv",{className:h.default.menuItem},f.default.createElement(p.default,{iconName:"icon-im",color:"#ff0000",className:h.default.menuItemIconIm}),f.default.createElement("jdiv",{className:h.default.menuItemText},(0,g.default)("lblMessagesApp")))):f.default.createElement("jdiv",{className:h.default.menuItem,onClick:(0,r.default)(i=this.openChat).call(i,this)},f.default.createElement("jdiv",t.menuItemTextHighlight,e.chatText))),f.default.createElement("jdiv",{className:h.default.closeBtn,onClick:(0,r.default)(l=this.close).call(l,this)},(0,g.default)("cancel"))))}}]),a}(m.default);t.default=w},38011:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(77766)),r=n(a(33032)),l=n(a(54103)),u=n(a(26394)),s=n(a(69198)),c=n(a(5824)),d=n(a(51379)),f=n(a(214)),h=n(a(66380)),p=n(a(60021)),m=n(a(62904)),g=n(a(47321)),v=a(75245),_=n(a(56602)),y=n(a(58061)),b=n(a(40695)),E=n(a(62652)),w=n(a(36216)),C=n(a(68806)),T=n(a(6991)),k=n(a(62107)),S=n(a(75119)),I=a(17674),x=a(85442),A=a(33367),M=a(63242),R=a(51139);function N(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,h.default)(e);if(t){var o=(0,h.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}var O=n(a(75043)).default.name("MobileMenu"),D=function(e){(0,d.default)(a,e);var t=N(a);function a(e){var n,i;return(0,u.default)(this,a),(i=t.call(this,e)).joints=i.limitJoints(),i.state={isShow:!i.props.hideOnRender,orientation:C.default.getOrientation()},i.linkProps={target:"_blank",onTouchStart:i.openMenuItem,rel:"nofollow noopener"},i.linkNoRef=i.linkProps.rel+" noreferrer",i.getCopyrightInfo(),_.default.addListener(window,"orientationchange",(0,l.default)(n=i.onOrientationChange).call(n,(0,c.default)(i))),i}return(0,s.default)(a,[{key:"componentDidMount",value:function(){var e=this;this.on(w.default,(function(){e.joints=e.limitJoints()}))}},{key:"limitJoints",value:function(){var e=0,t=_.default.getPageWindow(),a=T.default.getJoints(),n=t.screen.height*(t.devicePixelRatio||1),i=50*t.devicePixelRatio;return e=(n=y.default.safari()?n-i:n)<=960?3:n<=1150?4:6,a.links.vbUrl&&a.count>e&&(a.links=k.default.omit(a.links,"vbUrl"),a.count--),a.links.tgUrl&&a.count>e&&(a.links=k.default.omit(a.links,"tgUrl"),a.count--),a}},{key:"onOrientationChange",value:function(){var e=this;(0,r.default)((function(){e.getOrientation()}),300)}},{key:"getOrientation",value:function(){this.setState({orientation:C.default.getOrientation()})}},{key:"getCopyrightInfo",value:function(){_.default.showAd()&&(this.logoIconName=m.default.bill_ru?"logo-jivosite-white":"logo-jivochat-white",this.jivoLink=_.default.getUtmLink("mobile_menu"))}},{key:"openMenuItem",value:function(e){var t=e.currentTarget.getAttribute("jv-link");"call"===t?b.default.trackMobileCallClick():b.default.trackMobileSocial(t),A.Monitoring.telemetry(M.TelemetryName.POWERBUTTON_OPEN+t)}},{key:"openChat",value:function(e){O.log("openChat"),e&&(e.preventDefault(),e.stopPropagation()),this.close(!0),g.default.closeMobileNativeMenu(),(0,r.default)((function(){E.default.is_focused=1,g.default.chatOpenByClient=!0,I.Router.next(x.RouterEvent.Navigate),v.messageActions.deleteUnansweredOfflineSystemInvite(),v.messageActions.addPrechatMessage(),v.messageActions.offlineSystemInvite(),g.default.openChatCallbacks(),A.Monitoring.telemetry(M.TelemetryName.POWERBUTTON_OPEN_CHAT)}),100)}},{key:"openChatCall",value:function(e){O.log("openChatCall"),e&&(e.preventDefault(),e.stopPropagation()),this.close(!0),(0,r.default)((function(){E.default.is_focused=1,I.Router.next(x.RouterEvent.ToCall),v.messageActions.deleteUnansweredOfflineSystemInvite(),v.messageActions.offlineSystemInvite(),A.Monitoring.telemetry(M.TelemetryName.POWERBUTTON_OPEN_CALLBACK),g.default.openChatCallbacks()}),100)}},{key:"show",value:function(){if(O.log("show"),0===this.joints.count)return this.openChat();this.setState({isShow:!0,left:"100%",bottom:"0%"})}},{key:"close",value:function(e){var t=this;O.log("close"),this.setState({bottom:"-100%"},(function(){g.default.closeMobileNativeMenu(),(0,r.default)((function(){E.default.isShowNativeMobileMenu||t.setState({left:"-100%"})}),200)})),!e&&A.Monitoring.telemetry(M.TelemetryName.POWERBUTTON_CLOSE_MENU)}},{key:"isDelayedCallback",value:function(){return w.default.cw_call_delayed}},{key:"getCallText",value:function(){return this.isDelayedCallback()?(0,S.default)("callback_delayed_button_submit"):(0,o.default)(e=(0,o.default)(t="".concat((0,S.default)("cw_callAfter")," ")).call(t,m.default.callback_settings.time," ")).call(e,(0,R.getTextSeconds)(m.default.callback_settings.time),"!");var e,t}}]),a}(p.default);t.default=D},87423:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(54103)),r=n(a(5872)),l=n(a(26394)),u=n(a(69198)),s=n(a(51379)),c=n(a(214)),d=n(a(66380)),f=n(a(59748)),h=n(a(53415)),p=n(a(58165)),m=n(a(38011)),g=n(a(75119)),v=n(a(62904)),_=a(81426),y=n(a(6991));function b(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var E=function(e){(0,s.default)(a,e);var t=b(a);function a(){return(0,l.default)(this,a),t.apply(this,arguments)}return(0,u.default)(a,[{key:"getRenderData",value:function(){return{data:{chatText:v.default.chat_mode===_.ChatMode.ONLINE?(0,g.default)("onlineChat"):(0,g.default)("lblLeaveMessage"),links:this.joints.links},styles:{wrap:[{tabletWrap:!0,_orinationLeft:"left"===v.default.widget_mobile_orientation}],menuItemIconChat:[{menuItemIcon:!0,chatIcon:!0}],menuWrap:[{menuWrap:!0},{left:this.state.left}]},style:h.default}}},{key:"renderData",value:function(e,t){var a,n;if(0===this.joints.count)return null;var i=y.default.ifIMessageEnabled();return f.default.createElement("jdiv",t.wrap,f.default.createElement("jdiv",t.menuWrap,f.default.createElement("jdiv",{className:h.default.menu},i&&f.default.createElement("a",(0,r.default)({href:e.links.imUrl},this.linkProps,{"jv-link":"im"}),f.default.createElement("jdiv",{className:h.default.menuItem},f.default.createElement(p.default,{iconName:"icon-im",color:"#fff",className:h.default.menuItemIconIm}),f.default.createElement("jdiv",{className:h.default.menuItemText},(0,g.default)("social_im")))),e.links.vkUrl&&f.default.createElement("a",(0,r.default)({href:e.links.vkUrl},this.linkProps,{"jv-link":"vk",rel:this.linkNoRef}),f.default.createElement("jdiv",{className:h.default.menuItem},f.default.createElement(p.default,{iconName:"vk",color:"#507299",className:h.default.menuItemIconVk}),f.default.createElement("jdiv",{className:h.default.menuItemText},(0,g.default)("social_vk")))),e.links.fbUrl&&f.default.createElement("a",(0,r.default)({href:e.links.fbUrl},this.linkProps,{"jv-link":"fb",rel:this.linkNoRef}),f.default.createElement("jdiv",{className:h.default.menuItem},f.default.createElement(p.default,{iconName:"fb",color:"#0084ff",className:h.default.menuItemIconFb}),f.default.createElement("jdiv",{className:h.default.menuItemText},"Facebook Messenger"))),e.links.waUrl&&f.default.createElement("a",(0,r.default)({href:e.links.waUrl},this.linkProps,{"jv-link":"wa",rel:this.linkNoRef}),f.default.createElement("jdiv",{className:h.default.menuItem},f.default.createElement(p.default,{iconName:"wa",color:"#0084ff",className:h.default.menuItemIcon}),f.default.createElement("jdiv",{className:h.default.menuItemText},"WhatsApp"))),e.links.tgUrl&&f.default.createElement("a",(0,r.default)({href:e.links.tgUrl},this.linkProps,{"jv-link":"tg"}),f.default.createElement("jdiv",{className:h.default.menuItem},f.default.createElement(p.default,{iconName:"telegram",color:"#39afe2",className:h.default.menuItemIcon}),f.default.createElement("jdiv",{className:h.default.menuItemText},"Telegram"))),e.links.vbUrl&&f.default.createElement("a",(0,r.default)({href:e.links.vbUrl},this.linkProps,{"jv-link":"vb"}),f.default.createElement("jdiv",{className:h.default.menuItem},f.default.createElement(p.default,{iconName:"viber",color:"#fff",className:h.default.menuItemIcon}),f.default.createElement("jdiv",{className:h.default.menuItemText},"Viber"))),e.links.cbUrl&&f.default.createElement("a",(0,r.default)({href:"tel:"+e.links.cbUrl},this.linkProps,{"jv-link":"call"}),f.default.createElement("jdiv",{className:h.default.menuItem},f.default.createElement(p.default,{iconName:"callback-btn",color:"#00bd63",className:h.default.menuItemIconCall}),f.default.createElement("jdiv",{className:h.default.menuItemText},(0,g.default)("lblCallMe")," ",e.links.cbUrl))),e.links.callback&&f.default.createElement("jdiv",{className:h.default.menuItem,onTouchStart:(0,o.default)(a=this.openChatCall).call(a,this)},f.default.createElement(p.default,{iconName:"callback-btn",color:"#00bd63",className:h.default.menuItemIconCall}),f.default.createElement("jdiv",{className:h.default.menuItemText},(0,g.default)("cw_callAfter")," ",v.default.callback_settings.time," ",(0,g.default)("cw_form_secondd"))),f.default.createElement("jdiv",{className:h.default.menuItem,onTouchStart:(0,o.default)(n=this.openChat).call(n,this)},f.default.createElement(p.default,(0,r.default)({iconName:"labelChat"},t.menuItemIconChat)),f.default.createElement("jdiv",{className:h.default.menuItemTextHighlight},e.chatText)),f.default.createElement("jdiv",{className:h.default.buttonsCorner}))))}}]),a}(m.default);t.default=E},57371:function(e,t,a){"use strict";var n=a(87646),i=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=t.MoreButton=void 0;var o=i(a(87672)),r=n(a(59748)),l=i(a(45697)),u=i(a(94184)),s=a(63465),c=i(a(58061)),d=i(a(58165)),f=i(a(45808)),h=a(21224),p=i(a(75043)),m=i(a(98513)),g=(p.default.name("MoreButton"),function(e){var t,a,n=e.show,i=e.showBadge,l=void 0!==i&&i,p=e.color,g=e.onClick,v=(0,r.useRef)(null);(0,r.useLayoutEffect)((function(){v.current&&f.default.set(h.Component.MORE_BUTTON,v.current)}));var _=(0,u.default)((t={},(0,o.default)(t,m.default.moreBox,!0),(0,o.default)(t,m.default.__mobile,c.default.mobileOrTablet()),(0,o.default)(t,m.default.__show,n),t)),y=(0,u.default)((a={},(0,o.default)(a,m.default.__show,l),(0,o.default)(a,m.default.moreBadge,!0),a));return r.default.createElement("jdiv",{className:_,onClick:g,ref:v},r.default.createElement(d.default,{iconName:"icon-v",color:"#cccccc",color2:"#0b82f7",hoverColor:(0,s.getThemeColor)(p),className:m.default.moreBtn}),r.default.createElement("jdiv",{className:y}))});t.MoreButton=g,g.propTypes={show:l.default.bool.isRequired,showBadge:l.default.bool,color:l.default.string,onClick:l.default.func};var v=g;t.default=v},5777:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(78580)),o=n(a(59748)),r=n(a(45697)),l=function(e){var t=e.children,a=e.allowedRoutes,n=e.currentRoute;return(0,i.default)(a).call(a,n)?o.default.createElement(o.default.Fragment,null,t):null};l.propTypes={children:r.default.oneOfType([r.default.arrayOf(r.default.node),r.default.node,r.default.func]).isRequired,allowedRoutes:r.default.arrayOf(r.default.string).isRequired,currentRoute:r.default.string.isRequired};var u=o.default.memo(l);t.default=u},39791:function(e,t,a){"use strict";var n=a(87646),i=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a(1068)),r=i(a(5872)),l=i(a(54103)),u=i(a(77766)),s=i(a(33032)),c=i(a(26394)),d=i(a(69198)),f=i(a(51379)),h=i(a(214)),p=i(a(66380)),m=i(a(59748)),g=i(a(60021)),v=i(a(62904)),_=i(a(99745)),y=a(56602),b=i(a(58061)),E=i(a(6991)),w=i(a(68806)),C=a(33367),T=a(63242),k=a(57018),S=n(a(58165)),I=a(70645),x=a(83093);function A(e){var t=function(){if("undefined"==typeof Reflect||!o.default)return!1;if(o.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,o.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;a=(0,o.default)(n,arguments,i)}else a=n.apply(this,arguments);return(0,h.default)(this,a)}}i(a(75043)).default.name("MobilePopup");var M=function(e){(0,f.default)(a,e);var t=A(a);function a(e){var n;return(0,c.default)(this,a),(n=t.call(this,e)).state={agent:n.props.agent,text:n.props.text,fade:!1,textHeight:0},n._imUrl=!1,n._move=!1,n}return(0,d.default)(a,[{key:"componentDidMount",value:function(){var e=E.default.getJoints();E.default.ifIMessageEnabled()&&(this._imUrl=e.links.imUrl)}},{key:"componentDidUpdate",value:function(){if(this._popupText){var e=this._popupText.offsetHeight;this.state.textHeight!==e&&this.setState({textHeight:e})}}},{key:"closePopup",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.setState({fade:!0},(function(){(0,s.default)((function(){t.props.onClose&&t.props.onClose(e)}),300)}))}},{key:"renderAvatar",value:function(e){var t,a;if(!this.props.popup)return null;var n=this.props.popup.agent,i=n.avatar_url,o=!!n.bot_id&&(0,S.getSvgBgIcon)("iconBot"),r=i?(0,u.default)(t=(0,u.default)(a="".concat((0,y.getProtocol)())).call(a,v.default.avatar_url,"/avatars/")).call(t,i):o,l=r?{backgroundImage:"url(".concat(r,")")}:{};return m.default.createElement("jdiv",e.avatar,m.default.createElement("jdiv",{className:_.default.avatarImg,style:l}),m.default.createElement("jdiv",e.agentName,n.display_name))}},{key:"renderImOverlay",value:function(){var e=this;if(this._imUrl)return m.default.createElement("a",{className:_.default.imOverlay,href:this._imUrl,target:"_blank",rel:"nofollow noopener noreferrer",onTouchStart:function(t){(0,s.default)((function(){e.setState({fade:!0}),e.props.onClose&&e.props.onClose(t)}),300),C.Monitoring.telemetry(T.TelemetryName.POWERBUTTON_OPEN+"im")}})}},{key:"getRenderData",value:function(){var e=this.props.popup&&this.props.popup.text.length<k.PROACTIVE_TEXT_LIMIT,t=w.default.getAppZoom(),a="left"===v.default.widget_mobile_orientation;return{styles:{popup:[{popup:!0,__show:this.props.show,__left:a}],avatar:[{avatar:!0}],popupBlock:[{popupBlock:!0,__show:!this.state.fade&&this.props.show,__short:e,__longText:this.state.textHeight>k.PROACTIVE_MAX_HEIGHT,__left:a}],text:[{text:!0}],textBox:[{textBox:!0},{lineHeight:b.default.ios()?"".concat(k.MP_LINE_HEIGHT/t,"px"):null}],agentName:[{agentName:!0},{lineHeight:b.default.ios()?"".concat(k.MP_AGENT_HEIGHT/t,"px"):null}]},style:_.default,data:{text:this.props.popup?this.props.popup.text:null}}}},{key:"renderData",value:function(e,t){var a,n=this;return m.default.createElement("jdiv",t.popup,m.default.createElement("jdiv",(0,r.default)({},t.popupBlock,{onTouchStart:function(){n._move=!1},onTouchMove:function(){n._move=!0},onTouchEnd:function(e){n._move||(n._imUrl||n.props.onOpen(e,"popup"),n._move=!1)}}),this.renderImOverlay(),this.renderAvatar(t),m.default.createElement("jdiv",(0,r.default)({className:_.default.closeBlock,onTouchStart:(0,l.default)(a=this.closePopup).call(a,this),onTouchEnd:function(e){e.preventDefault(),e.stopPropagation()}},(0,I.withLocator)(x.Locator.MOBILE_POPUP_CLOSE_BUTTON)),m.default.createElement(S.default,{iconName:"icon-popup-close",color:"#959BA0",hoverColor:"#7D8999",className:_.default.closePopupIcon})),m.default.createElement("jdiv",t.text,m.default.createElement("jdiv",(0,r.default)({},t.textBox,{dangerouslySetInnerHTML:{__html:e.text},ref:function(e){n._popupText=e}})))))}}]),a}(g.default);t.default=M},23476:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(33032)),l=n(a(54103)),u=n(a(26394)),s=n(a(69198)),c=n(a(5824)),d=n(a(51379)),f=n(a(214)),h=n(a(66380)),p=n(a(59748)),m=n(a(60021)),g=n(a(54023)),v=n(a(50380)),_=n(a(62652)),y=n(a(36216)),b=n(a(56602)),E=a(99112),w=n(a(62904)),C=n(a(62107)),T=n(a(58165)),k=n(a(44299)),S=n(a(47321)),I=n(a(36421)),x=n(a(86999)),A=n(a(58061)),M=n(a(68806)),R=n(a(99357)),N=n(a(67966)),O=n(a(6991)),D=a(37916),L=a(17674),P=a(85442),j=a(75245),B=n(a(531)),F=a(33367),H=a(63242),W=n(a(39791)),U=n(a(5972)),z=a(70645),G=a(83093);function V(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,h.default)(e);if(t){var o=(0,h.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}var q=n(a(75043)).default.name("PowerBtn"),K=null,Y=null,Z=function(e){(0,d.default)(a,e);var t=V(a);function a(e){var n,i,o,s;(0,u.default)(this,a),s=t.call(this,e);var d=w.default.power_button_color||"#44BB6E",f=x.default.isLightColor(d);w.default.power_gradient&&(d=x.default.getGradientBg(_.default.widget_color,_.default.widget_color2),f=x.default.isLightColor(_.default.widget_color)),s.state={isShow:!1,showLogo:b.default.showAd(),showMenu:!1,unReadMessages:0,powerBtnZoom:M.default.getAppZoom(),isCallEnabled:D.CallbackUtils.isCallbackEnabled(),powerButtonColor:d,iconColor:f?"#3e414f":"#fff",diff:null,popup:null},s.orientation=w.default.widget_mobile_orientation||"right",s._badge=null,s._wrap=null,s._touchEvent=!1;var h=b.default.getPageWindow();s.bodyPosition=s.getBodyPosition();var p=C.default.throttle((0,l.default)(n=s.onViewportChanged).call(n,(0,c.default)(s),!0),300);return b.default.addListener(h,"scroll",p,!0),b.default.addListener(h,"resize",p,!0),M.default.listenChangeZoom(p),b.default.addListener(h,"touchmove",(0,l.default)(i=s.checkTouch).call(i,(0,c.default)(s)),!0),b.default.addListener(h,"touchend",(0,l.default)(o=s.touchEnd).call(o,(0,c.default)(s)),!0),h.visualViewport&&h.visualViewport.addEventListener&&!A.default.ios()&&(b.default.addListener(h.visualViewport,"scroll",p,!0),b.default.addListener(h.visualViewport,"resize",p,!0)),s.on(_.default,(function(){s.setState({isShow:s.getShowState(),showMenu:A.default.tablet()&&_.default.isShowNativeMobileMenu},(function(){var e;s.onViewportChanged(),(0,r.default)((0,l.default)(e=s.onViewportChanged).call(e,(0,c.default)(s)),500)})),/Android.*Version.*Chrome.*Mobile/.test(navigator.userAgent)&&(0,r.default)((function(){return s.forceUpdate()}),500),A.default.tablet()&&L.Router.getCurrentRoute()!==P.Route.LABEL&&S.default.closeMobileNativeMenu()})),s.on(y.default,(function(){s.setState({isShow:s.getShowState(),isCallEnabled:D.CallbackUtils.isCallbackEnabled()})})),s.isShowDebounce=C.default.debounce((function(){s.getShowState()&&!s.state.isShow?(s._touchEvent=!1,s.setState({isAnimation:!0},(function(){s.setState({isShow:!0},(function(){(0,r.default)((function(){s.setState({isAnimation:!1})}),300)}))}))):q.log("Do nothing")}),350),s.zooms={powerBtnZoom:M.default.getAppZoom(),userZoom:M.default.getUserZoom()},(0,r.default)((function(){s.state.isShow||s.getPosition(M.default.getAppZoom(),(function(){s.isShowDebounce()}))}),300),s}return(0,s.default)(a,[{key:"getBodyPosition",value:function(){var e=b.default.getPageWindow();return(0,E.getComputedStyleAll)(e.document.body,"position")}},{key:"checkTouch",value:function(e){q.log("checkTouch touch start"),this.zooms.userZoom>=1.1&&this.state.isShow&&(this._touchEvent=!0,this.setState({isShow:!1}))}},{key:"touchEnd",value:function(e){q.log("touchEnd",e),this._touchEvent=!1,this.zooms.userZoom>=1.1&&!this.state.isShow&&this.onViewportChanged(!0)}},{key:"onViewportChanged",value:function(e){var t=this,a=M.default.getAppZoom(),n=M.default.getUserZoom();this.zooms={powerBtnZoom:a,userZoom:n},this.bodyPosition=this.getBodyPosition(),this.setState({powerBtnZoom:a},(function(){n>=1.1?t.setState({position:"absolute",isShow:!e&&t.getShowState()},(function(){q.log("onViewportChanged",!t._touchEvent),t._touchEvent||t.getPosition(a,(function(){t.isShowDebounce()}))})):t.setState({position:null,left:null,right:null,bottom:null,top:null,isShow:t.getShowState()})}))}},{key:"getPosition",value:function(e,t){var a,n,i,o,r=this,l=b.default.getPageWindow(),u=l.document,s=null,c=null,d=M.default.getPseudo(),f=u.documentElement.clientHeight,h=u.documentElement.clientWidth;"static"===this.bodyPosition?(a=Math.max(l.innerHeight,f),A.default.ios()&&d.offsetHeight>0&&(a=d.offsetHeight),n=Math.max(l.innerWidth,h)):(a=Math.max(l.innerHeight,f,u.documentElement.offsetHeight),n=Math.max(l.innerWidth,u.body.clientWidth));var p=!M.default.isBrokenIosViewport()&&l.visualViewport,m=M.default.getBodyOffset(),g=M.default.getPageZoom();if("right"===this.orientation){if(p)s=(p.width-l.innerWidth+p.pageLeft)*p.scale*-1;else{var v=(n-(l.pageXOffset+l.innerWidth))/e-m.left*g;s=v>0?v:0}h<d.clientWidth&&(s+=(h-d.clientWidth)*(p?p.scale:g))}else c=p?p.pageLeft*p.scale:l.pageXOffset/e-m.left*g;if(p)if("static"===this.bodyPosition){i="auto";var _=this._wrap?this._wrap.clientHeight:85;o=l.outerHeight-_+p.pageTop*p.scale,q.log("static view top",o)}else{i=(a-(p.height+p.pageTop))*p.scale;var y=(0,E.getElementPosition)(u.body);y.left>0&&("right"===this.orientation?s-=y.left*p.scale:c-=y.left*p.scale),y.top>0&&(i-=y.top*p.scale),u.body.clientHeight<d.clientHeight&&(q.log("body clientHeight < pseudo clientHeight"),i+=(u.body.clientHeight-d.clientHeight)*p.scale)}else{var w=(a-(l.pageYOffset+l.innerHeight))/e-m.top*g;i=u.documentElement.scrollHeight-l.pageYOffset-l.innerHeight>=0?w:null,q.log("no view calculate bottom:",i)}q.log("getPosition",e,i,s,a),this.setState({right:Math.round(s)||null,left:Math.round(c)||null,bottom:Math.round(i)||"auto",top:Math.round(o)||"auto"},(function(){if(r._badge&&r._badgeBox){var e=1-(r._badgeBox.getBoundingClientRect().y%1).toFixed(2);r.setState({diff:e}),!p&&A.default.ios()&&r.setState({diff:r.zooms.powerBtnZoom<=.54?e:null})}t&&t()}))}},{key:"openMenu",value:function(e,t){if(q.log("openMenu",e,t),e.preventDefault(),!O.default.ifIMessageEnabled()){var a=O.default.getJoints();_.default.isShowNativeMobileMenu?S.default.closeMobileNativeMenu():(A.default.mobile()&&this.setState({isShow:!1}),S.default.chatOpenByClient=!0,this.state.unReadMessages?(_.default.is_focused=1,_.default.callText?L.Router.next(P.RouterEvent.ToCall):L.Router.next(P.RouterEvent.ToChat),this.readMessages(),S.default.openChatCallbacks(),this.setState({popup:null}),F.Monitoring.telemetry(H.TelemetryName.WIDGET_CLICK,"popup"===t?{param1:"from_popup"}:{})):a.count>0?(S.default.chatOpenByClient=!1,S.default.openMobileNativeMenu(),F.Monitoring.telemetry(H.TelemetryName.POWERBUTTON_OPEN_MENU)):(_.default.is_focused=1,L.Router.next(P.RouterEvent.Navigate),j.messageActions.deleteUnansweredOfflineSystemInvite(),j.messageActions.offlineSystemInvite(),j.messageActions.addPrechatMessage(),S.default.openChatCallbacks(),F.Monitoring.telemetry(H.TelemetryName.WIDGET_CLICK)),e.stopPropagation()),window.history&&"function"==typeof window.history.pushState&&A.default.mobileOrTablet()&&this.setHistroyState()}}},{key:"setHistroyState",value:function(){var e=b.default.getPageWindow();q.log("history",e.history.state);var t=e.history,a=e.location;(!t.state||t.state&&"number"!=typeof t.state.jmobile)&&t.pushState({jmobile:1},a.title,a.href),t.replaceState({jmobile:1},a.title,a.href)}},{key:"getLocation",value:function(){return b.default.getPageWindow().location}},{key:"getLocationWithoutHash",value:function(){var e=this.getLocation();return e.href.replace(e.hash,"")}},{key:"checkPopState",value:function(e){K!==this.getLocation().hash&&Y===this.getLocationWithoutHash()||(K=this.getLocation().hash,Y=this.getLocationWithoutHash(),_.default.isShowNativeMobileMenu&&S.default.closeMobileNativeMenu(),L.Router.getCurrentRoute()!==P.Route.LABEL&&S.default.closeWidget())}},{key:"incUnread",value:function(){L.Router.getCurrentRoute()===P.Route.LABEL&&this.setState({unReadMessages:this.state.unReadMessages+1})}},{key:"shouldComponentUpdate",value:function(e,t){return!(0,B.default)(e,this.props)||!(0,B.default)(t,this.state)}},{key:"componentDidMount",value:function(){var e,t=this;K=this.getLocation().hash,Y=this.getLocationWithoutHash(),b.default.addListener(b.default.getPageWindow(),"popstate",(0,l.default)(e=this.checkPopState).call(e,this)),this.setState({unReadMessages:R.default.getUnreadMessage().length}),R.default.on("create",(function(e){t.updateBadge(e)})),R.default.on("update",(function(e){e&&t.updateBadge(e)})),N.default.on("all",(function(){t.showPopup()})),this.on(k.default,{show_proactive:function(){(!_.default.is_online||N.default.get("text")||_.default.callText)&&t.setState({unReadMessages:1}),A.default.tablet()&&S.default.closeMobileNativeMenu()}}),this.on(I.default,{update:function(){t.readMessages()}}),L.Router.on("route_change",(function(e){_.default.is_online||e!==P.Route.LABEL||t.setState({unReadMessages:0})}))}},{key:"getShowState",value:function(){return L.Router.getCurrentRoute()===P.Route.LABEL&&!b.default.isCustomLabel()&&(!_.default.isShowNativeMobileMenu||A.default.tablet())}},{key:"updateBadge",value:function(e){var t=!L.Router.isChatRoute();"agent"===e.get("from")&&t?this.setState({unReadMessages:R.default.getUnreadMessage().length}):this.readMessages()}},{key:"readMessages",value:function(){if(I.default.isActive){this.setState({unReadMessages:0});var e=[];C.default.each(R.default.getUnreadMessage(),(function(t){null!==t.get("msg_id")&&(t.set("status","read"),e.push(t.get("msg_id")))})),N.default.get("text")&&"read"!==N.default.get("status")&&N.default.set("status","read"),e.length&&S.default.agentMessageRead(e)}}},{key:"getRenderData",value:function(){g.default.__jivoMobileButton="__jivoMobileButton";var e={zoom:this.zoom,background:this.state.powerButtonColor},t=this.state.unReadMessages&&!this.state.popup;return{data:{isOnlineMode:_.default.is_online},styles:{wrap:[{wrap:!0,_show:this.state.isShow&&this.zooms&&this.zooms.powerBtnZoom>.4,_orinationRight:"right"===this.orientation,_orinationLeft:"left"===this.orientation,_animationBtn:this.state.isAnimation,_isCallEnabled:this.state.isCallEnabled,_showMenu:this.state.showMenu,_showLogo:this.state.showLogo,__jivoMobileButton:this.zooms.userZoom<1.1},{zoom:this.state.powerBtnZoom,position:this.state.position,bottom:this.state.bottom,top:this.state.top,right:this.state.right,left:this.state.left,"-webkit-text-size-adjust":A.default.ios()?M.default.getTextSize():null}],overlay:[{overlay:!0}],button:[{button:!0,__hide:w.default.mobile_proactive&&this.state.popup},e],messagesLabel:[{messagesLabel:!0},{display:t?"block":"none"}],badge:[{badge:!0},{display:t?"inline-block":"none",transform:"translate(0, ".concat(this.state.diff,"px)")}],iconWrap:[{iconWrap:!0}],iconWrap2:[{iconWrap:!0,iconWrap2:!0}],iconWrap3:[{iconWrap:!0,iconWrap3:!0}],jivoIcon:[{jivoIcon:!0,icons:!0}],iconWrapClose:[{iconWrapClose:!0}],close:[{closeIcon:!0,icons:!0}],cloudIcon:[{logoIconCloud:!0,icons:!0}],envelopeIcon:[{envelopeIcon:!0,icons:!0}],callbackIcon:[{callbackIcon:!0,icons:!0}]},style:g.default}}},{key:"renderDefaultIcon",value:function(e,t,a){return e.isOnlineMode?p.default.createElement(T.default,(0,o.default)({iconName:"mobile-cloud",color:a},t.cloudIcon)):p.default.createElement(T.default,(0,o.default)({iconName:"envelope",color:a},t.envelopeIcon))}},{key:"renderOverlay",value:function(e){var t,a=this,n=O.default.getJoints();return O.default.ifIMessageEnabled()?p.default.createElement("a",(0,o.default)({},e.overlay,{href:n.links.imUrl,target:A.default.chromeIOS()?"_self":"_blank",rel:"nofollow noopener noreferrer",onTouchStart:function(e){e.cancelBubble=!0,a.setState({popup:null,unReadMessages:a.state.unReadMessages||1}),F.Monitoring.telemetry(H.TelemetryName.POWERBUTTON_OPEN+"im")}})):p.default.createElement("jdiv",(0,o.default)({},e.overlay,{onTouchStart:(0,l.default)(t=this.openMenu).call(t,this)}))}},{key:"showPopup",value:function(){N.default.get("text")&&"read"!==N.default.get("status")&&L.Router.getCurrentRoute()===P.Route.LABEL&&(w.default.mobile_proactive?this.setState({unReadMessages:1,popup:{text:N.default.get("text"),agent:N.default.get("body")}}):this.setState({unReadMessages:1}))}},{key:"closePopup",value:function(){this.setState({unReadMessages:this.state.unReadMessages||1,popup:null}),U.default.set("close_time",(new Date).getTime()),F.Monitoring.telemetry(H.TelemetryName.INVITE_CLOSE)}},{key:"renderTabletMenu",value:function(){if(A.default.tablet())return p.default.createElement(v.default,{tabletMenu:!0})}},{key:"renderData",value:function(e,t){var a,n,i=this;return p.default.createElement("jdiv",(0,o.default)({},t.wrap,(0,z.withLocator)(G.Locator.POWER_BUTTON),{ref:function(e){i._wrap=e}}),w.default.mobile_proactive?p.default.createElement(W.default,{show:!!this.state.popup&&this.state.isShow,popup:this.state.popup,onOpen:(0,l.default)(a=this.openMenu).call(a,this),onClose:(0,l.default)(n=this.closePopup).call(n,this)}):null,this.renderOverlay(t),this.renderTabletMenu(),p.default.createElement("jdiv",t.button,p.default.createElement("jdiv",(0,o.default)({},t.messagesLabel,{ref:function(e){i._badgeBox=e}}),p.default.createElement("jdiv",(0,o.default)({},t.badge,{ref:function(e){i._badge=e}}),this.state.unReadMessages)),this.state.showMenu?null:p.default.createElement("jdiv",t.iconWrap,this.state.showLogo?p.default.createElement(T.default,(0,o.default)({iconName:"logo-j-white"},t.jivoIcon,{color:this.state.iconColor})):null,this.state.isCallEnabled?null:this.renderDefaultIcon(e,t,this.state.iconColor)),this.state.isCallEnabled&&!this.state.showMenu?p.default.createElement("jdiv",null,p.default.createElement("jdiv",t.iconWrap2,this.renderDefaultIcon(e,t,this.state.iconColor)),p.default.createElement("jdiv",t.iconWrap3,p.default.createElement(T.default,(0,o.default)({iconName:"callback-btn",color:this.state.iconColor},t.callbackIcon)))):null,this.state.showMenu&&_.default.isShowNativeMobileMenu?p.default.createElement("jdiv",t.iconWrapClose,p.default.createElement(T.default,(0,o.default)({iconName:"icon-close",color:this.state.iconColor},t.close))):null))}}]),a}(m.default);t.default=Z},92945:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(26394)),r=n(a(69198)),l=n(a(51379)),u=n(a(214)),s=n(a(66380)),c=n(a(59748)),d=n(a(59592)),f=n(a(45808)),h=a(21224),p=n(a(58061)),m=n(a(62652)),g=n(a(62904)),v=n(a(36392)),_=n(a(23476)),y=n(a(58744)),b=n(a(48309)),E=a(44992),w=a(27770),C=n(a(51017)),T=n(a(50380)),k=n(a(51689)),S=n(a(46707)),I=a(43472),x=a(26213),A=a(23582);function M(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}n(a(75043)).default.name("RootComponent");var R=function(e){(0,l.default)(a,e);var t=M(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).enableNewAnimation=A.FeatureManager.isEnabled(A.Feature.NEW_ANIMATION),n}return(0,r.default)(a,[{key:"renderLabel",value:function(){return p.default.desktop()?this.enableNewAnimation?c.default.createElement(S.default,null):c.default.createElement(v.default,{app:m.default,config:g.default,ref:function(e){e&&f.default.set(h.Component.LABEL,e)}}):null}},{key:"renderWidgetContainer",value:function(){return p.default.mobileOrTablet()?null:this.enableNewAnimation?c.default.createElement(C.default,{ref:function(e){e&&f.default.set(h.Component.WIDGET_CONTAINER,e)}}):c.default.createElement(w.WidgetContainer,{ref:function(e){e&&f.default.set(h.Component.WIDGET_CONTAINER_COMPONENT,e)},app:m.default})}},{key:"renderSoundPlayer",value:function(){return E.WebAudioDisabled?c.default.createElement(b.default,{sounds:E.Sounds}):null}},{key:"renderCallbackButton",value:function(){return g.default.callback_settings.button&&!p.default.mobileOrTablet()?c.default.createElement(y.default,null):null}},{key:"renderPowerButton",value:function(){return p.default.mobileOrTablet()&&window.parent===window.top?c.default.createElement(_.default,null):null}},{key:"renderMouseTrack",value:function(){return p.default.mobileOrTablet()?null:c.default.createElement("jdiv",{className:d.default.jivoMouseTrack,ref:function(e){e&&f.default.set(h.Component.MOUSE_TRACK,e)}})}},{key:"renderMobileContainer",value:function(){return p.default.mobileOrTablet()?this.enableNewAnimation?c.default.createElement(k.default,null):c.default.createElement(T.default,{chat:!0}):null}},{key:"render",value:function(){return c.default.createElement(x.Provider,{store:I.reduxStore},c.default.createElement("jdiv",{className:d.default.globalClass},this.renderCallbackButton(),this.renderPowerButton(),this.renderMobileContainer(),this.renderLabel(),this.renderSoundPlayer(),this.renderWidgetContainer(),c.default.createElement("jdiv",{className:d.default.pseudoHeight}),this.renderMouseTrack()))}}]),a}(c.default.Component);t.default=R},20748:function(e,t,a){"use strict";var n=a(87646),i=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a(63978)),r=i(a(20368)),l=i(a(39649)),u=i(a(78914)),s=i(a(34074)),c=i(a(20116)),d=i(a(14310)),f=i(a(86902)),h=i(a(1068)),p=i(a(31581)),m=i(a(33032)),g=i(a(81643)),v=i(a(54103)),_=i(a(77766)),y=i(a(26394)),b=i(a(69198)),E=i(a(5824)),w=i(a(51379)),C=i(a(214)),T=i(a(66380)),k=i(a(5872)),S=i(a(87672)),I=i(a(80122)),x=n(a(59748)),A=i(a(60021)),M=a(56602),R=a(99112),N=n(a(54087)),O=i(a(53879)),D=a(14186);function L(e){var t=function(){if("undefined"==typeof Reflect||!h.default)return!1;if(h.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,h.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,T.default)(e);if(t){var i=(0,T.default)(this).constructor;a=(0,h.default)(n,arguments,i)}else a=n.apply(this,arguments);return(0,C.default)(this,a)}}function P(e,t){var a=(0,f.default)(e);if(d.default){var n=(0,d.default)(e);t&&(n=(0,c.default)(n).call(n,(function(t){return(0,s.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,u.default)(a=P(Object(n),!0)).call(a,(function(t){(0,S.default)(e,t,n[t])}));else if(l.default)(0,r.default)(e,(0,l.default)(n));else{var i;(0,u.default)(i=P(Object(n))).call(i,(function(t){(0,o.default)(e,t,(0,s.default)(n,t))}))}}return e}var B,F,H=function(){return"string"==typeof maybe},W=function(){return!1};Math.easeInOutQuad=function(e,t,a,n){return(e/=n/2)<1?a/2*e*e+t:-a/2*(--e*(e-2)-1)+t};var U=function(e){(0,w.default)(a,e);var t=L(a);function a(e){var n,i,o,r,l,u,s,c,d,f,h,p,m,g,b,w,C,T,k,S,I,x,A,M,R,N,O,D,L,P,j;(0,y.default)(this,a);for(var B=arguments.length,F=new Array(B>1?B-1:0),H=1;H<B;H++)F[H-1]=arguments[H];return(j=t.call.apply(t,(0,_.default)(n=[this,e]).call(n,F))).getScrollLeft=(0,v.default)(i=j.getScrollLeft).call(i,(0,E.default)(j)),j.getScrollTop=(0,v.default)(o=j.getScrollTop).call(o,(0,E.default)(j)),j.getScrollWidth=(0,v.default)(r=j.getScrollWidth).call(r,(0,E.default)(j)),j.getScrollHeight=(0,v.default)(l=j.getScrollHeight).call(l,(0,E.default)(j)),j.getClientWidth=(0,v.default)(u=j.getClientWidth).call(u,(0,E.default)(j)),j.getClientHeight=(0,v.default)(s=j.getClientHeight).call(s,(0,E.default)(j)),j.getValues=(0,v.default)(c=j.getValues).call(c,(0,E.default)(j)),j.getThumbHorizontalWidth=(0,v.default)(d=j.getThumbHorizontalWidth).call(d,(0,E.default)(j)),j.getThumbVerticalHeight=(0,v.default)(f=j.getThumbVerticalHeight).call(f,(0,E.default)(j)),j.getScrollLeftForOffset=(0,v.default)(h=j.getScrollLeftForOffset).call(h,(0,E.default)(j)),j.getScrollTopForOffset=(0,v.default)(p=j.getScrollTopForOffset).call(p,(0,E.default)(j)),j.getScrollDiff=(0,v.default)(m=j.getScrollDiff).call(m,(0,E.default)(j)),j.scrollLeft=(0,v.default)(g=j.scrollLeft).call(g,(0,E.default)(j)),j.scrollTop=(0,v.default)(b=j.scrollTop).call(b,(0,E.default)(j)),j.scrollToLeft=(0,v.default)(w=j.scrollToLeft).call(w,(0,E.default)(j)),j.scrollToTop=(0,v.default)(C=j.scrollToTop).call(C,(0,E.default)(j)),j.scrollToRight=(0,v.default)(T=j.scrollToRight).call(T,(0,E.default)(j)),j.scrollToBottom=(0,v.default)(k=j.scrollToBottom).call(k,(0,E.default)(j)),j.handleTrackMouseEnter=(0,v.default)(S=j.handleTrackMouseEnter).call(S,(0,E.default)(j)),j.handleTrackMouseLeave=(0,v.default)(I=j.handleTrackMouseLeave).call(I,(0,E.default)(j)),j.handleHorizontalTrackMouseDown=(0,v.default)(x=j.handleHorizontalTrackMouseDown).call(x,(0,E.default)(j)),j.handleVerticalTrackMouseDown=(0,v.default)(A=j.handleVerticalTrackMouseDown).call(A,(0,E.default)(j)),j.handleHorizontalThumbMouseDown=(0,v.default)(M=j.handleHorizontalThumbMouseDown).call(M,(0,E.default)(j)),j.handleVerticalThumbMouseDown=(0,v.default)(R=j.handleVerticalThumbMouseDown).call(R,(0,E.default)(j)),j.handleWindowResize=(0,v.default)(N=j.handleWindowResize).call(N,(0,E.default)(j)),j.handleScroll=(0,v.default)(O=j.handleScroll).call(O,(0,E.default)(j)),j.handleMouseWheel=(0,v.default)(D=j.handleMouseWheel).call(D,(0,E.default)(j)),j.handleDrag=(0,v.default)(L=j.handleDrag).call(L,(0,E.default)(j)),j.handleDragEnd=(0,v.default)(P=j.handleDragEnd).call(P,(0,E.default)(j)),j.state={didMountUniversal:!1},j.ignore=!1,j.callbackCounter=0,j.view={},j}return(0,b.default)(a,[{key:"componentDidMount",value:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:"componentDidMountUniversal",value:function(){this.props.universal&&this.setState({didMountUniversal:!0})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.removeListeners(),this.requestFrame&&(0,N.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"setIgnore",value:function(e){this.ignore=e}},{key:"getIgnore",value:function(){return this.ignore}},{key:"getScrollLeft",value:function(){return this.view?this.view.scrollLeft:0}},{key:"getScrollTop",value:function(){return this.view.scrollTop}},{key:"getScrollWidth",value:function(){return this.view.scrollWidth}},{key:"getScrollHeight",value:function(){return this.view.scrollHeight}},{key:"getScrollDiff",value:function(){return this.getScrollHeight()-this.getScrollTop()-this.getClientHeight()}},{key:"hasScroll",value:function(){return this.getScrollHeight()>this.getClientHeight()}},{key:"getClientWidth",value:function(){return this.view.clientWidth}},{key:"getClientHeight",value:function(){return this.view.clientHeight}},{key:"getValues",value:function(){var e=this.view,t=e.scrollLeft,a=e.scrollTop,n=e.scrollWidth,i=e.scrollHeight,o=e.clientWidth,r=e.clientHeight;return{left:t/(n-o)||0,top:a/(i-r)||0,scrollLeft:t,scrollTop:a,scrollWidth:n,scrollHeight:i,clientWidth:o,clientHeight:r}}},{key:"getThumbHorizontalWidth",value:function(){var e=this.props,t=e.thumbSize,a=e.thumbMinSize,n=this.view,i=n.scrollWidth,o=n.clientWidth,r=(0,R.getInnerWidth)(this.trackHorizontal),l=Math.ceil(o/i*r);return r===l?0:t||Math.max(l,a)}},{key:"getThumbVerticalHeight",value:function(){var e=this.props,t=e.thumbSize,a=e.thumbMinSize,n=this.view,i=n.scrollHeight,o=n.clientHeight,r=(0,R.getInnerHeight)(this.trackVertical),l=Math.ceil(o/i*r);return r===l?0:t||Math.max(l,a)}},{key:"getScrollLeftForOffset",value:function(e){var t=this.view,a=t.scrollWidth,n=t.clientWidth;return e/((0,R.getInnerWidth)(this.trackHorizontal)-this.getThumbHorizontalWidth())*(a-n)}},{key:"getScrollTopForOffset",value:function(e){var t=this.view,a=t.scrollHeight,n=t.clientHeight;return e/((0,R.getInnerHeight)(this.trackVertical)-this.getThumbVerticalHeight())*(a-n)}},{key:"scrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view.scrollLeft=e}},{key:"scrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view.scrollTop=e}},{key:"scrollToLeft",value:function(){this.view.scrollLeft=0}},{key:"scrollToTop",value:function(){this.view.scrollTop=0}},{key:"scrollToRight",value:function(){this.view.scrollLeft=this.view.scrollWidth}},{key:"scrollToBottom",value:function(){var e=this.getScrollHeight();this.hasScroll()&&(this.view.scrollTop=0!==e?this.view.scrollHeight:e)}},{key:"setBottomPosition",value:function(){B=this.view.childNodes[0].clientHeight-(this.container.parentNode.clientHeight||254),this.view.style.bottom=B+"px"}},{key:"addListeners",value:function(){if("undefined"!=typeof document){var e=this.view,t=this.trackHorizontal,a=this.trackVertical,n=this.thumbHorizontal,i=this.thumbVertical,o=this.container;if((0,M.addListener)(e,"scroll",this.handleScroll,!0),(0,M.addListener)(e,"mousewheel",this.handleMouseWheel),(0,R.getScrollBarWidth)()){var r;if(t&&(t.addEventListener("mouseenter",this.handleTrackMouseEnter),t.addEventListener("mouseleave",this.handleTrackMouseLeave),t.addEventListener("mousedown",this.handleHorizontalTrackMouseDown)),o)o.addEventListener("mouseenter",(0,v.default)(r=this.handleTrackCheckHide).call(r,this));a&&(a.addEventListener("mouseenter",this.handleTrackMouseEnter),a.addEventListener("mouseleave",this.handleTrackMouseLeave),a.addEventListener("mousedown",this.handleVerticalTrackMouseDown)),n&&n.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),i&&i.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize)}}}},{key:"removeListeners",value:function(){if("undefined"!=typeof document){var e=this.view,t=this.trackHorizontal,a=this.trackVertical,n=this.thumbHorizontal,i=this.thumbVertical;e.removeEventListener("scroll",this.handleScroll),e.removeEventListener("mousewheel",this.handleMouseWheel),(0,R.getScrollBarWidth)()&&(t&&(t.removeEventListener("mouseenter",this.handleTrackMouseEnter),t.removeEventListener("mouseleave",this.handleTrackMouseLeave),t.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown)),a&&(a.removeEventListener("mouseenter",this.handleTrackMouseEnter),a.removeEventListener("mouseleave",this.handleTrackMouseLeave),a.removeEventListener("mousedown",this.handleVerticalTrackMouseDown)),n&&n.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),i&&i.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}}},{key:"handleScroll",value:function(e){var t=this,a=this.props,n=a.onScroll,i=a.onScrollFrame;n&&n(e),this.update((function(e){var a=e.scrollLeft,n=e.scrollTop;t.viewScrollLeft=a,t.viewScrollTop=n,i&&i(e)})),this.detectScrolling()}},{key:"handleTouchMove",value:function(e){var t;if(-1===(0,g.default)(t=["INPUT","TEXTAREA"]).call(t,e.target.tagName)){e.stopPropagation(),e.preventDefault();var a=this.view.childNodes[0].clientHeight-this.container.parentNode.clientHeight,n=B-(e.touches[0].pageY+F);a>n&&0<n&&(B-=e.touches[0].pageY+F,this.view.style.bottom=B+"px")}}},{key:"handleTouchStart",value:function(e){var t;-1===(0,g.default)(t=["INPUT","TEXTAREA","A"]).call(t,e.target.tagName)&&(e.stopPropagation(),e.preventDefault(),F=-1*e.touches[0].pageY)}},{key:"handleMouseWheel",value:function(e){e.stopPropagation();var t=e.wheelDelta||e.originalEvent&&e.originalEvent.wheelDelta||-e.detail,a=this.view.scrollTop+this.view.clientHeight-this.view.scrollHeight>=0,n=this.view.scrollTop<=0;(t<0&&a||t>0&&n)&&e.preventDefault()}},{key:"handleScrollStart",value:function(){var e=this.props.onScrollStart;e&&e(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleScrollStop",value:function(){var e=this.props.onScrollStop;e&&e(),this.handleScrollStopAutoHide()}},{key:"handleScrollStopAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleWindowResize",value:function(){this.update()}},{key:"handleHorizontalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,a=e.clientX,n=t.getBoundingClientRect().left,i=this.getThumbHorizontalWidth(),o=Math.abs(n-a)-i/2;this.view.scrollLeft=this.getScrollLeftForOffset(o)}},{key:"handleVerticalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,a=e.clientY,n=t.getBoundingClientRect().top,i=this.getThumbVerticalHeight(),o=Math.abs(n-a)-i/2;this.view.scrollTop=this.getScrollTopForOffset(o)}},{key:"handleHorizontalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,a=e.clientX,n=t.offsetWidth,i=t.getBoundingClientRect().left;this.prevPageX=n-(a-i)}},{key:"handleVerticalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,a=e.clientY,n=t.offsetHeight,i=t.getBoundingClientRect().top;this.prevPageY=n-(a-i)}},{key:"setupDragging",value:function(){var e=(0,M.getPageWindow)().document;(0,O.default)(e.body,D.disableSelectStyle),e.addEventListener("mousemove",this.handleDrag),e.addEventListener("mouseup",this.handleDragEnd),e.onselectstart=W}},{key:"teardownDragging",value:function(){var e=(0,M.getPageWindow)().document;(0,O.default)(e.body,D.disableSelectStyleReset),e.removeEventListener("mousemove",this.handleDrag),e.removeEventListener("mouseup",this.handleDragEnd),e.onselectstart=void 0}},{key:"handleDragStart",value:function(e){this.dragging=!0,e.stopImmediatePropagation(),this.setupDragging()}},{key:"handleDrag",value:function(e){if(this.prevPageX){var t=e.clientX,a=-this.trackHorizontal.getBoundingClientRect().left+t-(this.getThumbHorizontalWidth()-this.prevPageX);this.view.scrollLeft=this.getScrollLeftForOffset(a)}if(this.prevPageY){var n=e.clientY,i=-this.trackVertical.getBoundingClientRect().top+n-(this.getThumbVerticalHeight()-this.prevPageY);this.view.scrollTop=this.getScrollTopForOffset(i)}return!1}},{key:"handleDragEnd",value:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:"handleDragEndAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleTrackCheckHide",value:function(){this.props.autoHide&&this.view&&this.trackVertical&&(this.hasScroll()?this.showTracks():(0,O.default)(this.trackVertical,{opacity:0}))}},{key:"handleTrackMouseEnter",value:function(){this.hasScroll()&&(this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide())}},{key:"handleTrackMouseEnterAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleTrackMouseLeave",value:function(){this.dragging||(this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide())}},{key:"handleTrackMouseLeaveAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"showTracks",value:function(){clearTimeout(this.hideTracksTimeout),this.trackHorizontal&&(0,O.default)(this.trackHorizontal,{opacity:1}),(0,O.default)(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function(){var e=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var t=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=(0,m.default)((function(){e.trackHorizontal&&(0,O.default)(e.trackHorizontal,{opacity:0}),(0,O.default)(e.trackVertical,{opacity:0})}),t)}}},{key:"detectScrolling",value:function(){var e=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=(0,p.default)((function(){e.lastViewScrollLeft===e.viewScrollLeft&&e.lastViewScrollTop===e.viewScrollTop&&(clearInterval(e.detectScrollingInterval),e.scrolling=!1,e.handleScrollStop()),e.lastViewScrollLeft=e.viewScrollLeft,e.lastViewScrollTop=e.viewScrollTop}),100))}},{key:"raf",value:function(e){var t=this;this.requestFrame&&(0,N.cancel)(this.requestFrame);var a=this.enableFallback?(0,M.getPageWindow)().requestAnimationFrame:N.default;this.requestFrame=a((function(){t.requestFrame=void 0,t.callbackCounter++,e()}))}},{key:"update",value:function(e){var t=this;this.raf((function(){return t._update(e)})),(0,m.default)((function(){var e=(0,M.getPageWindow)();!t.callbackCounter&&e.requestAnimationFrame&&(t.enableFallback=!0)}),1e3)}},{key:"_update",value:function(e){var t=this.props,a=t.onUpdate,n=t.hideTracksWhenNotNeeded;if(this.view){var i=this.getValues();if((0,R.getScrollBarWidth)()){if(this.trackHorizontal){var o=i.scrollLeft,r=i.clientWidth,l=i.scrollWidth,u=(0,R.getInnerWidth)(this.trackHorizontal),s=this.getThumbHorizontalWidth();"translateX(".concat(o/(l-r)*(u-s),"px)")}var c=i.scrollTop,d=i.clientHeight,f=i.scrollHeight,h=(0,R.getInnerHeight)(this.trackVertical),p=this.getThumbVerticalHeight(),m={height:p,transform:"translateY(".concat(c/(f-d)*(h-p),"px)")};if(n){if(this.trackHorizontal){var g={visibility:scrollWidth>clientWidth?"visible":"hidden"};(0,O.default)(this.trackHorizontal,g)}var v={visibility:f>d?"visible":"hidden"};(0,O.default)(this.trackVertical,v)}this.thumbHorizontal&&(0,O.default)(this.thumbHorizontal,thumbHorizontalStyle),(0,O.default)(this.thumbVertical,m)}a&&a(i),"function"==typeof e&&e(i)}}},{key:"render",value:function(){var e,t,a=this,n=(0,R.getScrollBarWidth)(),i=this.props,o=(i.onScroll,i.onScrollFrame,i.onScrollStart,i.onScrollStop,i.onUpdate,i.renderView),r=i.renderTrackHorizontal,l=i.renderTrackVertical,u=i.renderThumbHorizontal,s=i.renderThumbVertical,c=i.tagName,d=(i.hideTracksWhenNotNeeded,i.autoHide),f=(i.autoHideTimeout,i.autoHideDuration),h=(i.thumbSize,i.thumbMinSize,i.onlyY),p=i.universal,m=i.autoHeight,g=i.autoHeightMin,v=i.autoHeightMax,y=(i.scrollMarginTop,i.railClass,i.position),b=i.style,E=i.children,w=(0,I.default)(i,["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","onlyY","universal","autoHeight","autoHeightMin","autoHeightMax","scrollMarginTop","railClass","position","style","children"]),C=this.state.didMountUniversal,T=j(j(j({},D.containerStyleDefault),m&&j(j({},D.containerStyleAutoHeight),{},{minHeight:g,maxHeight:v})),b),k=j(j(j(j({},D.viewStyleDefault),{},{display:"block",marginRight:n?-n:0,marginBottom:!h&&n?-n:0},m&&j(j({},D.viewStyleAutoHeight),{},{minHeight:H()?(0,_.default)(e="calc(".concat(g," + ")).call(e,n,"px)"):g+n,maxHeight:H()?(0,_.default)(t="calc(".concat(v," + ")).call(t,n,"px)"):v+n})),m&&p&&!C&&{minHeight:g,maxHeight:v}),p&&!C&&D.viewStyleUniversalInitial);y&&(k.position=y),h&&(k.overflowX="hidden",k.overflowY="scroll");var S={transition:"opacity ".concat(f,"ms"),opacity:0},A=j(j(j({},D.trackHorizontalStyleDefault),d&&S),(!n||p&&!C)&&{display:"none"}),M=j(j(j({},D.trackVerticalStyleDefault),d&&S),(!n||p&&!C)&&{display:"none"}),N=[(0,x.cloneElement)(o({style:k}),{key:"view",ref:function(e){a.view=e}},E)];return h||N.push((0,x.cloneElement)(r({style:A}),{key:"trackHorizontal",ref:function(e){a.trackHorizontal=e}},(0,x.cloneElement)(u({style:D.thumbHorizontalStyleDefault}),{ref:function(e){a.thumbHorizontal=e}}))),N.push((0,x.cloneElement)(l({style:M},this.props.scrollMarginTop,this.props.railClass),{key:"trackVertical",ref:function(e){a.trackVertical=e}},(0,x.cloneElement)(s({style:D.thumbVerticalStyleDefault}),{ref:function(e){a.thumbVertical=e}}))),(0,x.createElement)(c,j(j({},w),{},{style:T,ref:function(e){a.container=e}}),N)}}]),a}(A.default);t.default=U,U.defaultProps={renderView:function(e){return x.default.createElement("jdiv",e)},renderTrackHorizontal:function(e){var t=e.style,a=(0,I.default)(e,["style"]),n=j(j({},t),{},{right:2,bottom:2,left:2,borderRadius:3});return x.default.createElement("jdiv",(0,k.default)({style:n},a))},renderTrackVertical:function(e,t,a){var n=e.style,i=(0,I.default)(e,["style"]),o=j(j({},n),{},{right:3,bottom:2,top:t||2,borderRadius:4,width:8});return x.default.createElement("jdiv",(0,k.default)({className:a,style:o},i))},renderThumbHorizontal:function(e){var t=e.style,a=(0,I.default)(e,["style"]),n=j(j({},t),{},{cursor:"pointer",borderRadius:"inherit",backgroundColor:"#d6dce4"});return x.default.createElement("jdiv",(0,k.default)({style:n},a))},renderThumbVertical:function(e){var t=e.style,a=(0,I.default)(e,["style"]),n=j(j({},t),{},{cursor:"pointer",borderRadius:"inherit",backgroundColor:"#d6d4d4"});return x.default.createElement("jdiv",(0,k.default)({style:n},a))},tagName:"jdiv",thumbMinSize:30,hideTracksWhenNotNeeded:!0,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,onlyY:!0,universal:!1,railClass:"null"}},14186:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.disableSelectStyleReset=t.disableSelectStyle=t.thumbVerticalStyleDefault=t.thumbHorizontalStyleDefault=t.trackVerticalStyleDefault=t.trackHorizontalStyleDefault=t.viewStyleUniversalInitial=t.viewStyleAutoHeight=t.viewStyleDefault=t.containerStyleAutoHeight=t.containerStyleDefault=void 0;t.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%",display:"block",WebkitOverflowScrolling:"touch"};t.containerStyleAutoHeight={height:"auto"};t.viewStyleDefault={position:"absolute",maxHeight:"100%",top:"auto",left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"};var n={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0};t.viewStyleAutoHeight=n;t.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0};t.trackHorizontalStyleDefault={position:"absolute",height:0};t.trackVerticalStyleDefault={position:"absolute",width:8};t.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"};t.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"};t.disableSelectStyle={userSelect:"none"};t.disableSelectStyleReset={userSelect:""}},5422:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(54103)),l=n(a(26394)),u=n(a(69198)),s=n(a(51379)),c=n(a(214)),d=n(a(66380)),f=n(a(59748)),h=n(a(60021)),p=n(a(75119)),m=n(a(62904)),g=n(a(40695)),v=n(a(36216)),_=n(a(62652)),y=n(a(99357)),b=n(a(6991)),E=n(a(58165)),w=a(56602),C=n(a(75043)),T=n(a(94350)),k=a(17674),S=a(85442),I=a(33367),x=a(63242);function A(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var M=C.default.name("SocialButton"),R=function(e){(0,s.default)(a,e);var t=A(a);function a(e){var n;return(0,l.default)(this,a),(n=t.call(this,e)).state={show:!1,vk:e.mode.vk,fb:e.mode.fb,popup:!1},n}return(0,u.default)(a,[{key:"componentDidMount",value:function(){var e,t=this;(M.log("mounted",this.props),(0,w.hasIntegration)(v.default.has_integration))||(this.checkMessage(),y.default.on("create",(0,r.default)(e=this.checkMessage).call(e,this)),this.on(b.default,{update:function(){t.checkMessage()}}));this.on(v.default,(function(){if((0,w.hasIntegration)(v.default.has_integration)){M.log("Already connected with vk/fb.");var e=y.default.getMessagesByType("email");e.length&&e[e.length-1].destroy(),t.show(!1),t.off()}else t.checkMessage()}))}},{key:"checkMessage",value:function(){var e=b.default.getSocial();if(M.log("check messages",e),(0,w.hasIntegration)(v.default.has_integration))this.off();else{var t=y.default.getClientMessages();if(y.default.getFormMessage().length)return void this.setState({show:!1});_.default.is_online&&_.default.chat_started&&t&&t.length&&this.setState({show:!0,vk:e.vk,fb:e.fb})}}},{key:"show",value:function(e){this.setState({show:e})}},{key:"processSocial",value:function(e,t){M.log("processSocial"),t.preventDefault(),k.Router.next(S.RouterEvent.ToSocial),this.setState({popup:!0,mode:"mode"});var a="vk"===e?x.TelemetryName.CONTINUE_IN_VK:x.TelemetryName.CONTINUE_IN_FB;I.Monitoring.telemetry(a),g.default.trackContinueInSocial(e)}},{key:"getRenderData",value:function(){return{data:{},styles:{wrap:[{wrap:!0},{display:this.state.show?"block":"none"}],iconVk:[{iconVk:!0}],iconFb:[{iconFb:!0}]},style:T.default}}},{key:"renderData",value:function(e,t){var a,n;return m.default.joint?f.default.createElement("jdiv",t.wrap,this.state.vk&&f.default.createElement("jdiv",{className:T.default.socialLink,onClick:(0,r.default)(a=this.processSocial).call(a,this,"vk"),title:(0,p.default)("social_vk")},(0,p.default)("social_process_in")," ",f.default.createElement(E.default,(0,o.default)({iconName:"vk"},t.iconVk))," ",(0,p.default)("social_vk")),this.state.fb&&f.default.createElement("jdiv",{className:T.default.socialLink,onClick:(0,r.default)(n=this.processSocial).call(n,this,"fb"),title:(0,p.default)("social_fb")},(0,p.default)("social_process_in_fb"),"  ",f.default.createElement(E.default,(0,o.default)({iconName:"fb"},t.iconFb))," Messenger")):f.default.createElement("jdiv",null)}}]),a}(h.default);t.default=R},22905:function(e,t,a){"use strict";var n=a(87646),i=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a(18777)),r=n(a(59748)),l=a(26213),u=i(a(94350)),s=i(a(45697)),c=a(63237),d=a(56602),f=i(a(64499)),h=i(a(62652)),p=a(53172),m=a(8565),g=a(75245),v=i(a(75043)).default.name("SocialButtonContainer"),_=function(e){var t=e.isOnline,a=e.clientIntegration,n=e.messages,i=e.socialState,l=function(e){return!!(0,p.getMessagesByType)(e,m.MessageType.FORM).length},s=(0,r.useState)(l(n)),_=(0,o.default)(s,2),y=_[0],b=_[1];if(!y&&function(){if((0,d.hasIntegration)(a))return v.log("Already connected with vk/fb."),g.messageActions.hideEmailForm(),!1;if(l(n))return b(!0),!1;if(t&&h.default.chat_started){var e=(0,p.getClientMessages)(n);return!(!e||!e.length)}return!1}())return r.default.createElement("jdiv",{className:u.default.socialPanel},r.default.createElement(f.default,{show:!0,mode:i,processSocial:c.processSocial}))};_.propTypes={isOnline:s.default.bool,clientIntegration:s.default.oneOfType([s.default.bool,s.default.string]),messages:s.default.array,socialState:s.default.shape({vk:s.default.bool,fb:s.default.bool,mode:s.default.oneOfType([s.default.bool,s.default.string])})};var y=(0,l.connect)((function(e){return{isOnline:e.app.isOnline,clientIntegration:e.client.hasIntegration,messages:e.messages,socialState:e.social}}),{})(_);t.default=y},64499:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(59748)),o=n(a(75119)),r=n(a(45697)),l=n(a(94350)),u=n(a(58165)),s=(n(a(75043)).default.name("SocialButton"),function(e){var t=e.mode,a=e.processSocial;return i.default.createElement("jdiv",{className:l.default.wrap},t.vk?i.default.createElement("jdiv",{className:l.default.socialLink,onClick:function(e){a(e,"vk")},title:(0,o.default)("social_vk")},(0,o.default)("social_process_in")," ",i.default.createElement(u.default,{iconName:"vk",className:l.default.iconVk})," ",(0,o.default)("social_vk")):null,t.fb?i.default.createElement("jdiv",{className:l.default.socialLink,onClick:function(e){a(e,"vk")},title:(0,o.default)("social_fb")},(0,o.default)("social_process_in_fb"),"  ",i.default.createElement(u.default,{iconName:"fb",className:l.default.iconFb})," Messenger"):null)});s.propTypes={show:r.default.bool.isRequired,mode:r.default.object.isRequired,processSocial:r.default.func.isRequired};var c=i.default.memo(s);t.default=c},73796:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(87672)),r=n(a(5872)),l=n(a(54103)),u=n(a(26394)),s=n(a(69198)),c=n(a(51379)),d=n(a(214)),f=n(a(66380)),h=n(a(59748)),p=n(a(60021)),m=n(a(75043)),g=n(a(62904)),v=n(a(75119)),_=n(a(62107)),y=n(a(58061)),b=n(a(36216)),E=n(a(99357)),w=(n(a(38061)),n(a(6991))),C=a(56602),T=n(a(94350)),k=a(17674),S=a(85442);function I(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var x=m.default.name("SocialButtonChat"),A=function(e){(0,c.default)(a,e);var t=I(a);function a(e){var n;return(0,u.default)(this,a),(n=t.call(this,e)).state={show:!0,vk:e.mode.vk,fb:e.mode.fb,mode:e.mode.mode},n}return(0,s.default)(a,[{key:"componentDidMount",value:function(){var e;x.log("mounted"),this.on(b.default,(0,l.default)(e=this.checkIntegration).call(e,this)),(g.default.joint||3!=g.default.contacts_ask)&&(3!=g.default.contacts_ask||y.default.desktop())||this.setState({vk:!1,fb:!1,mode:"email"})}},{key:"checkIntegration",value:function(){(0,C.hasIntegration)(b.default.has_integration)&&(x.log("Already connected with vk/fb."),this.show(!1),_.default.each(E.default.getMessagesByType("email"),(function(e){x.log("remove email message (integration vk/fb)."),e&&e.destroy&&e.destroy()})),k.Router.getCurrentRoute()===S.Route.CHAT_SOCIAL&&(x.log("hide popup, navigate to chat"),k.Router.next(S.RouterEvent.ToChat)))}},{key:"show",value:function(e){x.log("show",e),this.setState({show:e})}},{key:"renderIframe",value:function(e){var t=w.default.getIframeUrl(this.state.mode),a="vk"==this.state.mode?50:74;return h.default.createElement("iframe",(0,r.default)({},e.iframe,{width:"100%",border:"0",height:a,src:t}))}},{key:"getRenderData",value:function(){return{styles:{box:[{box:!0},{display:this.state.show?"block":"none"}],iframe:[(0,o.default)({iframe:!0},"__"+this.state.mode,!0),{position:"fb"===this.state.mode?"relative":null}],infoText:[{infoText:!0}]},style:T.default}}},{key:"renderData",value:function(e,t){return h.default.createElement("jdiv",t.box,(this.state.vk||this.state.fb)&&h.default.createElement("jdiv",{className:T.default.infoText,dangerouslySetInnerHTML:{__html:"vk"==this.state.mode?(0,v.default)("social_get_access"):(0,v.default)("social_get_access_fb")}}),this.renderIframe(t))}}]),a}(p.default);t.default=A},12784:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(54103)),r=n(a(87672)),l=n(a(26394)),u=n(a(69198)),s=n(a(51379)),c=n(a(214)),d=n(a(66380)),f=n(a(59748)),h=n(a(60021)),p=n(a(62904)),m=n(a(75119)),g=n(a(6991)),v=n(a(19301)),_=n(a(75043)),y=n(a(4897));function b(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var E=_.default.name("SocialPopup"),w=function(e){(0,s.default)(a,e);var t=b(a);function a(e){var n;return(0,l.default)(this,a),(n=t.call(this,e)).state={mode:g.default.getSocial().mode},n}return(0,u.default)(a,[{key:"componentDidMount",value:function(){var e=this;E.log("mounted"),g.default.addListener("update",(function(){var t=g.default.getPopupMode(),a=g.default.getSocial().mode;t?e.setState({mode:t}):"email"!==a&&e.setState({mode:a})}))}},{key:"close",value:function(){E.log("close click."),g.default.setPopupMode(""),this.props.hideCallback()}},{key:"renderIframe",value:function(){if(this.state.mode&&g.default.checkSocial()){var e=g.default.getIframeUrl(this.state.mode),t="vk"==this.state.mode?52:74;return f.default.createElement("iframe",{width:"300",border:"0",height:t,src:e})}}},{key:"getRenderData",value:function(){return{data:{},styles:{wrap:[{wrap:!0}],iconHeader:[(0,r.default)({iconHeader:!0},"__"+this.state.mode,this.state.mode)]},style:y.default}}},{key:"renderData",value:function(e,t){var a,n=this;return p.default.joint?f.default.createElement("jdiv",t.wrap,f.default.createElement(v.default,{onClose:function(e){e.stopPropagation(),n.close()}}),f.default.createElement("jdiv",t.iconHeader),f.default.createElement("jdiv",{className:y.default.textBox},f.default.createElement("jdiv",{className:y.default.text,dangerouslySetInnerHTML:{__html:"vk"==this.state.mode?(0,m.default)("social_get_access"):(0,m.default)("social_get_access_fb")}}),this.renderIframe()),f.default.createElement("jdiv",{className:y.default.linkBox},f.default.createElement("jdiv",{onClick:(0,o.default)(a=this.close).call(a,this),className:y.default.link},(0,m.default)("cancel")))):f.default.createElement("jdiv",null)}}]),a}(h.default);t.default=w},63237:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.processSocial=function(e,t){s.log("processSocial"),e.preventDefault(),o.Router.next(r.RouterEvent.ToSocial);var a="vk"===t?u.TelemetryName.CONTINUE_IN_VK:u.TelemetryName.CONTINUE_IN_FB;l.Monitoring.telemetry(a),i.default.trackContinueInSocial(t)};var i=n(a(40695)),o=a(17674),r=a(85442),l=a(33367),u=a(63242),s=n(a(75043)).default.name("SocialButtonHelpers")},48309:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=t.Sound=void 0;var i=n(a(1068)),o=n(a(2991)),r=n(a(26394)),l=n(a(69198)),u=n(a(51379)),s=n(a(214)),c=n(a(66380)),d=n(a(59748)),f=a(56602),h=n(a(24794)),p=a(94515),m=n(a(45808));function g(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}n(a(75043)).default.name("SoundPlayer");var v=function(e){var t=e.src,a=(p.EnvironmentManager.isDevelopment()?"/public":"")+"/sounds/".concat(t,"."),n=(0,f.staticUrl)(a+"mp3",!0),i=(0,f.staticUrl)(a+"ogg",!0),o=(0,f.staticUrl)(a+"wav",!0);return d.default.createElement("audio",{preload:"auto",id:"jivo-sound-".concat(t)},d.default.createElement("source",{src:n,type:"audio/mpeg"}),d.default.createElement("source",{src:i,type:"audio/ogg; codecs=vorbis"}),d.default.createElement("source",{src:o,type:"audio/wav"}))};t.Sound=v;var _=function(e){(0,u.default)(a,e);var t=g(a);function a(e){return(0,r.default)(this,a),t.call(this,e)}return(0,l.default)(a,[{key:"render",value:function(){var e;return d.default.createElement("jdiv",{id:"jivo-player",className:h.default.player},(0,o.default)(e=this.props.sounds).call(e,(function(e,t){return d.default.createElement(v,{src:e,ref:function(t){m.default.set("sound_".concat(e).toUpperCase(),t)},key:t})})))}}]),a}(d.default.PureComponent);t.default=_},46443:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.getIcons=function(){return x},t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(26394)),l=n(a(69198)),u=n(a(51379)),s=n(a(214)),c=n(a(66380)),d=n(a(59748)),f=n(a(15852)),h=n(a(88603)),p=n(a(82632)),m=n(a(69527)),g=n(a(97126)),v=n(a(27684)),_=n(a(50109)),y=n(a(29428)),b=n(a(2427)),E=n(a(36599)),w=n(a(87409)),C=n(a(92809)),T=n(a(63899)),k=n(a(86227)),S=n(a(34948));function I(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}var x={logo_jivosite:h.default,logo_jivochat:p.default,hand:m.default,arrow:g.default,arrow2:v.default,"icon-ok-white":_.default,"icon-ok":y.default,"icon-v-email":b.default,mobileBack:E.default,callMessageStartIcon:w.default,callEndIcon:C.default,labelCall:T.default,labelFb:k.default,iconClose:S.default};var A=function(e){(0,u.default)(a,e);var t=I(a);function a(e){var n;(0,r.default)(this,a),(n=t.call(this,e)).initIcons();var i=f.default[n.props.iconName+"Icon"];return n.className=n.props.className+(i?" "+i:""),n}return(0,l.default)(a,[{key:"initIcons",value:function(){this.iconsMap=x}},{key:"getIcon",value:function(){return this.iconsMap[this.props.iconName]}},{key:"render",value:function(){return d.default.createElement("jdiv",(0,o.default)({dangerouslySetInnerHTML:{__html:this.getIcon()}},this.props,{className:this.className}))}}]),a}(d.default.Component);t.default=A},58165:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.getIcons=function(){return _e},t.getSvgBgIcon=function(e){if(!e)return null;var t=_e[e];return t?'"data:image/svg+xml,'.concat(encodeURIComponent(t),'"'):null},t.default=void 0;var i=n(a(63978)),o=n(a(20368)),r=n(a(39649)),l=n(a(78914)),u=n(a(34074)),s=n(a(20116)),c=n(a(14310)),d=n(a(86902)),f=n(a(87672)),h=n(a(18777)),p=n(a(59748)),m=n(a(15852)),g=n(a(45697)),v=n(a(12298)),_=n(a(38353)),y=n(a(70099)),b=n(a(28336)),E=n(a(81483)),w=n(a(28843)),C=n(a(15504)),T=n(a(22722)),k=n(a(30349)),S=n(a(54446)),I=n(a(34948)),x=n(a(74783)),A=n(a(36683)),M=n(a(64924)),R=n(a(33825)),N=n(a(75001)),O=n(a(18317)),D=n(a(22764)),L=n(a(99652)),P=n(a(34886)),j=n(a(18079)),B=n(a(85972)),F=n(a(2482)),H=n(a(54389)),W=n(a(2427)),U=n(a(87409)),z=n(a(92809)),G=n(a(99350)),V=n(a(69357)),q=n(a(43055)),K=n(a(39581)),Y=n(a(28149)),Z=n(a(54304)),J=n(a(28372)),X=n(a(31617)),$=n(a(75630)),Q=n(a(36972)),ee=n(a(12320)),te=n(a(58915)),ae=n(a(13339)),ne=n(a(39186)),ie=n(a(1900)),oe=n(a(80441)),re=n(a(88921)),le=n(a(42899)),ue=n(a(28122)),se=n(a(12103)),ce=n(a(96955)),de=n(a(62842)),fe=n(a(93759)),he=n(a(66574)),pe=n(a(68611));function me(e,t){var a=(0,d.default)(e);if(c.default){var n=(0,c.default)(e);t&&(n=(0,s.default)(n).call(n,(function(t){return(0,u.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function ge(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(a=me(Object(n),!0)).call(a,(function(t){(0,f.default)(e,t,n[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(n));else{var s;(0,l.default)(s=me(Object(n))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(n,t))}))}}return e}var ve={},_e={"logo-j-white":v.default,"mobile-cloud":_.default,"icon-im":y.default,envelope:b.default,"envelope-offline":E.default,"callback-btn":w.default,"icon-close":I.default,"logo-jivosite-white":C.default,"logo-jivochat-white":T.default,"logo-jivosite":k.default,"logo-jivochat":S.default,vk:x.default,fb:A.default,wa:M.default,viber:N.default,telegram:R.default,"phone-outgoing":O.default,phone:D.default,labelChat:L.default,"message-text":P.default,"send-button":j.default,"icon-emoji":B.default,"icon-attach":F.default,"icon-ok-white":H.default,"icon-v-email":W.default,callMessageStartIcon:U.default,callEndIcon:z.default,refresh:G.default,"icon-photo":V.default,"icon-video":q.default,"icon-audio":K.default,"icon-document":Y.default,"icon-error":J.default,"icon-cancel":Z.default,"icon-ruble":X.default,"icon-anonymous":$.default,"icon-v":Q.default,"rating-negative":ee.default,"rating-positive":te.default,"icon-callok":ae.default,"icon-connect":ne.default,"icon-connect2":ie.default,"icon-close-chat":oe.default,"icon-popup-close":re.default,"mobile-send-button":le.default,"icon-tube":ue.default,"start-chat":se.default,"icon-back":ce.default,leafBottom:de.default,leafBottomOffline:fe.default,"icon-more":he.default,iconBot:pe.default,iconWa:M.default};var ye=function(e){var t=e.iconName,a=e.className,n=e.color,i=e.color2,o=e.hoverColor,r=e.style,l=e["data-qa-id"],u=p.default.useState(!1),s=(0,h.default)(u,2),c=s[0],d=s[1],f=m.default[t+"Icon"],g=a+(f?" "+f:""),v=function(e){o&&d(e)};return p.default.createElement("jdiv",{onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)},style:ge({backgroundImage:function(){var e=t+c?o:n;if(ve[e])return ve[e];var a=encodeURIComponent(_e[t]),r=c?o:n;n&&!c&&(a=a.replace(new RegExp("_COLOR1_","ig"),r.replace("#","%23"))),o&&c&&(a=a.replace(new RegExp("_COLOR1_","ig"),r.replace("#","%23"))),i&&(a=a.replace(new RegExp("_COLOR2_","ig"),i.replace("#","%23")));var l='url("data:image/svg+xml,'.concat(a,'")');return ve[t+n+i]=l,l}()},r),className:g,"data-qa-id":l})};ye.propTypes={iconName:g.default.string.isRequired,className:g.default.string,color:g.default.string,color2:g.default.string,hoverColor:g.default.string,style:g.default.any,"data-qa-id":g.default.string};var be=p.default.memo(ye);t.default=be},87374:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=t.Button=void 0;var i=n(a(5872)),o=n(a(87672)),r=n(a(80122)),l=n(a(59748)),u=n(a(94184)),s=n(a(43107)),c=n(a(62904)),d=function(e){var t,a=e.children,n=e.className,d=e.widthFluid,f=void 0!==d&&d,h=e.height,p=void 0===h?"md":h,m=e.isNative,g=void 0!==m&&m,v=e.disabled,_=void 0!==v&&v,y=e.onClick,b=(0,r.default)(e,["children","className","widthFluid","height","isNative","disabled","onClick"]),E=g?"button":"jdiv",w=_?void 0:y,C=(0,u.default)(n,(t={},(0,o.default)(t,s.default.button,!g),(0,o.default)(t,s.default.nativeButton,g),(0,o.default)(t,s.default.widthFixed,!f),(0,o.default)(t,s.default.widthFluid,f),(0,o.default)(t,s.default.heightSmall,"sm"===p),(0,o.default)(t,s.default.heightMiddle,"md"===p),(0,o.default)(t,s.default.disabled,_),(0,o.default)(t,s.default["__"+(c.default.bubble_color||"green")],!0),t));return l.default.createElement(E,(0,i.default)({},b,{onClick:w,className:C}),a)};t.Button=d;var f=d;t.default=f},75900:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(2991)),r=n(a(26394)),l=n(a(69198)),u=n(a(5824)),s=n(a(51379)),c=n(a(214)),d=n(a(66380)),f=n(a(87672)),h=n(a(59748)),p=n(a(56602)),m=n(a(94184)),g=n(a(20748)),v=n(a(58165)),_=n(a(77843)),y=n(a(62904));function b(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var E=function(e){(0,s.default)(a,e);var t=b(a);function a(e){var n;(0,r.default)(this,a),n=t.call(this,e),(0,f.default)((0,u.default)(n),"onDocumentClicked",(function(e){e.target.closest(".".concat(_.default.selectWrap))||n.toggleBubbleVissible()})),(0,f.default)((0,u.default)(n),"toggleBubbleVissible",(function(){var e=!n.state.isOpen;n.setState({isOpen:e},(function(){e?p.default.addListener(window.parent.document,"click",n.onDocumentClicked):p.default.removeEvent(window.parent.document,"click",n.onDocumentClicked)}))})),(0,f.default)((0,u.default)(n),"onChange",(function(e){var t=n.props.onChange;void 0!==t&&t({option:n.props.options[e],activeOptionIndex:e});n.setState({activeOptionIndex:e},n.toggleBubbleVissible)})),(0,f.default)((0,u.default)(n),"onStyledSelectChange",(function(e){var t=e.target.getAttribute("jv-sval");n.onChange(t)})),(0,f.default)((0,u.default)(n),"onNativeSelectChange",(function(e){var t=e.target.value;n.onChange(t)}));var i=e.activeOptionIndex;return n.state={activeOptionIndex:i||0,isOpen:!1},n}return(0,l.default)(a,[{key:"getOptionsTemplate",value:function(){var e=this,t=this.props,a=t.options,n=t.isNative;return(0,o.default)(a).call(a,n?function(e,t){return h.default.createElement("option",{value:t},e.label)}:function(t,a){var n=t.label,i=n.length>35?n:void 0;return h.default.createElement("jdiv",{className:_.default.item,key:a,"jv-sval":a,title:i,onClick:e.onStyledSelectChange},n)})}},{key:"render",value:function(){var e,t=this.props,a=t.disabled,n=t.classNameWrap,i=t.theme,o=t.height,r=t.isNative,l=t.options,u=t.invalid,s=this.state,c=s.activeOptionIndex,d=s.isOpen,p=l[c]&&l[c].label,b=this.getOptionsTemplate(),E=b&&b.length>3,w=(0,m.default)(n,_.default.selectWrap,(e={},(0,f.default)(e,_.default.invalid,u),(0,f.default)(e,_.default.styledSelectWrap,!r),(0,f.default)(e,_.default.nativeSelectWrap,r),(0,f.default)(e,_.default.selectIsOpen,d),(0,f.default)(e,_.default.heightSmall,"sm"===o),(0,f.default)(e,_.default.heightMiddle,"md"===o),(0,f.default)(e,_.default.themeFlat,"flat"===i),(0,f.default)(e,_.default.themeInset,"inset"===i),(0,f.default)(e,_.default.disabled,a),(0,f.default)(e,_.default.scroll,E),(0,f.default)(e,_.default["__"+y.default.bubble_color],!0),e));return h.default.createElement("jdiv",{className:w},r?h.default.createElement("jdiv",null,h.default.createElement("select",{onChange:this.onNativeSelectChange,className:_.default.nativeSelect,disabled:a},b),h.default.createElement(v.default,{iconName:"icon-v",color:"#959BA0",hoverColor:"#222D38",className:_.default.iconSelect})):h.default.createElement("jdiv",null,h.default.createElement("jdiv",{className:_.default.label,title:p&&p.length>=25?p:void 0,onClick:a?void 0:this.toggleBubbleVissible},p,h.default.createElement("jdiv",{className:_.default.labelArrow},h.default.createElement(v.default,{iconName:"icon-v",color:"#959BA0",hoverColor:"#222D38",className:_.default.iconSelect}))),h.default.createElement("jdiv",{className:_.default.items},E?h.default.createElement(g.default,{railClass:_.default.rail,position:"relative"},b):b)))}}]),a}(h.default.Component);t.default=E,(0,f.default)(E,"defaultProps",{theme:"flat",height:"md",options:[]})},31722:function(e,t,a){"use strict";var n=a(87646),i=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a(63978)),r=i(a(20368)),l=i(a(39649)),u=i(a(78914)),s=i(a(34074)),c=i(a(20116)),d=i(a(14310)),f=i(a(86902)),h=i(a(87672)),p=i(a(77766)),m=n(a(59748)),g=i(a(45697)),v=a(26213),_=i(a(77146)),y=(i(a(58061)),a(10872));function b(e,t){var a=(0,f.default)(e);if(d.default){var n=(0,d.default)(e);t&&(n=(0,c.default)(n).call(n,(function(t){return(0,s.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,u.default)(a=b(Object(n),!0)).call(a,(function(t){(0,h.default)(e,t,n[t])}));else if(l.default)(0,r.default)(e,(0,l.default)(n));else{var i;(0,u.default)(i=b(Object(n))).call(i,(function(t){(0,o.default)(e,t,(0,s.default)(n,t))}))}}return e}var w=i(a(75043)).default.name("NewTransition"),C=function(e){var t,a=e.name,n=e.scriptName,i=e.children,o=e.onClick,r=e.endCallbacks,l=void 0===r?{}:r,u=e.startCallbacks,s=void 0===u?{}:u,c=e.duration,d=void 0===c?"300ms":c,f=e.timingFunction,h=void 0===f?"cubic-bezier(0.39, 0.24, 0.21, 0.99)":f,g=e.delay,v=void 0===g?"0s":g,b=e.iterationCount,C=void 0===b?1:b,T=e.direction,k=void 0===T?"normal":T,S=e.fillMode,I=void 0===S?"both":S,x=e.playState,A=void 0===x?"running":x,M=e.customVars,R=e.style,N=e.animationPostfix,O=e.id,D=(0,m.useRef)(null),L=(0,y.isFallbackNeeded)()?_.default.fallback:_.default[N],P=(0,p.default)(t="".concat(a,"_")).call(t,n);w.log("render",P,N);var j=function(e){return e&&D.current&&e.target===D.current&&e.animationName===L[P]&&n};return m.default.createElement("jdiv",{ref:D,style:E(E({},function(){var e={animationDuration:d,animationTimingFunction:h,animationDelay:v,animationIterationCount:C,animationDirection:k,animationFillMode:I,animationPlayState:A,animationName:n?L[P]:null};return function(e){if(M)for(var t in M)({}).hasOwnProperty.call(M,t)&&((0,y.isFallbackNeeded)()?e[t]=M[t]:e["--".concat(t)]=M[t])}(e),e}()),R),onAnimationEnd:function(e){j(e)&&l[n]&&l[n]()},onAnimationStart:function(e){j(e)&&s[n]&&s[n]()},onClick:o,id:O},i)};C.propTypes={scriptName:g.default.string.isRequired,children:g.default.oneOfType([g.default.arrayOf(g.default.node),g.default.node]).isRequired,name:g.default.string.isRequired,onClick:g.default.func,endCallbacks:g.default.any,startCallbacks:g.default.any,duration:g.default.string,timingFunction:g.default.string,delay:g.default.string,iterationCount:g.default.number,direction:g.default.string,fillMode:g.default.string,playState:g.default.string,customVars:g.default.any,style:g.default.any,animationPostfix:g.default.string,id:g.default.string};var T=(0,v.connect)((function(e){return{scriptName:e.transition.currentScript}}),{})(C);t.default=T},77146:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(83821)),o=n(a(71461)),r=n(a(8511)),l=n(a(60855)),u=n(a(6274)),s=n(a(92964)),c={bottom:i.default,bottom_0:o.default,left:r.default,right:l.default,custom:u.default,fallback:s.default};t.default=c},96309:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.CheapTransition=void 0;var i=n(a(63978)),o=n(a(20368)),r=n(a(39649)),l=n(a(78914)),u=n(a(34074)),s=n(a(20116)),c=n(a(14310)),d=n(a(86902)),f=n(a(1068)),h=n(a(87672)),p=n(a(23765)),m=n(a(33032)),g=n(a(54103)),v=n(a(26394)),_=n(a(69198)),y=n(a(5824)),b=n(a(51379)),E=n(a(214)),w=n(a(66380)),C=n(a(59748)),T=n(a(60021)),k=n(a(58061));function S(e,t){var a=(0,d.default)(e);if(c.default){var n=(0,c.default)(e);t&&(n=(0,s.default)(n).call(n,(function(t){return(0,u.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(a=S(Object(n),!0)).call(a,(function(t){(0,h.default)(e,t,n[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(n));else{var s;(0,l.default)(s=S(Object(n))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(n,t))}))}}return e}function x(e){var t=function(){if("undefined"==typeof Reflect||!f.default)return!1;if(f.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,f.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,w.default)(e);if(t){var i=(0,w.default)(this).constructor;a=(0,f.default)(n,arguments,i)}else a=n.apply(this,arguments);return(0,E.default)(this,a)}}var A=n(a(75043)).default.name("CheapTransitionComponent"),M="UNMOUNTED",R="BEFORE_ENTER",N="ENTER",O="BEFORE_EXIT",D="EXIT",L=function(e){(0,b.default)(a,e);var t=x(a);function a(e){var n,i,o,r,l;return(0,v.default)(this,a),(l=t.call(this,e)).state={status:M,show:e.show},l.getStyles=(0,g.default)(n=l.getStyles).call(n,(0,y.default)(l)),l.changeStatus=(0,g.default)(i=l.changeStatus).call(i,(0,y.default)(l)),l.handleDebugProp=(0,g.default)(o=l.handleDebugProp).call(o,(0,y.default)(l)),l.getFinalStyle=(0,g.default)(r=l.getFinalStyle).call(r,(0,y.default)(l)),l}return(0,_.default)(a,[{key:"componentDidMount",value:function(){this.props.show&&this.setState({status:R,show:this.props.show})}},{key:"shouldComponentUpdate",value:function(e,t){return t.status!==M||this.state.status!==M}},{key:"changeStatus",value:function(e,t,a){var n=this;a?(0,m.default)((function(){n.state.status===e&&n.setState({status:t})}),a):this.state.status===e&&this.setState({status:t})}},{key:"componentDidUpdate",value:function(e,t){switch(this.state.status){case R:this.changeStatus(R,N);break;case O:this.changeStatus(O,D);break;case D:this.props.transition||this.changeStatus(D,M,this.props.waitBeforeUnmount)}}},{key:"onTransitionEnd",value:function(e){this.state.status===D&&e&&e.propertyName&&("PopupSlideUpEULA"===this.props.transition&&"transform"===e.propertyName&&this.changeStatus(D,M,this.props.waitBeforeUnmount),"Fade"===this.props.transition&&"opacity"===e.propertyName&&this.changeStatus(D,M,this.props.waitBeforeUnmount))}},{key:"getStyles",value:function(){var e=this.state.status,t=this.props,a=t.transitionStyles,n=t.shouldAnimate;if("object"===(0,p.default)(a.main)){switch(e){case M:break;case R:if(n.mount)return I(I({},a.main),a.enterActive);break;case N:if(n.mount)return I(I(I({},a.main),a.enterActive),a.enterDone);break;case O:if(n.unmount)return I(I({},a.mainExit),a.exitActive);break;case D:if(n.unmount)return I(I(I({},a.mainExit),a.exitActive),a.exitDone)}return null}}},{key:"getFinalStyle",value:function(){var e=this.state.status===M?"none":"block",t=!k.default.mobileOrTablet()&&!this.props.fixed,a=I(I({},this.props.style),{},t?{height:t?"100%":"",display:e}:{display:e},this.getStyles());return this.props.isStatic&&this.state.status===N&&(a=I(I({},a),{},{height:"auto"})),a}},{key:"handleDebugProp",value:function(e){this.props.debugCallback&&("function"==typeof this.props.debugCallback?this.props.debugCallback(this.props,this.state,e):A.log(this.props.name,this.state.status,e))}},{key:"render",value:function(){var e,t="function"==typeof this.props.children,a=this.getFinalStyle();return this.handleDebugProp(a),C.default.createElement("jdiv",{id:this.props.id,className:this.props.className,style:a,onTransitionEnd:(0,g.default)(e=this.onTransitionEnd).call(e,this)},t?this.props.children():this.props.children)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return!1===e.show&&!0===t.show?{status:O,show:e.show}:!0===e.show&&!1===t.show?{status:R,show:e.show}:null}}]),a}(T.default);t.CheapTransition=L},64032:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.MobileTransition=void 0;var i=n(a(63978)),o=n(a(20368)),r=n(a(39649)),l=n(a(78914)),u=n(a(34074)),s=n(a(20116)),c=n(a(14310)),d=n(a(86902)),f=n(a(1068)),h=n(a(87672)),p=n(a(54103)),m=n(a(26394)),g=n(a(69198)),v=n(a(5824)),_=n(a(51379)),y=n(a(214)),b=n(a(66380)),E=n(a(59748)),w=n(a(60021));function C(e,t){var a=(0,d.default)(e);if(c.default){var n=(0,c.default)(e);t&&(n=(0,s.default)(n).call(n,(function(t){return(0,u.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(a=C(Object(n),!0)).call(a,(function(t){(0,h.default)(e,t,n[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(n));else{var s;(0,l.default)(s=C(Object(n))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(n,t))}))}}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!f.default)return!1;if(f.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,f.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,b.default)(e);if(t){var i=(0,b.default)(this).constructor;a=(0,f.default)(n,arguments,i)}else a=n.apply(this,arguments);return(0,y.default)(this,a)}}var S=n(a(75043)).default.name("MobileTransition"),I=function(e){(0,_.default)(a,e);var t=k(a);function a(e){var n,i;return(0,m.default)(this,a),(i=t.call(this,e)).handleDebugProp=(0,p.default)(n=i.handleDebugProp).call(n,(0,v.default)(i)),i}return(0,g.default)(a,[{key:"shouldComponentUpdate",value:function(e,t){return!(!e.show&&!this.props.show)}},{key:"handleDebugProp",value:function(e){this.props.debugCallback&&("function"==typeof this.props.debugCallback?this.props.debugCallback(this.props,this.state,e):S.log(this.props.name,e))}},{key:"render",value:function(){var e=this.props.show?"block":"none",t="function"==typeof this.props.children,a=T(T({},this.props.style),{},{display:e});return this.handleDebugProp(a),E.default.createElement("jdiv",{id:this.props.id,className:this.props.className,style:a},t?this.props.children():this.props.children)}}]),a}(w.default);t.MobileTransition=I},78837:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.Transition=void 0;var i=n(a(63978)),o=n(a(20368)),r=n(a(39649)),l=n(a(78914)),u=n(a(34074)),s=n(a(20116)),c=n(a(14310)),d=n(a(86902)),f=n(a(1068)),h=n(a(87672)),p=n(a(23765)),m=n(a(33032)),g=n(a(54103)),v=n(a(26394)),_=n(a(69198)),y=n(a(5824)),b=n(a(51379)),E=n(a(214)),w=n(a(66380)),C=n(a(59748)),T=n(a(60021)),k=n(a(58061));function S(e,t){var a=(0,d.default)(e);if(c.default){var n=(0,c.default)(e);t&&(n=(0,s.default)(n).call(n,(function(t){return(0,u.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(a=S(Object(n),!0)).call(a,(function(t){(0,h.default)(e,t,n[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(n));else{var s;(0,l.default)(s=S(Object(n))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(n,t))}))}}return e}function x(e){var t=function(){if("undefined"==typeof Reflect||!f.default)return!1;if(f.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,f.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,w.default)(e);if(t){var i=(0,w.default)(this).constructor;a=(0,f.default)(n,arguments,i)}else a=n.apply(this,arguments);return(0,E.default)(this,a)}}var A=n(a(75043)).default.name("TransitionComponent"),M="UNMOUNTED",R="ENTER",N="ENTERING",O="ENTERED",D="EXIT",L="EXITING",P="EXITED",j=function(e){(0,b.default)(a,e);var t=x(a);function a(e){var n,i,o,r,l,u,s;return(0,v.default)(this,a),(s=t.call(this,e)).state={status:M,show:e.show},s.statusCallbacks={onEnter:!1,onEntered:!1,onExit:!1,onExited:!1},s.getStyles=(0,g.default)(n=s.getStyles).call(n,(0,y.default)(s)),s.statusCallback=(0,g.default)(i=s.statusCallback).call(i,(0,y.default)(s)),s.changeStatus=(0,g.default)(o=s.changeStatus).call(o,(0,y.default)(s)),s.handleDebugProp=(0,g.default)(r=s.handleDebugProp).call(r,(0,y.default)(s)),s.getParentState=(0,g.default)(l=s.getParentState).call(l,(0,y.default)(s)),s.getFinalStyle=(0,g.default)(u=s.getFinalStyle).call(u,(0,y.default)(s)),s}return(0,_.default)(a,[{key:"componentDidMount",value:function(){this.props.show&&this.setState({status:this.props.shouldAnimate.mount?R:O})}},{key:"shouldComponentUpdate",value:function(e,t){return t.status!==M||this.state.status!==M}},{key:"statusCallback",value:function(e){this.statusCallbacks[e]||(this.props[e]&&this.props[e](),this.statusCallbacks[e]=!0)}},{key:"changeStatus",value:function(e,t,a){var n=this;a?(0,m.default)((function(){n.state.status===e&&n.setState({status:t})}),a):this.state.status===e&&this.setState({status:t})}},{key:"componentDidUpdate",value:function(e,t){switch(this.state.status){case R:this.statusCallbacks={onEnter:!1,onEntered:!1,onExit:!1,onExited:!1},this.changeStatus(R,N);break;case N:this.statusCallback("onEnter"),this.changeStatus(N,O,this.props.duration);break;case O:this.statusCallbacks.onExit=!1,this.statusCallbacks.onExited=!1,this.statusCallback("onEntered");break;case D:this.changeStatus(D,L);break;case L:this.statusCallback("onExit"),this.changeStatus(L,P,this.props.duration);break;case P:this.statusCallbacks.onEnter=!1,this.statusCallbacks.onEntered=!1,this.changeStatus(P,M,this.props.waitBeforeUnmount),this.statusCallback("onExited")}}},{key:"getStyles",value:function(){var e=this.state.status,t=this.props,a=t.transitionStyles,n=t.shouldAnimate;if("object"===(0,p.default)(a.main)){switch(e){case M:return I({},a.main);case R:if(n.mount)return I(I({},a.main),a.enterActive);break;case N:case O:if(n.mount)return I(I(I({},a.main),a.enterActive),a.enterDone);break;case D:if(n.unmount)return I(I({},a.mainExit),a.exitActive);break;case L:case P:if(n.unmount)return I(I(I({},a.mainExit),a.exitActive),a.exitDone)}return null}}},{key:"getFinalStyle",value:function(){var e=this.state.status===M?"none":"block",t=!k.default.mobileOrTablet()&&!this.props.fixed,a=I(I({},this.props.style),{},t?{height:t?"100%":"",display:e}:{display:e},this.getStyles());return this.props.isStatic&&this.state.status===O&&(a=I(I({},a),{},{height:"auto"})),a}},{key:"getParentState",value:function(){var e={status:this.state.status,name:this.props.name,show:this.state.show};return this.props.parentState?(e.parentState=this.props.parentState,e.level=this.props.parentState.level+1):e.level=0,e}},{key:"handleDebugProp",value:function(e){this.props.debugCallback&&("function"==typeof this.props.debugCallback?this.props.debugCallback(this.props,this.state,e):A.log(this.props.name,this.state.status,e))}},{key:"render",value:function(){var e=this,t="function"==typeof this.props.children,a=this.getFinalStyle();return this.handleDebugProp(a),C.default.createElement("jdiv",{id:this.props.id,className:this.props.className,style:a,onTransitionEnd:function(t){e.props.animationEnd&&e.props.animationEnd(t)}},t?this.props.children(this.getParentState()):this.props.children)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return!1===e.show&&!0===t.show?this.handleUnmount(e,t):!0===e.show&&!1===t.show?this.handleMount(e,t):null}},{key:"handleUnmount",value:function(e,t){return e.parentState?e.parentState.status===M?{status:M,show:e.show}:!0===e.parentState.show?e.parentState.parentState&&e.parentState.parentState.status!==O?{status:t.status,show:t.show}:{status:e.shouldAnimate.unmount?D:P,show:e.show}:{status:t.status,show:t.show}:{status:e.shouldAnimate.unmount?D:P,show:e.show}}},{key:"handleMount",value:function(e,t){return e.parentState&&e.shouldWait>=0?this.findLevelStatus(e.shouldWait,e.parentState)===O?{status:e.shouldAnimate.mount?R:O,show:e.show}:{status:t.status,show:t.show}:{status:e.shouldAnimate.mount?R:O,show:e.show}}},{key:"findLevelStatus",value:function(e,t){return t.level===e?t.status:t.level>e?this.findLevelStatus(e,t.parentState):void 0}}]),a}(T.default);t.Transition=j},26936:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(63978)),o=n(a(20368)),r=n(a(39649)),l=n(a(78914)),u=n(a(34074)),s=n(a(20116)),c=n(a(14310)),d=n(a(86902)),f=n(a(87672)),h=n(a(77766)),p=n(a(62904)),m=n(a(38514)),g=a(17674),v=n(a(58061));function _(e,t){var a=(0,d.default)(e);if(c.default){var n=(0,c.default)(e);t&&(n=(0,s.default)(n).call(n,(function(t){return(0,u.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(a=_(Object(n),!0)).call(a,(function(t){(0,f.default)(e,t,n[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(n));else{var s;(0,l.default)(s=_(Object(n))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(n,t))}))}}return e}var b="cubic-bezier(0.39, 0.24, 0.21, 0.99)",E={NoTransition:function(){return{main:{},enterActive:{},enterDone:{},mainExit:{},exitActive:{},exitDone:{}}},Container:function(e){var t,a,n,i,o,r,l,u=e.marginRight,s=e.width,c=(e.height,function(){var e=p.default.widget_padding>>0;return 0==e?"":50==e?"".concat(e,"%"):"30px"}),d=300,f=(0,h.default)(t="width ".concat(d,"ms ")).call(t,b,", ")+(0,h.default)(a="margin-right ".concat(d,"ms ")).call(a,b,", ")+(0,h.default)(n="right ".concat(d,"ms ")).call(n,b,", ")+(0,h.default)(i="transform ".concat(d,"ms ")).call(i,b,", ")+(0,h.default)(o="opacity ".concat(d,"ms ")).call(o,b,", ")+(0,h.default)(r="height ".concat(d,"ms ")).call(r,b,", ")+(0,h.default)(l="left ".concat(d,"ms ")).call(l,b),_=v.default.ieOrEdge()||v.default.safari()?"translateY(92%)":"translateY(calc(100% - 40px))",E="50"==p.default.widget_padding?-150:0;return{main:{width:"".concat(s,"px"),marginRight:u||E,right:c(),left:"0"===p.default.widget_padding?"30px":"",transition:f,willChange:"width, margin-right, right, transform, opacity, left, height",transform:_},enterActive:y({width:"".concat(s,"px"),marginRight:u,right:c(),transform:_},(v.default.ieOrEdge()||v.default.safari())&&{height:"40px"}),enterDone:y({width:"",marginRight:"",right:"",transform:"translateY(0%)"},m.default.getPositionStyle(g.Router.getCurrentRoute())),mainExit:{transition:f,willChange:"width, margin-right, right, transform, opacity, left, height"},exitActive:y({transform:"translateY(0%)"},m.default.getPositionStyle(g.Router.getCurrentRoute())),exitDone:{width:"".concat(s,"px"),marginRight:u,right:c(),left:"0"===p.default.widget_padding?"30px":"",transform:_}}},ContainerRight:function(e){var t,a,n,i,o,r,l=e.marginBottom,u=e.height,s=(e.width,300),c=(0,h.default)(t="height ".concat(s,"ms ")).call(t,b,", ")+(0,h.default)(a="margin-bottom ".concat(s,"ms ")).call(a,b,", ")+(0,h.default)(n="right ".concat(s,"ms ")).call(n,b,", ")+(0,h.default)(i="transform ".concat(s,"ms ")).call(i,b,", ")+(0,h.default)(o="opacity ".concat(s,"ms ")).call(o,b,", ")+(0,h.default)(r="bottom ".concat(s,"ms ")).call(r,b),d="translateX(100%) translateY(0)",f="100"!==p.default.widget_padding?-248:null,v="100"!==p.default.widget_padding?"".concat(p.default.widget_padding,"%"):"0px";return{main:{height:"".concat(u,"px"),marginBottom:l||f,transition:c,transform:d,bottom:v,right:"40px",willChange:"height, margin-bottom, right, transform, opacity, bottom",opacity:0},enterActive:{height:"".concat(u,"px"),marginBottom:l,bottom:v,transform:d,right:"40px",opacity:0},enterDone:y({height:"",marginBottom:"",bottom:"",transform:"translateX(0) translateY(0)",opacity:1},m.default.getPositionStyle(g.Router.getCurrentRoute())),mainExit:{transition:c,willChange:"height, margin-bottom, right, transform, opacity, bottom"},exitActive:{height:"".concat(u,"px"),marginBottom:l,bottom:v,transform:d,opacity:1},exitDone:{height:"".concat(u,"px"),marginBottom:l,bottom:v,transform:d,right:"40px",opacity:0}}},ContainerLeft:function(e){var t,a,n,i,o,r,l=e.marginBottom,u=e.height,s=(e.width,300),c=(0,h.default)(t="height ".concat(s,"ms ")).call(t,b,", ")+(0,h.default)(a="margin-bottom ".concat(s,"ms ")).call(a,b,", ")+(0,h.default)(n="left ".concat(s,"ms ")).call(n,b,", ")+(0,h.default)(i="transform ".concat(s,"ms ")).call(i,b,", ")+(0,h.default)(o="opacity ".concat(s,"ms ")).call(o,b,", ")+(0,h.default)(r="bottom ".concat(s,"ms ")).call(r,b),d=v.default.ieOrEdge()?"translateX(-100%) translateY(0)":"translateX(calc(-100% - 10px)) translateY(0)",f="100"!==p.default.widget_padding?-248:null,_="100"!==p.default.widget_padding?"".concat(p.default.widget_padding,"%"):"";return{main:{height:"".concat(u,"px"),marginBottom:l||f,transition:c,bottom:_,left:"40px",willChange:"height, margin-bottom, left, transform, opacity, bottom",transform:d,opacity:0},enterActive:{height:"".concat(u,"px"),marginBottom:l,bottom:_,transform:d,left:"40px",opacity:0},enterDone:y({height:"",marginBottom:"",bottom:"",transform:"translateX(0) translateY(0)",opacity:1},m.default.getPositionStyle(g.Router.getCurrentRoute())),mainExit:{transition:c,willChange:"height, margin-bottom, left, transform, opacity, bottom"},exitActive:{height:"".concat(u,"px"),marginBottom:l,bottom:_,transform:d,opacity:1},exitDone:{height:"".concat(u,"px"),marginBottom:l,bottom:_,transform:d,left:"40px",opacity:0}}},Fade:function(){var e,t,a;return{main:{transition:(0,h.default)(e="opacity ".concat(200,"ms ")).call(e,b),opacity:0},enterActive:{transition:(0,h.default)(t="opacity ".concat(200,"ms ")).call(t,b),opacity:0},enterDone:{opacity:1},mainExit:{transition:(0,h.default)(a="opacity ".concat(200,"ms ")).call(a,b),opacity:1},exitActive:{opacity:1},exitDone:{opacity:0}}},FadeWithDelay:function(){var e,t,a,n,i,o;return{main:{transition:(0,h.default)(e=(0,h.default)(t="opacity ".concat(200,"ms ")).call(t,b," ")).call(e,400,"ms"),opacity:0},enterActive:{transition:(0,h.default)(a=(0,h.default)(n="opacity ".concat(200,"ms ")).call(n,b," ")).call(a,400,"ms"),opacity:0},enterDone:{opacity:1},mainExit:{transition:(0,h.default)(i=(0,h.default)(o="opacity ".concat(200,"ms ")).call(o,b," ")).call(i,400,"ms"),opacity:1},exitActive:{opacity:1},exitDone:{opacity:0}}},LabelFade:function(){var e,t,a,n,i=v.default.ie()?0:250,o=v.default.ie()?1500:250,r="ease";return{main:{transition:(0,h.default)(e=(0,h.default)(t="opacity ".concat(o,"ms ")).call(t,r," ")).call(e,i,"ms"),opacity:0},enterActive:{transition:(0,h.default)(a=(0,h.default)(n="opacity ".concat(o,"ms ")).call(n,r," ")).call(a,i,"ms"),opacity:0},enterDone:{opacity:1},mainExit:{transition:"opacity ".concat(50,"ms ",r),opacity:1},exitActive:{transition:"opacity ".concat(50,"ms ",r),opacity:0},exitDone:{opacity:0}}},PopupSlideUpEULA:function(){var e,t;return{main:{width:"100%",transition:(0,h.default)(e="transform ".concat(300,"ms ")).call(e,b),opacity:1,position:"absolute",bottom:0,top:0,zIndex:25,willChange:"transform"},enterActive:{transform:"translateY(100%)"},enterDone:{transform:"translateY(0)"},mainExit:{width:"100%",transition:(0,h.default)(t="transform ".concat(300,"ms ")).call(t,b),transform:"translateY(0)",opacity:1,position:"absolute",bottom:0,top:0,zIndex:25,willChange:"transform"},exitActive:{transform:"translateY(0)"},exitDone:{transform:"translateY(100%)"}}}};t.default=E},16040:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(54103)),r=n(a(33032)),l=n(a(26394)),u=n(a(69198)),s=n(a(51379)),c=n(a(214)),d=n(a(66380)),f=n(a(59748)),h=n(a(60021)),p=n(a(36216)),m=n(a(58061)),g=n(a(62652)),v=n(a(37480)),_=n(a(66975)),y=n(a(14076)),b=n(a(76646)),E=n(a(95098)),w=a(17674),C=a(85442),T=a(57539);function k(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,c.default)(this,a)}}var S=n(a(75043)).default.name("CallContainer"),I=function(e){(0,s.default)(a,e);var t=k(a);function a(e,n){var i;return(0,l.default)(this,a),(i=t.call(this,e)).props=e,i.state={callStatus:p.default.cw_call.status,showContainer:g.default.show_container,animateHeader:!1},i}return(0,u.default)(a,[{key:"componentDidMount",value:function(){var e=this;this.on(p.default,(function(){p.default.cw_call.status!==e.state.callStatus&&e.setState({callStatus:p.default.cw_call.status})})),this.on(g.default,(function(){e.state.showContainer!==g.default.show_container&&(S.log("showContainer",e.state.showContainer,g.default.show_container),e.setState({showContainer:g.default.show_container}))})),g.default.is_online||w.Router.on("route_change",(function(t){t===C.Route.CALL&&w.Router.getPrevRoute()==C.Route.OFFLINE_EULA&&e.setState({animateHeader:!1})}))}},{key:"startAnimate",value:function(){var e=this;this.setState({animateHeader:!0}),(0,r.default)((function(){e.setState({animateHeader:!1})}),500)}},{key:"render",value:function(){var e,t=w.Router.getCurrentRoute();return m.default.mobileOrTablet()?f.default.createElement(_.default,{route:t,status:this.state.callStatus,display:!0}):f.default.createElement("jdiv",{className:E.default.look},f.default.createElement(T.Path,{name:"CallHeader",paths:[C.Route.CALL,C.Route.CALL_EULA],parentState:this.props.parentState,fixed:!0},f.default.createElement("jdiv",{className:E.default.header},f.default.createElement(y.default,{status:this.state.callStatus,route:t,animate:this.state.animateHeader,fadeState:!0===this.state.showContainer}))),f.default.createElement(T.Path,{paths:[C.Route.CALL,C.Route.CALL_EULA],name:"CallBody",parentState:this.props.parentState,withMountTransition:!0,transition:"Fade",shouldWait:0},f.default.createElement("jdiv",{className:E.default.body},f.default.createElement(v.default,{route:t,status:this.state.callStatus,display:!0,onAnimate:(0,o.default)(e=this.startAnimate).call(e,this),name:"CallForm"}),f.default.createElement(T.Path,{paths:[C.Route.CALL_EULA],withMountTransition:!0,transition:"PopupSlideUpEULA",name:"CallEulaPopup"},f.default.createElement("jdiv",{className:E.default.popupContainer},f.default.createElement(b.default,{showCallback:function(){},hideCallback:this.props.closeCallback,callContainer:!0}))))))}}]),a}(h.default);t.default=I},11247:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(54103)),l=n(a(26394)),u=n(a(69198)),s=n(a(5824)),c=n(a(51379)),d=n(a(214)),f=n(a(66380)),h=n(a(59748)),p=n(a(60021)),m=n(a(62652)),g=n(a(36216)),v=n(a(62904)),_=n(a(23646)),y=n(a(76646)),b=n(a(95512)),E=n(a(66273)),w=n(a(75779)),C=n(a(39880)),T=n(a(22952)),k=n(a(66107)),S=n(a(75215)),I=n(a(17678)),x=n(a(12784)),A=n(a(58061)),M=a(17674),R=a(85442),N=a(57539),O=a(94515),D=n(a(9805)),L=a(23582),P=n(a(75043));function j(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var B=h.default.lazy((function(){return a.e(711).then(a.t.bind(a,86588,7))})),F=P.default.name("ChatContainer"),H=[R.Route.CHAT,R.Route.CHAT_CALL,R.Route.CHAT_EULA,R.Route.CHAT_EVAL,R.Route.CHAT_INTRODUCE,R.Route.CHAT_MIN,R.Route.CHAT_SOCIAL,R.Route.DEPARTMENTS,R.Route.INTRODUCE,R.Route.DEBUG],W=[R.Route.CHAT,R.Route.CHAT_CALL,R.Route.CHAT_EVAL,R.Route.CHAT_INTRODUCE,R.Route.CHAT_SOCIAL],U=[R.Route.CHAT,R.Route.CHAT_CALL,R.Route.CHAT_EVAL,R.Route.CHAT_INTRODUCE,R.Route.CHAT_SOCIAL],z=function(e){(0,c.default)(a,e);var t=j(a);function a(e,n){var i,o,u,c,d,f,h,p,g,v;return(0,l.default)(this,a),(v=t.call(this,e)).props=e,v.state={showContainer:m.default.show_container,route:e.route},v.renderHeader=(0,r.default)(i=v.renderHeader).call(i,(0,s.default)(v)),v.renderBody=(0,r.default)(o=v.renderBody).call(o,(0,s.default)(v)),v.renderInput=(0,r.default)(u=v.renderInput).call(u,(0,s.default)(v)),v.renderIntroduce=(0,r.default)(c=v.renderIntroduce).call(c,(0,s.default)(v)),v.renderDepartments=(0,r.default)(d=v.renderDepartments).call(d,(0,s.default)(v)),v.renderPopups=(0,r.default)(f=v.renderPopups).call(f,(0,s.default)(v)),v.renderEula=(0,r.default)(h=v.renderEula).call(h,(0,s.default)(v)),v.renderSocial=(0,r.default)(p=v.renderSocial).call(p,(0,s.default)(v)),v.renderDebug=(0,r.default)(g=v.renderDebug).call(g,(0,s.default)(v)),v._container=null,v}return(0,u.default)(a,[{key:"componentDidMount",value:function(){var e=this;F.log("mount"),A.default.mobileOrTablet()||this.on(m.default,(function(){e.state.showContainer!==m.default.show_container&&e.setState({showContainer:m.default.show_container})}))}},{key:"getRenderData",value:function(){var e=!A.default.mobileOrTablet()&&(M.Router.getCurrentRoute()===R.Route.INTRODUCE||"cw_connected"===g.default.cw_call.status&&M.Router.getCurrentRoute()===R.Route.CALL);return{styles:{container:[{main:!A.default.mobileOrTablet(),mobile:A.default.mobileOrTablet(),__static:e}],opacity:[{body:!0}]},style:_.default}}},{key:"renderHeader",value:function(e,t){var a=!A.default.mobileOrTablet()&&(!m.default.is_online||M.Router.getCurrentRoute()===R.Route.INTRODUCE||"cw_connected"===g.default.cw_call.status&&M.Router.getCurrentRoute()===R.Route.CALL);return h.default.createElement(N.Path,{paths:H,name:"ChatHeader",className:_.default.headerBox,parentState:this.props.parentState,isStatic:a},h.default.createElement("jdiv",{key:this.props.route+"_header",className:_.default.header},h.default.createElement(C.default,{color:v.default.widget_color,color2:v.default.widget_color2,fadeState:!0===this.state.showContainer})))}},{key:"renderBody",value:function(e,t){return h.default.createElement(N.Path,{paths:W,name:"ChatBody",withMountTransition:!0,shouldWait:0,transition:"Fade",parentState:this.props.parentState},h.default.createElement("jdiv",{className:_.default.body},h.default.createElement(T.default,{inputHeight:this.state.inputHeight})),this.renderPopups(e,t),this.renderSocial(e,t))}},{key:"renderEula",value:function(e,t){return v.default.eula?h.default.createElement(N.Path,{paths:[R.Route.CHAT_EULA],withMountTransition:!0,withUnmountTransition:!0,transition:"PopupSlideUpEULA",name:"ChatBodyEulaPopup",parentState:this.props.parentState,fixed:!0,duration:300,cheap:!0},h.default.createElement("jdiv",{className:_.default.popupFull},h.default.createElement(y.default,{showCallback:function(){},hideCallback:function(){}}))):null}},{key:"renderSocial",value:function(e,t){return v.default.joint&&(v.default.joint.vk||v.default.joint.fb)?h.default.createElement(N.Path,{paths:[R.Route.CHAT_SOCIAL],withMountTransition:!0,withUnmountTransition:!0,transition:"PopupSlideUpEULA",name:"ChatSocialPopup",duration:300,cheap:!0},h.default.createElement("jdiv",{className:_.default.popupFull},h.default.createElement(x.default,{mode:"vk",showCallback:function(){},hideCallback:function(){M.Router.next(R.RouterEvent.ToChat)}}))):null}},{key:"renderPopups",value:function(e,t){return h.default.createElement("jdiv",{className:_.default.popup},this.props.canRenderCall?h.default.createElement(N.Path,{paths:[R.Route.CHAT_CALL],withMountTransition:!0,withUnmountTransition:!0,transition:"Fade",name:"ChatBodyCallPopup",parentState:this.props.parentState,style:{top:0,position:"absolute",width:"100%"},cheap:!0},h.default.createElement(I.default,{route:"chat",status:g.default.cw_call.status,display:!0})):null,1===v.default.show_rate_form?h.default.createElement(N.Path,{paths:[R.Route.CHAT_EVAL],withMountTransition:!0,withUnmountTransition:!0,transition:"Fade",name:"ChatBodyEvalPopup",parentState:this.props.parentState,style:{top:0,position:"absolute",width:"100%"},cheap:!0},h.default.createElement(b.default,null)):null)}},{key:"renderInput",value:function(e,t){var a=this;return h.default.createElement(N.Path,{paths:U,name:"ChatInput",parentState:this.props.parentState,withMountTransition:!0,transition:"Fade",shouldWait:0},h.default.createElement("jdiv",{className:_.default.input},h.default.createElement(w.default,{onInputChangeHeight:function(e){a.state.inputHeight!==e&&a.setState({inputHeight:e})}})))}},{key:"renderIntroduce",value:function(e,t){var a;A.default.mobileOrTablet()||(a={style:{visibility:this.state.showContainer?"visible":"hidden"}});var n=M.Router.needToShowIntroduceForm()&&m.default.is_online,i=L.FeatureManager.isEnabled(L.Feature.OLD_CAPTCHA)&&!g.default.client_id;return n||i?h.default.createElement(N.Path,(0,o.default)({paths:[R.Route.INTRODUCE],name:"Introduce",parentState:this.props.parentState,withMountTransition:!0,transition:M.Router.getPrevRoute()===R.Route.LABEL?"FadeWithDelay":"Fade"},a,{waitBeforeUnmount:100}),h.default.createElement("jdiv",{className:_.default.body},h.default.createElement(k.default,null))):null}},{key:"renderDepartments",value:function(e,t){return v.default.departments?h.default.createElement(N.Path,{paths:[R.Route.DEPARTMENTS],name:"Departments",parentState:this.props.parentState,withMountTransition:!0,transition:"Fade",shouldWait:0},h.default.createElement("jdiv",{className:_.default.body},h.default.createElement(S.default,null))):null}},{key:"renderDebug",value:function(e,t){return h.default.createElement(N.Path,{paths:[R.Route.DEBUG],name:"Debug",parentState:this.props.parentState,withMountTransition:!0,transition:"Fade",shouldWait:0},h.default.createElement("jdiv",{className:_.default.body},h.default.createElement(h.default.Suspense,{fallback:h.default.createElement("jdiv",{className:_.default.loading},"Loading...")},h.default.createElement(B,{online:m.default.is_online,version:O.EnvironmentManager.getVersion(),branch:O.EnvironmentManager.getBranch(),widgetId:v.default.widget_id,hasErrors:D.default.getInstance().pageHasErrors(),closeButtonClick:function(){M.Router.next(R.RouterEvent.ToChat)}}))))}},{key:"renderData",value:function(e,t){var a=this,n=m.default.widget_color2||m.default.widget_color;return h.default.createElement("jdiv",(0,o.default)({},t.container,{ref:function(e){a._container=e}}),h.default.createElement(E.default,{type:"chat",orientation:"bottom",color:n}),this.renderHeader(e,t),this.renderBody(e,t),this.renderInput(e,t),this.renderIntroduce(e,t),this.renderDepartments(e,t),this.renderEula(e,t),this.renderDebug(e,t))}}]),a}(p.default);t.default=z},57539:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.Path=void 0;var i=n(a(1068)),o=n(a(81643)),r=n(a(54103)),l=n(a(26394)),u=n(a(69198)),s=n(a(5824)),c=n(a(51379)),d=n(a(214)),f=n(a(66380)),h=n(a(59748)),p=n(a(60021)),m=n(a(45697)),g=n(a(58061)),v=a(17674),_=n(a(11017)),y=a(78837),b=a(96309),E=a(64032);function w(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var C=n(a(75043)).default.name("Path"),T=function(e){(0,c.default)(a,e);var t=w(a);function a(e){var n,i,o,u,c;return(0,l.default)(this,a),(c=t.call(this,e)).getTransitionStylesProp=(0,r.default)(n=c.getTransitionStylesProp).call(n,(0,s.default)(c)),c.getShouldAnimateProp=(0,r.default)(i=c.getShouldAnimateProp).call(i,(0,s.default)(c)),c.getTransitionComponent=(0,r.default)(o=c.getTransitionComponent).call(o,(0,s.default)(c)),c.getShow=(0,r.default)(u=c.getShow).call(u,(0,s.default)(c)),c.state={show:c.getShow(v.Router.getCurrentRoute())},c}return(0,u.default)(a,[{key:"componentDidMount",value:function(){var e=this;v.Router.on("route_change",(function(t){var a=e.getShow(t);e.state.show!==a&&e.setState({show:a})}))}},{key:"componentDidCatch",value:function(e){this.getShow(v.Router.getCurrentRoute())&&v.Router.setNext(v.Router.getPrevRoute()),C.warn(e)}},{key:"getShow",value:function(e){var t;return-1!==(0,o.default)(t=this.props.paths).call(t,e)}},{key:"getTransitionStylesProp",value:function(){return this.props.transition?_.default.getTransitionByName(this.props.transition):_.default.getEmptyTransition()}},{key:"getShouldAnimateProp",value:function(){return g.default.mobileOrTablet()?{mount:null,unmount:null}:{mount:this.props.withMountTransition,unmount:this.props.withUnmountTransition}}},{key:"getTransitionComponent",value:function(){return g.default.mobileOrTablet()?E.MobileTransition:!g.default.ieOrEdge()&&this.props.cheap?b.CheapTransition:y.Transition}},{key:"render",value:function(){var e=this.getTransitionComponent();return h.default.createElement(e,{id:this.props.id,show:this.getShow(v.Router.getCurrentRoute()),shouldAnimate:this.getShouldAnimateProp(),duration:this.props.duration||200,className:this.props.className,style:this.props.style,transitionStyles:this.getTransitionStylesProp(),transition:this.props.transition,fixed:this.props.fixed,onEnter:this.props.onEnter,onExit:this.props.onExit,onEntered:this.props.onEntered,onExited:this.props.onExited,parentState:this.props.parentState,name:this.props.name,shouldWait:this.props.shouldWait,isStatic:this.props.isStatic,waitBeforeUnmount:this.props.waitBeforeUnmount,debugCallback:this.props.debugCallback,animationEnd:this.props.animationEnd},this.props.children)}}],[{key:"getDerivedStateFromError",value:function(e){return{show:!1}}}]),a}(p.default);t.Path=T,T.propTypes={paths:m.default.arrayOf(m.default.string).isRequired,withMountTransition:m.default.bool,withUnmountTransition:m.default.bool,transition:m.default.string,fixed:m.default.bool,isStatic:m.default.bool,waitBeforeUnmount:m.default.number,name:m.default.string,duration:m.default.number,onEnter:m.default.func,onEntered:m.default.func,onExit:m.default.func,onExited:m.default.func,animationEnd:m.default.func,children:m.default.oneOfType([m.default.arrayOf(m.default.node),m.default.node,m.default.func]).isRequired,debugCallback:m.default.oneOfType([m.default.bool,m.default.func]),shouldWait:m.default.number,parentState:m.default.any,style:m.default.any}},27770:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.WidgetContainer=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(94198)),l=n(a(33032)),u=n(a(81643)),s=n(a(54103)),c=n(a(26394)),d=n(a(69198)),f=n(a(5824)),h=n(a(51379)),p=n(a(214)),m=n(a(66380)),g=n(a(59748)),v=n(a(60021)),_=n(a(62652)),y=n(a(62904)),b=n(a(36216)),E=a(81189),w=a(56602),C=a(99112),T=n(a(58061)),k=n(a(3367)),S=n(a(44992)),I=n(a(11247)),x=n(a(16040)),A=n(a(27365)),M=n(a(38514)),R=n(a(45808)),N=a(17674),O=a(37916),D=a(57539),L=a(85442),P=a(21224),j=n(a(62107)),B=a(24335),F=a(5505),H=n(a(6991));function W(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,m.default)(e);if(t){var o=(0,m.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,p.default)(this,a)}}var U=n(a(75043)).default.name("WidgetContainer"),z=[L.Route.CHAT,L.Route.CHAT_CALL,L.Route.CHAT_EULA,L.Route.CHAT_EVAL,L.Route.CHAT_INTRODUCE,L.Route.CHAT_SOCIAL,L.Route.CHAT_MIN,L.Route.DEPARTMENTS,L.Route.INTRODUCE,L.Route.CALL,L.Route.CALL_EULA,L.Route.DEPARTMENTS,L.Route.INTRODUCE,L.Route.MOBILEMENU,L.Route.DEBUG],G=[L.Route.CHAT,L.Route.CHAT_CALL,L.Route.CHAT_EULA,L.Route.CHAT_EVAL,L.Route.CHAT_INTRODUCE,L.Route.CHAT_SOCIAL,L.Route.CHAT_MIN,L.Route.DEPARTMENTS,L.Route.INTRODUCE,L.Route.DEBUG],V=[L.Route.CALL,L.Route.CALL_EULA],q=function(e){(0,h.default)(a,e);var t=W(a);function a(e){var n,i;return(0,c.default)(this,a),(i=t.call(this,e)).state={route:_.default.route,callStatus:b.default.cw_call.status},i.showAnimation=!0,i._container=null,i.resizeHandler=(0,s.default)(n=i.resizeHandler).call(n,(0,f.default)(i)),i}return(0,d.default)(a,[{key:"componentDidMount",value:function(){var e,t=this;T.default.desktop()&&S.default.initSoundPlayer(),(0,C.getScrollBarWidth)(),this.on(_.default,(function(){_.default.route!==t.state.route&&t.setState({route:_.default.route})})),this.on(b.default,(function(){b.default.cw_call.status!==t.state.callStatus&&t.setState({callStatus:b.default.cw_call.status})})),T.default.mobileOrTablet()||(0,w.addListener)((0,w.getPageWindow)(),"resize",j.default.throttle(this.resizeHandler,100)),N.Router.on("route_change",(0,s.default)(e=this.onRouteChange).call(e,this)),this.onRouteChange(N.Router.getCurrentRoute(),!0)}},{key:"onRouteChange",value:function(e,t){var a=this;U.log("onRouteChange",e,t);var n,i=N.Router.getPrevRoute(),o=!0;t?(0,w.isWixIframe)()&&(0,F._callUserFunction)("onChangeState",e):o=-1!==(0,u.default)(n=[L.Route.LABEL,L.Route.CHAT_MIN]).call(n,i);e!==L.Route.LABEL&&e!==L.Route.CHAT_CALL&&e!==L.Route.HIDDEN&&!N.Router.isMinRoute()&&o&&((0,l.default)((function(){(0,F._callUserFunction)("onOpen")}),60),U.log("start init Socials from wcont"),H.default.startSocials()),e===L.Route.CHAT_MIN&&this.toggleCustomLabel(!0),e===L.Route.INTRODUCE&&(0,l.default)((function(){a.resizeHandler()}),500)}},{key:"toggleCustomLabel",value:function(e){(0,l.default)((function(){var t=(0,w.getPageWindow)().jivo_cstm_widget;t&&!T.default.mobileOrTablet()&&(U.log("toggle custom label",e),t.style.display=e?"block":"none")}),60)}},{key:"resizeHandler",value:function(){if(!T.default.mobileOrTablet()&&this._container&&this._container.base&&this._container.base.getBoundingClientRect()&&!(0,w.isWixIframe)()&&N.Router.getCurrentRoute()!==L.Route.LABEL){var e=M.default.getPositionStyle(N.Router.getCurrentRoute()),t=this._container.base,a=t&&t.getBoundingClientRect()&&t.getBoundingClientRect().left;a&&a<=40&&(e.left="40px",e.right=""),t.offsetLeft+t.clientWidth>(0,w.getPageWindow)().document.body.clientWidth&&(e.left=M.default.getPosLeft(t),e.right="",E.positionDispatchers.setWidgetPositionLeft(e.left),E.positionDispatchers.setWidgetPositionRight("")),t.style.left=e.left,t.style.right=e.right,e.height&&(t.style.height=e.height),clearTimeout(this.to),this.to=(0,l.default)((function(){if("40px"===e.left&&"right"===M.default.getStyleKey()){var a=M.default.getPosRight(t);t.style.left="",(0,r.default)(a)<30&&(a="30px"),t.style.right=a,E.positionDispatchers.setWidgetPositionRight(a),E.positionDispatchers.setWidgetPositionLeft("")}}),50)}}},{key:"getRenderData",value:function(){var e=T.default.mobileOrTablet()?{display:"block"}:M.default.getPositionStyle(N.Router.getCurrentRoute()),t=!T.default.mobileOrTablet()&&N.Router.getCurrentRoute()===L.Route.CALL&&"cw_connected"===b.default.cw_call.status;return{styles:{main:[{main:!0,__mobile:T.default.mobile(),__tablet:T.default.tablet(),__hidden:N.Router.getCurrentRoute()===L.Route.HIDDEN,__auto:N.Router.getCurrentRoute()===L.Route.CHAT_MIN,__callMin:t},e]},style:k.default}}},{key:"getTransitionProp",value:function(){if(this.isAnimationDisabled())return null;switch(y.default.widget_orientation){case"bottom":return"Container";case"right":return"ContainerRight";case"left":return"ContainerLeft"}}},{key:"getIsStaticProp",value:function(){var e=N.Router.getCurrentRoute();return!T.default.mobileOrTablet()&&!1!==b.default.cw_call.status&&"cw_connected"===b.default.cw_call.status&&e===L.Route.CALL}},{key:"isAnimationDisabled",value:function(){return B.isDesignerEditor||(0,w.isCustomLabel)()||(0,w.isWixIframe)()||!N.Router.getPrevRoute()&&N.Router.isChatRoute()&&_.default.chat_started}},{key:"getWaitBeforeUnmountProp",value:function(){return this.isAnimationDisabled()||"right"===y.default.widget_orientation?0:300}},{key:"renderData",value:function(e,t){var a=this,n=O.CallbackUtils.isCallbackEnabled();return g.default.createElement(D.Path,(0,o.default)({},(0,C.addNoTranslateClass)(t.main),{id:"jcont",ref:function(e){a._container=e,R.default.set(P.Component.WIDGET_CONTAINER,e)},paths:z,withMountTransition:!this.isAnimationDisabled()||null,withUnmountTransition:!this.isAnimationDisabled()||null,transition:this.getTransitionProp(),fixed:!0,isStatic:this.getIsStaticProp(),waitBeforeUnmount:this.getWaitBeforeUnmountProp(),name:P.Component.WIDGET_CONTAINER,duration:this.isAnimationDisabled()?0:300,onEntered:function(){_.default.show_container=!0},onExited:function(){_.default.show_container=!1},animationEnd:function(e){return a.trigger("animationEnd",e)}}),(function(e){return g.default.createElement("jdiv",{className:k.default.contentWrapper},T.default.tablet()?null:g.default.createElement(A.default,{show:!0,container:a._container}),g.default.createElement(D.Path,{duration:300,paths:G,name:"ChatContainer",parentState:e},(function(e){return g.default.createElement(I.default,{canRenderCall:O.CallbackUtils.isCallbackEnabled(),parentState:e})})),n?g.default.createElement(D.Path,{paths:V,name:"CallContainer",parentState:e},(function(e){return g.default.createElement(x.default,{parentState:e,route:N.Router.getCurrentRoute()})})):null)}))}}]),a}(v.default);t.WidgetContainer=q},51017:function(e,t,a){"use strict";var n=a(87646),i=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a(87672)),r=i(a(81643)),l=i(a(18777)),u=n(a(59748)),s=a(26213),c=i(a(45697)),d=i(a(31722)),f=a(81189),h=a(42796),p=a(85442),m=a(21224),g=i(a(90362)),v=a(56602),_=i(a(58061)),y=a(17674),b=a(36143),E=i(a(45808)),w=a(37916),C=a(53278),T=i(a(47321)),k=a(5505),S=a(20965),I=(i(a(75043)).default.name("WidgetContainer2"),function(e){var t,a,n,i,s=e.callbackEnabled,c=e.route,I=e.position,x=e.padding,A=e.orientation,M=e.callbackStatus,R=e.isInDrag,N=(0,u.useState)(!1),O=(0,l.default)(N,2),D=O[0],L=O[1],P=(0,u.useState)(!0),j=(0,l.default)(P,2),B=j[0],F=j[1],H=(0,u.useState)(!0),W=(0,l.default)(H,2),U=W[0],z=W[1],G=E.default.get(m.Component.LABEL),V=w.CallbackUtils.isCallbackEnabled(),q=-1!==(0,r.default)(t=[p.Route.CALL,p.Route.CALL_EULA,p.Route.INTRODUCE]).call(t,c),K=c!==p.Route.CALL||-1===(0,r.default)(a=[S.CallStatus.WAIT,S.CallStatus.CONNECTING,S.CallStatus.CONNECTED]).call(a,M),Y=!_.default.mobileOrTablet()&&!(0,v.isWixIframe)()&&c!==p.Route.CHAT_MIN,Z=D&&Y;return c===p.Route.HIDDEN?null:u.default.createElement(d.default,{id:"jcont",name:m.Component.WIDGET_CONTAINER,startCallbacks:(n={},(0,o.default)(n,h.ScriptName.OPEN_WIDGET,(function(){R||(L(!1),F(!0),z(!1),T.default.initSocial(),(0,k._callUserFunction)("onOpen"))})),(0,o.default)(n,h.ScriptName.CLOSE_WIDGET,(function(){L(!1),F(!1),z(!1)})),(0,o.default)(n,h.ScriptName.MINIMIZE_WIDGET,(function(){L(!1),y.Router.next(p.RouterEvent.CloseWindow)})),n),endCallbacks:(i={},(0,o.default)(i,h.ScriptName.OPEN_WIDGET,(function(){R||(L(!0),z(!0))})),(0,o.default)(i,h.ScriptName.CLOSE_WIDGET,(function(){y.Router.next(p.RouterEvent.CloseWindow)})),(0,o.default)(i,h.ScriptName.MAXIMIZE_WIDGET,(function(){R||(L(!0),(0,k._callUserFunction)("onOpen"))})),i),customVars:(0,C.getCustomVars)(A,x,I,G,q),style:{position:"fixed",display:"block"},animationPostfix:(0,C.getAnimationPostfix)(A,x)},u.default.createElement(g.default,{needRenderCloseBtn:K,needRenderCallContainer:V,needRenderDrag:Z,showCloseButton:D,showHeaderText:B,showBody:U,callbackEnabled:s,route:c,onCloseButtonClick:function(){T.default.closeWidget(),b.RouterUtils.isChatMinAvailable()?f.transitionDispatchers.startTransition(h.ScriptName.MINIMIZE_WIDGET):M===S.CallStatus.CONNECTED?y.Router.next(p.RouterEvent.CloseWindow):f.transitionDispatchers.startTransition(h.ScriptName.CLOSE_WIDGET)},isStatic:q}))});I.propTypes={callbackEnabled:c.default.bool,route:c.default.string,position:c.default.any,padding:c.default.string,orientation:c.default.string,callbackStatus:c.default.oneOfType([c.default.string,c.default.bool]),isInDrag:c.default.bool};var x=(0,s.connect)((function(e){return{padding:e.settings.user.widgetPadding,orientation:e.settings.user.widgetOrientation,route:e.app.route,callbackEnabled:e.callback.available,position:e.position,callbackStatus:e.callback.status,isInDrag:e.app.isInDrag}}),{})(u.default.memo(I));t.default=x},53278:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.getCustomVars=t.getAnimationPostfix=t.getPosition=void 0;var i=n(a(63978)),o=n(a(20368)),r=n(a(39649)),l=n(a(78914)),u=n(a(34074)),s=n(a(20116)),c=n(a(14310)),d=n(a(86902)),f=n(a(87672)),h=a(56602),p=a(24335),m=a(10872),g=n(a(58061));function v(e,t){var a=(0,d.default)(e);if(c.default){var n=(0,c.default)(e);t&&(n=(0,s.default)(n).call(n,(function(t){return(0,u.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}var _=function(e,t,a,n,i){var o={},r=n&&n.offsetWidth,l=n&&n.offsetHeight;return"bottom"===e&&(o=y(t,r,l)),"left"===e&&(o=b(t,r,l)),"right"===e&&(o=E(t,r,l)),o=w(o,a),i&&(o.height="auto"),o.height||(o.height="496px"),o};t.getPosition=_;var y=function(e,t,a){var n={};return"100"===e&&(n.right="30px"),"50"===e&&(n.right="30px"),"0"===e&&(n.left="40px"),n},b=function(e,t,a){var n={left:"40px",bottom:t?g.default.ieOrEdge()?"32%":"calc(50% - ".concat(t/2,"px)"):"50%"};return"100"===e&&(n.bottom="20px"),n},E=function(e,t,a){var n="50"===e?"calc(50% - ".concat(t/2,"px)"):0;return{right:"39px",bottom:t?g.default.ieOrEdge()?"32%":n:"50%"}},w=function(e,t){var a=e;return t.right&&(a.right=t.right),t.height&&(a.height=t.height),t.left&&(a.left=t.left),a};t.getAnimationPostfix=function(e,t){return(0,h.isCustomLabel)()||p.isDesignerEditor?"custom":"bottom"===e&&"0"===t?"".concat(e,"_0"):e};t.getCustomVars=function(e,t,a,n,s){var c=function(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(a=v(Object(n),!0)).call(a,(function(t){(0,f.default)(e,t,n[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(n));else{var s;(0,l.default)(s=v(Object(n))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(n,t))}))}}return e}({labelwidth:n&&n.offsetWidth?"".concat(n.offsetWidth,"px"):null,labelright:n&&n.style&&n.style.right?n.style.right:null,labelleft:n&&n.style&&n.style.left?n.style.left:null},_(e,t,a,n,s));if(n&&!n.style){var d=(0,m.getSavedLabelPosition)();c.labelleft=d.left,c.labelright=d.right,c.labelwidth="".concat(d.offsetWidth,"px")}return c}},90362:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(59748)),o=n(a(45697)),r=n(a(44334)),l=n(a(5777)),u=n(a(9650)),s=n(a(34271)),c=n(a(99952)),d=a(85442),f=[d.Route.CHAT,d.Route.CHAT_CALL,d.Route.CHAT_EULA,d.Route.CHAT_EVAL,d.Route.CHAT_INTRODUCE,d.Route.CHAT_SOCIAL,d.Route.CHAT_MIN,d.Route.DEPARTMENTS,d.Route.INTRODUCE,d.Route.DEBUG],h=[d.Route.CALL,d.Route.CALL_EULA],p=function(e){var t=e.needRenderCloseBtn,a=e.needRenderCallContainer,n=e.needRenderDrag,o=e.showCloseButton,p=e.showHeaderText,m=e.showBody,g=e.callbackEnabled,v=e.route,_=e.onCloseButtonClick,y=e.isStatic;return i.default.createElement(i.default.Fragment,null,t?i.default.createElement(c.default,{drag:n,callEnabled:g,inCall:v===d.Route.CALL,show:o,onClick:_,ignoreDragHeight:y}):null,i.default.createElement("jdiv",{className:r.default.contentWrapper},i.default.createElement(l.default,{allowedRoutes:f,currentRoute:v,name:"ChatContainer"},i.default.createElement(u.default,{showHeaderText:p,showBody:m,canRenderCall:a})),a?i.default.createElement(l.default,{allowedRoutes:h,currentRoute:v,name:"CallContainer"},i.default.createElement(s.default,{route:v,showBody:m})):null))};p.propTypes={needRenderCloseBtn:o.default.bool.isRequired,needRenderCallContainer:o.default.bool.isRequired,needRenderDrag:o.default.bool.isRequired,showCloseButton:o.default.bool.isRequired,showHeaderText:o.default.bool.isRequired,showBody:o.default.bool.isRequired,callbackEnabled:o.default.bool.isRequired,route:o.default.string.isRequired,onCloseButtonClick:o.default.func.isRequired,isStatic:o.default.bool};var m=i.default.memo(p);t.default=m},91505:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(5872)),r=n(a(33032)),l=n(a(77766)),u=n(a(54103)),s=n(a(26394)),c=n(a(69198)),d=n(a(51379)),f=n(a(214)),h=n(a(66380)),p=n(a(59748)),m=n(a(60021)),g=n(a(62107)),v=n(a(58061)),_=n(a(46443)),y=a(56602),b=a(99112),E=n(a(68806)),w=a(17674),C=a(85442),T=n(a(75043)),k=n(a(89953)),S=a(33367),I=a(63242);function x(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,h.default)(e);if(t){var o=(0,h.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}var A=T.default.name("ZoomOverlay"),M=function(e){(0,d.default)(a,e);var t=x(a);function a(e){var n;(0,s.default)(this,a),n=t.call(this,e);var i=E.default.getAppZoom();return n.state={isShow:n.getIsShow(E.default.getUserZoom(),i),iconZoom:i,visualPos:null,view:!!window.visualViewport,showContainer:!0},n._iconWrap=null,n}return(0,c.default)(a,[{key:"isNotLabelRoute",value:function(){return w.Router.getCurrentRoute()!==C.Route.LABEL}},{key:"componentDidMount",value:function(){var e=this;E.default.listenChangeZoom((function(t){A.log("zoom changed"),e.updateZoom(t.appZoom,t.userZoom)})),w.Router.on("route_change",(function(){e.updateZoom(E.default.getAppZoom(),E.default.getUserZoom())}));var t=(0,y.getPageWindow)();if(t.visualViewport&&t.visualViewport.addEventListener){var a,n=g.default.throttle((0,u.default)(a=this.updateBox).call(a,this),150);t.visualViewport.addEventListener("scroll",n),t.visualViewport.addEventListener("resize",n)}this.updateBox()}},{key:"isVisible",value:function(){return this.state.isShow}},{key:"getIsShow",value:function(e,t){return(!v.default.ios()||!E.default.isWidgetOnWix)&&(e>1.03&&this.isNotLabelRoute())}},{key:"updateZoom",value:function(e,t){var a=this,n=this.getIsShow(t,e);v.default.safari()&&n&&E.default.bodyEl&&(E.default.bodyEl.scrollTop=0,E.default.bodyEl.scrollLeft=0),n===this.state.isShow||!this.isNotLabelRoute()||(S.Monitoring.telemetryOnce(n?I.TelemetryName.ZOOM_OVERLAY_SHOW:I.TelemetryName.ZOOM_OVERLAY_HIDE),n)?this.setState({iconZoom:e,isShow:n}):this.setState({iconZoom:e},g.default.debounce((function(){a.setState({isShow:!1})}),500))}},{key:"updateBox",value:function(){var e,t=(0,y.getPageWindow)().visualViewport;t&&this.setState({visualPos:{width:t.width,height:t.height,transform:(0,l.default)(e="translate(".concat(t.offsetLeft,"px, ")).call(e,t.offsetTop,"px)")}})}},{key:"getRenderData",value:function(){var e={zoom:this.state.iconZoom},t={};if(v.default.tablet()){var a=(0,b.getElementPosition)(this._iconWrap);a.left>0&&!v.default.ipad()&&(t.left=-(a.left-a.left*this.state.iconZoom)),a.top>0&&!v.default.ipad()&&(t.top=-(a.top-a.top*this.state.iconZoom))}return{data:{},styles:{wrap:[{wrap:!0,_tablet:v.default.tablet()},{display:this.state.isShow?null:"none"}],iconContainer:[{iconContainer:!0},{width:this.state.view?"100%":E.default.window.innerWidth,height:E.default.window.innerHeight,display:this.state.showContainer?"block":"none"}],iconWrap:[{iconWrap:!0},e],iconWrapContainer:[{iconWrapContainer:!0},t],viewWrap:[{viewWrap:!0},this.state.visualPos],box:[{box:!0},{zoom:this.state.iconZoom}],zoom:[{zoom:!0}]},style:k.default}}},{key:"hideIcons",value:function(){this.setState({showContainer:!1})}},{key:"showIcons",value:function(){var e=this;(0,r.default)((function(){e.setState({showContainer:!0})}),50)}},{key:"renderIcons",value:function(){return p.default.createElement("jdiv",null,p.default.createElement(_.default,{iconName:"hand",className:k.default.handIcon}),p.default.createElement(_.default,{iconName:"arrow",className:k.default.arrow1}),p.default.createElement(_.default,{iconName:"arrow2",className:k.default.arrow2}))}},{key:"renderData",value:function(e,t){var a,n,i,r,l=this;return p.default.createElement("jdiv",t.wrap,p.default.createElement("jdiv",(0,o.default)({},t.zoom,{onTouchStart:(0,u.default)(a=this.hideIcons).call(a,this),onTouchEnd:(0,u.default)(n=this.showIcons).call(n,this),onTouchCancel:(0,u.default)(i=this.showIcons).call(i,this),onTouchMove:(0,u.default)(r=this.hideIcons).call(r,this)})),p.default.createElement("jdiv",{className:k.default.substrate}),p.default.createElement("jdiv",t.iconContainer,!this.state.view&&p.default.createElement("jdiv",(0,o.default)({},t.iconWrap,{ref:function(e){l._iconWrap=e}}),p.default.createElement("jdiv",t.iconWrapContainer,this.renderIcons())),this.state.view&&p.default.createElement("jdiv",t.viewWrap,p.default.createElement("jdiv",t.box,this.renderIcons()))))}}]),a}(m.default);t.default=M},27371:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(77766)),o=n(a(26394)),r=n(a(69198)),l=n(a(82993)),u=a(84235),s=n(a(75043)).default.name("ABTesting"),c=new(function(){function e(){(0,o.default)(this,e),this.activeTest=null,this.storeName="abTests",this._initialize(),this._cleanUp()}return(0,r.default)(e,[{key:"testIsActive",value:function(e){return this.activeTest&&this.activeTest.name===e}},{key:"getActiveTest",value:function(){return this.activeTest?this.activeTest:null}},{key:"getGroup",value:function(e){return this.testIsActive(e)?this.activeTest.chosenGroup:null}},{key:"getNumberOfGroupsInTest",value:function(e){return this.testIsActive(e)?this.activeTest.numberOfGroups:null}},{key:"isInTestGroup",value:function(e,t){return this.getGroup(e)===t}},{key:"getActiveTestAsString",value:function(){var e;return this.activeTest?(0,i.default)(e="".concat(this.activeTest.name,",")).call(e,this.activeTest.chosenGroup):null}},{key:"getActiveTestName",value:function(){return this.activeTest?this.activeTest.name:null}},{key:"getActiveTestGroup",value:function(){return this.activeTest?this.activeTest.chosenGroup:null}},{key:"_initialize",value:function(){if(u.ACTIVE_TEST){var e=this._getSavedTestGroup(u.ACTIVE_TEST.name);this.activeTest={name:u.ACTIVE_TEST.name,numberOfGroups:u.ACTIVE_TEST.groups,chosenGroup:e||this._getRandomGroupNumber(u.ACTIVE_TEST.groups)},l.default.set(this.storeName,this.activeTest),s.log("Ab-testing is ebabled.","TestName: ".concat(this.getActiveTestName(),"."),"Group: ".concat(this.getActiveTestGroup(),"."))}}},{key:"_getRandomGroupNumber",value:function(e){return Math.floor(Math.random()*e)+1}},{key:"_getSavedTestGroup",value:function(e){var t=l.default.get(this.storeName);return t&&t.name===e?t.chosenGroup:null}},{key:"_cleanUp",value:function(){this.activeTest||l.default.removeKey(this.storeName)}}]),e}());t.default=c},3850:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.DataProvider=void 0;var i=n(a(54103)),o=n(a(26394)),r=n(a(69198)),l=a(96400),u=a(78618),s=n(a(35195)),c=a(22435),d=n(a(75043)).default.name("ApiInvitations.DataProvider"),f=function(){function e(t,a){var n;(0,o.default)(this,e),this.userToken=t,this.manager=a,this.timer=new c.Timer((0,i.default)(n=this.update).call(n,this)),this.store=new u.InvitationsStore({type:"default",name:"api_invites",itemClass:s.default,keys:{id:null,text:null,ruleName:null,read:null,isPopup:null,prechat:null}}),this.update()}return(0,r.default)(e,[{key:"update",value:function(){d.log("Update invitations"),this.getInvitationsFromApi();var e=Math.floor(120*Math.random()+90);this.timer.start(60*e*1e3)}},{key:"getInvitationsFromApi",value:function(){var e=this;d.log("Getting invitations from Api"),l.ApiProvider.getCustomerIoInvites(this.userToken,(function(t,a){!t&&a?a&&a.ok&&(e.store.save(a.invitations),d.log("Invitations are up to date"),e.manager.addInvitationsToChat()):d.error("Bad request",t&&t.code,t&&t.text)}))}},{key:"hasInvitations",value:function(){return this.store.length()||!1}},{key:"getInvitations",value:function(){return this.store.getAll()}},{key:"markInvitationsRead",value:function(){this.store.markInvitationsRead()}}]),e}();t.DataProvider=f},78618:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.InvitationsStore=void 0;var i=n(a(1068)),o=n(a(94473)),r=n(a(20116)),l=n(a(78914)),u=n(a(26394)),s=n(a(69198)),c=n(a(51379)),d=n(a(214)),f=n(a(66380)),h=n(a(47701)),p=a(33367),m=a(63242),g=n(a(36216));function v(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,d.default)(this,a)}}var _=n(a(75043)).default.name("ApiInvitations.InvitationsStore"),y=function(e){(0,c.default)(a,e);var t=v(a);function a(e){return(0,u.default)(this,a),t.call(this,e)}return(0,s.default)(a,[{key:"save",value:function(e){var t=this;_.log("Storing invitations",e),this.store.length?this.merge(e):(0,l.default)(e).call(e,(function(e){t.add(e)}))}},{key:"merge",value:function(e){var t=this;_.log("Merging invitations",e),this.deleteUnreads(),(0,l.default)(e).call(e,(function(e){t.findById(e.invitation_id)||t.add(e)}))}},{key:"deleteUnreads",value:function(){var e;_.log("Deleting unread invitations");var t=(0,r.default)(e=this.store).call(e,(function(e){return!e.get("read")}));(0,l.default)(t).call(t,(function(e){e.destroy()}))}},{key:"add",value:function(e){_.log("Adding invitation",e);var t=e.text,a=e.rule_name,n=e.invitation_id,i=e.is_popup,o=e.prechat;this.push({text:t,ruleName:a,id:n,read:!1,isPopup:i||null,prechat:o||null}),p.Monitoring.telemetry(m.TelemetryName.RECEIVE_API_INVITATION,{param1:a,param2:n,param3:g.default&&g.default.client_info&&g.default.client_info.email})}},{key:"findById",value:function(e){var t;return(0,o.default)(t=this.store).call(t,(function(t){return t.get("id")===e}))}},{key:"length",value:function(){return this.store.length}},{key:"markInvitationsRead",value:function(){var e,t=(0,r.default)(e=this.store).call(e,(function(e){return!e.get("read")}));(0,l.default)(t).call(t,(function(e){e.set("read",!0)}))}}]),a}(h.default);t.InvitationsStore=y},60906:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.ApiInvitationsManager=void 0;var i=n(a(63978)),o=n(a(20368)),r=n(a(39649)),l=n(a(34074)),u=n(a(20116)),s=n(a(14310)),c=n(a(86902)),d=n(a(2991)),f=n(a(51942)),h=n(a(78914)),p=n(a(87672)),m=n(a(26394)),g=n(a(69198)),v=a(3850),_=n(a(44992)),y=n(a(99357)),b=n(a(18750)),E=n(a(36216)),w=n(a(62652)),C=n(a(69961)),T=a(8565),k=a(5505),S=a(33367),I=a(63242),x=n(a(45808)),A=a(21224),M=a(81189),R=a(75245),N=n(a(62904)),O=a(17674),D=a(85442),L=a(23582),P=a(42796);function j(e,t){var a=(0,c.default)(e);if(s.default){var n=(0,s.default)(e);t&&(n=(0,u.default)(n).call(n,(function(t){return(0,l.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,h.default)(a=j(Object(n),!0)).call(a,(function(t){(0,p.default)(e,t,n[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(n));else{var u;(0,h.default)(u=j(Object(n))).call(u,(function(t){(0,i.default)(e,t,(0,l.default)(n,t))}))}}return e}var F=n(a(75043)).default.name("ApiInvitationsManager"),H=new(function(){function e(){var t;(0,m.default)(this,e),this.userToken=null,this.initialized=!1,this.dataProvider=null,this.needToSendTelemetry=(t={},(0,p.default)(t,I.TelemetryName.ANSWER_API_INVITATION,!0),(0,p.default)(t,I.TelemetryName.READ_API_INVITATION,!0),t),this.invitationsCount=0,this.needToOpenChat=!0,this.needToShowPopup=!1,this.needToShowPrechat=!1}return(0,g.default)(e,[{key:"initialize",value:function(e){this.initialized||(this.dataProvider=new v.DataProvider(e,this),this.userToken=e,this.initialized=!0)}},{key:"isInitialized",value:function(){return this.initialized}},{key:"hasInvitations",value:function(){return this.initialized&&this.dataProvider&&this.dataProvider.hasInvitations()}},{key:"saveUnreadInvitations",value:function(){if(this.initialized){var e=y.default.getUnreadApiInvitations();(0,h.default)(e).call(e,(function(e){delete e.get("body").unsave;var t=(0,f.default)({},e.toJSON());M.messagesDispatchers.addMessage(t),e.destroy()})),this.dataProvider.markInvitationsRead()}}},{key:"markInvitationsAnswered",value:function(){this.initialized&&(this.saveUnreadInvitations(),this._sendInvitationsTelemetry(I.TelemetryName.ANSWER_API_INVITATION))}},{key:"markInvitationsRead",value:function(){this.initialized&&(this.saveUnreadInvitations(),this._sendInvitationsTelemetry(I.TelemetryName.READ_API_INVITATION))}},{key:"_sendInvitationsTelemetry",value:function(e){if(this.initialized){var t=this.getCurrentInvitations();t&&this.needToSendTelemetry[e]&&((0,h.default)(t).call(t,(function(t){S.Monitoring.telemetry(e,{param1:t.get("ruleName"),param2:t.get("id"),param3:E.default&&E.default.client_info&&E.default.client_info.email})})),this.needToSendTelemetry[e]=!1)}}},{key:"addInvitationsToChat",value:function(){var e=this;if(this.initialized){F.log("addRulesToChat",this.store);var t,a,n=this.dataProvider.getInvitations();b.default.getActiveAgent((function(i){F.log("Active agent:",i),i&&((0,f.default)(C.default,i),i.bot_id||E.default.pa_id&&E.default.pa_id===i.agent_id||(E.default.pa_id=i.agent_id),M.chatsDispatchers.setJoinedAgents([i]));var o=y.default.getUnreadApiInvitations(),r=o.length;if((0,h.default)(o).call(o,(function(e){e.destroy()})),e.invitationsCount=0,(0,h.default)(n).call(n,(function(n){if(!n.get("read")&&!w.default.chat_started){var o=n.get("text");t=n.get("ruleName"),a=n.get("id");var r=i?B(B({},i),{},{customerIO:!0,unsave:!0,invitationId:n.get("id")}):{customerIO:!0,unsave:!0,invitationId:n.get("id")},l={type:T.MessageType.MESSAGE,from:T.MessageInitiator.AGENT,from_id:i&&i.agent_id,text:o,body:r};M.messagesDispatchers.addMessage(l),e.invitationsCount++,e.needToShowPopup=n.get("isPopup")||!1,e.needToShowPrechat=n.get("prechat")||!1}})),e.invitationsCount!==r){if(_.default.play("notification"),e.needToOpenChat&&e.needToShowPopup){if(L.FeatureManager.isEnabled(L.Feature.NEW_ANIMATION))O.Router.next(D.RouterEvent.ToLabelInvitation);else{var l=x.default.getComponent(A.Component.LABEL);l&&l.showInvitation()}S.Monitoring.telemetry(I.TelemetryName.API_INVITATION_OPEN_CHAT,{param1:t,param2:a,param3:E.default&&E.default.client_info&&E.default.client_info.email}),e.needToOpenChat=!1}else O.Router.next(D.RouterEvent.ToChat),L.FeatureManager.isEnabled(L.Feature.NEW_ANIMATION)&&M.transitionDispatchers.startTransition(P.ScriptName.OPEN_WIDGET),(0,k._callUserFunction)("onMessageReceived");e.needToShowPrechat&&e.needToShowPrechat.length&&(R.messageActions.deletePrechatMsg(),N.default.prechat=e._formatInvitationPrechats(e.needToShowPrechat),N.default.enable_prechat=1,R.messageActions.pushPrechat())}}))}}},{key:"_formatInvitationPrechats",value:function(e){return(0,d.default)(e).call(e,(function(e){return{text:e}}))}},{key:"getCurrentInvitations",value:function(){return this.initialized?this.dataProvider.getInvitations():null}}]),e}());t.ApiInvitationsManager=H},22435:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.Timer=void 0;var i=n(a(33032)),o=n(a(26394)),r=n(a(69198)),l=function(){function e(t){(0,o.default)(this,e),this.timerId=null,this.cb=t||null}return(0,r.default)(e,[{key:"setCallback",value:function(e){this.cb=e}},{key:"start",value:function(e){clearTimeout(this.timerId),this.timerId=(0,i.default)(this.cb,e)}},{key:"stop",value:function(){clearTimeout(this.timerId)}}]),e}();t.Timer=l},81574:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(33032)),o=n(a(54103)),r=n(a(26394)),l=n(a(69198)),u=n(a(59748)),s=n(a(59748)),c=n(a(92945)),d=a(56602),f=a(5505),h=n(a(62904)),p=n(a(62652)),m=a(21224),g=n(a(45808)),v=n(a(75043)),_=a(74525),y=n(a(47321)),b=n(a(43942)),E=a(93848),w=a(94990),C=n(a(14847)),T=a(94515),k=v.default.name("Jivo Widget"),S=null,I=function(){function e(){if((0,r.default)(this,e),S)return S;this.rootContainer=null,this.initialize(),this.sendInitialTelemetry(),S=this}return(0,l.default)(e,[{key:"initialize",value:function(){(0,_.initializePolyfills)(),this.initStories(),this.initClientData(),this.initManagers(),this.initIntegrations(),this.initPublicApi(),(0,_.subscribeToPageVisibilityChanges)()}},{key:"initClientData",value:function(){(0,_.generateVisitorId)(),(0,_.initializeSession)()}},{key:"initStories",value:function(){k.log("Initializing stories"),y.default.initializeReduxStores()}},{key:"initManagers",value:function(){k.log("Initializing managers"),(0,_.initializeLoaderContextManager)(),(0,_.initializeDebugDataCollector)(),(0,_.initializeMonitoring)(),(0,_.initializeWindowResizeManager)(),b.default.run(),(0,_.initializeDevTools)()}},{key:"initIntegrations",value:function(){k.log("Initializing integrations"),(0,_.initializeRecaptcha)(),(0,E.initCallTouch)(),(0,w.initVideoForce)(),(0,_.initializeCobrowse)(),(0,_.initializeAnalytics)(),y.default.requestCWAvailable()}},{key:"initPublicApi",value:function(){k.log("Initializing public api"),(0,_.exposeJivoVersion)(),(0,_.exposeApi)(),(0,C.default)()}},{key:"sendInitialTelemetry",value:function(){(0,_.sendLoadTimeTelemetry)(),(0,_.sendLoadedInIframeTelemetry)()}},{key:"start",value:function(){k.warn("start"),(0,d.isAppCobrowse)()||((0,_.resetAgents)(),this.render(),p.default.started=!0,(0,_.initializeRuleManager)(),(0,_.sendBundleLoadedTelemetry)())}},{key:"stop",value:function(){k.warn("stop"),(0,_.stop)()}},{key:"render",value:function(){var e;if(k.log("Rendering"),(0,f._callUserFunction)("onInitCallback"),T.EnvironmentManager.isDevelopment()){a(14369),a(67665);var t=a(6400),n=t.options,i=t.Fragment,r=t.Component;window.parent.__PREACT_DEVTOOLS__&&window.parent.__PREACT_DEVTOOLS__.attachPreact("10.5.5",n,{Fragment:i,PreactComponent:r})}var l=(0,d.getPageWindow)(),v=l.document.body;this.rootContainer=l.document.createElement("jdiv"),(0,d.addListener)(l,"jBeforeunload",(0,o.default)(e=this.unmount).call(e,this)),v.appendChild(this.rootContainer),!(0===p.default.is_online&&1===h.default.hide_offline&&!p.default.chat_started)&&s.default.render(u.default.createElement(c.default,{ref:function(e){g.default.set(m.Component.ROOT_COMPONENT,e)}}),this.rootContainer),(0,_.initializeSoundManager)(),(0,f._callUserFunction)("onLoadCallback")}},{key:"unmount",value:function(){var e;k.log("Unmounting");var t=(0,d.getPageWindow)(),a=t.document.body;u.default.unmountComponentAtNode(this.rootContainer),a.removeChild(this.rootContainer),(0,d.removeEvent)(t,"jBeforeunload",(0,o.default)(e=this.unmount).call(e,this)),(0,i.default)((function(){(0,f._callUserFunction)("onWidgetDestroy")}),0)}}],[{key:"getInstance",value:function(){return S}}]),e}();t.default=I},74525:function(e,t,a){"use strict";var n=a(87646),i=a(60530);a(63978)(t,"__esModule",{value:!0}),t.stop=t.initializeDevTools=t.initializeSession=t.initializeCobrowse=t.initializePolyfills=t.initializeMonitoring=t.initializeWindowResizeManager=t.initializeRecaptcha=t.initializeLoaderContextManager=t.initializeAnalytics=t.initializeRuleManager=t.initializeSoundManager=t.initializeDebugDataCollector=t.sendLoadTimeTelemetry=t.sendLoadedInIframeTelemetry=t.sendBundleLoadedTelemetry=t.generateVisitorId=t.subscribeToPageVisibilityChanges=t.exposeApi=t.exposeJivoVersion=t.resetAgents=void 0;var o=i(a(94198)),r=i(a(33032)),l=a(94515),u=i(a(20097)),s=i(a(18228)),c=a(33367),d=a(63242),f=i(a(77922)),h=n(a(56602)),p=i(a(69961)),m=a(81189),g=i(a(82993)),v=i(a(18750)),_=i(a(68806)),y=i(a(51362)),b=i(a(27371)),E=a(60906),w=a(75245),C=a(75737),T=i(a(45808)),k=i(a(6991)),S=i(a(9805)),I=i(a(5972)),x=i(a(93268)),A=i(a(47321)),M=i(a(62652)),R=i(a(36216)),N=i(a(8282)),O=a(43472),D=i(a(58061)),L=i(a(40695)),P=i(a(99357)),j=i(a(35067)),B=a(17674),F=a(85442),H=a(23582),W=i(a(44992)),U=i(a(67966)),z=i(a(62904)),G=i(a(44299)),V=i(a(13106)),q=i(a(82207)),K=i(a(5505)),Y=i(a(23586)),Z=i(a(88561)),J=i(a(41829)),X=i(a(27968)),$=i(a(75043)).default.name("Jivo Widget Utils");t.resetAgents=function(){$.log("resetting agents"),M.default.chat_started||m.chatsDispatchers.setNoJoinedAgents()};t.exposeJivoVersion=function(){$.log("exposeJivoVersion"),(0,h.getPageWindow)().jivo_version=l.EnvironmentManager.getVersion()};t.exposeApi=function(){$.log("exposeApi"),(0,h.getPageWindow)().jivo_api=K.default};t.subscribeToPageVisibilityChanges=function(){$.log("subscribeToPageVisibilityChanges"),Z.default.subscribe((function(e){e&&J.default.stopBlinking(),s.default.ifNeedConnect()||(0,h.isAppCobrowse)()||(A.default.reloadStories(),A.default.initializeReduxStores())}))};t.generateVisitorId=function(){R.default.visitorId||(R.default.visitorId=(0,h.generateGUIDCount)(4),$.log("New visitor id:",R.default.visitorId)),$.log("Visitor id already exists:",R.default.visitorId)};t.sendBundleLoadedTelemetry=function(){$.log("sendBundleLoadedTelemetry"),(0,r.default)((function(){c.Monitoring.telemetryWithProbability(d.TelemetryName.BUNDLE_LOADED,{param1:l.EnvironmentManager.getVersion(),param2:u.default.getInstance().store.isNewCode?"newCode":"oldCode"},15)}),1e3)};t.sendLoadedInIframeTelemetry=function(){$.log("sendLoadedInIframeTelemetry"),window.parent.window!=window.top&&M.default.route!==F.Route.HIDDEN&&c.Monitoring.telemetryWithProbability(d.TelemetryName.IN_IFRAME_STARTED,{},10)};t.sendLoadTimeTelemetry=function(){$.log("sendLoadTimeTelemetry");var e=u.default.getInstance();if(e&&D.default.supportsLocalStorage()){var t=e.store.loadTime;t&&(c.Monitoring.telemetry(d.TelemetryName.CDN_LOAD_TIME,{param1:(0,o.default)(t)}),e.setInStore("loadTime",null))}};t.initializeDebugDataCollector=function(){$.log("initializeDebugDataCollector"),new S.default(M.default,z.default,R.default,U.default,p.default,O.reduxStore,P.default)};t.initializeSoundManager=function(){H.FeatureManager.isEnabled(H.Feature.NEW_ANIMATION)&&($.log("initializeSoundManager"),W.default.initSoundPlayer())};t.initializeRuleManager=function(){(0,h.isPaidCustomer)()?(G.default.init(),$.log("initializeRuleManager success")):$.log("initializeRuleManager failure")};t.initializeAnalytics=function(){(0,h.isPaidCustomer)()?($.log("initializeAnalytics success"),L.default.init()):$.log("initializeAnalytics failure")};t.initializeLoaderContextManager=function(){$.log("initializeLoaderContextManager"),new u.default(z.default.widget_id,M.default)};t.initializeRecaptcha=function(){H.FeatureManager.isEnabled(H.Feature.RECAPTCHA)&&($.log("initializeRecaptcha"),new V.default(z.default.recaptcha).addRecaptchaToPage(z.default.recaptcha))};t.initializeWindowResizeManager=function(){H.FeatureManager.isEnabled(H.Feature.NEW_ANIMATION)&&($.log("initializeWindowResizeManager"),new q.default)};t.initializeMonitoring=function(){$.log("initializeMonitoring"),c.Monitoring.init()};t.initializePolyfills=function(){$.log("initializePolyfills"),Y.default.init()};t.initializeCobrowse=function(){(0,h.getPageWindow)()==window.top||(0,h.isWixIframe)()||($.log("initializeCobrowse"),X.default.init());var e=(0,h.getPageWindow)().location.hash.split("jvhs_")[1];void 0!==e&&X.default.getCobrowseData(e)};t.initializeSession=function(){if($.log("initializeSession"),!I.default.get("enter_ts")){I.default.set("enter_ts",(new Date).getTime());var e=x.default.get("visits_count");x.default.set("visits_count",e?e+1:1,31556952),y.default.setUTM((0,h.getPageWindow)().location.href,(0,h.getPageWindow)().document.referrer)}R.default.jv_sess_id||j.default.push({url:(0,h.getCurrentPage)().url,title:(0,h.getCurrentPage)().title})};t.initializeDevTools=function(){$.log("initializeDevTools");var e=new f.default(g.default,I.default,x.default,A.default,s.default,R.default,p.default,N.default,M.default,O.reduxStore,P.default,U.default,_.default,h.default,y.default,j.default,k.default,B.Router,W.default,v.default,T.default,b.default,D.default,S.default.getInstance(),c.Monitoring,E.ApiInvitationsManager,L.default,w.messageActions,m.positionDispatchers,C.ConfigUtils,m.transitionDispatchers,m.callbackDispatchers,m.appDispatchers,m.clientDispatchers,m.featuresDispatchers,H.FeatureManager,l.EnvironmentManager);l.EnvironmentManager.isProduction()||l.EnvironmentManager.isPartnerApp()||e.installOnPage()};t.stop=function(){A.default.hideWidget()}},54417:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(26394)),o=n(a(69198)),r=function(){function e(t,a){(0,i.default)(this,e),this.doc=t,this.cssURL=a,this.loaded=!1,this.failed=!1,this.loadCss()}return(0,o.default)(e,[{key:"loadCss",value:function(){var e=this,t=this.doc.head||this.doc.getElementsByTagName("head")[0],a=this.doc.createElement("link");a.rel="stylesheet",a.href=this.cssURL,window.parent.jivo_cspNonce&&(a.setAttribute("nonce",window.jivo_cspNonce),delete window.parent.jivo_cspNonce),a.addEventListener("load",(function(t){e.loaded=!0,e.onLoadCallback&&e.onLoadCallback()})),a.addEventListener("error",(function(t){e.failed=!0,e.onFailedCallback&&e.onFailedCallback()})),t.appendChild(a)}},{key:"setOnLoadedCallback",value:function(e){this.loaded?e&&e():this.onLoadCallback=e}},{key:"setOnFailedCallback",value:function(e){this.failed?e&&e():this.onFailedCallback=e}},{key:"subscribe",value:function(e,t){this.setOnLoadedCallback(e),this.setOnFailedCallback(t)}}]),e}();t.default=r},51139:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.telephonyUrl=M,t.callWidgetPing=function(e,t){if((0,T.isEmpty)(g.default.callback_settings)||(0,T.isAppCobrowse)()||w.isDesignerEditor)return void A.log("callback disabled");if(g.default.botmode)return;var a=k.default.get("callback_ping_response");if(a)e(a);else{var n=t&&y.default.client_id?y.default.client_id.split(".")[0]:"0";C.default.get({url:M("/sites/"+g.default.site_id+"/widgets/"+g.default.widget_id+"/clients/"+n+"/telephony/callback")},(function(t,a){var n=a;n||(n={ok:!1});var i,o=n.work_time;o?("cw_connected"!==y.default.cw_call.status&&(0,E.onDelayedCallAvailable)(o),n.ok=!0):n.ok&&(0,E.resetDelayedCallStatus)(),i=n.ok||n.error_list&&"time_not_in_range"===n.error_list[0]?60:20,k.default.set("callback_ping_response",n,i),e(n)}))}},t.checkStartCall=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0,n=y.default.client_id.split(".")[0],i={phone:e,invitation_text:t};C.default.post({url:M("/sites/"+g.default.site_id+"/widgets/"+g.default.widget_id+"/clients/"+n+"/telephony/callback"),headers:{"Content-Type":"application/x-www-form-urlencoded"},params:x({},i)},a)},t.detectPriorityCountry=R,t.getPhoneInfo=N,t.getPhoneNumberInfo=O,t.checkPhoneLength=function(e,t,a){var n,i=e.length,o=t.length;return(0,m.default)(n=["BR","BG","MX","DE","AT","KH","CH"]).call(n,a)>=0?i>=o-1&&i<=o+1:i===o},t.getMaskedValue=D,t.getMaskedPhone=function(e){if(!e)return e;var t=O(e);if(!t)return e;return"+"+t.phoneCode+" "+D(t.innerNumber,t.phoneFormat)},t.getTextSeconds=L,t.getCallText=function(e,t){var a,n;return e?(0,b.default)("callback_delayed_button_submit"):(0,f.default)(a=(0,f.default)(n="".concat((0,b.default)("cw_callAfter")," ")).call(n,t," ")).call(a,L(t),"!")};var i=n(a(63978)),o=n(a(20368)),r=n(a(39649)),l=n(a(78914)),u=n(a(34074)),s=n(a(20116)),c=n(a(14310)),d=n(a(86902)),f=n(a(77766)),h=n(a(3649)),p=n(a(87672)),m=n(a(81643)),g=n(a(62904)),v=n(a(62107)),_=n(a(18389)),y=n(a(36216)),b=n(a(75119)),E=a(93298),w=a(24335),C=n(a(49043)),T=a(56602),k=n(a(93268)),S=a(94515);function I(e,t){var a=(0,d.default)(e);if(c.default){var n=(0,c.default)(e);t&&(n=(0,s.default)(n).call(n,(function(t){return(0,u.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(a=I(Object(n),!0)).call(a,(function(t){(0,p.default)(e,t,n[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(n));else{var s;(0,l.default)(s=I(Object(n))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(n,t))}))}}return e}var A=n(a(75043)).default.name("CallUtils","color: grey");function M(e){var t,a=(0,T.getProtocol)();return S.EnvironmentManager.isProduction()&&(a="https:"),g.default.tel_host?a+"//"+g.default.tel_host+"/api/1"+e:a+"//telephony"+g.default.base_url.substr((0,m.default)(t=g.default.base_url).call(t,"."))+"/api/1"+e}function R(e){if(A.log("detectPriorityCountry",e),!e)return null;var t={UA:{codes:["38"]},KZ:{codes:["77"]},RU:{codes:["79"]},CA:{codes:["1204","1226","1236","1249","1250","1289","1306","1343","1365","1403","1416","1418","1431","1437","1438","1450","1506","1514","1519","1548","1579","1581","1587","1600","1604","1613","1639","1647","1705","1709","1778","1780","1782","1807","1819","1825","1867","1873","1902","1905"]},DO:{codes:["1809"]},PR:{codes:["1787","1939"]}};for(var a in t)if({}.hasOwnProperty.call(t,a)){var n,i=t[a],o=e.substr(0,i.codes[0].length);if((0,m.default)(n=i.codes).call(n,o)>=0)return A.log("codeFound",a),{code:a}}return null}function N(e,t){var a="+"===t[0]?e.phone_code.length+1:e.phone_code.length,n=(0,h.default)(t).call(t,a);return{countryCode:e.code,countryName:e.name,phoneCode:e.phone_code,phoneFormat:e.phone_format,innerNumber:n,number:t}}function O(e){A.log("getPhoneNumberInfo",e);var t,a=e.replace(/\D+/g,""),n=g.default.callback_settings.countries,i="",o="";if(g.default.geoip&&(o=g.default.geoip.split(";")[0]),a.length<9||a.length>15)return null;for(var r=0;r<a.length;r++)if(!t)if(i=(0,h.default)(a).call(a,0,r+1),(t=v.default.where(n,{phone_code:i.toString()})).length>0){var l=R(a);if(l)t=v.default.where(t,{code:l.code});else{var u=v.default.where(t,{code:o});u.length&&(t=u)}}else t=null;return t||(t=v.default.findWhere(n,{code:o}))&&"RU"==o&&(13==a.length&&(a=a.replace("8","+7")),10==a.length&&(a="+7"+a)),t&&t.length?N(t=t[0],a):null}function D(e,t){return _.default.toPattern(e,t)}function L(e){return[(0,b.default)("cw_form_second"),(0,b.default)("cw_form_seconds"),(0,b.default)("cw_form_secondd")][e%100>4&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]]}},37916:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.CallbackUtils=void 0;var i=n(a(26394)),o=n(a(69198)),r=n(a(62904)),l=n(a(36216)),u=new(function(){function e(){(0,i.default)(this,e),this.callSettings=r.default.callback_settings}return(0,o.default)(e,[{key:"isCallActive",value:function(){switch(l.default.cw_call.status){case"cw_wait":case"cw_connecting":case"cw_connected":return!0;default:return!1}}},{key:"isCallbackEnabled",value:function(){return!!(l.default.cw_call_enabled&&this.callSettings.time&&this.callSettings.countries&&this.callSettings.countries.length)||this.isCallActive()}}]),e}());t.CallbackUtils=u},63465:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.isOfflineCanSend=function(){return!o.default.is_online&&u.default.getClientMessages().length&&!r.default.is_introduced},t.isValidEmail=function(){return r.default.client_info&&r.default.client_info.email&&l.default.email(r.default.client_info.email)},t.getLastMessageHeight=function(e){var t=e.querySelectorAll("."+h.default.text);if(t.length){var a=t[t.length-1].clientHeight;return a?a+c.HEADER_HEIGHT+10:0}return 0},t.getThemeColor=function(e){switch(e){case"grey":return"#445669";case"blue":return"#0b82f7";default:return"#18c139"}},t.isProactivePrechat=function(){var e=u.default.getLastMessage();return s.default.get("text")&&u.default.getMessagesByType(d.MessageType.PRECHAT)&&e&&e.get("type")==d.MessageType.PRECHAT},t.isLastAgentMessage=function(){var e,t=u.default.getLastMessage();return!!t&&(t.isAgentMessage()&&-1==(0,i.default)(e=[d.MessageType.FORM,d.MessageType.PREFORM]).call(e,t.get("type")))},t.getLastAgent=function(){var e=u.default.getLastMessage();if(!e||e.get("from")!==d.MessageInitiator.AGENT&&"bot"!==e.get("from")||e.get("type")!==d.MessageType.MESSAGE)return!1;var t=e.get("from_id"),a=f.default.getAgentById(t);return"bot"===e.get("from")&&(a=f.default.getBotById(t)),!!a&&a.toJSON()};var i=n(a(81643)),o=n(a(62652)),r=n(a(36216)),l=n(a(94686)),u=n(a(99357)),s=n(a(67966)),c=a(57018),d=a(8565),f=n(a(8282)),h=n(a(95705));n(a(75043)).default.name("ChatUtils")},75737:function(e,t,a){"use strict";var n=a(87646),i=a(60530);a(63978)(t,"__esModule",{value:!0}),t.ConfigUtils=void 0;var o=i(a(77766)),r=i(a(26394)),l=i(a(69198)),u=i(a(49043)),s=n(a(62904)),c=a(56602),d=a(33367),f=a(63242),h=a(94515),p=i(a(75043)).default.name("ConfigUtils"),m=new(function(){function e(){(0,r.default)(this,e),this.loadCount=0}return(0,l.default)(e,[{key:"reloadConfig",value:function(e){var t,a,n=this;if(this.loadCount>5)return d.Monitoring.telemetryOnce(f.TelemetryName.CONFIG_LIMIT),void p.error("Reload config limit is reached!");var i=(0,o.default)(t=(0,o.default)(a="".concat((0,c.getProtocol)())).call(a,s.default.base_url,"/script/widget/config/")).call(t,s.default.widget_id);h.EnvironmentManager.isDevelopment()&&(i="/config.json"),p.log("Reloading config from",i,this.loadCount),window.parent.__jivoConfigOnLoad=function(t){!t.isDeleted&&t?((0,s.getViHost)()===t.vi_host&&(0,s.getCometHost)()===t.comet.host||(p.log("initConfig new config",t.vi_host),(0,s.initConfig)(t),e(t)),p.log("jivoConfigOnLoad from reloadConfig")):p.log("Reload on deleted config",t)},u.default.get({url:i+"?rnd="+Math.random()},(function(e,t){if(e)p.log("Load config error",e);else try{t&&(p.log("Config is loaded",t),n.loadCount++,window.parent.__jivoConfigOnLoad(t))}catch(e){p.log("Config parse error",t,e)}}))}}]),e}());t.ConfigUtils=m},14282:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(78914)),o=n(a(77766)),r=n(a(59036)),l=n(a(20116)),u=n(a(94473)),s=n(a(26394)),c=n(a(69198)),d=a(33367),f=a(63242),h=(n(a(99357)),n(a(75043)).default.name("MessageBuffer")),p=function(){function e(t){(0,s.default)(this,e),this.connection=t,this.messages=[]}return(0,c.default)(e,[{key:"push",value:function(e){h.log("push",e),this.messages.push(e)}},{key:"flush",value:function(){var e,t,a=this;h.log("flush",this.messages),this.messages.length>0&&d.Monitoring.telemetry(f.TelemetryName.CLIENT_MESSAGE_FLUSH_BUFFER);var n=(0,u.default)(e=this.messages).call(e,(function(e){return"start_chat"===e.name}));if(n){var s,c,p=(0,l.default)(s=this.messages).call(s,(function(e){return"start_chat"!==e.name}));this.messages=(0,o.default)(c=[n]).call(c,(0,r.default)(p))}(0,i.default)(t=this.messages).call(t,(function(e){return a.connection._sendSocketEvent(e)})),this.messages=[]}},{key:"hasMessage",value:function(e){var t;return(0,u.default)(t=this.messages).call(t,(function(t){return t.private_id===e}))}},{key:"validate",value:function(e){var t=this;h.log("validate",e),e.length&&(0,i.default)(e).call(e,(function(e){t.hasMessage(e.private_id)&&t.deleteMessage(e.private_id)}))}},{key:"deleteMessage",value:function(e){var t;h.log("deleteMessage",e),this.messages=(0,l.default)(t=this.messages).call(t,(function(t){return t.private_id!==e}))}},{key:"clear",value:function(){h.log("clear"),this.messages=[]}}]),e}();t.default=p},9805:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(59340)),o=n(a(77766)),r=n(a(26394)),l=n(a(69198)),u=a(84761),s=a(18547),c=a(56602),d=a(33367),f=a(63242),h=a(94515),p=(n(a(75043)).default.name("DebugDataCollector"),null),m=function(){function e(t,a,n,i,o,l,c){(0,r.default)(this,e),this.webSocketEventsStore=null,this.viSocketEventsStore=null,this.exceptionsStore=null,this.initialized=!1,this.messagesFormatter=new s.MessagesFormatter(c),this.appStore=t,this.widgetConfig=a,this.clientStore=n,this.proactiveStore=i,this.agentStore=o,this.reduxStore=l,this.webSocketEventsStore=new u.EventStore,this.viSocketEventsStore=new u.EventStore,this.exceptionsStore=new u.EventStore,this.actionsStore=new u.EventStore,this.initialized=!0,p=this}return(0,l.default)(e,[{key:"isInitialized",value:function(){return this.initialized}},{key:"saveSocketEvent",value:function(e){this.webSocketEventsStore.save(e)}},{key:"saveViEvent",value:function(e){this.viSocketEventsStore.save(e)}},{key:"saveException",value:function(e){this.exceptionsStore.save(e)}},{key:"saveReduxAction",value:function(e){this.actionsStore.save(e)}},{key:"pageHasErrors",value:function(){return this.exceptionsStore.length()>0}},{key:"getMessagesAsHTML",value:function(){try{var e,t=this.messagesFormatter.toHTML(),a=new Blob([t],{type:"text/html"});return{url:window.parent.URL.createObjectURL(a),fileName:(0,o.default)(e="".concat((new Date).toISOString(),"_")).call(e,(0,c.getPageWindow)().location.host,"_chat_log.html")}}catch(e){return d.Monitoring.telemetryOnce(f.TelemetryName.ERROR_DOWNLOADING_CHAT_LOG,{param1:e.message}),{url:null,fileName:null}}}},{key:"exportData",value:function(){return(0,i.default)({agentStore:this.agentStore,appStore:this.appStore,clientStore:this.clientStore,config:this.widgetConfig,exceptionsStore:this.exceptionsStore.getAll(),messagesStore:this.messagesFormatter.toDebugLog(),proactiveStore:this.proactiveStore,reduxStore:this.reduxStore.getState(),userAgent:navigator.userAgent,version:h.EnvironmentManager.getVersion(),visitorsInsightEventsStore:this.viSocketEventsStore.getAll(),webSocketEventsStore:this.webSocketEventsStore.getAll(),actionsStore:this.actionsStore.getAll()})}}],[{key:"getInstance",value:function(){return p}}]),e}();t.default=m},84761:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.EventStore=void 0;var i=n(a(26394)),o=n(a(69198)),r=function(){function e(){(0,i.default)(this,e),this.events=[]}return(0,o.default)(e,[{key:"save",value:function(e){this.events.push(e)}},{key:"getAll",value:function(){return this.events||null}},{key:"length",value:function(){return this.events.length}}]),e}();t.EventStore=r},18547:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.MessagesFormatter=void 0;var i=n(a(77766)),o=n(a(78914)),r=n(a(26394)),l=n(a(69198)),u=n(a(8282)),s=n(a(75043)),c=a(56602),d=a(74721),f=s.default.name("MessagesFormatter"),h=function(){function e(t){(0,r.default)(this,e),this.messagesStore=t}return(0,l.default)(e,[{key:"toTxt",value:function(){f.log("toTxt")}},{key:"toHTML",value:function(){var e,t;f.log("toHTML");var a="",n=this.messagesStore.store;return(0,o.default)(n).call(n,(function(e){var t,n,o,r,l,s=e.store;if("client"===s.from)l="you";else{if("agent"!==s.from&&"bot"!==s.from)return;var c,f=s.from_id&&u.default.getAgentById(s.from_id);"bot"===s.from&&(f=s.from_id&&u.default.getBotById(s.from_id)),l=f?(0,i.default)(c="".concat(f.store.display_name," (")).call(c,f.store.title,")"):"agent"}var h=s.text;if(h&&"form"!==s.type&&"botsystem"!==s.type){if("media"===s.type&&s.body&&s.body.file_url){var p,m=s.body.name||s.body.file_name,g=s.body.file_url||s.body.file;h=(0,i.default)(p='<a target="_blank" rel="nofollow noopener" href="'.concat(encodeURI(g),'">')).call(p,m,"</a>")}var v=new Date(s.created_ts),_=v.toLocaleDateString(),y=v.toLocaleTimeString();a+=(0,i.default)(t=(0,i.default)(n=(0,i.default)(o=(0,i.default)(r='<div class="message '.concat(s.from,'MessageWrap">\n                <span class="messageInfo">')).call(r,_," ")).call(o,y,", ")).call(n,l,"</span>\n                <br>\n                <span>")).call(t,h?(0,d.escapeHTMLString)(h):"","</span>\n            </div>\n            <br>")}})),(0,i.default)(e=(0,i.default)(t='<!DOCTYPE html>\n        <html lang="en">\n        <head>\n            <meta charset="UTF-8">\n            <meta name="viewport" content="width=device-width, initial-scale=1.0">\n            <meta http-equiv="X-UA-Compatible" content="ie=edge">\n            <title>Chat log from '.concat((0,c.getPageWindow)().location.host,"</title>\n            <style>\n                h1 {\n                    display: block;\n                    margin: 15px auto;\n                    text-align: center;\n                    width: 600px;\n                }\n                .wrap {\n                    display: flex;\n                    flex-direction: column;\n                    width: 600px;\n                    margin: 0 auto;\n                }\n                .message {\n                    display: block;\n                    max-width: 100%;\n                    min-width: 40px;\n                    margin-bottom: 2px;\n                    overflow: hidden;\n                    word-wrap: break-word;\n                    text-indent: 0;\n                    user-select: text;\n                    border-radius: 5px;\n                }\n                .message a {\n                    color: inherit;\n                }\n                .messageInfo {\n                    opacity: 0.7;\n                }\n                .clientMessageWrap {\n                    background-color: #18c139;\n                    color: white;\n                    padding: 12px 16px 12px 16px;\n                    max-width: 70%;\n                    overflow: hidden;\n                    word-wrap: break-word;\n                    line-height: @mainLine;\n                    text-indent: 0;\n                    user-select: text;\n                    box-sizing: border-box;\n                    margin: 0 0 0 auto;\n                }\n                .agentMessageWrap,\n                .botMessageWrap {\n                    background-color: #f1f0f0;\n                    color: #222d38;\n                    padding: 12px 16px 12px 16px;\n                    max-width: 70%;\n                    overflow: hidden;\n                    word-wrap: break-word;\n                    line-height: @mainLine;\n                    text-indent: 0;\n                    user-select: text;\n                    box-sizing: border-box;\n                    margin: 0 auto 0 0;\n                }\n                .printButton {\n                    position: fixed;\n                    top: 13px;\n                    right: 30px;\n                    background-color: #18c139;\n                    color: white;\n                    width: 80px;\n                    height: 40px;\n                    border-radius: 5px;\n                    font-size: 20px;\n                    box-shadow: none;\n                }\n                .printButton:hover {\n                    background-color: #12a730;\n                }\n                @media print {\n                    .printButton {\n                        display: none;\n                    }\n                }\n            </style>\n        </head>\n        <body>\n            <h1>Chat log from ")).call(t,(0,c.getPageWindow)().location.host,'</h1>\n            <button class="printButton" onclick="window.print()">Print</button>\n            <div class="wrap">\n                ')).call(e,a,"\n            </div>\n        </body>\n        </html>")}},{key:"toDebugLog",value:function(){return f.log("toDebugLog"),this.messagesStore.store}}]),e}();t.MessagesFormatter=h},93298:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.onDelayedCallAvailable=P,t.resetDelayedCallStatus=function(){E.default.cw_call_delayed_tz=null,E.default.cw_call_delayed_periods=[],T.callbackDispatchers.setCallbackIsDelayed(null),T.callbackDispatchers.setDelayedCallbackStatus(null)},t.requestDelayedCall=function(e){var t,a,n=e.dateTime,i=e.phone,o=i.replace(/( |\-)/gi,"").replace(/\D+/g,""),r=B(n),l=r.date,u=r.time,s=E.default.client_id?E.default.client_id.split(".")[0]:"0",c=(0,y.default)(t=(0,y.default)(a="/sites/".concat(w.default.site_id,"/widgets/")).call(a,w.default.widget_id,"/clients/")).call(t,s,"/telephony/callback/delayed"),d={phone:o,callback_date:l,callback_time:u};E.default.cw_call_delayed_status=D.wait,E.default.client_info.phone="+".concat(o);var f={url:(0,k.telephonyUrl)(c),headers:{"Content-Type":"application/x-www-form-urlencoded"},params:N({},d)};S.default.post(f,(function(e,t){if(!t)return A.Monitoring.telemetry(x.TelemetryName.DELAYED_ERR,{param1:e||null}),void(E.default.cw_call_delayed_status=D.notWorkTime);var a=t.work_time,n=t.error_list;if(t.ok){var o;if("as_soon_as_possible"===u&&t.callback_started)T.callbackDispatchers.setCallbackIsDelayed(!1),T.callbackDispatchers.setCallbackStatus(M.CallStatus.WAIT),C.messageActions.handleContactsForm(),C.messageActions.systemCallMessage((0,y.default)(o="".concat((0,b.default)("cw_call_to")," ")).call(o,(0,k.getMaskedPhone)(i)),"callMessageStart");E.default.cw_call_delayed_status=D.success,I.default.trackCallWidgetRequested()}(a&&P(a),n)&&((0,v.default)(n).call(n,"max_requests_limit")&&(E.default.cw_call_delayed_status=D.maxRequestsLimit),(0,v.default)(n).call(n,"bad_callback_time")&&(E.default.cw_call_delayed_status=D.badCallbackTime,j(d.callback_date+O+d.callback_time)),(0,g.default)(n).call(n,(function(e){return/client_blacklist|global_blacklist|rate_limiter/.test(e)}))&&(E.default.cw_call_delayed_status=D.blocked),E.default.cw_call_delayed_status===D.wait&&(E.default.cw_call_delayed_status=D.notWorkTime),T.callbackDispatchers.setCallbackStatus(!1))}))},t.removePeriod=j,t.redirectAfterRequestDelayedCall=function(){var e=a(17674).Router,t=a(85442).RouterEvent;e.next(t.ToCall)},t.isErrorStatusCode=function(e){var t;return(0,g.default)(t=[D.maxRequestsLimit,D.notWorkTime,D.badCallbackTime,D.blocked,D.badDirection]).call(t,(function(t){return e===t}))},t.formatWorkTimeToServerModel=B,t.formatPeriodsToUserStoreModel=F,t.formatPeriodsToSelectModel=function(e){var t,a=new Date,n=(a.getTime(),a.getDate()),i=(0,b.default)("callback_delayed_period_today"),o=new Date((new Date).setDate(n+1)).getDate(),r=(0,b.default)("callback_delayed_period_tomorrow"),l=(0,b.default)("callback_delayed_period_as_possible").toLowerCase(),u="as_soon_as_possible";return(0,m.default)(t=(0,d.default)(e).call(e,(function(t,a){var s=function(e){var t,a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").split(O),s=(0,p.default)(a,2),c=(s[0],s[1]),d=e.split(O),h=(0,p.default)(d,2),m=h[0],g=h[1],v=g===u,_=c&&c!==u,b=v&&_?c:g,E=(0,y.default)(t="".concat(m," ")).call(t,b),w=H(E),C=w.time,T=w.date,k=w.month,S=w.dateDetail;if(v)return l.charAt(0).toUpperCase()+(0,f.default)(l).call(l,1);if(L&&T!==n&&T!==o){var I={month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return S.toLocaleString(W(),I)}var x,A,M,R,N,D=(0,y.default)(x="".concat(","," ")).call(x,C);return T===n?(0,y.default)(R="".concat(i)).call(R,D):T===o?(0,y.default)(N="".concat(r)).call(N,D):(0,y.default)(A=(0,y.default)(M="".concat(T,".")).call(M,k," ")).call(A,D)}(t,e[a+1]);return s?{label:s,value:t}:s}))).call(t,(function(e){return"object"===(0,c.default)(e)}))},t.DELAYED_CALL_STATUS=void 0;var i=n(a(63978)),o=n(a(20368)),r=n(a(39649)),l=n(a(34074)),u=n(a(14310)),s=n(a(86902)),c=n(a(23765)),d=n(a(2991)),f=n(a(3649)),h=n(a(78914)),p=n(a(18777)),m=n(a(20116)),g=n(a(77149)),v=n(a(78580)),_=n(a(87672)),y=n(a(77766)),b=n(a(75119)),E=n(a(36216)),w=n(a(62904)),C=a(75245),T=a(81189),k=a(51139),S=n(a(49043)),I=n(a(40695)),x=a(63242),A=a(33367),M=a(20965);function R(e,t){var a=(0,s.default)(e);if(u.default){var n=(0,u.default)(e);t&&(n=(0,m.default)(n).call(n,(function(t){return(0,l.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,h.default)(a=R(Object(n),!0)).call(a,(function(t){(0,_.default)(e,t,n[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(n));else{var u;(0,h.default)(u=R(Object(n))).call(u,(function(t){(0,i.default)(e,t,(0,l.default)(n,t))}))}}return e}n(a(75043)).default.name("DelayedCall");var O="|",D={wait:0,success:1,maxRequestsLimit:2,notWorkTime:3,badCallbackTime:4,blocked:5,badDirection:6};t.DELAYED_CALL_STATUS=D;var L="function"==typeof(new Date).toLocaleString&&function(){try{(new Date).toLocaleString("i")}catch(e){return"RangeError"===e.name}return!1}();function P(e){T.callbackDispatchers.setCallbackAvailable(!0),E.default.cw_call_delayed_tz=e.timezone_diff,E.default.cw_call_delayed_periods=F(e.schedule),T.callbackDispatchers.setCallbackIsDelayed(!0)}function j(e){if(E.default.cw_call_delayed_periods&&E.default.cw_call_delayed_periods.length){var t=E.default.cw_call_delayed_periods;E.default.cw_call_delayed_periods=(0,m.default)(t).call(t,(function(t){return t!==e}))}}function B(e){var t=e.split(O),a=(0,p.default)(t,2);return{date:a[0],time:a[1]}}function F(e){var t=[];return(0,h.default)(e).call(e,(function(e){var a=e.date,n=e.intervals;(0,h.default)(n).call(n,(function(e){var n,i;t.push((0,y.default)(n=(0,y.default)(i="".concat(a)).call(i,O)).call(n,e))}))})),t}T.callbackDispatchers.setDelayedCallbackStatus(null);var H=function(e){var t,a=e.replace(/\-/g,"/"),n=new Date(a).getTime();if(isNaN(n))return e;var i=-(new Date).getTimezoneOffset(),o=E.default.cw_call_delayed_tz,r=60*(i-o)*1e3,l=new Date(n+r),u=l.getHours(),s=l.getMinutes(),c=l.getDate(),d=l.getMonth(),f=function(e){return e>9?e:"0".concat(e)},h=f(s),p=f(u),m=(0,y.default)(t="".concat(p,":")).call(t,h);return L&&"en"==W()&&(m=l.toLocaleString(W(),{hour:"numeric",minute:"numeric",hour12:!0})),{time:m,date:c,month:d,dateDetail:l}};function W(){var e=w.default.locale;return"no"==e?"nb":e.search("_")?e.split("_")[0]:e}},14847:function(e,t,a){"use strict";var n=a(87646),i=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=function(){f.isDesignerEditor&&(_._dAPI=E)};var o=i(a(78914)),r=i(a(51942)),l=i(a(5505)),u=i(a(99357)),s=i(a(8282)),c=i(a(86999)),d=n(a(62904)),f=a(24335),h=i(a(69961)),p=i(a(45808)),m=a(21224),g=a(81189),v=a(75245),_=(i(a(75043)).default.name("DesignerApi"),window.parent||window),y=function(e,t){var a=d.default;a[e]=t,(0,d.initConfig)(a)},b=function(){var e=p.default.getComponent(m.Component.ROOT_COMPONENT);e&&e.forceUpdate()},E={showChat:function(){l.default.open()},showLabel:function(){l.default.close()},setAgent:function(e){s.default.destroy(),s.default.push({agent_id:1,display_name:e.name,title:e.title,avatar_url:e.avatarUrl,body:{state:"join",unsave:!0}}),(0,r.default)(h.default,{agent_id:1,display_name:e.name,title:e.title,avatar_url:e.avatarUrl}),g.agentsDispatchers.addAgent({id:1,name:e.name,title:e.title,avatarUrl:e.avatarUrl}),g.chatsDispatchers.addJoinedAgent(1),b()},addMessages:function(e){var t=[];(0,o.default)(e).call(e,(function(e){t.push({from:e.from,from_id:"agent"===e.from?1:null,text:e.text,type:"message",status:"read",created_ts:(new Date).getTime(),body:{unsave:!0}})})),g.messagesDispatchers.addMessages(t)},updateAgent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,r.default)(h.default,{agent_id:t,display_name:e.name,title:e.title,avatar_url:e.avatarUrl});var a=s.default.getAgentById(t);a&&(a.set("display_name",e.name),a.set("title",e.title),a.set("avatar_url",e.avatar_url)),g.agentsDispatchers.updateAgent({id:t,name:e.name,title:e.title,avatarUrl:e.avatarUrl})},editLastMessage:function(e){var t=u.default.getAgentMessages();if(t.length){t[t.length-1].set("text",e);var a=p.default.getComponent(m.Component.SCROLL_CONTAINER);a&&a.forceUpdate()}},cleanMessages:function(){u.default.destroy(),u.default.trigger("update")},setWidgetColor:function(e,t){g.userDispatchers.setWidgetColor(e),g.userDispatchers.setWidgetColor2(t),b()},setCallbackColor:function(e){y("callback_btn_color",e),b()},setBubbleColor:function(e){y("bubble_color",e),(0,f.runBind)("setBubbleColor"),b()},setPattern:function(e){g.userDispatchers.setPattern(e),y("pattern",e),b()},setWidgetPosition:function(e,t){var a=t.toString();g.userDispatchers.setWidgetOrientation(e),g.userDispatchers.setWidgetPadding(a),y("widget_orientation",e),y("widget_padding",a),(0,f.runBind)("setWidgetPosition",{orientation:e,padding:t}),b()},setFontColor:function(e){"auto"===e&&(e=c.default.isLightColor(d.default.widget_color)?"dark":"light"),y("widget_font_color",e),g.userDispatchers.setWidgetFontColor(e),b()},setFontSize:function(e){g.userDispatchers.setWidgetFontSize(e),y("font_size",e),b()},setFontFamily:function(e){g.userDispatchers.setWidgetFontFamily(e),y("font_family",e),b()},setFontType:function(e){g.userDispatchers.setWidgetFontType(e),y("font_type",e),b()},setOnlineText:function(e){g.userDispatchers.setOnlineWidgetLabel(e),y("online_widget_label",e),(0,f.runBind)("setOnlineText",e)},addPrechat:function(e){y("prechat",e),y("enable_prechat",1),v.messageActions.pushPrechat()},updatePrechats:function(e){if(e){var t=p.default.getComponent(m.Component.PRECHAT);t&&t.trigger("updatePrechatText",e)}},cleanPrechat:function(){v.messageActions.deletePrechatMsg(),u.default.trigger("update")}}},24335:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.designerBind=function(e,t){if(!h)return;void 0!==f[e]||(f[e]=[]),f[e].push(t)},t.runBind=function(e,t){var a;void 0!==f[e]&&(0,s.default)(a=f[e]).call(a,(function(e){e(t)}))},t.isDesignerEditor=void 0;var i,o,r,l,u,s=n(a(78914)),c=n(a(81643)),d=a(94515),f={},h=(o=window.parent||window,r=o.location.host,l=d.EnvironmentManager.isProduction(),u=-1!==(0,c.default)(i=["app.jivosite.com","app3alpha.jivosite.com","app3beta.jivosite.com"]).call(i,r),!(!o._jivoDesigner||!(l&&u||!l)));t.isDesignerEditor=h},77922:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(26394)),o=n(a(69198)),r=n(a(75043)).default.name("DevTools"),l=null,u=function(){function e(t,a,n,o,r,u,s,c,d,f,h,p,m,g,v,_,y,b,E,w,C,T,k,S,I,x,A,M,R,N,O,D,L,P,j,B,F){if((0,i.default)(this,e),l)return l;this.localStore=t,this.sessionStore=a,this.tempStore=n,this.actions=o,this.connection=r,this.clientStore=u,this.agentStore=s,this.agentsStore=c,this.appStore=d,this.reduxStore=f,this.messagesStore=h,this.proactiveStore=p,this.siteConnector=m,this.utils=g,this.utm=v,this.historyStore=_,this.social=y,this.router=b,this.soundManager=E,this.proactive=w,this.refManager=C,this.abTesting=T,this.device=k,this.debugDataCollector=S,this.monitoring=I,this.apiInvitationsManager=x,this.analytics=A,this.messageActions=M,this.positionDispatchers=R,this.configUtils=N,this.transitionDispatchers=O,this.callbackDispatchers=D,this.appDispatchers=L,this.clientDispatchers=P,this.featuresDispatchers=j,this.featureManager=B,this.environmentManager=F,l=this}return(0,o.default)(e,[{key:"installOnPage",value:function(){l&&(window.parent.jwdt=l),r.log("Installed")}}],[{key:"getInstance",value:function(){return l}}]),e}();t.default=u},58061:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(81643)),o=n(a(63978)),r=n(a(31238)),l=n(a(54103)),u=n(a(26394)),s=n(a(69198));n(a(75043)).default.name("Device");var c=new(function(){function e(t){var a,n,i;(0,u.default)(this,e),this.userAgent=t,this._find=(n=(0,l.default)(a=this._find).call(a,this),i={},function(){var e=arguments.length<=0?void 0:arguments[0];if(e in i)return i[e];var t=n(e);return i[e]=t,t}),this.initialize(),this.initializeSupportedFeatures()}return(0,s.default)(e,[{key:"initialize",value:function(){this.isWindows=this._find("windows"),this.isOpera=this._find("opera")||this._find("opr")||this._find("presto"),this.isOperaMini=this.isOpera&&(this._find("mini")||this._find("opios")),this.isFirefox=this._find("firefox"),this.isChrome=this._find("chrome"),this.isChromeIOS=this._find("crios"),this.isSafari=this._find("safari")&&!this.isChrome&&!this.isChromeIOS,this.isEdge=this._find("edge"),this.isIe=this._find("msie")||this._find("trident")||this.isEdge,this.isIeOrEdge=this.isIe||this._find("lumia"),this.isIpod=this._find("ipod"),this.isIpad=this._find("ipad")||this._find("macintosh")&&"ontouchend"in window,this.isIphone=!this.isWindows&&this._find("iphone"),this.isIos=this.isIphone||this.isIpod||this.isIpad,this.isAndroid=!this.isWindows&&this._find("android"),this.isAndroidPhone=this.isAndroid&&this._find("mobile"),this.isAndroidTablet=this.isAndroid&&!this._find("mobile"),this.isBlackberry=this._find("blackberry")||this._find("bb10")||this._find("rim"),this.isBlackberryPhone=this.isBlackberry&&!this._find("tablet"),this.isBlackberryTablet=this.isBlackberry&&this._find("tablet"),this.isWindowsPhone=this.isWindows&&this._find("phone"),this.isWindowsTablet=this.isWindows&&this._find("touch")&&!this.isWindowsPhone&&!this._find("trident"),this.isMobile=this.isAndroidPhone||this.isIphone||this.isIpod||this.isWindowsPhone||this.isBlackberryPhone,this.isTablet=this.isIpad||this.isAndroidTablet||this.isBlackberryTablet||this.isWindowsTablet,this.isMobileOrTablet=this.isMobile||this.isTablet,this.isDesktop=!this.isMobile&&!this.isTablet,this.isYandexBot=-1!==this.userAgent.search(/\+http:\/\/yandex\.com\/bots/gi),this.isGoogleBot=-1!==this.userAgent.search(/google/gi),this.isOperaMobile=this.isOperaMini||this.isOpera&&this.isMobileOrTablet;var e=/OS (\d+)_(\d+)_?(\d+)?/.exec(window.navigator.appVersion);this.iosVersion=e?(0,r.default)(e[1]+"."+e[2]):null,this.device=null,this.isDesktop?this.device="desktop":this.isMobile?this.device="mobile":this.isTablet&&(this.device="tablet")}},{key:"initializeSupportedFeatures",value:function(){var e=this;try{localStorage.setItem("testLocalStorage","ok"),localStorage.removeItem("testLocalStorage"),this.isLocalStorageSupported=!0}catch(e){this.isLocalStorageSupported=!1}try{new File([],""),this.isImageResizeSupported="FileReader"in window&&"File"in window&&"Blob"in window}catch(e){this.isImageResizeSupported=!1}this.isCssVariablesSupported=window.CSS&&CSS.supports&&CSS.supports("color","var(--fake-var)")||!1,this.isWebAnimationApiSupported=!!window.KeyframeEffect,this.isPassiveListenersSupported=!1;try{var t=(0,o.default)({},"passive",{get:function(){return e.isPassiveListenersSupported=!0,e.isPassiveListenersSupported}});window.addEventListener("test",null,t)}catch(e){this.isPassiveListenersSupported=!1}}},{key:"operaMini",value:function(){return this.isOperaMini}},{key:"firefox",value:function(){return this.isFirefox}},{key:"safari",value:function(){return this.isSafari}},{key:"chrome",value:function(){return this.isChrome}},{key:"ieOrEdge",value:function(){return this.isIeOrEdge}},{key:"ie",value:function(){return this.isIe}},{key:"edge",value:function(){return this.isEdge}},{key:"ios",value:function(){return this.isIos}},{key:"ipad",value:function(){return this.isIpad}},{key:"chromeIOS",value:function(){return this.isChromeIOS}},{key:"android",value:function(){return this.isAndroid}},{key:"windowsPhone",value:function(){return this.isWindowsPhone}},{key:"mobile",value:function(){return this.isMobile}},{key:"tablet",value:function(){return this.isTablet}},{key:"mobileOrTablet",value:function(){return this.isMobileOrTablet}},{key:"desktop",value:function(){return this.isDesktop}},{key:"osVersion",value:function(){return this.iosVersion}},{key:"getDevice",value:function(){return this.device}},{key:"supportsPassiveListeners",value:function(){return this.isPassiveListenersSupported}},{key:"supportsCssVariables",value:function(){return this.isCssVariablesSupported}},{key:"supportsWebAnimationApi",value:function(){return this.isWebAnimationApiSupported}},{key:"supportsImageResize",value:function(){return this.isImageResizeSupported}},{key:"supportsLocalStorage",value:function(){return this.isLocalStorageSupported}},{key:"yandexBot",value:function(){return this.isYandexBot}},{key:"googleBot",value:function(){return this.isGoogleBot}},{key:"_find",value:function(e){var t;return-1!==(0,i.default)(t=this.userAgent).call(t,e)}}]),e}())(window.navigator.userAgent.toLowerCase());t.default=c},99112:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.getRuleLocal=function(e){if(e in c)return c[e]},t.pageVisible=function(){if("visibilityState"in document)return"visible"===document.visibilityState;if("webkitVisibilityState"in document)return"visible"===document.webkitVisibilityState;return!1},t.isVisible=function(e){return e&&e.offsetWidth>0&&e.offsetHeight>0},t.getScrollBarWidth=function(){if(void 0!==i)return i;var e=document.createElement("div");if(e.style.visibility="hidden",e.style.width="100px",!document||!document.body)return i;document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var a=document.createElement("div");a.style.width="100%",e.appendChild(a);var n=a.offsetWidth;return e.parentNode.removeChild(e),i=t-n},t.getComputedStyleAll=g,t.getInnerHeight=function(e){var t=e.clientHeight,a=g(e,"paddingTop"),n=g(e,"paddingBottom");return t-(0,l.default)(a)-(0,l.default)(n)},t.getInnerWidth=function(e){var t=e.clientWidth,a=getComputedStyle(e),n=a.paddingLeft,i=a.paddingRight;return t-(0,l.default)(n)-(0,l.default)(i)},t.getNextSiblingNodeFocus=function(e){if(e.keyCode&&13==e.keyCode){var t,a=e.currentTarget.parentNode.nextElementSibling,n=a.querySelector("input");if(n||(n=a.querySelector("jdiv")||a.querySelector("textarea")),!n)return;if(-1!==(0,r.default)(t=["INPUT","TEXTAREA"]).call(t,n.tagName)&&n.focus)n.focus();else{var i=u.default.tablet()?"touchstart":"click",o=document.createEvent("MouseEvents");o.initEvent(i,!0,!0),n.dispatchEvent(o)}}},t.hasClass=function(e,t){return d?e.classList.contains(t):""!==e.className&&s.default.contains(p(e),t)},t.addClass=function(e,t){if(d)s.default.each(h(t),(function(t){e&&e.classList.add(t)})),e&&f(e);else{var a=p(e),n=s.default.union(a,h(t));m(e,n)}},t.removeClass=function(e,t){if(d)s.default.each(h(t),(function(t){e&&e.classList.remove(t)})),e&&f(e);else{var a=p(e),n=s.default.difference(a,h(t));m(e,n)}},t.getElementPosition=function(e){if(!e)return{width:0,height:0,top:0,left:0,windowWidth:0,windowHeight:0};var t,a=e.ownerDocument,n=a.defaultView||a.parentWindow,i={left:0,top:0};if(e.getBoundingClientRect)i=s.default.extend(i,e.getBoundingClientRect());else for(t=e;t;)i.left+=t.offsetLeft,i.top+=t.offsetTop,t=t.offsetParent;return i.width=e.offsetWidth,i.height=e.offsetHeight,i.windowWidth=n.innerWidth,i.windowHeight=n.innerHeight,i},t.addNoTranslateClass=function(e){return e.className+=" notranslate",e},t.addNewLine=function(e,t){if(!e)return!1;var a=e.selectionStart,n=t.substring(0,a),i=t.substring(a,t.length);if(a!==e.value.length){var r;e.value=(0,o.default)(r="".concat(n,"\r\n")).call(r,i),e.setSelectionRange(a,a)}else e.value+="\r\n",e.scrollTop=e.scrollHeight;return e.value},t.isInput=function(e){var t;if(!e)return;return-1!==(0,r.default)(t=["INPUT","TEXTAREA"]).call(t,e.tagName)},t.isScrolledIntoView=function(e,t){if(e&&t&&t.base){if(t.getScrollTop()<100)return!0;var a=t.base,n=e.getBoundingClientRect(),i=n.top,o=n.bottom,r=n.height,l=a.getBoundingClientRect();return i<=l.top?l.top-i<=r:o-l.bottom<=r}return!1},t.isNoScroll=function(e,t){if(e&&e.base&&t){return e.getScrollHeight()<e.base.clientHeight||t.lastChild&&t.lastChild.lastChild&&t.lastChild.lastChild.clientHeight>e.getClientHeight()}};var i,o=n(a(77766)),r=n(a(81643)),l=n(a(31238)),u=n(a(58061)),s=n(a(62107)),c=(n(a(75043)).default.name("DomUtils"),{}),d="classList"in document.documentElement;function f(e){e.offsetHeight}function h(e){return s.default.isArray(e)?e:e.replace(/^\s+|\s+$/g,"").split(/\s+/)}function p(e){return h(e.className)}function m(e,t){var a=t.join(" ");e.className!==a&&(e.className=a,f(e))}function g(e,t){if(e)return e.currentStyle?e.currentStyle[t]:window.getComputedStyle&&window.getComputedStyle(e,null)?window.getComputedStyle(e,null)[t]:e.style[t]}},34935:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var n=a(94515).EnvironmentManager.getAllowedFileTypes(),i=n&&n.length?n:[{extension:"rar",mimeType:"application/vnd.rar"},{extension:"tar",mimeType:"application/x-tar"},{extension:"7z",mimeType:"application/x-7z-compressed"},{extension:"djvu",mimeType:"image/vnd.djvu"},{extension:"json",mimeType:"application/json"},{extension:"log",mimeType:"text/plain"},{extension:"ppt",mimeType:"application/vnd.ms-powerpoint"},{extension:"xls",mimeType:"application/vnd.ms-excel"},{extension:"doc",mimeType:"application/msword"},{extension:"docx",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{extension:"rtf",mimeType:"application/rtf"},{extension:"ttf",mimeType:"font/ttf"},{extension:"psd",mimeType:"image/vnd.adobe.photoshop"},{extension:"odt",mimeType:"application/vnd.oasis.opendocument.text"},{extension:"pdf",mimeType:"application/pdf"},{extension:"aac",mimeType:"audio/aac"},{extension:"avi",mimeType:"video/x-msvideo"},{extension:"csv",mimeType:"text/csv"},{extension:"epub",mimeType:"application/epub+zip"},{extension:"gz",mimeType:"application/gzip"},{extension:"gif",mimeType:"image/gif"},{extension:"ics",mimeType:"text/calendar"},{extension:"jpeg",mimeType:"image/jpeg"},{extension:"jpg",mimeType:"image/jpeg"},{extension:"mp3",mimeType:"audio/mpeg"},{extension:"mpeg",mimeType:"video/mpeg"},{extension:"oga",mimeType:"audio/ogg"},{extension:"ogv",mimeType:"video/ogg"},{extension:"png",mimeType:"image/png"},{extension:"svg",mimeType:"image/svg+xml"},{extension:"txt",mimeType:"text/plain"},{extension:"vsd",mimeType:"application/vnd.visio"},{extension:"wav",mimeType:"audio/wav"},{extension:"weba",mimeType:"audio/webm"},{extension:"webm",mimeType:"video/webm"},{extension:"webp",mimeType:"image/webp"},{extension:"zip",mimeType:"application/zip"},{extension:"zip",mimeType:"application/x-zip-compressed"},{extension:"mp4",mimeType:"application/mp4"},{extension:"mp4",mimeType:"video/mp4"},{extension:"mp4a",mimeType:"audio/mp4"},{extension:"mov",mimeType:"video/quicktime"},{extension:"html",mimeType:"text/html"},{extension:"htm",mimeType:"text/html"},{extension:"css",mimeType:"text/css"},{extension:"ods",mimeType:"application/vnd.oasis.opendocument.spreadsheet"},{extension:"odp",mimeType:"application/vnd.oasis.opendocument.presentation"},{extension:"pptx",mimeType:"application/vnd.openxmlformats-officedocument.presentationml.presentation"},{extension:"xlsx",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}];t.default=i},56152:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(26394)),o=n(a(69198)),r=a(10404),l=a(56602),u=a(57018),s=n(a(34935)),c=function(){function e(t){(0,i.default)(this,e),this.file=t,this.fileExtension=(0,l.getFileExtension)(t.name),this.fileMimeType=t.type,this.fileSize=t.size,this.reason=null}return(0,o.default)(e,[{key:"isValid",value:function(){return this.isAllowedFileSize()&&this.isAllowedExtensionAndMime()}},{key:"getReason",value:function(){return this.reason}},{key:"isAllowedExtensionAndMime",value:function(){if(!this.fileExtension)return this.reason=r.FileUploadError.NO_EXTENSION,!1;for(var e=0;e<s.default.length;e++){var t=s.default[e];if(t.extension===this.fileExtension.toLowerCase()&&t.mimeType===this.fileMimeType)return!0}return this.reason=r.FileUploadError.RESTRICTED_FILE_TYPE,!1}},{key:"isAllowedFileSize",value:function(){return!(this.fileSize>u.MAX_FILE_SIZE)||(this.reason=r.FileUploadError.FILE_SIZE_EXCEEDED,!1)}}]),e}();t.default=c},93848:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.initCallTouch=function(){if(r.default.enable_calltouch){var e=(0,u.getPageWindow)();if("function"==typeof e.ct){s.log("init");try{var t=e.ct("calltracking_params");t&&t.length&&(0,o.default)(t).call(t,(function(t){var a,n,o=(0,i.default)(a=(0,i.default)(n='{"site_id": '.concat(r.default.site_id,', "widget_id": "')).call(n,r.default.widget_id,'", "visitor_id": "')).call(a,l.default.visitorId,'"}');s.log("set attr:",o),e.ct(t.modId,"set_attrs",o)}))}catch(e){s.error("Fail to sync with calltouch",e)}}}};var i=n(a(77766)),o=n(a(78914)),r=n(a(62904)),l=n(a(36216)),u=a(56602),s=n(a(75043)).default.name("CallTouch","color: grey")},94990:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.initVideoForce=function(){var e=i.default.integrations;if(e&&e.videoforce){try{var t=document.createElement("script");t.src="https://widget.videoforce.ru/"+e.videoforce,t.crossorigin="anonymous",t.async="true";var a=(0,o.getPageWindow)().document.getElementsByTagName("script")[0];a.parentNode.insertBefore(t,a)}catch(e){r.Monitoring.reportException(e)}}};var i=n(a(62904)),o=a(56602),r=a(33367);n(a(75043)).default.name("VideoForce","color: grey")},94515:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.EnvironmentManager=void 0;var i=n(a(26394)),o=n(a(69198)),r=a(84640),l=new(function(){function e(){(0,i.default)(this,e),this.env="production",this.version="17.14.0",this.loaderVersion="0.1",this.branch="tech/test-ya_bcf5f788",this.allowedFiles=JSON.parse('[{"extension":"rar","mimeType":"application/vnd.rar"},{"extension":"tar","mimeType":"application/x-tar"},{"extension":"7z","mimeType":"application/x-7z-compressed"},{"extension":"djvu","mimeType":"image/vnd.djvu"},{"extension":"json","mimeType":"application/json"},{"extension":"log","mimeType":"text/plain"},{"extension":"ppt","mimeType":"application/vnd.ms-powerpoint"},{"extension":"xls","mimeType":"application/vnd.ms-excel"},{"extension":"doc","mimeType":"application/msword"},{"extension":"docx","mimeType":"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{"extension":"rtf","mimeType":"application/rtf"},{"extension":"ttf","mimeType":"font/ttf"},{"extension":"psd","mimeType":"image/vnd.adobe.photoshop"},{"extension":"odt","mimeType":"application/vnd.oasis.opendocument.text"},{"extension":"pdf","mimeType":"application/pdf"},{"extension":"aac","mimeType":"audio/aac"},{"extension":"avi","mimeType":"video/x-msvideo"},{"extension":"csv","mimeType":"text/csv"},{"extension":"epub","mimeType":"application/epub+zip"},{"extension":"gz","mimeType":"application/gzip"},{"extension":"gif","mimeType":"image/gif"},{"extension":"ics","mimeType":"text/calendar"},{"extension":"jpeg","mimeType":"image/jpeg"},{"extension":"jpg","mimeType":"image/jpeg"},{"extension":"mp3","mimeType":"audio/mpeg"},{"extension":"mpeg","mimeType":"video/mpeg"},{"extension":"oga","mimeType":"audio/ogg"},{"extension":"ogv","mimeType":"video/ogg"},{"extension":"png","mimeType":"image/png"},{"extension":"svg","mimeType":"image/svg+xml"},{"extension":"txt","mimeType":"text/plain"},{"extension":"vsd","mimeType":"application/vnd.visio"},{"extension":"wav","mimeType":"audio/wav"},{"extension":"weba","mimeType":"audio/webm"},{"extension":"webm","mimeType":"video/webm"},{"extension":"webp","mimeType":"image/webp"},{"extension":"zip","mimeType":"application/zip"},{"extension":"zip","mimeType":"application/x-zip-compressed"},{"extension":"mp4","mimeType":"application/mp4"},{"extension":"mp4","mimeType":"video/mp4"},{"extension":"mp4a","mimeType":"audio/mp4"},{"extension":"mov","mimeType":"video/quicktime"},{"extension":"html","mimeType":"text/html"},{"extension":"htm","mimeType":"text/html"},{"extension":"css","mimeType":"text/css"},{"extension":"ods","mimeType":"application/vnd.oasis.opendocument.spreadsheet"},{"extension":"odp","mimeType":"application/vnd.oasis.opendocument.presentation"},{"extension":"pptx","mimeType":"application/vnd.openxmlformats-officedocument.presentationml.presentation"},{"extension":"xlsx","mimeType":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}]')||null}return(0,o.default)(e,[{key:"isProduction",value:function(){return this.env===r.Environment.PRODUCTION}},{key:"isTesting",value:function(){return this.env===r.Environment.TESTING}},{key:"isDevelopment",value:function(){return this.env===r.Environment.DEVELOPMENT}},{key:"getVersion",value:function(){return this.version}},{key:"getLoaderVersion",value:function(){return this.loaderVersion}},{key:"getBranch",value:function(){return this.branch}},{key:"getAllowedFileTypes",value:function(){return this.allowedFiles}},{key:"isPartnerApp",value:function(){return window.parent.jivo_partner||!1}}]),e}());t.EnvironmentManager=l},75959:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(26394)),o=n(a(69198)),r=n(a(62904)),l=n(a(62652)),u=n(a(18228)),s=n(a(58061)),c=a(33367),d=a(63242),f=(n(a(75043)).default.name("EulaManager"),new(function(){function e(){(0,i.default)(this,e),this.context=null,this.eulaLink=null}return(0,o.default)(e,[{key:"showEula",value:function(e,t,a){r.default.eula&&(l.default.show_eula=e,t&&(this.eulaLink=t),s.default.desktop()&&document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur(),a&&(this.context=a,c.Monitoring.telemetry(d.TelemetryName.EULA_SHOWN,{param1:a})))}},{key:"acceptEula",value:function(){l.default.eula_accepted=!0,"cb"===this.context&&u.default.sendIfConnected({name:"accept_eula"}),c.Monitoring.telemetry(d.TelemetryName.EULA_ACCEPTED,{param1:this.context})}}]),e}()));t.default=f},23582:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.FeatureManager=t.Feature=void 0;var i=n(a(87672)),o=n(a(26394)),r=n(a(69198)),l=n(a(62904)),u=(n(a(75043)).default.name("FeatureManager"),{NEW_ANIMATION:"newAnimation",OLD_CAPTCHA:"oldCaptcha",RECAPTCHA:"recaptcha"});t.Feature=u;var s=new(function(){function e(){var t;(0,o.default)(this,e),this.features=(t={},(0,i.default)(t,u.NEW_ANIMATION,l.default.enable_new_animation),(0,i.default)(t,u.OLD_CAPTCHA,l.default.enable_antispam&&1===l.default.contacts_ask&&!l.default.recaptcha),(0,i.default)(t,u.RECAPTCHA,l.default.enable_antispam&&l.default.recaptcha),t)}return(0,r.default)(e,[{key:"isEnabled",value:function(e){return this.features[e]||!1}}]),e}());t.FeatureManager=s},20097:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(59340)),o=n(a(26394)),r=n(a(69198)),l=n(a(58061)),u=(n(a(75043)).default.name("LoaderContextManager"),null),s=function(){function e(t,a){var n=this;if((0,o.default)(this,e),u)return u;this.appStore=a,this.appStore.addListener((function(){n.updateChatStarted()})),this.storeName="jv_loader_info_"+t,this.store={},l.default.supportsLocalStorage()&&(this.store=JSON.parse(localStorage.getItem(this.storeName))||{}),u=this}return(0,r.default)(e,[{key:"setInStore",value:function(e,t){this.store[e]=t,this.saveStore()}},{key:"saveStore",value:function(){l.default.supportsLocalStorage()&&localStorage.setItem(this.storeName,(0,i.default)(this.store))}},{key:"updateChatStarted",value:function(){this.store.isChatStarted!==this.appStore.chat_started&&(this.store.isChatStarted=this.appStore.chat_started,this.saveStore())}}],[{key:"getInstance",value:function(){return u}}]),e}();t.default=s},88561:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(20116)),o=n(a(78914)),r=n(a(26394)),l=n(a(69198)),u=a(56602),s=a(99112),c=n(a(75043)).default.name("PageVisibilityManager"),d=new(function(){function e(){var t=this;(0,r.default)(this,e),this.pageVisible=(0,s.pageVisible)(),this.subscribers=[],(0,u.listenVisibility)((function(){t.pageVisible=(0,s.pageVisible)(),c.log("Page visibility changed to:",t.pageVisible),t.fireSubscriptions(t.pageVisible)}))}return(0,l.default)(e,[{key:"fireSubscriptions",value:function(e){var t;(0,o.default)(t=this.subscribers).call(t,(function(t){t(e)}))}},{key:"subscribe",value:function(e){this.subscribers.push(e)}},{key:"unsubscribe",value:function(e){var t;this.subscribers=(0,i.default)(t=this.subscribers).call(t,(function(t){if(t!==e)return t}))}}]),e}());t.default=d},38514:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(94198)),o=n(a(26394)),r=n(a(69198)),l=n(a(62904)),u=a(43472),s=a(81189),c=n(a(36216)),d=a(85442),f=a(17674),h=n(a(45808)),p=a(21224),m=a(56602),g=a(99112),v=n(a(46237)),_=n(a(62107)),y=a(5505),b=a(23582),E=a(57018),w=n(a(75043)).default.name("PositionManager"),C="336px",T="496px",k=new(function(){function e(){var t=this;(0,o.default)(this,e),this.offlineBodyHeight=0,this.offlineContainerHeight=0,this._lastHeight=null,this.transitionProp="",this.updatePositionStore=_.default.throttle((function(){t._updatePositionStoreOnDrag()}),30)}return(0,r.default)(e,[{key:"clearPositionStore",value:function(e,t,a){e&&s.positionDispatchers.setWidgetPositionLeft(""),t&&s.positionDispatchers.setWidgetPositionRight(""),a&&s.positionDispatchers.setWidgetPositionHeight("")}},{key:"getPositionStoreData",value:function(){return u.reduxStore.getState().position}},{key:"getPositionStyle",value:function(e,t){switch(e){case d.Route.LABEL:return this._getLabelPosition();case d.Route.CALL:case d.Route.CALL_EULA:return this._getCallPosition();case d.Route.CHAT_MIN:return this._getChatMinPosition();case d.Route.INTRODUCE:return this._getIntroducePosition();default:return this._getChatPosition(t)}}},{key:"initializeDrag",value:function(e){var t=this;e&&(v.default.attach(e),v.default.addListener("start",(function(){t._startDrag()})),v.default.addListener("stop",(function(){t._stopDrag()})),v.default.addListener("move",(function(e,a,n){t._drag(e,a,n)})))}},{key:"getPosRight",value:function(e){return(0,m.getPageWindow)().document.body.clientWidth-(e.offsetLeft||40)-e.offsetWidth+"px"}},{key:"getPosLeft",value:function(e){return(0,m.getPageWindow)().document.body.clientWidth-(e.offsetWidth+30)+"px"}},{key:"_updatePositionStoreOnDrag",value:function(){var e=h.default.get(p.Component.WIDGET_CONTAINER),t=(0,i.default)(e.style.height);t&&t<E.MINIMAL_WIDGET_HEIGHT&&(t=E.MINIMAL_WIDGET_HEIGHT);var a=e.style.left,n=e.style.right;b.FeatureManager.isEnabled(b.Feature.NEW_ANIMATION)?s.positionDispatchers.initializePositionStore({height:t+"px",left:a,right:n}):(s.positionDispatchers.setWidgetPositionLeft(a),s.positionDispatchers.setWidgetPositionRight(n),s.positionDispatchers.setWidgetPositionHeight(t+"px"))}},{key:"_startDrag",value:function(){w.log("_startDrag");var e=h.default.get(p.Component.WIDGET_CONTAINER),t=this.getStyleKey();e.style.marginLeft=0,e.style.marginRight=0,this.transitionProp=e.style.transition,e.style.transition="","right"===t&&""===e.style.right&&(e.style.right=this.getPosRight(e),e.style.left=""),"left"===t&&""!==e.style.right&&(e.style.left=e.offsetLeft+"px",e.style.right=""),"left"===t&&""===e.style.left&&(e.style.left=e.offsetLeft||"40px",e.style.right="");var a=(0,g.getElementPosition)(e),n=e.offsetHeight;this.originX=(0,i.default)(e.style[t]),this.originHeight=(0,i.default)(n),a.minLeft="left"===t?40:30,a.maxLeft=a.windowWidth-a.width-a.minLeft,a.maxLeft-=30,a.minHeight=400,a.height=n<a.minHeight?a.minHeight:n,a.maxHeight=(0,m.getPageWindow)().innerHeight-30,this.dragData=a}},{key:"_stopDrag",value:function(){w.log("_stopDrag");var e=h.default.get(p.Component.WIDGET_CONTAINER);if(this.updatePositionStore(),e.style.transition=this.transitionProp||"","[object HTMLDivElement]"===e.toString()||"[object HTMLUnknownElement]"===e.toString()){var t=getComputedStyle(e);(0,y._callUserFunction)("onResizeCallback",{width:t.width,height:t.height})}}},{key:"_drag",value:function(e,t,a){w.log("_drag",e,t,a);var n=h.default.get(p.Component.WIDGET_CONTAINER),i=this.getStyleKey();"left"==i&&(t=-t);var o=this.dragData,r=this.originX+t;r<o.minLeft?n.style[i]=o.minLeft+"px":r>o.maxLeft?n.style[i]=o.maxLeft+"px":n.style[i]=r+"px";var l=this.originHeight+a;l!==o.height&&(l>o.minHeight||l>o.height)&&(f.Router.isIgnoreDragHeightRoute()&&(l=o.height),l>this.dragData.maxHeight&&(l=this.dragData.maxHeight),this.dragData.height=l,n.style.height=l+"px"),b.FeatureManager.isEnabled(b.Feature.NEW_ANIMATION)&&this.updatePositionStore()}},{key:"getStyleKey",value:function(){return"0"==l.default.widget_padding&&"bottom"===l.default.widget_orientation||"left"===l.default.widget_orientation?"left":"right"}},{key:"_getChatPosition",value:function(e){var t=(0,m.getPageWindow)(),a={width:C,top:"auto",bottom:0,paddingTop:0,marginBottom:0};""===this.getPositionStoreData().right&&"right"===this.getStyleKey()&&s.positionDispatchers.setWidgetPositionRight("30px"),""===this.getPositionStoreData().left&&"left"===this.getStyleKey()&&s.positionDispatchers.setWidgetPositionLeft("40px"),a.right=this.getPositionStoreData().right&&!e?this.getPositionStoreData().right:"30px",a.left="",a.marginRight=0;var n=(0,i.default)(this.getPositionStoreData().height),o=n&&(0,i.default)(n)>E.MINIMAL_WIDGET_HEIGHT&&!e?n:T;return a.height=o,t.innerHeight<(0,i.default)(o,10)&&(a.height=(t.innerHeight>=E.MINIMAL_WIDGET_HEIGHT?t.innerHeight:E.MINIMAL_WIDGET_HEIGHT)+"px"),(0,i.default)(this.getPositionStoreData().right)+(0,i.default)(C)>t.document.body.clientWidth&&(a.right="30px",s.positionDispatchers.setWidgetPositionRight("30px")),(""!==this.getPositionStoreData().left&&"left"===l.default.widget_orientation||"bottom"===l.default.widget_orientation&&"0"===l.default.widget_padding)&&(a.left=this.getPositionStoreData().left&&!e?this.getPositionStoreData().left:"40px",a.right=""),"left"===this.getStyleKey()&&(0,i.default)(this.getPositionStoreData().left)+(0,i.default)(C)>t.document.body.clientWidth&&(a.left="40px",a.right="",s.positionDispatchers.setWidgetPositionLeft(a.left),s.positionDispatchers.setWidgetPositionRight("")),a}},{key:"_getLabelPosition",value:function(){return this._getChatPosition()}},{key:"_getCallPosition",value:function(){var e=this._getChatPosition();return c.default.cw_call.status&&"cw_connected"===c.default.cw_call.status?{left:e.left,right:e.right}:{width:C,height:T,left:e.left,right:e.right}}},{key:"_getChatMinPosition",value:function(){var e=this._getChatPosition(!0);return e.height="",50==l.default.widget_padding&&"bottom"==l.default.widget_orientation&&(e.marginRight=this._getMarginRight(C),e.right=l.default.widget_padding+"%"),"left"!==this.getStyleKey()&&"left"!==l.default.widget_orientation||(e.left="40px",e.right=""),(0,m.isCustomLabel)()&&(e.bottom="-170px"),e}},{key:"_getIntroducePosition",value:function(){var e=this._getChatPosition();if(this._lastHeight)return e.height="".concat(this._lastHeight,"px"),e;var t=h.default.getComponent(p.Component.INTRODUCE);if(t){var a=t,n=a.scrollHeight+70;70===n&&this.getPositionStoreData().height&&(n=(0,i.default)(this.getPositionStoreData().height)>>0),e.height="".concat(n,"px"),a.scrollHeight&&(this._lastHeight=n)}return e}},{key:"_getMarginRight",value:function(e){var t=(0,i.default)(e);return t<300&&(t=300),t/2*-1+"px"}}]),e}());t.default=k},13106:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(54103)),o=n(a(26394)),r=n(a(69198)),l=a(56602),u=n(a(75043)).default.name("RecaptchaManager"),s=null,c=function(){function e(t){if((0,o.default)(this,e),s)return s;this.token=t,this.recaptchaWidgetIndex=null,this.grecaptcha=null,this.error=null,this.blocked=null,s=this}return(0,r.default)(e,[{key:"isBlocked",value:function(){return this.blocked}},{key:"addRecaptchaToPage",value:function(e){var t;u.log("Insertion of reCaptcha code",e);var a=(0,l.getPageWindow)(),n=a.document.head,o=a.document.createElement("script");o.async=!0,o.src="//google.com/recaptcha/api.js?render=explicit&onload=jivo_onRecaptchaLoadCallback",a.jivo_onRecaptchaLoadCallback=(0,i.default)(t=this.onLoadCallback).call(t,this),n.appendChild(o)}},{key:"onLoadCallback",value:function(){u.log("onLoadCallback"),this.grecaptcha=(0,l.getPageWindow)().grecaptcha,this.recaptchaWidgetIndex=this.grecaptcha.render({sitekey:this.token,badge:"bottomleft"})}},{key:"getToken",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"startup";u.log("getToken",{action:n}),this.grecaptcha.ready((function(){u.log("Get recaptcha token"),a.grecaptcha.execute(a.recaptchaWidgetIndex,{action:n}).catch((function(e){u.log("Execution error",e),a.error=e})).then((function(n){n?(u.log("Recaptcha token received",n),e(n)):a.error&&(t(a.error),a.error=null)}))}))}},{key:"block",value:function(){this.blocked=!0}}],[{key:"getInstance",value:function(){return s}}]),e}();t.default=c},45808:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(78914)),o=n(a(20116)),r=n(a(26394)),l=n(a(69198)),u=(n(a(75043)).default.name("RefManager"),new(function(){function e(){(0,r.default)(this,e),this.refs={},this.observers={}}return(0,l.default)(e,[{key:"set",value:function(e,t){e&&t&&(this.refs[e]=t,this._fire(e))}},{key:"get",value:function(e){if(e&&this.refs[e])return this.refs[e].base?this.refs[e].base:this.refs[e]}},{key:"getComponent",value:function(e){return this.refs[e]}},{key:"subscribe",value:function(e,t){this.observers[e]||(this.observers[e]=[]),this.observers[e].push(t)}},{key:"unsubscribe",value:function(e,t){var a;this.observers[e]=(0,o.default)(a=this.observers[e]).call(a,(function(e){if(e!==t)return e}))}},{key:"_fire",value:function(e){var t;this.observers[e]||(this.observers[e]=[]),(0,i.default)(t=this.observers[e]).call(t,(function(e){e()}))}}]),e}()));t.default=u},40372:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.AudioBufferStore=void 0;var i=n(a(86902)),o=n(a(26394)),r=n(a(69198)),l=new(function(){function e(){(0,o.default)(this,e),this.audioBuffers={},this.mp3BuffersLengths={notification:5808,agent_message:3760,outgoing_message:5014},this.oggBufferLengths={notification:6140,agent_message:6464,outgoing_message:7165}}return(0,r.default)(e,[{key:"set",value:function(e,t){this.audioBuffers[e]=t}},{key:"get",value:function(e){return this.audioBuffers[e]||null}},{key:"getReadyAudioBuffersCount",value:function(){return(0,i.default)(this.audioBuffers).length}},{key:"getReferenceBufferLength",value:function(e,t){switch(t){case"mp3":return this.mp3BuffersLengths[e];case"ogg":return this.oggBufferLengths[e]}}}]),e}());t.AudioBufferStore=l},58193:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.HTMLAudioSoundManager=void 0;var i=n(a(1068)),o=n(a(78914)),r=n(a(23765)),l=n(a(33032)),u=n(a(54103)),s=n(a(26394)),c=n(a(69198)),d=n(a(5824)),f=n(a(51379)),h=n(a(214)),p=n(a(66380)),m=a(56591),g=a(56602),v=a(33367),_=n(a(58061)),y=n(a(45808)),b=a(21224);function E(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,p.default)(e);if(t){var o=(0,p.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,h.default)(this,a)}}var w=n(a(75043)).default.name("HTMLAudioSoundManager"),C=function(e){(0,f.default)(a,e);var t=E(a);function a(e){var n,i,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,s.default)(this,a),(i=t.call(this,e,o)).touchListenerTimeout=null,i.soundNodes={},i._windowOnClicked,i._mobileHackHandler=(0,u.default)(n=i._mobileHackHandler).call(n,(0,d.default)(i)),i}return(0,c.default)(a,[{key:"initSoundPlayer",value:function(){w.log("Initialization started"),this.disabled||(this.soundNodes={agent_message:y.default.get(b.Component.SOUND_AGENT_MESSAGE),notification:y.default.get(b.Component.SOUND_NOTIFICATION),outgoing_message:y.default.get(b.Component.SOUND_OUTGOING_MESSAGE)},_.default.mobileOrTablet()&&this._addHackListeners([window.parent,window],"click",this._mobileHackHandler))}},{key:"play",value:function(e,t){var a=this;if(this.disabled)w.log('Cannot play sound "'.concat(e,'". SoundManager is disabled.'));else{var n=this.soundNodes[e];if(n&&void 0!==n.play)try{(_.default.ios()||_.default.safari())&&n.load();var i=n.play();this._promisesSupported(i)?t?i.then((function(){a._pause(e)})):i.catch((function(t){var n;a.touchListenerTimeout||(a._windowOnClicked=(0,u.default)(n=a._windowOnClicked).call(n,a,e),_.default.mobileOrTablet()&&a._removeHackListeners([window.parent,window],"click",a._mobileHackHandler),a._addHackListeners([window.parent,window],"click",a._windowOnClicked),a.touchListenerTimeout=(0,l.default)((function(){a._removeHackListeners([window.parent,window],"click",a._windowOnClicked)}),3e3))})).then():t&&this._pause(e)}catch(e){v.Monitoring.reportException(e)}}}},{key:"_pause",value:function(e){if(!this.disabled){var t=this.soundNodes[e];void 0!==t.pause&&t.pause()}}},{key:"_promisesSupported",value:function(e){return("object"===(0,r.default)(e)||"function"==typeof e)&&e.then&&"function"==typeof e.then}},{key:"_windowOnClicked",value:function(e){this.play(e),clearTimeout(this.touchListenerTimeout),this._removeHackListeners([window.parent,window],"click",this._windowOnClicked),this.touchListenerTimeout=null}},{key:"_mobileHackHandler",value:function(){this._mobileHack(),this._removeHackListeners([window.parent,window],"click",this._mobileHackHandler)}},{key:"_mobileHack",value:function(){this.play(this.sounds[1],!0)}},{key:"_addHackListeners",value:function(e,t,a){(0,o.default)(e).call(e,(function(e){return(0,g.addListener)(e,t,a)}))}},{key:"_removeHackListeners",value:function(e,t,a){(0,o.default)(e).call(e,(function(e){return(0,g.removeEvent)(e,t,a)}))}}]),a}(m.SoundManagerBase);t.HTMLAudioSoundManager=C},37139:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.SoundDownloader=void 0;var i=n(a(77766)),o=n(a(78914)),r=n(a(26394)),l=n(a(69198)),u=n(a(49043)),s=a(56602),c=a(33367),d=a(64841),f=a(40372),h=a(94515),p=n(a(75043)).default.name("SoundDownloader"),m=function(){function e(t){(0,r.default)(this,e),this.audioContext=t,this.soundValidator=new d.SoundValidator,this.exceptionReported=!1}return(0,l.default)(e,[{key:"downloadSounds",value:function(e,t){var a=this;(0,o.default)(e).call(e,(function(e){a.download(e,t)}))}},{key:"download",value:function(e,t){var a=this,n=this._getRequestParams(e,t);u.default.get(n,(function(n,i){if(n)a._handleDownloadError(n,e,t);else{var o=a.soundValidator.validate(e,t,i);if(o.success)a._decodeBuffer(i,e,t);else if(o.error){a._fallback(e,t)||(c.Monitoring.telemetryWithProbability("sound_fallback",{param1:e,param2:t,param3:"validation"},5),p.warn(o.error))}}}),{responseType:"arraybuffer"})}},{key:"_getRequestParams",value:function(e,t){var a=(h.EnvironmentManager.isDevelopment()?"/public":"")+"/sounds/".concat(e,".");return{url:(0,s.staticUrl)(a+t,!0)}}},{key:"_decodeBuffer",value:function(e,t,a){var n=this;this.audioContext.decodeAudioData(e,(function(e){f.AudioBufferStore.set(t,e)}),(function(e){n._handleDecodeBufferError(e,t,a)}))}},{key:"_handleDownloadError",value:function(e,t,a){var n,o,r;this._fallback(t,a)||(c.Monitoring.telemetryWithProbability("sound_fallback",{param1:t,param2:a,param3:"download"},5),p.warn((0,i.default)(n=(0,i.default)(o=(0,i.default)(r='Error downloading arrayBuffer for sound "'.concat(t,".")).call(r,a,'". Reason: ')).call(o,e.code," ")).call(n,e.text)))}},{key:"_handleDecodeBufferError",value:function(e,t,a){var n,o;this._fallback(t,a)||(c.Monitoring.telemetryWithProbability("sound_fallback",{param1:t,param2:a,param3:"decode"},5),p.warn((0,i.default)(n=(0,i.default)(o='Error decoding arrayBuffer for sound "'.concat(t,".")).call(o,a,'". Reason: ')).call(n,e)))}},{key:"_fallback",value:function(e,t){var a=this._getFallbackExtension(t);return!!a&&(c.Monitoring.telemetryWithProbability("sound_fallback",{param1:e,param2:t,param3:"fallback"},5),this.download(e,a),!0)}},{key:"_getFallbackExtension",value:function(e){switch(e){case"mp3":return"ogg";default:return null}}},{key:"_reportErrorMessageOnce",value:function(e){this.exceptionReported||((0,s.reportException)(e),this.exceptionReported=!0)}}]),e}();t.SoundDownloader=m},56591:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.SoundManagerBase=void 0;var i=n(a(26394)),o=n(a(69198)),r=n(a(75043)).default.name("SoundManagerBase"),l=function(){function e(t,a){(0,i.default)(this,e),this.disabled=a,this.sounds=t}return(0,o.default)(e,[{key:"initSoundPlayer",value:function(){r.log("initSoundPlayer method is NOT implemented!")}},{key:"enableSoundPlayer",value:function(){this.disabled=!1}},{key:"disableSoundPlayer",value:function(){this.disabled=!0}},{key:"play",value:function(e){r.log("play method is NOT implemented!")}}]),e}();t.SoundManagerBase=l},64841:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.SoundValidator=void 0;var i=n(a(77766)),o=n(a(26394)),r=n(a(69198)),l=a(40372),u=function(){function e(){(0,o.default)(this,e)}return(0,r.default)(e,[{key:"validate",value:function(e,t,a){var n,o,r,u,s;return a?a instanceof ArrayBuffer?this._isValidBufferLength(e,t,a)?{success:!0,error:null}:{success:!1,error:new Error((0,i.default)(r=(0,i.default)(u=(0,i.default)(s='ArrayBuffer byteLength for sound "'.concat(e,".")).call(s,t,'" is ')).call(u,a.byteLength,", should be ")).call(r,l.AudioBufferStore.getReferenceBufferLength(e,t),"."))}:{success:!1,error:new Error((0,i.default)(o='ArrayBuffer for sound "'.concat(e,".")).call(o,t,'" is not an instance of ArrayBuffer.'))}:{success:!1,error:new Error((0,i.default)(n='No arrayBuffer for sound "'.concat(e,".")).call(n,t,'"'))}}},{key:"_isValidBufferLength",value:function(e,t,a){return a.byteLength===l.AudioBufferStore.getReferenceBufferLength(e,t)}}]),e}();t.SoundValidator=u},81688:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.WebAudioSoundManager=void 0;var i=n(a(1068)),o=n(a(26394)),r=n(a(69198)),l=n(a(51379)),u=n(a(214)),s=n(a(66380)),c=a(56591),d=a(33367),f=n(a(58061)),h=n(a(75043)),p=a(37139),m=a(40372);function g(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,u.default)(this,a)}}var v=h.default.name("WebAudioSoundManager"),_=function(e){(0,l.default)(a,e);var t=g(a);function a(e){var n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,o.default)(this,a),(n=t.call(this,e,i)).audioContext=null,n.soundDownloader=null,n}return(0,r.default)(a,[{key:"initSoundPlayer",value:function(){if(v.log("Initialization started"),!this.disabled&&!this._checkIfIsInitialized()){var e=f.default.firefox()?"ogg":"mp3";this.audioContext=this._createAudioContext(),this.soundDownloader=new p.SoundDownloader(this.audioContext),this.soundDownloader.downloadSounds(this.sounds,e)}}},{key:"play",value:function(e){var t=this;!this.disabled&&this._checkIfIsInitialized()?(this.audioContext||(v.log("AudioContext was created on play"),this.audioContext=this._createAudioContext()),"suspended"===this.audioContext.state?this.audioContext.resume().then((function(){v.log("AudioContext was resumed"),t._startBufferAudio(e)})):this._startBufferAudio(e)):v.log('Cannot play sound "'.concat(e,'". SoundManager is either disabled or is not initialized.'))}},{key:"_createAudioContext",value:function(){v.log("Creating AudioContext");try{var e=window.AudioContext||window.webkitAudioContext;if(e)return new e}catch(e){var t=new Error("Exception during the creation of audio context. ".concat(e.message));return d.Monitoring.reportException(t),this.disableSoundPlayer(),null}}},{key:"_startBufferAudio",value:function(e){var t=m.AudioBufferStore.get(e);if(t){var a=this.audioContext.createBufferSource();if(a)a.buffer=t,a.connect(this.audioContext.destination),a.start();else{var n=new Error('Error creating buffer source for sound "'.concat(e,'".'));d.Monitoring.reportException(n),this.disableSoundPlayer()}}else{var i=new Error('Error there is no audiobuffer for sound "'.concat(e,'".'));d.Monitoring.reportException(i),this.disableSoundPlayer()}}},{key:"_checkIfIsInitialized",value:function(){return this.sounds.length===m.AudioBufferStore.getReadyAudioBuffersCount()&&(this.soundDownloader=null,!0)}}]),a}(c.SoundManagerBase);t.WebAudioSoundManager=_},44992:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=t.WebAudioDisabled=t.Sounds=void 0;var i=n(a(58061)),o=a(17674),r=a(85442),l=a(81688),u=a(58193),s=(n(a(75043)).default.name("SoundManager index"),i.default.operaMini()||o.Router.getCurrentRoute()===r.Route.HIDDEN),c=["agent_message","notification","outgoing_message"];t.Sounds=c;var d=!function(){if(!i.default.mobileOrTablet()||!window.AudioContext&&!window.webkitAudioContext||i.default.ieOrEdge())return!1;var e=window.AudioContext||window.webkitAudioContext;try{return(new e).close(),!0}catch(e){return!1}}();t.WebAudioDisabled=d;var f=d?new u.HTMLAudioSoundManager(c,s):new l.WebAudioSoundManager(c,s);t.default=f},41829:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(31581)),o=n(a(26394)),r=n(a(69198)),l=n(a(75119)),u=a(56602),s=n(a(75043)).default.name("TitleManager"),c=new(function(){function e(t,a){(0,o.default)(this,e),this.originalTitle=t,this.jivoTitle=a,this.titleShown=!1,this.timer=null}return(0,r.default)(e,[{key:"getTitle",value:function(){return(0,u.getPageWindow)().document.title}},{key:"startBlinking",value:function(){var e=this;clearInterval(this.timer),this.timer=(0,i.default)((function(){var t;e.titleShown?t=e.originalTitle:(e.originalTitle=e.getTitle(),t=e.jivoTitle),e.changeTitle(t),e.titleShown=!e.titleShown}),1e3)}},{key:"stopBlinking",value:function(){clearInterval(this.timer);var e=this.getTitle();e!==this.originalTitle&&e!==this.jivoTitle&&(this.originalTitle=e),this.changeTitle(this.originalTitle),this.titleShown=!1}},{key:"changeTitle",value:function(e){(0,u.getPageWindow)().document.title=e,s.log("Title changed to:",e)}}]),e}())((0,u.getPageWindow)().document.title,(0,l.default)("lblNewMessage"));t.default=c},11017:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(26394)),o=n(a(69198)),r=n(a(62904)),l=n(a(26936)),u=(n(a(75043)).default.name("TransitionManager"),function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,null,[{key:"getEmptyTransition",value:function(){return l.default.NoTransition}},{key:"getTransitionByName",value:function(e){return"function"==typeof l.default[e]?l.default[e](function(){var e=window.parent.document.getElementById("jvlabelWrap");if(e){if("bottom"===r.default.widget_orientation)return{marginRight:e.style.marginRight,width:e.offsetWidth,height:e.offsetHeight};if("right"===r.default.widget_orientation)return{marginBottom:e.style.marginBottom,height:e.offsetWidth,width:e.offsetWidth};if("left"===r.default.widget_orientation)return{marginBottom:e.style.marginBottom,height:e.offsetWidth,width:e.offsetWidth}}return 0}()):l.default[e]}}]),e}());t.default=u},82207:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(94198)),o=n(a(54103)),r=n(a(26394)),l=n(a(69198)),u=a(56602),s=a(81189),c=n(a(62107)),d=n(a(45808)),f=a(21224),h=a(10872),p=n(a(58061)),m=a(57018),g=n(a(75043)).default.name("WindowResizeManager"),v=null,_=function(){function e(){if((0,r.default)(this,e),g.warn("constructor!!!"),v)return v;var t;this.handler=c.default.throttle((0,o.default)(t=this.resizeHandler).call(t,this),100),(0,u.addListener)((0,u.getPageWindow)(),"resize",this.handler),v=this}return(0,l.default)(e,[{key:"destroy",value:function(){g.log("destroy"),(0,u.removeEvent)((0,u.getPageWindow)(),"resize",this.handler)}},{key:"resizeHandler",value:function(){g.log("resizeHandler");var e=d.default.get(f.Component.WIDGET_CONTAINER);if(e){var t=(0,i.default)((0,h.getProperty)("right",e))||0,a=(0,i.default)((0,h.getProperty)("left",e))||0,n=(0,i.default)((0,h.getProperty)("height",e))||0,o=t+a+336+28,r=(0,u.getPageWindow)().document.body.clientWidth,l=(0,u.getPageWindow)().innerHeight-30;if(o>r)s.positionDispatchers.initializePositionStore({height:n>l?l<m.MINIMAL_WIDGET_HEIGHT?"".concat(m.MINIMAL_WIDGET_HEIGHT,"px"):"".concat(l,"px"):"".concat(n,"px"),left:this.getNewValue(a,o,r,40),right:this.getNewValue(t,o,r,30)});else if(n>l){var c=l<m.MINIMAL_WIDGET_HEIGHT?"".concat(m.MINIMAL_WIDGET_HEIGHT,"px"):"".concat(l,"px");s.positionDispatchers.setWidgetPositionHeight(c)}p.default.safari()&&!p.default.mobileOrTablet()&&(0,h.updateKeyframes)(e)}}},{key:"getNewValue",value:function(e,t,a,n){if(!e)return null;var i=e-(t-a);return i<n&&(i=n),"".concat(i,"px")}}],[{key:"getInstance",value:function(){return v}}]),e}();t.default=_},76822:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.checkAlone=c,t.replaceEmoji=d,t.formatText=function(e,t){var a=e;if(!a)return e;"proactive"!==t[0].get("type")&&(a=r.default.escape(a));return a=(a=a.replace(/(?:\r\n|\r|\n)/g,"<br />")).replace(u.default.getRegExp()," $& "),a=(0,s.default)(a),a=l.default.disable_emoji?a:d(a)};var i=n(a(59748)),o=n(a(59748)),r=n(a(62107)),l=n(a(62904)),u=n(a(77244)),s=n(a(17889));function c(e){var t=!1,a=0,n=u.default.parse(e,(function(){return a++,""})).match(/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g);return 1!==a||n||(t=!0),t}function d(e){var t=c(e);return u.default.replace(e,(function(e){var a=u.default.toCodePoint(e),n=document.createElement("jdiv");return o.default.render(i.default.createElement(u.default,{icon:a,alone:t,className:"emojiMessages",style:{}}),n),n.childNodes[0].outerHTML}))}},85870:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.checkRoute=E,t.updateHistory=function(e){b.log("updateHistory",e,r.default.started),r.default.lastMsgId!==e.last_msg_id?(b.log("updateHistory on resume_ok"),C(e,(function(e){b.log("new history data",e),r.default.started?(e.messages&&e.messages.length&&(T(e.messages),k(e.messages)),E()):w()}))):r.default.started||w()},t.getMsgHistory=C,t.deleteMessagesFromHistory=T,t.updateEditedMessages=k;var i=n(a(78914)),o=n(a(20116)),r=n(a(62652)),l=a(66434),u=a(17674),s=a(85442),c=n(a(99357)),d=n(a(49173)),f=a(8565),h=a(33367),p=a(63242),m=n(a(47321)),g=n(a(75043)),v=a(81189),_=n(a(81574)),y=a(66707),b=g.default.name("MessageHistory");function E(){r.default.route===s.Route.CHAT&&(c.default.getCurrentChatMessages().length||r.default.chat_started||u.Router.next(s.RouterEvent.Navigate))}var w=function(){y.cssLoader.subscribe((function(){_.default.getInstance().start()}),(function(){_.default.getInstance().stop()}))};function C(e,t){b.log("getMsgHistory",e),e&&e.last_msg_id>r.default.lastMsgId&&(b.log("start get new history"),d.default.getHistoryMessages("messages",{},(function(a,n){var u;if(a)!function(e,t){b.log("handleError",e),t(),h.Monitoring.telemetry(p.TelemetryName.API_GET_MESSAGES_ERROR,{param1:e.code}),b.log("error: ",e)}(a,t);else if(b.log("receive new history",n),n&&n.result){var s=n.result;u=s.chat_opened,b.log("handleChatOpened",u),r.default.chat_started=u||!1,u||(c.default.closeChat(),r.default.chat_accepted=!1,m.default.setDepartmentId(null)),function(e){if(b.log("handleMessages",e),e&&e.length){var t=function(){b.log("getLastMessage");var e=(0,o.default)(c.default).call(c.default,(function(e){var t=e.get("from");return(t===f.MessageInitiator.CLIENT||t===f.MessageInitiator.AGENT)&&e.get("msg_id")}));return e[e.length-1]}(),a=function(e){b.log("getLastMessageId",e);var t=e?e.get("msg_id"):null;e||(e=c.default.getLastProactive())&&(t=e.get("msg_id"));return t}(t),n=(0,o.default)(e).call(e,(function(e){var n=(0,l.filterMessage)(e);return e.type===f.MessageType.PROACTIVE&&t&&t.get("type")===f.MessageType.PROACTIVE&&t.destroy(),n&&a!==e.msg_id}));(0,i.default)(n).call(n,(function(e){if(e.deleted)e.status=f.MessageStatus.DELETED;else{b.log("add item from history",e);var t=1e3*e.created_ts,a=1e3*e.updated_ts;e.created_ts=new Date(t),e.updated_ts&&(e.updated_ts=new Date(a))}})),v.messagesDispatchers.addMessages(n),h.Monitoring.telemetry(p.TelemetryName.API_GET_MESSAGES_RECEIVED)}}(s.messages),T(s.messages),r.default.lastMsgId=e.last_msg_id,t(s)}else b.error("Empty history data")})))}function T(e){var t=(0,o.default)(e).call(e,(function(e){return e.deleted}));t.length&&(0,i.default)(t).call(t,(function(e){var t=c.default.getMessageById(e.msg_id);t&&(t.set("status",f.MessageStatus.DELETED),t.set("type",f.MessageType.MESSAGE),t.set("body",null))}))}function k(e){var t=(0,o.default)(e).call(e,(function(e){return!e.deleted}));t.length&&(0,i.default)(t).call(t,(function(e){var t=c.default.getMessageById(e.msg_id);t&&e.updated_ts&&(t.set("updated_ts",1e3*e.updated_ts),t.set("text",e.text))}))}},77347:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.cleanTempProactive=function(){var e;_.log("cleanTempProactive");var t=s.default.getTmpProactive(),a=s.default.getLastMessage(),n=a.get("from"),i=h.MessageInitiator.AGENT,o=h.MessageInitiator.CLIENT,l=h.MessageInitiator.FORM;t&&t.get("body")&&t.get("body").unsave&&-1!==(0,r.default)(e=[i,o,l]).call(e,n)&&t!==a&&(t.destroy(),c.default.destroy(),d.default.reload(),d.default.agent_id=0);(0,f.prechatEnabled)()&&s.default.getClientMessages()&&s.default.getClientMessages().length&&p.messageActions.deletePrechatMsg()},t.getMessagesGroup=b,t.getScrollToFormState=function(e){var t=s.default.getFormMessage(),a=s.default.getFormIntroduceText();if(t.length){if(a.length){var n=e?(0,u.default)("lblIntroduceRequest"):(0,u.default)("offlineIntroductionText");a[0].set("created_ts",(new Date).getTime()),a[0].set("text",n)}return t[0].set("created_ts",(new Date).getTime()),(0,i.default)(s.default).call(s.default),m.Monitoring.telemetry(g.TelemetryName.CHAT_INTRODUCE,{param1:"btnform"}),{hideScrollButton:!0,messagesGroups:b()}}};var i=n(a(47302)),o=n(a(51942)),r=n(a(81643)),l=n(a(62107)),u=n(a(75119)),s=n(a(99357)),c=n(a(67966)),d=n(a(69961)),f=a(92097),h=a(8565),p=a(75245),m=a(33367),g=a(63242),v=a(81189),_=n(a(75043)).default.name("MessagesMainUtils"),y=!1;function b(){var e,t,a,n,i,u=[],f=0,p=s.default.getLastProactive(),m=s.default.getLastMessage();if(c.default.get("text")&&!y){var g={from:h.MessageInitiator.AGENT,from_id:d.default&&d.default.agent_id,status:h.MessageStatus.READ,private_id:c.default.get("private_id"),text:c.default.get("text"),created_ts:c.default.get("created_ts"),type:h.MessageType.PROACTIVE,body:{unsave:!0}};d.default.bot_id&&(g.from_id=d.default.bot_id,g.from=h.MessageType.BOT),v.messagesDispatchers.addMessage(g),y=!0}else if(p&&p.get("body")&&p.get("body").unsave&&(m.get("from")===h.MessageInitiator.CLIENT||m.get("from")===h.MessageInitiator.AGENT)&&p!==m){var _=(0,o.default)({},p.toJSON());_.body=d.default,v.messagesDispatchers.addMessage(_),p.destroy(),c.default.destroy()}if(l.default.each(s.default.getAll(),(function(i){var o=i.toJSON(),s=new Date(o.created_ts),c=!1;!t||t.getMonth()===s.getMonth()&&t.getDate()===s.getDate()||(c=!0),"message"!==o.type||-1!==(0,r.default)(l.default).call(l.default,["cobrowse","media","invoice"],a)||o.from!==e||o.from_id!==n||c?(c&&(u.push([{type:h.MessageType.SEPARATOR,time:s.getTime(),from:h.MessageInitiator.SYSTEM}]),f++),u.push([i])):u[u.length-1].push(i),e=o.from,a=o.type,n=o.from_id,t=s})),s.default.store.length>0&&u.length>0){var b=u[0][0].get("created_ts"),E=(i=b,Math.round(Math.abs((i-(new Date).getTime())/864e5)));(f>0||E>=1)&&u.unshift([{type:h.MessageType.SEPARATOR,time:b,from:h.MessageInitiator.SYSTEM}])}return u}},33367:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.Monitoring=void 0;var i=n(a(59340)),o=n(a(26394)),r=n(a(69198)),l=a(27303),u=a(94515),s=a(56602),c=(n(a(75043)).default.name("Monitoring"),new(function(){function e(){(0,o.default)(this,e),this.reportedTelemetry={},this.provider=new l.MonitoringProvider}return(0,r.default)(e,[{key:"init",value:function(){var e=arguments,t=this;window.onerror=function(a,n,o,r,l){!l&&(l={}),(window||e||"function"==typeof t.reportException)&&t.reportException({message:a,lineNumber:o,fileName:(0,s.getBundleSrc)()+"&v="+u.EnvironmentManager.getVersion(),columnNumber:r,stack:(0,i.default)(l.stack||l.stacktrace||l)})}}},{key:"reportException",value:function(e){this.provider.reportException(e)}},{key:"telemetry",value:function(e,t){this.provider.telemetry(e,t),!0!==this.reportedTelemetry[e]&&(this.reportedTelemetry[e]=!0)}},{key:"telemetryOnce",value:function(e,t){!0!==this.reportedTelemetry[e]&&this.telemetry(e,t)}},{key:"telemetryWithProbability",value:function(e,t,a){var n=this;this._invokeWithProbability((function(){n.telemetry(e,t)}),a)}},{key:"_invokeWithProbability",value:function(e,t){Math.random()<=.01*t&&e()}},{key:"isTelemetryReported",value:function(e){return!0===this.reportedTelemetry[e]}}]),e}()));t.Monitoring=c},27303:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.MonitoringProvider=void 0;var i=n(a(81643)),o=n(a(77766)),r=n(a(23765)),l=n(a(26394)),u=n(a(69198)),s=n(a(62904)),c=n(a(36216)),d=n(a(58061)),f=n(a(49043)),h=a(56602),p=n(a(27371)),m=n(a(9805)),g=a(94515),v=n(a(75043)),_=v.default.name("MonitoringProvider"),y=function(){function e(){(0,l.default)(this,e),this.lastTelemetry=[],this.errorSentCnt=0}return(0,u.default)(e,[{key:"reportException",value:function(e){if(m.default.getInstance()&&m.default.getInstance().saveException(e),!g.EnvironmentManager.isProduction()||s.default.disable_error_reporting||d.default.googleBot()||d.default.yandexBot())_.warn("REPORT",e);else{if(++this.errorSentCnt>3)return;try{this.reportError(e)}catch(e){_.error(e.message)}}}},{key:"reportError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,a={url:(0,h.getProtocol)()+"//err.jivosite.com/widget",params:{widget:"true",widget_id:s.default.widget_id,widget_version:g.EnvironmentManager.getVersion(),level:t,url:(0,h.getCurrentPage)().url,client_id:c.default.client_id?c.default.client_id.split(".")[0]:null,user_agent:navigator.userAgent,lineNumber:e.lineNumber,fileName:e.fileName,column:e.columnNumber,full_message:this.getStack(e.message,e.stack),short_message:e.message,device:d.default.getDevice(),shard:this.getShard()},headers:{"Content-Type":"application/json"}},n=f.default.post(a,(function(e,t){_.log("Error reported:",e,t)}),{monitoring:!0});_.log(a,n)}},{key:"telemetry",value:function(e,t){if(this.saveTelemetry(e),!s.default.disable_telemetry&&!d.default.googleBot())if("object"==(0,r.default)(t)&&t||(t={}),t.event=e,t.widget_id=s.default.widget_id,t.chat_mode=s.default.chat_mode,t.site_id=s.default.site_id,t.device=d.default.getDevice(),t.visitor_id=c.default.visitorId,t.widget_version=g.EnvironmentManager.getVersion(),t.shard=this.getShard(),p.default.getActiveTest()&&(t.abtest_name=p.default.getActiveTestName(),t.abtest_group=p.default.getActiveTestGroup()),c.default.client_id&&(t.client_id=c.default.client_id.split(".")[0]),g.EnvironmentManager.isProduction())try{f.default.get({url:(0,h.getProtocol)()+"//telemetry.jivosite.com/w",params:t},(function(){}),{monitoring:!0})}catch(e){_.log(e)}else _.log("TELEMETRY",t)}},{key:"saveTelemetry",value:function(e){5===this.lastTelemetry.length&&this.lastTelemetry.shift(),this.lastTelemetry.push(e.substr(0,60))}},{key:"getStack",value:function(e,t){if("Script error."==e)return t;var a,n,i=v.default.lastLog.join("\r\n");return"{}"!=t&&""!=t&&t?"Uncaught TypeError: undefined is not a function"==e?(0,o.default)(n="".concat(t," \r\n ")).call(n,i):t.replace(/(?:\\[n])+/,"\r\n"):(0,o.default)(a="Custom stack: \r\n".concat(i,"\r\n\r\n")).call(a,this.lastTelemetry.join("\r\n"))}},{key:"getShard",value:function(){var e=s.default.base_url;return-1!==(0,i.default)(e).call(e,"jvs")?"jvs":-1!==(0,i.default)(e).call(e,"ru1")?"ru1":-1!==(0,i.default)(e).call(e,"ya")?"ya":"main"}}]),e}();t.MonitoringProvider=y},23586:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;n(a(75043)).default.name("Polyfill");var i={init:function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(window.document||window.ownerDocument).querySelectorAll(e),a=t.length;--a>=0&&t.item(a)!==this;);return a>-1}),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null})}};t.default=i},92097:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.prechatEnabled=t.prechatSetUsed=t.prechatUsed=void 0;var i=n(a(62904)),o=n(a(62652)),r=(n(a(75043)).default.name("Prechat"),!1);t.prechatUsed=function(){return r};t.prechatSetUsed=function(e){r=e};t.prechatEnabled=function(){return i.default.options&&i.default.enable_prechat&&o.default.is_online&&!i.default.maintenance}},18750:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(81643)),o=n(a(2991)),r=n(a(23765)),l=n(a(26394)),u=n(a(69198)),s=a(33367),c=n(a(49173)),d=n(a(36216)),f=n(a(62107)),h=a(63242),p=n(a(75043)).default.name("Proactive"),m=new(function(){function e(){(0,l.default)(this,e),this.agents=null,this.departments=null}return(0,u.default)(e,[{key:"getActiveAgent",value:function(e){var t=this;p.log("getActiveAgent"),c.default.getStatus((function(a,n){t.parseStatus(a,n,e)}))}},{key:"parseStatus",value:function(e,t,a){if(e)s.Monitoring.telemetry(h.TelemetryName.WIDGET_STATUS,{param1:e.code}),this.agents=null,this.departments=null,a(!1);else{var n=d.default.pa_id;d.default.assigned_agent_id&&(n=d.default.assigned_agent_id),a(this.getAgent(t,n,d.default.department_id))}}},{key:"getAgent",value:function(e,t,a){var n=e.departments;if(p.log("parseStatus",e,t,a),e.bots)return e.bots[0];if(this.agents=e.bots||e.agents,this.departments=n,this.agents.length){if(a&&"object"===(0,r.default)(n)&&a in n){var i=this.departments[a],o=this.getOnlineAgentInDep(t,i.agents);if(o)return o;var l=this.getRandomOnlineAgentFromDep(i.agents);return p.log("dep agent: ",l),l||!1}var u=this.getAgentById(t);if(u)return u;var s=this.getRandomAgent(this.agents.length-1);return s||!1}return!1}},{key:"getRandomAgent",value:function(e){return this.agents[this.randomInt(0,e)]}},{key:"randomInt",value:function(e,t){var a=e+Math.random()*(t+1-e);return Math.floor(a)}},{key:"getAgentById",value:function(e){return f.default.findWhere(this.agents,{agent_id:e})}},{key:"getRandomAgentIdByArray",value:function(e){return e[1===e.length?0:this.randomInt(0,e.length-1)]}},{key:"getOnlineIds",value:function(){var e;return(0,o.default)(e=this.agents).call(e,(function(e){return e.agent_id}))}},{key:"getOnlineInDep",value:function(e){var t=this.getOnlineIds();return f.default.intersection(t,e)}},{key:"getOnlineAgentInDep",value:function(e,t){var a=this.getOnlineInDep(t);if(a.length&&-1!==(0,i.default)(a).call(a,e))return this.getAgentById(e)}},{key:"getRandomOnlineAgentFromDep",value:function(e){if(this.getOnlineInDep(e).length){var t=this.getRandomAgentIdByArray(e);return this.getAgentById(t)}return!1}}]),e}());t.default=m},70645:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.withLocator=void 0;var n=a(94515);t.withLocator=function(e){return e&&!n.EnvironmentManager.isProduction()?{"data-qa-id":e}:{}}},17674:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.Router=void 0;var i,o,r,l,u,s,c,d,f,h,p,m,g,v,_,y=n(a(87672)),b=n(a(33032)),E=n(a(81643)),w=n(a(68415)),C=n(a(62652)),T=n(a(62904)),k=n(a(36216)),S=n(a(62107)),I=n(a(99357)),x=n(a(58061)),A=(n(a(6991)),a(85442)),M=a(36143),R=a(33367),N=a(63242),O=a(81189),D=n(a(82207)),L=n(a(45808)),P=a(10872),j=a(21224),B=a(23582),F=n(a(75959)),H=n(a(75043)).default.name("Router");I.default.on("update",S.default.debounce((function(){M.RouterUtils.needToShowEvaluation()&&W.getCurrentRoute()!==A.Route.CHAT_INTRODUCE&&W.getCurrentRoute()!==A.Route.CHAT_EVAL&&(H.log("messages store update to eval"),W.next(A.RouterEvent.ToEval))}),200));var W=new w.default({namespace:"ROUTER",initialState:C.default.route,eulaContext:{},debugClicks:0,clickTimer:null,getCurrentRoute:function(){return this.state},isContainerRoute:function(){var e;return-1===(0,E.default)(e=[A.Route.LABEL,A.Route.LABEL_INVITATION,A.Route.HIDDEN]).call(e,this.state)},isChatRoute:function(){var e;return-1!==(0,E.default)(e=[A.Route.CHAT,A.Route.CHAT_INTRODUCE,A.Route.CHAT_EVAL,A.Route.INTRODUCE,A.Route.DEPARTMENTS]).call(e,this.state)},isChatPrevRoute:function(e){var t;return-1!==(0,E.default)(t=[A.Route.CHAT,A.Route.CHAT_CALL,A.Route.CHAT_EVAL,A.Route.INTRODUCE,A.Route.DEPARTMENTS]).call(t,e)},isChatInputRoute:function(e){var t;return-1!==(0,E.default)(t=[A.Route.CHAT,A.Route.CHAT_CALL,A.Route.CHAT_EVAL]).call(t,e)},isIgnoreDragHeightRoute:function(){var e;return-1!==(0,E.default)(e=[A.Route.CALL,A.Route.INTRODUCE,A.Route.CALL_EULA]).call(e,this.state)},isMinRoute:function(){return this.state===A.Route.CHAT_MIN},isChatClosedRoute:function(){var e;return-1!==(0,E.default)(e=[A.Route.LABEL,A.Route.CHAT_MIN]).call(e,this.state)},isFormRoute:function(){var e;return-1!==(0,E.default)(e=[A.Route.INTRODUCE]).call(e,this.state)},isHideAvatarRoute:function(){var e;return-1!==(0,E.default)(e=[A.Route.INTRODUCE,A.Route.DEPARTMENTS]).call(e,this.state)},getPrevRoute:function(){return this.priorState},needToShowIntroduceForm:function(){return!k.default.is_introduced&&1===T.default.contacts_ask},setNext:function(e){H.warn("setNext route:",e),this.transition(e)},getPrevEvent:function(){return this._priorAction},next:function(e,t){H.warn("next",e,"from",this.state),e&&this.handle(e,t)},_navToChat:function(){C.default.is_online?"cw_wait"===k.default.cw_call.status?this.transition(A.Route.CHAT_CALL):M.RouterUtils.needToShowIntroduceForm()?this.transition(A.Route.INTRODUCE):M.RouterUtils.showDepartmentsIfPossible()?this.transition(A.Route.DEPARTMENTS):M.RouterUtils.needToShowEvaluation()?this.transition(A.Route.CHAT_EVAL):this.transition(A.Route.CHAT):C.default.is_online||("cw_wait"===k.default.cw_call.status?this.transition(A.Route.CHAT_CALL):M.RouterUtils.showDepartmentsIfPossible()?this.transition(A.Route.DEPARTMENTS):M.RouterUtils.needToShowIntroduceForm()&&B.FeatureManager.isEnabled(B.Feature.OLD_CAPTCHA)?this.transition(A.Route.INTRODUCE):this.transition(A.Route.CHAT))},_navToChatFromChatMin:function(){C.default.show_container=!0,this.priorState===A.Route.CHAT_EULA&&!C.default.eula_accepted?this.transition(A.Route.CHAT_EULA):M.RouterUtils.needToShowEvaluation()?this.transition(A.Route.CHAT_EVAL):this.transition(A.Route.CHAT)},_debugClicked:function(){var e=this;clearTimeout(this.clickTimer),this.debugClicks++,this.debugClicks>7&&(this.debugClicks=0,this.transition(A.Route.DEBUG),R.Monitoring.telemetryOnce(N.TelemetryName.DEBUG_PANEL_OPENED)),this.clickTimer=(0,b.default)((function(){e.debugClicks=0}),1e3)},states:(_={},(0,y.default)(_,A.Route.HIDDEN,{_onEnter:function(){this.trigger("route_change",A.Route.HIDDEN);var e=D.default.getInstance();e&&e.destroy()}}),(0,y.default)(_,A.Route.LABEL,(i={_onEnter:function(){this.trigger("route_change",A.Route.LABEL)}},(0,y.default)(i,A.RouterEvent.Hide,(function(){this.transition(A.Route.HIDDEN)})),(0,y.default)(i,A.RouterEvent.ToCall,(function(){!k.default.is_introduced&&B.FeatureManager.isEnabled(B.Feature.OLD_CAPTCHA)?this.transition(A.Route.INTRODUCE):this.transition(A.Route.CALL)})),(0,y.default)(i,A.RouterEvent.ToChat,(function(){this.transition(A.Route.CHAT)})),(0,y.default)(i,A.RouterEvent.ApiOpen,(function(){this._navToChat()})),(0,y.default)(i,A.RouterEvent.Navigate,(function(){this._navToChat()})),(0,y.default)(i,A.RouterEvent.ToLabelInvitation,(function(){this.transition(A.Route.LABEL_INVITATION)})),i)),(0,y.default)(_,A.Route.LABEL_INVITATION,(o={_onEnter:function(){this.trigger("route_change",A.Route.LABEL_INVITATION)}},(0,y.default)(o,A.RouterEvent.Hide,(function(){this.transition(A.Route.HIDDEN)})),(0,y.default)(o,A.RouterEvent.ToCall,(function(){this.transition(A.Route.CALL)})),(0,y.default)(o,A.RouterEvent.ApiOpen,(function(){this._navToChat()})),(0,y.default)(o,A.RouterEvent.Navigate,(function(){this._navToChat()})),(0,y.default)(o,A.RouterEvent.CloseWindow,(function(){this.transition(A.Route.LABEL)})),o)),(0,y.default)(_,A.Route.DEPARTMENTS,(r={_onEnter:function(){this.trigger("route_change",A.Route.DEPARTMENTS)}},(0,y.default)(r,A.RouterEvent.CloseWindow,(function(){this.transition(A.Route.LABEL)})),(0,y.default)(r,A.RouterEvent.ToCall,(function(){x.default.mobileOrTablet()?this.transition(A.Route.CALL):this.transition(A.Route.CHAT_CALL),R.Monitoring.telemetry(N.TelemetryName.CW_ONLINE_HEADER_BUTTON)})),(0,y.default)(r,A.RouterEvent.Hide,(function(){this.transition(A.Route.HIDDEN)})),(0,y.default)(r,A.RouterEvent.Navigate,(function(){M.RouterUtils.needToShowIntroduceForm()&&0===I.default.store.length?this.transition(A.Route.INTRODUCE):this.transition(A.Route.CHAT)})),(0,y.default)(r,A.RouterEvent.ToDebug,(function(){this._debugClicked()})),r)),(0,y.default)(_,A.Route.INTRODUCE,(l={_onEnter:function(){this.trigger("route_change",A.Route.INTRODUCE)}},(0,y.default)(l,A.RouterEvent.Submit,(function(){M.RouterUtils.needToShowEula()?this.transition(A.Route.CHAT_EULA):(this.transition(A.Route.CHAT),this.trigger("submit_eula_success",A.Route.INTRODUCE))})),(0,y.default)(l,A.RouterEvent.ToCall,(function(){this.transition(A.Route.CALL)})),(0,y.default)(l,A.RouterEvent.CloseWindow,(function(){this.transition(A.Route.LABEL)})),(0,y.default)(l,A.RouterEvent.Hide,(function(){this.transition(A.Route.HIDDEN)})),(0,y.default)(l,A.RouterEvent.ToDebug,(function(){this._debugClicked()})),l)),(0,y.default)(_,A.Route.MOBILEMENU,(u={_onEnter:function(){this.trigger("route_change",A.Route.MOBILEMENU)}},(0,y.default)(u,A.RouterEvent.ToCall,(function(){this.transition(A.Route.CALL)})),(0,y.default)(u,A.RouterEvent.CloseWindow,(function(){this.transition(A.Route.LABEL)})),(0,y.default)(u,A.RouterEvent.Hide,(function(){this.transition(A.Route.HIDDEN)})),(0,y.default)(u,A.RouterEvent.Navigate,(function(){M.RouterUtils.needToShowIntroduceForm()?this.transition(A.Route.INTRODUCE):M.RouterUtils.showDepartmentsIfPossible()?this.transition(A.Route.DEPARTMENTS):this.transition(A.Route.CHAT)})),u)),(0,y.default)(_,A.Route.CHAT,(s={_onEnter:function(){this.trigger("route_change",A.Route.CHAT)}},(0,y.default)(s,A.RouterEvent.Submit,(function(e){e&&e.from&&e.from!==this.state||(M.RouterUtils.needToShowEula()?(e&&(this.eulaContext={link:e.link,context:e.context}),this.transition(A.Route.CHAT_EULA)):this.trigger("submit_success"))})),(0,y.default)(s,A.RouterEvent.ToCall,(function(){x.default.mobileOrTablet()?this.transition(A.Route.CALL):this.transition(A.Route.CHAT_CALL),R.Monitoring.telemetry(N.TelemetryName.CW_ONLINE_HEADER_BUTTON)})),(0,y.default)(s,A.RouterEvent.ToIntroduce,(function(){k.default.is_introduced||1!==T.default.contacts_ask?this._navToChat():this.transition(A.Route.INTRODUCE)})),(0,y.default)(s,A.RouterEvent.ToSocial,(function(){this.transition(A.Route.CHAT_SOCIAL)})),(0,y.default)(s,A.RouterEvent.ToEval,(function(){this.transition(A.Route.CHAT_EVAL)})),(0,y.default)(s,A.RouterEvent.CloseWindow,(function(){this.transition(M.RouterUtils.getRouteChatMin())})),(0,y.default)(s,A.RouterEvent.Hide,(function(){this.transition(A.Route.HIDDEN)})),(0,y.default)(s,A.RouterEvent.ToEula,(function(e){e&&M.RouterUtils.needToShowEula()&&(this.eulaContext={link:e.link,context:e.context},this.transition(A.Route.CHAT_EULA))})),(0,y.default)(s,A.RouterEvent.ToDebug,(function(){this._debugClicked()})),s)),(0,y.default)(_,A.Route.CHAT_MIN,(c={_onEnter:function(){C.default.show_container=!0,this.trigger("route_change",A.Route.CHAT_MIN)}},(0,y.default)(c,A.RouterEvent.ToChat,(function(){M.RouterUtils.needToShowEvaluation()?this.transition(A.Route.CHAT_EVAL):this.transition(A.Route.CHAT)})),(0,y.default)(c,A.RouterEvent.ToCall,(function(){this.transition(A.Route.CHAT_CALL)})),(0,y.default)(c,A.RouterEvent.Hide,(function(){this.transition(A.Route.HIDDEN)})),(0,y.default)(c,A.RouterEvent.ApiOpen,(function(){this._navToChatFromChatMin()})),(0,y.default)(c,A.RouterEvent.Navigate,(function(){this._navToChat()})),c)),(0,y.default)(_,A.Route.CHAT_EULA,(d={_onEnter:function(){var e=this.eulaContext&&this.eulaContext.link?this.eulaContext.link:null,t=this.eulaContext&&this.eulaContext.context?this.eulaContext.context:"introduce";"cb"!==t&&W.getPrevRoute()!==A.Route.CHAT_CALL&&F.default.showEula(!0,e,t),this.eulaContext={},this.trigger("route_change",A.Route.CHAT_EULA)}},(0,y.default)(d,A.RouterEvent.Submit,(function(){var e,t=this.priorState;t?(this.trigger("submit_eula_success",W.getPrevRoute()),M.RouterUtils.needToShowEvaluation()?this.transition(A.Route.CHAT_EVAL):-1===(0,E.default)(e=[A.Route.INTRODUCE,A.Route.CHAT_MIN]).call(e,t)?this.transition(t):this.transition(A.Route.CHAT)):this.transition(A.Route.CHAT)})),(0,y.default)(d,A.RouterEvent.ToCall,(function(){x.default.mobileOrTablet()?this.transition(A.Route.CALL):this.transition(A.Route.CHAT_CALL)})),(0,y.default)(d,A.RouterEvent.Cancel,(function(){this.priorState&&this.priorState!==A.Route.CHAT_MIN?this.transition(this.priorState):M.RouterUtils.needToShowEvaluation()?this.transition(A.Route.CHAT_EVAL):this.transition(A.Route.CHAT)})),(0,y.default)(d,A.RouterEvent.CloseWindow,(function(){!x.default.mobileOrTablet()&&C.default.chat_started&&C.default.is_online?this.transition(A.Route.CHAT_MIN):this.transition(A.Route.LABEL)})),(0,y.default)(d,A.RouterEvent.Hide,(function(){this.transition(A.Route.HIDDEN)})),(0,y.default)(d,A.RouterEvent.ToDebug,(function(){this._debugClicked()})),d)),(0,y.default)(_,A.Route.CHAT_SOCIAL,(f={_onEnter:function(){this.trigger("route_change",A.Route.CHAT_SOCIAL)}},(0,y.default)(f,A.RouterEvent.Submit,(function(){this.transition(A.Route.LABEL)})),(0,y.default)(f,A.RouterEvent.ToChat,(function(){M.RouterUtils.needToShowEvaluation()?this.transition(A.Route.CHAT_EVAL):this.transition(A.Route.CHAT)})),(0,y.default)(f,A.RouterEvent.ToCall,(function(){this.transition(A.Route.CALL)})),(0,y.default)(f,A.RouterEvent.Cancel,(function(){M.RouterUtils.needToShowEvaluation()?this.transition(A.Route.CHAT_EVAL):this.transition(A.Route.CHAT)})),(0,y.default)(f,A.RouterEvent.CloseWindow,(function(){this.transition(M.RouterUtils.getRouteChatMin())})),(0,y.default)(f,A.RouterEvent.Hide,(function(){this.transition(A.Route.HIDDEN)})),(0,y.default)(f,A.RouterEvent.ToEula,(function(e){e&&M.RouterUtils.needToShowEula()&&(this.eulaContext={link:e.link,context:e.context},this.transition(A.Route.CHAT_EULA))})),(0,y.default)(f,A.RouterEvent.ToDebug,(function(){this._debugClicked()})),f)),(0,y.default)(_,A.Route.CHAT_EVAL,(h={_onEnter:function(){this.trigger("route_change",A.Route.CHAT_EVAL)}},(0,y.default)(h,A.RouterEvent.Submit,(function(){this.transition(A.Route.CHAT)})),(0,y.default)(h,A.RouterEvent.ToCall,(function(){x.default.mobileOrTablet()?this.transition(A.Route.CALL):this.transition(A.Route.CHAT_CALL)})),(0,y.default)(h,A.RouterEvent.ToSocial,(function(){this.transition(A.Route.CHAT_SOCIAL)})),(0,y.default)(h,A.RouterEvent.Cancel,(function(){this.transition(A.Route.CHAT)})),(0,y.default)(h,A.RouterEvent.CloseWindow,(function(){this.transition(M.RouterUtils.getRouteChatMin())})),(0,y.default)(h,A.RouterEvent.Hide,(function(){this.transition(A.Route.HIDDEN)})),(0,y.default)(h,A.RouterEvent.ToEula,(function(e){e&&M.RouterUtils.needToShowEula()&&(this.eulaContext={link:e.link,context:e.context},this.transition(A.Route.CHAT_EULA))})),(0,y.default)(h,A.RouterEvent.ToDebug,(function(){this._debugClicked()})),h)),(0,y.default)(_,A.Route.CHAT_CALL,(p={_onEnter:function(){this.trigger("route_change",A.Route.CHAT_CALL)}},(0,y.default)(p,A.RouterEvent.Submit,(function(){M.RouterUtils.needToShowEula()?this.transition(A.Route.CHAT_EULA):this.trigger("submit_success")})),(0,y.default)(p,A.RouterEvent.ToCall,(function(){if(M.RouterUtils.needToShowEvaluation())this.transition(A.Route.CHAT_EVAL);else{var e,t=W.getPrevRoute();if(t)this.transition(-1===(0,E.default)(e=[A.Route.CHAT_MIN,A.Route.CHAT_EULA]).call(e,t)?t:A.Route.CHAT)}})),(0,y.default)(p,A.RouterEvent.ToSocial,(function(){this.transition(A.Route.CHAT_SOCIAL)})),(0,y.default)(p,A.RouterEvent.Cancel,(function(){M.RouterUtils.needToShowEvaluation()?this.transition(A.Route.CHAT_EVAL):this.transition(A.Route.CHAT)})),(0,y.default)(p,A.RouterEvent.CloseWindow,(function(){this.transition(M.RouterUtils.getRouteChatMin())})),(0,y.default)(p,A.RouterEvent.Hide,(function(){this.transition(A.Route.HIDDEN)})),(0,y.default)(p,A.RouterEvent.ToEula,(function(e){e&&M.RouterUtils.needToShowEula()&&(this.eulaContext={link:e.link,context:e.context},this.transition(A.Route.CHAT_EULA))})),(0,y.default)(p,A.RouterEvent.ToIntroduce,(function(){1===T.default.contacts_ask&&this.transition(A.Route.INTRODUCE)})),(0,y.default)(p,A.RouterEvent.ToDebug,(function(){this._debugClicked()})),p)),(0,y.default)(_,A.Route.CALL,(m={_onEnter:function(){this.trigger("route_change",A.Route.CALL)}},(0,y.default)(m,A.RouterEvent.Submit,(function(){M.RouterUtils.needToShowEula()?this.transition(A.Route.CALL_EULA):this.trigger("submit_success")})),(0,y.default)(m,A.RouterEvent.ToEula,(function(){this.transition(A.Route.CALL_EULA)})),(0,y.default)(m,A.RouterEvent.CloseWindow,(function(){C.default.show_container=!1,B.FeatureManager.isEnabled(B.Feature.NEW_ANIMATION)&&M.RouterUtils.isChatMinAvailable()?this.transition(A.Route.CHAT_MIN):this.transition(A.Route.LABEL)})),(0,y.default)(m,A.RouterEvent.Hide,(function(){this.transition(A.Route.HIDDEN)})),(0,y.default)(m,A.RouterEvent.ToChat,(function(){this._navToChat()})),(0,y.default)(m,A.RouterEvent.ToDebug,(function(){this._debugClicked()})),m)),(0,y.default)(_,A.Route.CALL_EULA,(g={_onEnter:function(){this.trigger("route_change",A.Route.CALL_EULA)}},(0,y.default)(g,A.RouterEvent.Submit,(function(){if(W.getPrevRoute()===A.Route.CALL)return this.transition(A.Route.CALL),void this.trigger("submit_eula_success",W.getPrevRoute());this.trigger("submit_success")})),(0,y.default)(g,A.RouterEvent.Cancel,(function(){C.default.show_eula=!1,this.transition(A.Route.CALL)})),(0,y.default)(g,A.RouterEvent.ToChat,(function(){this.transition(A.Route.CHAT)})),(0,y.default)(g,A.RouterEvent.CloseWindow,(function(){C.default.show_eula=!1,this.transition(A.Route.LABEL)})),(0,y.default)(g,A.RouterEvent.Hide,(function(){this.transition(A.Route.HIDDEN)})),(0,y.default)(g,A.RouterEvent.ToDebug,(function(){this._debugClicked()})),g)),(0,y.default)(_,A.Route.DEBUG,(v={_onEnter:function(){this.trigger("route_change",A.Route.DEBUG)}},(0,y.default)(v,A.RouterEvent.CloseWindow,(function(){this.transition(M.RouterUtils.getRouteChatMin())})),(0,y.default)(v,A.RouterEvent.ToChat,(function(){this._navToChat()})),(0,y.default)(v,A.RouterEvent.ToCall,(function(){x.default.mobileOrTablet()?this.transition(A.Route.CALL):this.transition(A.Route.CHAT_CALL),R.Monitoring.telemetry(N.TelemetryName.CW_ONLINE_HEADER_BUTTON)})),v)),_)});t.Router=W,W.on("route_change",(function(e){O.appDispatchers.setAppRoute(e),B.FeatureManager.isEnabled(B.Feature.NEW_ANIMATION)&&x.default.safari()&&!x.default.mobileOrTablet()&&(e===A.Route.DEBUG&&W.getPrevRoute()===A.Route.INTRODUCE||e===A.Route.INTRODUCE&&W.getPrevRoute()===A.Route.DEBUG)&&(0,b.default)((function(){var e=L.default.get(j.Component.WIDGET_CONTAINER);(0,P.updateKeyframes)(e)}),0)}))},36143:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.RouterUtils=void 0;var i=n(a(81643)),o=n(a(26394)),r=n(a(69198)),l=n(a(62904)),u=n(a(62652)),s=n(a(36216)),c=n(a(69961)),d=n(a(99357)),f=n(a(58061)),h=a(8565),p=a(85442),m=n(a(75043)).default.name("RouterUtils"),g=new(function(){function e(){(0,o.default)(this,e)}return(0,r.default)(e,[{key:"showDepartmentsIfPossible",value:function(){var e,t=l.default.departments&&l.default.departments.length,a=t&&-1!=(0,i.default)(e=[-1,0,2,3]).call(e,l.default.contacts_ask);return t&&1===l.default.contacts_ask&&s.default.is_introduced&&!s.default.department_id&&(a=!0),a&&!c.default.agent_id&&!u.default.chat_started&&!s.default.department_id&&u.default.is_online}},{key:"needToShowEula",value:function(){return l.default.eula&&!u.default.eula_accepted}},{key:"needToShowIntroduceForm",value:function(){return!s.default.is_introduced&&u.default.is_focused&&1===l.default.contacts_ask}},{key:"checkMessage",value:function(){var e=d.default.getChatId(),t=d.default.getLastMessage(),a=d.default.getAgentChatMessages(e).length>0,n=d.default.getCurrentClientMessages().length>0,i=d.default.getChatMessages(e).length>=5&&a,o=d.default.getBotMessages(e);if(o.length){var r=o[o.length-1].get("msg_id");i=d.default.getChatMessagesAfterId(e,r).length>=5&&a}return!(u.default.chat_started&&t&&!t.get("chat_id")&&t.get("from")===h.MessageInitiator.CLIENT&&i)&&!!(u.default.chat_started&&n&&e&&i&&t&&t.get("chat_id"))}},{key:"needToShowEvaluation",value:function(){var e=this.checkMessage();return m.log("needToShowEvaluation",e),!(!l.default.show_rate_form||!e||s.default.evaluate||!u.default.chat_started)}},{key:"getRouteChatMin",value:function(){return this.isChatMinAvailable()?(u.default.show_container=!0,p.Route.CHAT_MIN):"cw_connected"===s.default.cw_call.status?(u.default.show_container=!0,p.Route.CALL):(u.default.show_container=!1,p.Route.LABEL)}},{key:"callbackEnabled",value:function(){var e=l.default.callback_settings;return!!(e.time&&e.countries&&e.countries.length)}},{key:"isChatMinAvailable",value:function(){var e=c.default.agent_id||c.default.bot_id;return u.default.chat_started&&u.default.is_online&&e&&!f.default.mobileOrTablet()&&"cw_connected"!==s.default.cw_call.status}}]),e}());t.RouterUtils=g},11470:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.getRuleLocal=function(e){if(e in p)return p[e]},t.setRuleLocal=function(e,t){e in p&&(p[e]=t)},t.addPageView=function(){var e=c.default.get("pages_count");e?c.default.set("pages_count",(0,r.default)(e)+1):c.default.set("pages_count",1)},t.compare=m,t.timeDiff=g,t.getValue=v,t.isTimeCondition=function(e){var t;return(0,o.default)(t=e.condition).call(t,"time")>=0},t.isGoalCondition=function(e){return"goal_close"===e||"goal_scroll"===e},t.getPageUrlValue=_,t.checkCondition=y,t.checkTimeConditions=function(e,t,a){for(var n=!1,i=0;i<e.length;i++)if(y(e[i],a))n=!0;else if("all"===t)return!1;return n},t.setInvitationTime=function(){c.default.set("invitation_time",(new Date).getTime())},t.isYandexMarketClient=function(e){var t,a=1==d.default.get("visits_count"),n=c.default.get("pages_count")<10;return!f.default.mobileOrTablet()&&a&&n&&-1!==(0,o.default)(t=["market","YM"]).call(t,e.source)&&"cpc"==e.medium},t.isPopupCommand=function(e){var t;return-1!==(0,o.default)(t=["proactive","open_offline","show_callform"]).call(t,e)};var i=n(a(77766)),o=n(a(81643)),r=n(a(94198)),l=n(a(62904)),u=a(81426),s=a(56602),c=n(a(5972)),d=n(a(93268)),f=n(a(58061)),h=n(a(75043)).default.name("RuleManagerUtils"),p={scrollPosition:!1,movedToCloseButton:!1,firstMessageTime:null,pageEnterTime:(new Date).getTime()};function m(e,t,a){var n,i;switch(a){case"contain":return-1!=(0,o.default)(n=e.toLowerCase()).call(n,t.toLowerCase());case"greater":return e>t;case"greater_equal":return e>=t;case"lower":return e<t;case"lower_equal":return e<=t;case"not_contain":return-1===(0,o.default)(i=e.toLowerCase()).call(i,t.toLowerCase());case"not_equal":return t!=e;case"regexp":return new RegExp(e,"i").test(t);default:return t==e}}function g(e){return Math.round(((new Date).getTime()-e)/1e3)}function v(e){switch(e){case"online":return l.default.chat_mode===u.ChatMode.ONLINE;case"page_url":return(0,s.getCurrentPage)().url.replace(/^http(s?)\:\/\//i,"");case"hour":return(new Date).getHours();case"page_title":return(0,s.getCurrentPage)().title;case"week_day":var t=(new Date).getDay();return 0===t?7:t;case"time_after_close":var a=c.default.get("close_time");return a?g(a):Number.MAX_VALUE;case"time_after_first_message":return p.firstMessageTime?g(p.firstMessageTime.getTime()):NaN;case"time_after_invitation":var n=c.default.get("invitation_time");return null===n||""===n?Number.MAX_VALUE:g(n);case"time_on_page":return g(p.pageEnterTime);case"time_on_site":return g(c.default.get("enter_ts"));case"number_of_visits":return d.default.get("visits_count");case"goal_close":return p.movedToCloseButton;case"goal_scroll":return p.scrollPosition;case"pages_count":return(0,r.default)(c.default.get("pages_count"));case"country":return l.default.geoip.split(";")[0];case"city":return l.default.geoip.split(";")[2]||null;default:return c.default.get(e)}}function _(e){var t=e.match(/^(?:https?:)?(?:\/\/)?([^\/\?]+)/gi);if(t&&t.length){var a={href:e,hostname:t[0]};e=(0,s.getUnicodeHref)(a).replace(/http(|s):\/\//,"")}else e=e.replace(/http(|s):\/\//,"");return e}function y(e,t){var a,n,o,l,u=v(e.condition);"page_url"===e.condition&&(e.value=_(e.value)),"pages_count"===e.condition&&(e.value=(0,r.default)(e.value));var s=m(u,e.value,e.comparator),c=(0,i.default)(a="".concat(t||"","; ")).call(a,s?"success":"failed");return c+=(0,i.default)(n=" condition ".concat(e.condition,"; comparator=")).call(n,e.comparator),h.info((0,i.default)(o=(0,i.default)(l="".concat(c,"; expected=")).call(l,e.value,"; actual=")).call(o,u)),s}},6991:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(51942)),o=n(a(23765)),r=n(a(54103)),l=n(a(62904)),u=a(56602),s=n(a(36216)),c=n(a(58061)),d=a(37916),f=a(33367),h=a(63242),p=a(81189),m=a(94515),g=n(a(93268)),v=n(a(75043)).default.name("Social"),_=new(0,a(89766).EventEmitter),y={vk:!1,fb:!1,mode:!1},b=null,E=!1,w={getSocial:function(){return b||y},setPopupMode:function(e){b=e,_.emit("update",y)},getPopupMode:function(){return b},setSocial:function(e){return y=e},isLoginned:function(){return y.vk||y.fb},getJoints:function(){var e=0,t={};return d.CallbackUtils.isCallbackEnabled()?(t.callback=!0,e++):l.default.power_button_phone&&(t.cbUrl=l.default.power_button_phone,e++),l.default.joint?(l.default.joint.fb&&l.default.joint.fb.joint_id&&(t.fbUrl="https://m.me/"+l.default.joint.fb.joint_id,e++),l.default.joint.wa&&(t.waUrl="https://wa.me/"+l.default.joint.wa,e++),l.default.joint.vk&&l.default.joint.vk.joint_id&&(t.vkUrl="https://vk.me/club"+l.default.joint.vk.joint_id,e++),l.default.joint.vb&&l.default.joint.vb.botname&&(t.vbUrl="viber://pa?chatURI="+l.default.joint.vb.botname,e++),l.default.joint.tg&&l.default.joint.tg.botname&&(t.tgUrl=this.getTgLink()+l.default.joint.tg.botname,e++),this.isImVersion()&&l.default.joint.im&&l.default.joint.im.joint_id&&(t.imUrl="sms://open?service=iMessage&recipient=urn:biz:".concat(l.default.joint.im.joint_id,"&biz-intent-id=click_in_jivo"),e++),{links:t,count:e}):{links:t,count:e}},startSocials:function(){var e;(v.log("startSocials"),E||c.default.mobileOrTablet()||!l.default.joint||!l.default.joint.vk&&!l.default.joint.fb||g.default.get("is_blacklisted"))||(E=!0,this.initSocial(),(0,u.addListener)(window,"message",(0,r.default)(e=this.checkLogin).call(e,this),!1))},initSocial:function(){var e=this.checkSocial();if(v.log("initSocial",e),e){var t=this.genSocialIframeUrl(e)+"#rand="+(new Date).getMilliseconds()+",lang="+l.default.locale,a=document.createElement("iframe");a.src=t,a.className="iframe-social",a.title="JivoSocial",document.body.appendChild(a)}},getTgLink:function(){var e="https://telegram.me/";l.default.geoip&&("RU"==l.default.geoip.split(";")[0]&&(e="tg://resolve/?domain="));return e},checkSocial:function(){if(l.default.joint){var e="check";l.default.joint.vk&&!l.default.joint.fb&&(e="checkvk"),l.default.joint.fb&&!l.default.joint.vk&&(e="checkfb");var t=document.getElementsByClassName("check-iframe");return!(t&&t.length>0)&&(!(!l.default.joint.vk&&!l.default.joint.fb)&&e)}},genSocialIframeUrl:function(e){v.log("getnSocialIframeUrl",e);var t=["mode="+e];l.default.joint.vk&&(t.push("vk_app_id="+l.default.joint.vk.app_id),t.push("vk_joint_id="+l.default.joint.vk.joint_id),t.push("vk_key="+this.genVkRandomKey())),l.default.joint.fb&&(t.push("fb_app_id="+l.default.joint.fb.app_id),t.push("fb_joint_id="+l.default.joint.fb.joint_id),t.push("fb_key="+s.default.client_id+"_"+l.default.widget_id)),t.push("logs="+(l.default.logs||0));var a=m.EnvironmentManager.isDevelopment()?"/public/social.html?":"/social.min.html?";return(0,u.staticUrl)(a+t.join("&"),!0)},genVkRandomKey:function(){return(s.default.client_id+"="+l.default.widget_id).replace(/./g,(function(e){return e.charCodeAt(0).toString(16)}))},getIframeUrl:function(e){return this.genSocialIframeUrl(e)+"#rand="+(new Date).getMilliseconds()+",lang="+l.default.locale},checkLogin:function(e,t){if(v.log("checkLogin",e,t),e&&"object"===(0,o.default)(e)){if(t&&(e={data:{social:t}}),e.data&&e.data.social){var a={},n=e.data.social;return n.fb&&(a.fb=!0,a.vk=!1,a.mode="fb",f.Monitoring.telemetryOnce(h.TelemetryName.SOCIAL_SHOW_FACEBOOK)),n.vk&&(a.vk=!0,a.fb=!1,a.mode="vk",f.Monitoring.telemetryOnce(h.TelemetryName.SOCIAL_SHOW_VK)),n.fb||n.vk||(a.vk=!1,a.fb=!1,a.mode="email"),y={vk:a.vk,fb:a.fb,mode:a.mode},_.emit("update",y),p.socialDispatchers.initializeSocialStore(y),a}}else v.log("postMessage from social failed: ",e)},isImVersion:function(){return(c.default.ios()||c.default.ipad())&&c.default.osVersion()>=11.3},ifIMessageEnabled:function(){var e=this.getJoints();return this.isImVersion()&&e.links&&e.links.imUrl}},C=(0,i.default)(_,w);t.default=C},53172:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.getAgents=s,t.getAgentById=c,t.getJoinedAgents=function(){var e=[],t=d();if(t&&t.length>0){var a=t[t.length-1].joinedAgents;(0,o.default)(a).call(a,(function(t){e.push(c(t))}))}return e},t.getApp=function(){return u.reduxStore.getState().app},t.getCallback=function(){return u.reduxStore.getState().callback},t.getChats=d,t.getChatById=function(e){var t;return(0,r.default)(t=d()).call(t,(function(t){return t.id===e}))},t.getClient=function(){return u.reduxStore.getState().client},t.getMessages=function(){return u.reduxStore.getState().messages},t.getPosition=function(){return u.reduxStore.getState().position},t.getProactive=function(){return u.reduxStore.getState().proactive},t.getSettings=function(){return u.reduxStore.getState().settings},t.getSystemSettings=function(){return u.reduxStore.getState().settings.system},t.getUserSettings=function(){return u.reduxStore.getState().settings.user},t.getCallbackSettings=function(){return u.reduxStore.getState().settings.user.callback},t.getFeatures=function(){return u.reduxStore.getState().settings.features},t.getClientMessages=function(e){return(0,i.default)(e).call(e,(function(e){return e.from===l.MessageInitiator.CLIENT}))},t.getMessagesByType=function(e,t){return(0,i.default)(e).call(e,(function(e){return e.type===t}))};var i=n(a(20116)),o=n(a(78914)),r=n(a(94473)),l=a(8565),u=a(43472);function s(){return u.reduxStore.getState().agents}function c(e){var t;return(0,r.default)(t=s()).call(t,(function(t){return t.id===e}))}function d(){return u.reduxStore.getState().chats}},49902:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(94198)),o=n(a(54103)),r=n(a(31581)),l=n(a(68415)),u=n(a(62107)),s=n(a(5972)),c=n(a(75043)).default.name("Timer"),d=new l.default({timer:0,seconds:0,timerText:!1,initialState:"unitialized",namespace:"Timer",setTimerNull:function(){clearInterval(this.timer),s.default.set("cw_timer",null)},initialize:function(){c.log("Timer initalized.")},states:{unitialized:{start_timer:"STARTTIMER"},STARTTIMER:{_onEnter:function(){this.handle("start_timer")},start_timer:function(){var e=1e3*this.seconds,t=this.timerText;t&&(t.innerText=e/1e3);var a=this.seconds;clearInterval(this.timer),this.timer=(0,r.default)((0,o.default)(u.default).call(u.default,(function(){var t=s.default.get("cw_timer");if(t){var n=(0,i.default)((new Date).getTime())-(0,i.default)(t);if((e=1e3*((e=1e3*this.seconds-n)/1e3).toFixed(2))<=0)return clearInterval(this.timer),this.timer=!1,void this.handle("timer_finished")}else s.default.set("cw_timer",(new Date).getTime());a=e/1e3,(e-=100)<=0&&(a=e,clearInterval(this.timer),this.timer=!1,this.handle("timer_finished")),this.emit("tick",a)}),this),10)},timer_finished:"STOP",cancel_timer:"unitialized"},STOP:{_onEnter:function(){c.log("STOP, timer_finished")},start_timer:"STARTTIMER"}}});t.default=d},10872:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.getSavedLabelPosition=t.saveLabelPosition=t.isFallbackNeeded=t.updateKeyframes=t.setProperty=t.getProperty=void 0;var i=n(a(63978)),o=n(a(20368)),r=n(a(39649)),l=n(a(78914)),u=n(a(34074)),s=n(a(20116)),c=n(a(14310)),d=n(a(86902)),f=n(a(87672)),h=n(a(58061));function p(e,t){var a=(0,d.default)(e);if(c.default){var n=(0,c.default)(e);t&&(n=(0,s.default)(n).call(n,(function(t){return(0,u.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}var m=n(a(75043)).default.name("TransitionUtils"),g=function(e,t){return v()?t.style[e]:t.style.getPropertyValue("--".concat(e))};t.getProperty=g;t.setProperty=function(e,t,a){v()?a.style[e]=t:a.style.setProperty("--".concat(e),t)};t.updateKeyframes=function(e){if(m.log("updateKeyframes"),h.default.supportsWebAnimationApi()){var t=g("height",e),a=g("left",e),n=g("right",e),i=e&&e.getAnimations()[0],o=i&&i.effect.getKeyframes(),r=o&&o[o.length-1];r&&(r.height=t,r.left=a,r.right=n,i.effect.setKeyframes(o),i.currentTime=299.99)}};var v=function(){return!h.default.supportsCssVariables()||h.default.ieOrEdge()||h.default.safari()&&!h.default.supportsWebAnimationApi()};t.isFallbackNeeded=v;var _={};t.saveLabelPosition=function(e){_={right:e.right||null,left:e.left||null,offsetWidth:e.offsetWidth||null}};t.getSavedLabelPosition=function(){return function(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(a=p(Object(n),!0)).call(a,(function(t){(0,f.default)(e,t,n[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(n));else{var s;(0,l.default)(s=p(Object(n))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(n,t))}))}}return e}({},_)}},94686:function(e,t,a){"use strict";var n=a(60530)(a(25843)),i={phone:function(e){return e.length>0&&(0,n.default)(e).call(e).replace(/\D+/g,"").length>=5&&/^\+?[0-9() -]+$/i.test(e)},client_name:function(e){return e.length>0&&e.length<100},email:function(e){return e.length>=4&&new RegExp(/^([a-zA-Z\d-_]+([+.][a-zA-Z\d-_]+)*)@(([a-zA-Z\d][a-zA-Z\d-_.]*[a-zA-Z\d])|([a-zA-Z\d]))\.([a-zA-Z\d]{2,})$/i).test(e)},message:function(e){return e.length>0},description:function(e){return e.length>0},captcha:function(e){return e.length>0}};e.exports=i},43942:function(e,t,a){"use strict";var n=a(87646),i=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a(63978)),r=i(a(20368)),l=i(a(39649)),u=i(a(78914)),s=i(a(34074)),c=i(a(20116)),d=i(a(14310)),f=i(a(86902)),h=i(a(94198)),p=i(a(69301)),m=i(a(81643)),g=i(a(59340)),v=i(a(87672)),_=i(a(77766)),y=i(a(33032)),b=i(a(54103)),E=i(a(26394)),w=i(a(69198));a(301);var C=n(a(62904)),T=a(57018),k=i(a(62652)),S=i(a(36216)),I=i(a(8282)),x=i(a(75119)),A=i(a(18228)),M=i(a(99357)),R=i(a(67966)),N=i(a(36421)),O=i(a(62107)),D=a(56602),L=i(a(51362)),P=a(75737),j=a(99112),B=a(17674),F=a(85442),H=a(24335),W=a(33367),U=a(63242),z=a(78605),G=i(a(9805)),V=a(11470),q=i(a(5972)),K=i(a(93268)),Y=i(a(47321)),Z=a(81189),J=a(42796),X=a(53172),$=a(94515),Q=a(23582);function ee(e,t){var a=(0,f.default)(e);if(d.default){var n=(0,d.default)(e);t&&(n=(0,c.default)(n).call(n,(function(t){return(0,s.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,u.default)(a=ee(Object(n),!0)).call(a,(function(t){(0,v.default)(e,t,n[t])}));else if(l.default)(0,r.default)(e,(0,l.default)(n));else{var i;(0,u.default)(i=ee(Object(n))).call(i,(function(t){(0,o.default)(e,t,(0,s.default)(n,t))}))}}return e}var ae=i(a(75043)).default.name("VI"),ne=["purl","ptitle","navcount","visible","status"],ie=function(){function e(){var t,a,n;((0,E.default)(this,e),this.ifNeedConnect())?(k.default.viReconnectTime=null,this.changeCurrentKeysFn=O.default.debounce((0,b.default)(t=this.changeCurrentKeys).call(t,this),100),(0,j.pageVisible)()?(0,y.default)((0,b.default)(a=this.init).call(a,this),1e3):(0,D.listenVisibility)((0,b.default)(n=this.onVisibilityChange).call(n,this))):ae.log("not initialized");this.inited=!1}return(0,w.default)(e,[{key:"onVisibilityChange",value:function(){(0,j.pageVisible)()&&!this.inited&&(this.changeCurrentKeysFn(),this.init(),this.inited=!0)}},{key:"ifNeedConnect",value:function(){return C.default.new_visitors_insight&&!C.default.maintenance&&!C.default.botmode&&!K.default.get("is_blacklisted")&&!(0,D.isWixEditor)()&&!H.isDesignerEditor&&!(0,D.isAppCobrowse)()&&!(!k.default.is_online&&1===C.default.hide_offline)&&!(B.Router.getCurrentRoute()===F.Route.HIDDEN)&&(null===k.default.viReconnectTime||(new Date).getTime()>k.default.viReconnectTime)}},{key:"init",value:function(){var e,t,a,n,i,o,r,l,u=this;if(this.openConnection()){if(ae.log("start init"),this.net.onopen=(0,b.default)(e=this.connectionOnOpen).call(e,this),this.net.onget=(0,b.default)(t=this.onget).call(t,this),this.net.onset=(0,b.default)(a=this.onset).call(a,this),this.net.onclose=(0,b.default)(n=this.connectionOnClosed).call(n,this),this.net.onerror=(0,b.default)(i=this.connectionOnError).call(i,this),this.net.onfail=(0,b.default)(o=this.connectionOnFail).call(o,this),this.net.ondrop=(0,b.default)(r=this.connectionOnDrop).call(r,this),this.cacheCurrentKeys=this.getAllCurrentKeys(),S.default.addListener(this.changeCurrentKeysFn),k.default.addListener(this.changeCurrentKeysFn),I.default.on("update",this.changeCurrentKeysFn),A.default.on("socket_message",this.changeCurrentKeysFn),A.default.on("update_data",this.changeCurrentKeysFn),M.default.on("create",this.changeCurrentKeysFn),N.default.addListener("update",O.default.debounce((0,b.default)(l=this.checkClientAway).call(l,this),T.AWAY_CLIENT_TIMEOUT)),B.Router.on("route_change",(function(e){e===F.Route.HIDDEN&&u.closeConnection()})),(0,D.isWixContext)()){var s=(0,D.getPageWindow)().wix_context;s.addEventListener(s.Events.PAGE_NAVIGATION,this.changeCurrentKeysFn)}(0,D.listenVisibility)((function(){u.changeCurrentKeysFn(),(0,j.pageVisible)()&&u.openConnection()}))}}},{key:"checkClientAway",value:function(){N.default.isActive||(0,j.pageVisible)()||!this.isConnected||this.net.close()}},{key:"getURL",value:function(){var e,t,a,n=$.EnvironmentManager.isProduction()||"https:"===(0,D.getProtocol)()?"wss":"ws";return(0,_.default)(e=(0,_.default)(t=(0,_.default)(a="".concat(n,"://")).call(a,(0,C.getViHost)(),"/")).call(t,C.default.widget_id,"?")).call(e,S.default.visitorId)}},{key:"openConnection",value:function(){return this.isConnected||!this.ifNeedConnect()?(ae.log("cant open connection"),!1):(this.net||(this.net=new ClientSocket),this.net.open(this.getURL()),!0)}},{key:"closeConnection",value:function(){ae.log("close connection"),this.isConnected&&this.net&&this.net.close()}},{key:"connectionOnOpen",value:function(){ae.log("connection open"),this.isConnected=!0,this.sendDynamicKeys(),this.changeCurrentKeysFn()}},{key:"connectionOnClosed",value:function(e){this.isConnected=!1,ae.log("connection close: ",e)}},{key:"connectionOnError",value:function(e){ae.error("connection error: ",e)}},{key:"connectionOnFail",value:function(e){W.Monitoring.telemetry(U.TelemetryName.VISITORS_FAIL,{param1:e})}},{key:"connectionOnDrop",value:function(e){var t=this;0!==e&&(k.default.viReconnectTime=(new Date).getTime()+e,ae.log("connection drop: ",e/1e3+"s"),(0,y.default)((function(){var e;P.ConfigUtils.reloadConfig((0,b.default)(e=t.openConnection).call(e,t))}),e))}},{key:"getKeys",value:function(e){var t=this,a=S.default.client_info,n=(0,D.getPageWindow)(),i={name:function(){return S.default.display_name||a.client_name},phone:function(){return a&&a.phone?a.phone:null},email:function(){return a&&a.email?a.email:null},desc:function(){return a&&a.description?a.description:null},purl:function(){return(0,D.isWixContext)()?n.wix_url:L.default.decodeString((0,D.getCurrentPage)().url)},ptitle:function(){var e=(0,D.getCurrentPage)().title;return e===(0,x.default)("lblNewMessage")&&(e=t.cacheCurrentKeys&&t.cacheCurrentKeys.ptitle),(0,D.isWixContext)()?n.wix_title:e},cid:function(){return S.default.client_id?S.default.client_id.split(".")[0]:null},utm:function(){var e=te(te(te(te(te({},S.default.utm.campaign&&{campaign:S.default.utm.campaign}),S.default.utm.source&&{source:S.default.utm.source}),S.default.utm.medium&&{medium:S.default.utm.medium}),S.default.utm.keyword&&{keyword:S.default.utm.keyword}),S.default.utm.content&&{content:S.default.utm.content});return(0,g.default)(e)},status:function(){var e,t,a=!M.default.getCurrentChatAgentMessages().length&&M.default.getCurrentClientMessages().length;return t=k.default.chat_started?k.default.chat_accepted?z.ClientStatus.ON_CHAT:k.default.is_online?A.default.isConnected()&&a?z.ClientStatus.INVITE_SENT:z.ClientStatus.ON_SITE:A.default.isConnected()&&a&&(0,X.getApp)().lastChatOpened?z.ClientStatus.INVITE_SENT:z.ClientStatus.ON_SITE:R.default.get("text")?z.ClientStatus.PROACTIVE_SHOW:z.ClientStatus.ON_SITE,S.default.cw_call.status&&-1!==(0,m.default)(e=["cw_wait","cw_connecting","cw_connected"]).call(e,S.default.cw_call.status)&&(t=z.ClientStatus.ON_CALL),t==z.ClientStatus.INVITE_SENT&&A.default.isConnected()&&!a&&W.Monitoring.telemetryOnce(U.TelemetryName.VI_STATUS_FAIL,{param1:"no_client_message",param2:k.default.chat_accepted?"1":"0"}),t},navcount:function(){return q.default.get("pages_count")},visits:function(){return K.default.get("visits_count")},chats:function(){return M.default.getChatCounts()},visible:function(){return(0,j.pageVisible)()},opened:function(){return!B.Router.isChatClosedRoute()},agentids:function(){return k.default.chat_accepted&&(0,g.default)(I.default.getAgentIdsByStatus("join"))},pa_id:function(){return S.default.pa_id},avatar:function(){return S.default.avatar_url},wversion:function(){return $.EnvironmentManager.getVersion()},cdata:function(){return A.default.custom_data?(0,g.default)(A.default.custom_data):null}};return e?i[e]&&i[e]():(0,p.default)(O.default).call(O.default,i)}},{key:"getAllCurrentKeys",value:function(){var e=this,t={};return O.default.each(this.getKeys(),(function(a){t[a]=e.getKeys(a)})),t}},{key:"changeCurrentKeys",value:function(){var e=this,t=this.getAllCurrentKeys();this.isConnected&&(0,g.default)(this.cacheCurrentKeys)!==(0,g.default)(t)&&O.default.each(this.getKeys(),(function(a){var n=t[a];e.cacheCurrentKeys[a]!==n&&e.set(a,n)}))}},{key:"sendAllKeys",value:function(e,t){var a=this;O.default.each(this.getKeys(),(function(n){a.cacheCurrentKeys[n]||(a.cacheCurrentKeys[n]=a.getKeys(n));var i=a.cacheCurrentKeys[n];i&&a.net.set({room:t,to:e,key:n,value:i})}))}},{key:"sendDynamicKeys",value:function(){var e=this;O.default.each(ne,(function(t){e.set(t,e.getKeys(t))}))}},{key:"set",value:function(e,t,a,n){if(this.isConnected&&null!=t){this.cacheCurrentKeys[e]=t;var i={key:e,value:t};n&&(i.room=n),a&&(i.to=a),G.default.getInstance().saveViEvent(i),this.net.set(i)}}},{key:"onget",value:function(e){var t=this;G.default.getInstance().saveViEvent(e),"*"===e.key||"all"===e.key?(this.sendAllKeys(e.from,e.room),O.default.each({startsec:function(){var e=q.default.get("enter_ts");return e&&(0,V.timeDiff)(e)}},(function(a,n){a()&&t.set(n,a(),e.from,e.room)}))):this.getKeys(e.key)&&this.set(e.key,this.getKeys(e.key),e.from,e.room)}},{key:"onset",value:function(e){var t=this;if(G.default.getInstance().saveViEvent(e),"invite"===e.key&&!this.isInvited){if(Q.FeatureManager.isEnabled(Q.Feature.OLD_CAPTCHA))return;k.default.is_online||B.Router.isChatClosedRoute()&&(Q.FeatureManager.isEnabled(Q.Feature.NEW_ANIMATION)&&Z.transitionDispatchers.startTransition(J.ScriptName.OPEN_WIDGET),B.Router.next(F.RouterEvent.ToChat)),A.default.send({name:"start_chat",invited_agent:e.value}),this.isInvited=!0,(0,y.default)((function(){t.isInvited=!1}),T.APP_INVITE_TIME),W.Monitoring.telemetry(U.TelemetryName.VISITORS_INVITE,{param1:(0,h.default)(e.value)}),Y.default.setVisitorInvite(!0)}}}]),e}(),oe={run:function(){ae.log("run",S.default.visitorId),0!=S.default.visitorId?new ie:W.Monitoring.telemetry(U.TelemetryName.VISITORS_FAIL,{param1:"visitorId = 0",param2:navigator.userAgent})}};t.default=oe},68806:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(33032)),o=n(a(31581)),r=n(a(26394)),l=n(a(69198)),u=n(a(62652)),s=n(a(62107)),c=n(a(58061)),d=n(a(56602)),f=a(99112),h=n(a(47321)),p=n(a(59592)),m=n(a(75043)),g=n(a(48938)),v=m.default.name("SiteConnector"),_=new(function(){function e(){var t=this;(0,r.default)(this,e),this.window=d.default.getPageWindow(),this.document=this.window.document,this.bodyEl=this.document.body,this.documentEl=this.document.documentElement,this.scrollEl=this.document.scrollingElement||this.bodyEl,this.pageZoom=null,this.userZoom=null,this.appZoom=null,this.isSiteOptimizedForMobile=!1,this.isWidgetOnWix=!1,this.changeZoomSubscription=[],this.checkZoomsFn=s.default.throttle((function(){t.checkZooms()}),200,{trailing:!0}),!c.default.mobileOrTablet()||d.default.isWixContext()&&!c.default.android()||(this.checkViewport(),this.initListenChangeZooms()),c.default.tablet()&&d.default.addListener(this.bodyEl,"touchstart",(function(e){e&&e.target&&"label"!==u.default.route&&(0,f.hasClass)(t.documentEl,"jivo-tablet-overlay"),(0,f.hasClass)(e.target,g.default.mobileContainer)&&(0,f.hasClass)(e.target,g.default._tablet)&&(e.preventDefault(),h.default.closeWidget())}))}return(0,l.default)(e,[{key:"initListenChangeZooms",value:function(){var e=this;d.default.addListener(this.window,"scroll",this.checkZoomsFn,!0),d.default.addListener(this.window,"resize",this.checkZoomsFn,!0),d.default.addListener(this.window,"orientationchange",this.checkZoomsFn),this.window.visualViewport&&this.window.visualViewport.addEventListener&&(d.default.addListener(this.window.visualViewport,"scroll",this.checkZoomsFn,!0),d.default.addListener(this.window.visualViewport,"resize",this.checkZoomsFn,!0)),u.default.addListener("update",(function(){"label"!==u.default.route&&"hidden"!==u.default.route?e.setZoomChangeIterval(500):e.setZoomChangeIterval(1e3)}))}},{key:"setZoomChangeIterval",value:function(e){e!==this.intervalTime&&(clearInterval(this.intervalId),this.intervalTime=e,this.intervalId=(0,o.default)(this.checkZoomsFn,e))}},{key:"checkZooms",value:function(){var e=this.getUserZoom(),t=this.getPageZoom(),a=this.getAppZoom();e===this.userZoom&&t===this.pageZoom&&a===this.appZoom||(v.log("zoom:",e,t,a),this.userZoom=e,this.pageZoom=t,this.appZoom=a,this.triggerChangeZoom())}},{key:"checkViewport",value:function(){var e=this.document.querySelector("meta[name=viewport]");if(e&&e.content)for(var t=e.getAttribute("content").toLowerCase().split(","),a=e.getAttribute("id"),n=0;n<t.length;n++){t[n]=t[n].replace(/^\s+/,"");var i=t[n].split("=");"width"==i[0]&&"device-width"===i[1]&&(this.isSiteOptimizedForMobile=!0),"width"!=i[0]||"device-width"===i[1]||"wixMobileViewport"!=a||this.window.isWixIframe||(this.isWidgetOnWix=!0)}}},{key:"triggerChangeZoom",value:function(){var e=this;s.default.each(this.changeZoomSubscription,(function(t){t({userZoom:e.userZoom,pageZoom:e.pageZoom,appZoom:e.appZoom})}))}},{key:"blockScroll",value:function(){(0,f.addClass)(this.bodyEl,"jivo-block-scroll"),d.default.addListener(this.window,"scroll",this.preventDefault),d.default.addListener(this.document,"touchmove",this.preventDefault),this.window.visualViewport&&this.window.visualViewport.addEventListener&&(this.window.visualViewport.addEventListener("scroll",this.preventDefault),this.window.visualViewport.addEventListener("resize",this.preventDefault))}},{key:"unblockScroll",value:function(){(0,f.removeClass)(this.bodyEl,"jivo-block-scroll"),d.default.removeEvent(this.window,"scroll",this.preventDefault),d.default.removeEvent(this.document,"touchmove",this.preventDefault),this.window.visualViewport&&this.window.visualViewport.removeEventListener&&(this.window.visualViewport.removeEventListener("scroll",this.preventDefault),this.window.visualViewport.removeEventListener("resize",this.preventDefault))}},{key:"addOverlay",value:function(){(0,f.addClass)(this.documentEl,"jivo-mobile-overlay")}},{key:"removeOverlay",value:function(){(0,f.removeClass)(this.documentEl,"jivo-mobile-overlay")}},{key:"blockSite",value:function(){var e=this;void 0===this.blockState&&(this.resetScrollPositions(),(0,f.addClass)(this.documentEl,"jivo-site-full-block"),c.default.tablet()&&(0,i.default)((function(){(0,f.addClass)(e.documentEl,"jivo-tablet-overlay")}),300),this.blockState=!0)}},{key:"unblockSite",value:function(){(0,f.removeClass)(this.documentEl,"jivo-site-full-block"),(0,f.removeClass)(this.documentEl,"jivo-tablet-overlay"),this.restoreScrollPositions(),delete this.blockState}},{key:"resetScrollPositions",value:function(){this.scrollEl&&(this.originalScrollTop=this.scrollEl.scrollTop,this.originalScrollLeft=this.scrollEl.scrollLeft,this.scrollEl.scrollTop=0,this.scrollEl.scrollLeft=0)}},{key:"restoreScrollPositions",value:function(){(this.originalScrollTop||this.originalScrollleft)&&this.scrollEl&&(this.scrollEl.scrollTop=this.originalScrollTop,this.scrollEl.scrollLeft=this.originalScrollLeft,delete this.originalScrollTop,delete this.originalScrollLeft)}},{key:"preventDefault",value:function(e){return e.preventDefault(),e.stopPropagation(),!1}},{key:"getUserZoom",value:function(){var e=this.documentEl.clientWidth/this.window.innerWidth,t=this.window.visualViewport;if(this.isBrokenIosViewport()&&(t=!1),t){var a=this.getPseudo().clientWidth;e=this.documentEl.clientWidth<a?a/t.width:this.documentEl.clientWidth/t.width}return t&&this.isSiteOptimizedForMobile&&(e=this.window.innerWidth/t.width),!this.isSiteOptimizedForMobile&&e>=.97&&e<=1.03&&(e=1),e}},{key:"getPageZoom",value:function(){return this.window.visualViewport?"landscape"===this.getOrientation()?this.window.screen.height/this.window.visualViewport.width:this.window.screen.width/this.window.visualViewport.width:"landscape"===this.getOrientation()?this.window.screen.height/this.window.innerWidth:this.window.screen.width/this.window.innerWidth}},{key:"getAppZoom",value:function(){return this.window.visualViewport&&!this.isBrokenIosViewport()?this.window.visualViewport.width/this.window.screen.width:"landscape"===this.getOrientation()?this.window.innerWidth/this.window.screen.height:this.window.innerWidth/this.window.screen.width}},{key:"isBrokenIosViewport",value:function(){return c.default.ios()&&c.default.osVersion()>=13}},{key:"getTextSize",value:function(){if(c.default.ios()&&d.default.isWixContext())return"normal";var e=null;if(!c.default.ios())return e;var t=this.getAppZoom();return 1!==t&&(e=100*t+"%"),e||"none"}},{key:"getLineHeight",value:function(e){var t=null,a=this.getAppZoom();return 1!==a&&(t=(e||1.25)/a+"em"),t}},{key:"getOrientation",value:function(){var e,t=0;switch(this.window.orientation?t=this.window.orientation:this.window.screen&&this.window.screen.orientation&&(t=this.window.screen.orientation.angle),t){case-90:case 90:e="landscape";break;default:e="portrait"}return e}},{key:"getBodyOffset",value:function(){var e=this.getBodyPosition(),t=this.bodyEl.getBoundingClientRect(),a=this.documentEl.getBoundingClientRect();return{top:"static"===e?0:t.top-a.top,left:"static"===e?0:t.left-a.left}}},{key:"getBodyPosition",value:function(){return this.window.getComputedStyle(this.bodyEl).position}},{key:"getPseudo",value:function(){if(this.documentEl.querySelector){var e=this.documentEl.querySelector("."+p.default.pseudoHeight);return e||0}return 0}},{key:"listenChangeZoom",value:function(e){this.changeZoomSubscription.push(e)}}]),e}());t.default=_},8282:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(32366)),r=n(a(20116)),l=n(a(94473)),u=n(a(26394)),s=n(a(69198)),c=n(a(31474)),d=n(a(51379)),f=n(a(214)),h=n(a(66380)),p=n(a(47701)),m=n(a(62107));function g(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,h.default)(e);if(t){var o=(0,h.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,f.default)(this,a)}}n(a(75043)).default.name("AgentsStore");var v=new(function(e){(0,d.default)(a,e);var t=g(a);function a(){return(0,u.default)(this,a),t.apply(this,arguments)}return(0,s.default)(a,[{key:"getAgentById",value:function(e){return e?(0,l.default)(m.default).call(m.default,this.store,(function(t){return t.get("agent_id")===e>>0})):null}},{key:"getBotById",value:function(e){return e?(0,l.default)(m.default).call(m.default,this.store,(function(t){return t.get("bot_id")===e>>0})):null}},{key:"getAgentsByStatus",value:function(e){return e?(0,r.default)(m.default).call(m.default,this.store,(function(t){return t.get("body.state")===e})):null}},{key:"getAgentIdsByStatus",value:function(e){return e?(0,o.default)(m.default).call(m.default,this.store,(function(t,a){return a.get("body.state")===e&&t.push(a.get("agent_id")||a.get("bot_id")),t}),[]):null}},{key:"getOnlyAgentIdsByStatus",value:function(e){return e?(0,o.default)(m.default).call(m.default,this.store,(function(t,a){return a.get("body.state")===e&&a.get("agent_id")&&t.push(a.get("agent_id")),t}),[]):null}},{key:"getBotIdsByStatus",value:function(e){return e?(0,o.default)(m.default).call(m.default,this.store,(function(t,a){return a.get("body.state")===e&&a.get("bot_id")&&t.push(a.get("bot_id")),t}),[]):null}},{key:"closeChat",value:function(){m.default.each(this.store,(function(e){e.set("body.state","left")}))}},{key:"updateAgentList",value:function(e){var t=this;e&&e.length&&(1==e.length&&this.closeChat(),m.default.each(e,(function(e){var n;n=e.bot_id?t.getBotById(e.bot_id):t.getAgentById(e.agent_id),e.body={state:"join"},e=m.default.omit(e,"state","vox_name"),n?n.set(e):(0,c.default)((0,h.default)(a.prototype),"push",t).call(t,e)})))}},{key:"toReduxFormat",value:function(){var e=[];return m.default.each(this.store,(function(t){var a=t.toJSON(),n={avatarUrl:a.avatar_url||null,id:a.agent_id||a.bot_id,name:a.display_name||null,title:a.title||null,isBot:!!a.bot_id};e.push(n)})),e}}]),a}(p.default))({type:"default",name:"agents",keys:{agent_id:null,bot_id:null,display_name:null,title:null,avatar_url:null,body:{state:"join"}}});t.default=v},35067:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(20116)),o=n(a(26394)),r=n(a(69198)),l=n(a(62107)),u=n(a(82993)),s=n(a(51362)),c=(n(a(75043)).default.name("HistoryStore"),new(function(){function e(){(0,o.default)(this,e),this.LS=u.default}return(0,r.default)(e,[{key:"push",value:function(e){var t=this.get()||[];e=this.format(e),this.getHistoryByUrl(t,e.url).length?t=this.updateHistoryByUrl(t,e.url):(10===t.length&&(t=this.deleteOldestEntry(t)),e.time=(new Date).getTime(),t.push(e)),this.LS.set("history",t)}},{key:"get",value:function(){return this.LS.get("history")||[]}},{key:"destroy",value:function(){this.LS.removeKey("history")}},{key:"format",value:function(e){return e.url=this.subStr(s.default.decodeString(e.url)),e.title=this.subStr(e.title),e}},{key:"subStr",value:function(e){return e.length>150?e.substr(0,150)+"...":e}},{key:"getHistoryByUrl",value:function(e,t){return(0,i.default)(l.default).call(l.default,e,(function(e){return e.url===t}))}},{key:"updateHistoryByUrl",value:function(e,t){for(var a=0;a<e.length;a++)e[a].url===t&&(e[a].time=(new Date).getTime());return e}},{key:"deleteOldestEntry",value:function(e){var t=this.sortByTime(e);return t.shift(),t}},{key:"sortByTime",value:function(e){return l.default.sortBy(e,(function(e){return e.time}))}}]),e}()));t.default=c},35195:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(81643)),r=n(a(26394)),l=n(a(69198)),u=n(a(51379)),s=n(a(214)),c=n(a(66380)),d=n(a(71093)),f=n(a(62107)),h=a(8565);function p(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}n(a(75043)).default.name("MessageStore");var m=function(e){(0,u.default)(a,e);var t=p(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,l.default)(a,[{key:"isAgentMessage",value:function(){var e=this.store;return e.from===h.MessageInitiator.AGENT||"bot"===e.from}},{key:"unStorage",value:function(){if(window.parent.window&&window.parent.window.isWixPreview)return!0;var e=this.store;return-1!==(0,o.default)(f.default).call(f.default,[h.MessageType.EMAIL,h.MessageType.SOCIAL,h.MessageType.PRECHAT],e.type)||e.body&&e.body.unsave||!1}}]),a}(d.default);t.default=m},99357:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1068)),o=n(a(36384)),r=n(a(59036)),l=n(a(94473)),u=n(a(20116)),s=n(a(26394)),c=n(a(69198)),d=n(a(31474)),f=n(a(51379)),h=n(a(214)),p=n(a(66380)),m=n(a(47701)),g=n(a(35195)),v=n(a(62107)),_=n(a(36216)),y=n(a(56602)),b=n(a(17673)),E=n(a(8575)),w=n(a(62652)),C=a(8565);a(81189);function T(e){var t=function(){if("undefined"==typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,p.default)(e);if(t){var o=(0,p.default)(this).constructor;a=(0,i.default)(n,arguments,o)}else a=n.apply(this,arguments);return(0,h.default)(this,a)}}var k=n(a(75043)).default.name("MessagesStore"),S=new(function(e){(0,f.default)(a,e);var t=T(a);function a(e){var n;return(0,s.default)(this,a),(n=t.call(this,e)).destroyDeletedMessages(),n}return(0,c.default)(a,[{key:"push",value:function(e){var t=this.formatMessage(e);return(0,d.default)((0,p.default)(a.prototype),"push",this).call(this,t)}},{key:"pushAll",value:function(e){(0,d.default)((0,p.default)(a.prototype),"pushAll",this).call(this,e)}},{key:"sort",value:function(){this.store=v.default.sortBy(this.store,(function(e){return e.get("created_ts")}))}},{key:"formatMessage",value:function(e){var t=v.default.pick(e,["private_id","msg_id","chat_id","created_ts","updated_ts","from","from_id","text","type","status","body"]),a=e.meta||e.body;if(void 0!==a)if("tinkoffInvoice"===a.type){if("SUCCESS"===a.status){var n=(0,u.default)(v.default).call(v.default,this.store,(function(t){return(t.get("body")?t.get("body").invoice_id:t.invoice_id)===e.body.invoice_id}));if(n.length){var i=n[0].get("body");i&&(i.status="SUCCESS",n[0].set("body",i))}}}else if(a.chat_invoice_id){var o={type:"yandex",status:a.invoice_status,url:a.url,userEmail:_.default.client_info.email||"",invoiceId:a.chat_invoice_id,amount:a.amount,comment:a.invoice_comment};t.type=C.MessageType.INVOICE,t.body=o;var r=o.status;if("pending"===r){var l=window.parent.location.href,s=["&shopSuccessURL","shopFailURL","shopDefaultUrl"],c=b.default.parse(E.default.parse(o.url).query),d=[];for(var f in c.ym_merchant_receipt&&(o.url=y.default.removeQueryParam("ym_merchant_receipt",o.url)),s)s.hasOwnProperty(f)&&d.push(s[f]+"="+encodeURIComponent(l));o.cps_email="",c.cps_email&&"undefined"!=c.params&&(o.cps_email=c.cps_email||""),_.default.client_info.email&&(o.cps_email=_.default.client_info.email),o.url=y.default.removeQueryParam("cps_email",o.url),o.url=y.default.setGetParam("cps_email",o.cps_email,o.url),o.url+=d.join("&")}else if("confirmed"===r){var h=(0,u.default)(v.default).call(v.default,this.store,(function(e){return e.get("type")===C.MessageType.INVOICE&&"yandex"===e.get("body.type")&&e.get("body.invoiceId")===a.chat_invoice_id}));h.length&&h[0].set("body.status","confirmed")}}return e.type==C.MessageType.MESSAGE&&e.media&&(t.type=C.MessageType.MEDIA,t.body=e.media),t}},{key:"getLastMessage",value:function(){return this.store[this.store.length-1]||null}},{key:"getClientMessages",value:function(){return(0,u.default)(v.default).call(v.default,this.store,(function(e){return e.get("from")===C.MessageInitiator.CLIENT}))}},{key:"getAgentMessages",value:function(){return(0,u.default)(v.default).call(v.default,this.store,(function(e){return e.get("from")===C.MessageInitiator.AGENT}))}},{key:"getAgentTextMessages",value:function(){var e=this.getChatId();return e?(0,u.default)(v.default).call(v.default,this.store,(function(t){return t.get("chat_id")===e&&t.get("from")===C.MessageInitiator.AGENT&&t.get("type")===C.MessageType.MESSAGE})):[]}},{key:"getMessagesByType",value:function(e){return(0,u.default)(v.default).call(v.default,this.store,(function(t){return t.get("type")===e}))}},{key:"getMessageById",value:function(e){return e?(0,l.default)(v.default).call(v.default,this.store,(function(t){return t.get("msg_id")===e})):null}},{key:"getMessageByPrivateId",value:function(e){return e?(0,l.default)(v.default).call(v.default,this.store,(function(t){return t.get("private_id")===e})):null}},{key:"closeChat",value:function(){var e=this.getLastMessage(),t=this.getLastProactive();t&&t.set("chat_id",e.get("chat_id"))}},{key:"getCurrentProactive",value:function(){var e=this.getLastProactive(),t=null;return w.default.chat_started?e&&!e.get("chat_id")&&(t=e):t=null,k.log("getCurrentProactive",t),t}},{key:"getLastProactive",value:function(){var e=(0,u.default)(v.default).call(v.default,this.store,(function(e){return e.get("type")===C.MessageType.PROACTIVE}));return k.log("getLastProactive",e),e.length?e[e.length-1]:null}},{key:"getTmpProactive",value:function(){var e=(0,u.default)(v.default).call(v.default,this.store,(function(e){return e.get("type")===C.MessageType.PROACTIVE&&e.get("body")&&e.get("body").unsave}));return k.log("getTmpProactive",e),e.length?e[e.length-1]:null}},{key:"getUnreadMessage",value:function(){return(0,u.default)(v.default).call(v.default,this.store,(function(e){var t=e.toJSON();return t.from===C.MessageInitiator.AGENT&&t.status!==C.MessageStatus.READ&&t.status!==C.MessageStatus.DELETED}))}},{key:"destroyDeletedMessages",value:function(){var e=this.getDeletedMessages();v.default.each(e,(function(e){e.destroy()}))}},{key:"getDeletedMessages",value:function(){return(0,u.default)(v.default).call(v.default,this.store,(function(e){return e.get("status")==C.MessageStatus.DELETED}))}},{key:"getChatCounts",value:function(){var e,t=0;return v.default.each(this.store,(function(a){var n=a.get("chat_id");null!==n&&n!==e&&(e=n,t+=1)})),t}},{key:"getAllChatIds",value:function(){var e=[];return v.default.each(this.store,(function(t){t.get("chat_id")&&e.push(t.get("chat_id"))})),(0,r.default)(new o.default(e))}},{key:"getChatId",value:function(){var e=this.getAgentMessages(),t=(0,u.default)(this).call(this,(function(e){return e.get("chat_id")&&e.get("from")===C.MessageInitiator.CLIENT})),a=e.length?e[e.length-1].get("chat_id"):null,n=t.length?t[t.length-1].get("chat_id"):null;return n>a&&(a=n),a}},{key:"getChatMessages",value:function(e){return(0,u.default)(v.default).call(v.default,this.store,(function(t){return t.get("chat_id")===e&&t.get("type")!==C.MessageType.SYSTEM&&"bot"!==t.get("from")}))}},{key:"getChatMessagesAfterId",value:function(e,t){return(0,u.default)(v.default).call(v.default,this.store,(function(a){return a.get("chat_id")===e&&a.get("type")!==C.MessageType.SYSTEM&&"bot"!==a.get("from")&&a.get("msg_id")>t}))}},{key:"getCurrentChatMessages",value:function(){var e=this.getChatId();return e?this.getChatMessages(e):[]}},{key:"getAgentChatMessages",value:function(e){return(0,u.default)(v.default).call(v.default,this.store,(function(t){return t.get("chat_id")===e&&t.get("from")===C.MessageInitiator.AGENT&&t.get("type")!==C.MessageType.PROACTIVE}))}},{key:"getCurrentChatAgentMessages",value:function(){var e=this.getChatId();return this.getAgentChatMessages(e)}},{key:"getCurrentClientMessages",value:function(){return(0,u.default)(v.default).call(v.default,this.getChatMessages(this.getChatId()),(function(e){return e.get("from")===C.MessageInitiator.CLIENT}))}},{key:"find",value:function(e){return(0,l.default)(v.default).call(v.default,this.store,(function(t){return e(t)}))}},{key:"filter",value:function(e){return(0,u.default)(v.default).call(v.default,this.store,(function(t){return e(t)}))}},{key:"getUndelivered",value:function(){return(0,u.default)(v.default).call(v.default,this.store,(function(e){return e.get("status")===C.MessageStatus.NOT_DELIVERED}))}},{key:"getFormMessage",value:function(){return(0,u.default)(v.default).call(v.default,this.store,(function(e){return e.get("type")===C.MessageType.FORM}))}},{key:"getFormIntroduceText",value:function(){return(0,u.default)(v.default).call(v.default,this.store,(function(e){return e.get("type")===C.MessageType.PREFORM&&e.get("from")===C.MessageInitiator.FORM}))}},{key:"getBotMessages",value:function(e){return(0,u.default)(v.default).call(v.default,this.store,(function(t){return t.get("chat_id")===e&&t.get("type")===C.MessageType.MESSAGE&&"bot"===t.get("from")}))}},{key:"getTemporaryMessageWithText",value:function(e){var t=(0,u.default)(v.default).call(v.default,this.store,(function(t){return t.get("type")===C.MessageType.TEMPORARY&&t.get("text")===e}));return t.length?t[t.length-1]:null}},{key:"getTemporaryMessages",value:function(){return(0,u.default)(v.default).call(v.default,this.store,(function(e){return e.get("type")===C.MessageType.TEMPORARY}))||null}},{key:"getLastUnreadApiInvitation",value:function(){var e=(0,u.default)(v.default).call(v.default,this.store,(function(e){return e.get("type")===C.MessageType.MESSAGE&&e.get("body")&&e.get("body").customerIO}));return k.log("getLastTempCustomerIOMessage",e),e.length?e[e.length-1]:null}},{key:"getUnreadApiInvitations",value:function(){return(0,u.default)(v.default).call(v.default,this.store,(function(e){return e.get("type")===C.MessageType.MESSAGE&&e.get("body")&&e.get("body").customerIO&&e.get("body").unsave}))}},{key:"getSystemMessageByText",value:function(e){return(0,u.default)(v.default).call(v.default,this.store,(function(t){return t.get("type")===C.MessageType.SYSTEM&&t.get("text")===e}))}},{key:"hasMessages",value:function(){return this.store.length>0}}]),a}(m.default))({type:"default",name:"messages",itemClass:g.default,keys:{private_id:function(){return y.default.generateGUID()},msg_id:null,chat_id:null,created_ts:function(){return(new Date).getTime()},updated_ts:null,from:C.MessageInitiator.EMPTY,from_id:null,text:null,type:C.MessageType.EMPTY,status:C.MessageStatus.SENT,body:{}}});t.default=S},36421:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(81643)),o=n(a(31581)),r=n(a(51942)),l=n(a(58061)),u=n(a(62107)),s=n(a(18228)),c=a(56602),d=a(99112),f=a(17674),h=a(89766).EventEmitter,p=(new Date).getTime(),m=(0,r.default)(new h,{isActive:null}),g=u.default.throttle((function(){p=(new Date).getTime(),f.Router.isChatRoute()&&(0,d.pageVisible)()&&!0!==m.isActive&&(m.isActive=!0,m.emit("update"))}),500),v=function(){m.isActive=!1,m.emit("update")};(0,o.default)((function(){!1!==m.isActive&&(new Date).getTime()-p>3e4&&v()}),15e3),l.default.desktop()?((0,c.addListener)(window.parent,"scroll",g,!0),(0,c.addListener)(window.parent,"mousemove",g,!0)):((0,c.addListener)(window.parent,"touchmove",g,!0),(0,c.addListener)(window.parent,"touchend",g,!0)),s.default.on("send",(function(e){var t;(0,i.default)(t=["client_typing","client_message"]).call(t,e.name)>=0&&g()})),(0,c.listenVisibility)((function(){(0,d.pageVisible)()?g():v()})),f.Router.on("route_change",(function(){f.Router.isChatRoute()?g():v()}));var _=m;t.default=_},33535:function(t,a,n){"use strict";var i=n(87646),o=n(60530);n(63978)(a,"__esModule",{value:!0}),a.default=void 0;var r=o(n(81643)),l=o(n(94473)),u=o(n(2991)),s=o(n(78914)),c=o(n(51942)),d=o(n(36216)),f=o(n(69961)),h=o(n(62652)),p=o(n(99357)),m=o(n(8282)),g=o(n(67966)),v=o(n(35067)),_=i(n(56602)),y=o(n(75119)),b=o(n(47321)),E=o(n(40695)),w=o(n(58061)),C=o(n(44992)),T=n(66434),k=n(93298),S=n(17674),I=n(85442),x=n(8565),A=n(75245),M=n(33367),R=n(63242),N=n(5505),O=n(92097),D=o(n(18228)),L=n(81189),P=o(n(62904)),j=n(75737),B=o(n(75043)),F=n(20965),H=n(23582),W=n(42796),U=o(n(45808)),z=n(21224),G=o(n(44299)),V=o(n(41829)),q=o(n(93268)),K=n(85870),Y=o(n(16624)),Z=B.default.name("actions/connection"),J={accept:function(e){var t=e.agent_info.bot_id;if(h.default.chat_started=!0,h.default.chat_accepted=!0,d.default.evaluate=!1,h.default.is_online||(t||a.default.setOnline(),A.messageActions.deleteUnansweredOfflineSystemInvite(),A.messageActions.sendTempMessageAsClientMessageIfNeeded(),M.Monitoring.telemetry(R.TelemetryName.NEWOFFLINE_AGENT_ACCEPT)),t?f.default.agent_id=0:(f.default.bot_id&&a.default.setOnline(),f.default.bot_id=0),f.default.agent_id=e.agent_info.agent_id||null,f.default.bot_id=e.agent_info.bot_id||null,f.default.display_name=e.agent_info.display_name||null,f.default.title=e.agent_info.title||null,f.default.avatar_url=e.agent_info.avatar_url||null,f.default.typing=e.agent_info.typing||null,f.default.bot_id){var n=f.default.toReduxFormat(),i=(0,_.omit)(["isBot"],n);L.botsDispatchers.addBot(i),L.chatsDispatchers.setJoinedBots([f.default.bot_id]),m.default.updateAgentList([e.agent_info])}else L.chatsDispatchers.setJoinedAgents([e.agent_info]),L.agentsDispatchers.initializeAgentStore(m.default.toReduxFormat());t||(d.default.pa_id=f.default.agent_id,!d.default.is_introduced&&h.default.is_online&&A.messageActions.checkContactsForm()),E.default.trackChatConnected(),(0,N._callUserFunction)("onAccept"),M.Monitoring.telemetry(R.TelemetryName.CHAT_ACCEPTED,{param1:t?"bot":"agent"})},transferred:function(e){h.default.is_online||a.default.setOnline(),(0,c.default)(f.default,e.agent_info);var t=e.agent_info.bot_id;t?(L.botsDispatchers.addBot({avatarUrl:e.agent_info.avatar_url||null,id:e.agent_info.bot_id,name:e.agent_info.display_name||null,title:e.agent_info.title||null}),L.chatsDispatchers.setJoinedBots([t])):(L.agentsDispatchers.addAgent({avatarUrl:e.agent_info.avatar_url||null,id:e.agent_info.agent_id,name:e.agent_info.display_name||null,title:e.agent_info.title||null}),L.chatsDispatchers.setJoinedAgents([e.agent_info])),L.messagesDispatchers.addMessage({text:(0,y.default)("lblTransferred").replace("_AGENT_",e.agent_info.display_name),type:"system",from:"system"}),d.default.pa_id=f.default.agent_id},startup_ok:function(e){Z.log("startup_ok",e),b.default.reloadStories(),m.default.closeChat(),P.default.maintenance=!1,a.default.resetCallStatus(null),S.Router.getCurrentRoute()===I.Route.CHAT_MIN&&S.Router.setNext(I.Route.LABEL),d.default.client_id=e.jv_client_id,d.default.jv_sess_id=e.jv_sess_id,L.clientDispatchers.setHasIntegration(e.client_info.has_integration),d.default.client_info.client_name=e.client_info.name,d.default.assigned_agent_id=e.assigned_agent_id||null,A.messageActions.deleteMaintenanceMessage(),(0,K.updateHistory)(e);var t=1===P.default.enable_yandex&&P.default.joint&&P.default.joint.ya;t&&(0,Y.default)(t)},startup_error:function(e){"blacklisted"==e.err_code?(h.default.chat_started=!1,h.default.chat_accepted=!1,q.default.set("is_blacklisted",!0,86400),S.Router.next(I.RouterEvent.Hide),C.default.disableSoundPlayer()):"moved"==e.err_code?(Z.log("startup_error, Site is moved"),j.ConfigUtils.reloadConfig((function(e){Z.log("Site is moved",e),D.default._scheduleEvent("startup",5e3)}))):"maintenance"==e.err_code?a.default.maintenance():a.default.force_offline(e),M.Monitoring.telemetry(R.TelemetryName.STARTUP_ERROR,{param1:b.default.getVisitorInvite()?1:0,param2:e.err_code}),b.default.setVisitorInvite(!1)},resume_ok:function(e){if(Z.log("resume_ok",e),P.default.maintenance=!1,b.default.reloadStories(),v.default.destroy(),e.agents&&e.agents.length>0)L.chatsDispatchers.setJoinedAgents(e.agents),a.default.updateAgentInfo(e.agents),m.default.getAgentsByStatus("join").length&&(h.default.chat_accepted=!0,h.default.is_online=!0);else if(L.chatsDispatchers.setNoJoinedAgents(),e.agent_info)e.agent_info.bot_id?f.default.agent_id=0:f.default.bot_id=0,(0,c.default)(f.default,e.agent_info);else{var t=b.default.restoreAgentInfo();t&&h.default.chat_started&&(0,c.default)(f.default,t),h.default.chat_accepted=!1}var n=S.Router.getCurrentRoute();w.default.mobileOrTablet()||h.default.chat_started||p.default.getCurrentChatMessages().length||!h.default.is_online||n===I.Route.CALL||n===I.Route.CHAT_CALL||n===I.Route.LABEL||g.default.get("text")||S.Router.next(I.RouterEvent.CloseWindow);var i=e.client_info.cw_call;a.default.resetCallStatus(i),i===F.CallStatus.WAIT&&b.default.startCallTimeout(),i?((0,c.default)(d.default.cw_call,i),S.Router.getCurrentRoute()!==I.Route.CHAT_CALL&&S.Router.next(I.RouterEvent.ToCall),i.status==F.CallStatus.CONNECTED&&(0,k.resetDelayedCallStatus)()):d.default.cw_call.status!==F.CallStatus.ENDED&&b.default.requestCWAvailable();var o=e.client_info.msg_history;o.length&&(0,s.default)(o).call(o,(function(e){var t;(0,s.default)(t=p.default.getAll()).call(t,(function(t){if(e.private_id&&t.get("private_id")===e.private_id){var a={chat_id:e.chat_id,msg_id:e.msg_id,status:x.MessageStatus.DELIVERED};t.set(a)}}))})),e.client_info.has_integration&&L.clientDispatchers.setHasIntegration(e.client_info.has_integration),e.assigned_agent_id&&(d.default.assigned_agent_id=e.assigned_agent_id),A.messageActions.checkContactsForm(),A.messageActions.deleteMaintenanceMessage(),b.default.checkChatStarted(e.chat_started),(0,K.updateHistory)(e)},cw_wait:function(e){},cw_call_end:function(e){b.default.clearCallTimeout(),A.messageActions.systemCallMessage((0,y.default)("c_callDisconnected"),"callEnd"),L.callbackDispatchers.setCallbackStatus(F.CallStatus.ENDED),L.callbackDispatchers.setCallbackAvailable(!0),(0,N._callUserFunction)("onCallEnd",{result:"ok"}),M.Monitoring.telemetry(R.TelemetryName.CALL_END)},cw_connecting:function(e){L.callbackDispatchers.setCallbackStatus(F.CallStatus.CONNECTING),(0,k.resetDelayedCallStatus)()},cw_connected:function(e){L.callbackDispatchers.setCallbackStatus(F.CallStatus.CONNECTED),L.callbackDispatchers.setCallbackAvailable(!1),(0,k.resetDelayedCallStatus)()},cw_error:function(e){b.default.clearCallTimeout();var t=(0,y.default)(e.reason);t||(t=(0,y.default)("cw_unableToConnect")+" "+(0,y.default)("cw_errInfoText")),L.messagesDispatchers.addMessage({text:t,type:"system",from:"system",body:{type:"call",name:"callEnd"}}),L.callbackDispatchers.setCallbackAvailable(!0),L.callbackDispatchers.setCallbackStatus(F.CallStatus.ERROR),L.callbackDispatchers.setCallbackError(t),w.default.mobileOrTablet()||S.Router.next(I.RouterEvent.ToCall),(0,N._callUserFunction)("onCallEnd",{result:"fail",reason:t}),M.Monitoring.telemetry(R.TelemetryName.CALL_ERROR,{param1:e.reason})},agentMessage:function(e,t){Z.log("agentMessage",e),h.default.is_online||a.default.setOnline(),A.messageActions.saveLastSystemMessage();var n={text:e.message||e.text,type:e.media?x.MessageType.MEDIA:x.MessageType.MESSAGE,from:e.from,from_id:e.from_id,private_id:e.private_id,msg_id:e.msg_id,chat_id:e.chat_id,meta:e.meta,body:e.media},i=e.type==x.MessageType.LISTPICKER;t&&(i&&(n.text=e.body.text||e.body.title),e.is_markdown&&(n.body?n.body.is_markdown=!0:n.body={is_markdown:!0}),e.type==x.MessageType.INVITE?(n.type=x.MessageType.SYSTEM,n.text=(0,y.default)("botTransferChat"),M.Monitoring.telemetry(R.TelemetryName.BOT_TRANSFER_CHAT)):M.Monitoring.telemetry(R.TelemetryName.CLIENT_MESSAGE_BOT)),L.messagesDispatchers.addMessage(n),i&&(n.type=x.MessageType.LISTPICKER,n.body=e.body,n.msg_id=e.msg_id+.1,L.messagesDispatchers.addMessage(n)),b.default.agentMessageAck([e.msg_id]),L.clientDispatchers.setLastMessage(null),b.default.agentTyping(0),!w.default.desktop()||_.default.isCustomLabel()&&"function"==typeof _.default.getPageWindow().jivo_onMessageReceived||(S.Router.next(I.RouterEvent.ToChat),H.FeatureManager.isEnabled(H.Feature.NEW_ANIMATION)&&(S.Router.getPrevRoute()===I.Route.CHAT_MIN?L.transitionDispatchers.startTransition(W.ScriptName.MAXIMIZE_WIDGET):L.transitionDispatchers.startTransition(W.ScriptName.OPEN_WIDGET)),V.default.startBlinking()),C.default.play("agent_message"),(0,N._callUserFunction)("onMessageReceived")},update_agent_info:function(e){var t;h.default.is_online||a.default.setOnline();var n=e.agent_info,i=(0,u.default)(t=m.default.getAgentsByStatus("join")).call(t,(function(e){var t=e.store;return t.agent_id===n.agent_id?n:t}));a.default.updateAgentInfo([n]),L.chatsDispatchers.setJoinedAgents(i)},invoice:function(e){Z.log("invoice",e),L.messagesDispatchers.addMessage({type:"invoice",msg_id:e.invoice.msg_id,from:"agent",body:{type:e.invoice.gateway_system+"Invoice",comment:e.invoice.comment,amount:e.invoice.amount,invoice_id:e.invoice.invoice_id,payment_url:e.invoice.payment_url,status:e.status,currency:e.invoice.currency}})},agent_chat_close:function(){h.default.chat_started=!1,h.default.chat_accepted=!1,p.default.closeChat(),L.chatsDispatchers.setNoJoinedAgents(),d.default.evaluate=!1,b.default.setDepartmentId(null)},agent_service_message:function(t){switch(h.default.is_online||a.default.setOnline(),t.service){case"cobrowse":"highlight"===t.event&&(L.messagesDispatchers.addMessage({text:t.comment,type:"cobrowse",from:"agent",msg_id:t.msg_id,status:S.Router.isChatRoute()?"read":"sended",body:{type:"highlight",page_url:t.page_url,hash:t.hash}}),w.default.mobileOrTablet()||S.Router.next(I.RouterEvent.ToChat),C.default.play("agent_message"),(0,N._callUserFunction)("onMessageReceived"));break;default:Z.log("unhandled agent_service_message",e)}V.default.startBlinking()},agent_typing:function(e){h.default.is_online||a.default.setOnline(),b.default.agentTyping(e.typing)},update_client_info:function(e){e.avatar_url&&(d.default.avatar_url=e.avatar_url),e.display_name&&(d.default.display_name=e.display_name),e.assigned_agent_id&&(d.default.assigned_agent_id=e.assigned_agent_id)},message_state:function(e){var t=(0,l.default)(p.default).call(p.default,(function(t){return t.get("private_id")===e.private_id}));if(Z.log("messageState",e,t),t){var a={chat_id:e.chat_id,msg_id:e.msg_id,status:x.MessageStatus.DELIVERED};t.set(a),t.get("from")===x.MessageInitiator.CLIENT&&(0,O.prechatSetUsed)(!1)}},blacklist:function(){q.default.set("is_blacklisted",!0,86400),h.default.chat_started=!1,h.default.chat_accepted=!1,S.Router.next(I.RouterEvent.Hide),C.default.disableSoundPlayer()},disconnecting:function(){V.default.stopBlinking()},force_offline:function(e){h.default.is_online&&(L.appDispatchers.setAppIsOnline(0),A.messageActions.resendClientMessageAfterForceOffline(),A.messageActions.handleContactsForm(),M.Monitoring.telemetry(R.TelemetryName.NEWOFFLINE_FORCE_OFFLINE))},update_client:function(e){e.has_integration&&_.default.hasIntegration(e.has_integration)&&(L.clientDispatchers.setHasIntegration(e.has_integration),L.messagesDispatchers.addMessage({text:(0,y.default)("social_success_"+e.has_integration),type:x.MessageType.SYSTEM,body:{type:x.MessageType.SOCIAL}}),S.Router.next(I.RouterEvent.ToChat),M.Monitoring.telemetry(R.TelemetryName.SOCIAL_HAS_INTEGRATION+e.has_integration),b.default.isChatContactForm()&&M.Monitoring.telemetry(R.TelemetryName.CHAT_INTRODUCE_SOCIAL,{param1:"connect_"+e.has_integration}))},connect_failed:function(){Z.log("connect_failed")},offline_ack:function(e){A.messageActions.offlineAck(e)},agent_message:function(e){h.default.is_online||a.default.setOnline(),e.meta&&a.default.agentMessage(e)},chat_message:function(e){var t;if(Z.log("chat_message",e),h.default.is_online||a.default.setOnline(),-1!==(0,r.default)(t=["join","left"]).call(t,e.params.type))b.default.updateChatAgent(e);else{var n="bot"===e.params.from;if((e.params.from===x.MessageInitiator.AGENT||n)&&a.default.agentMessage(e.params,n),e.params.from===x.MessageInitiator.CLIENT){var i=(0,T.filterMessage)(e.params);if(i){var o=_.default.generateGUID();L.messagesDispatchers.addMessage({from:x.MessageInitiator.CLIENT,text:e.params.text,type:x.MessageType.MESSAGE,private_id:o,status:x.MessageStatus.SENT})}i&&h.default.route!==I.Route.CHAT&&S.Router.next(I.RouterEvent.ToChat)}}},chat_message_update:function(e){var t=e.params.msg_id,a=p.default.getMessageById(t);Z.log("chat_message_update",e,t,a),a&&(e.params.deleted?(a.set("status",x.MessageStatus.DELETED),a.set("type",x.MessageType.MESSAGE),a.set("body",null)):e.params.updated_ts&&(a.set("updated_ts",1e3*e.params.updated_ts),a.set("text",e.params.text)))},agents_list_updated:function(e){if(Z.log("agents_list_updated"),h.default.is_online||a.default.setOnline(),e.params.length){if(1===e.params.length){var t=e.params[0];(0,c.default)(f.default,t),t.bot_id||(d.default.pa_id=t.agent_id)}a.default.updateAgentInfo(e.params),L.chatsDispatchers.setJoinedAgents(e.params),L.agentsDispatchers.initializeAgentStore(m.default.toReduxFormat())}},maintenance:function(){Z.log("Enable maintenance"),P.default.maintenance=!0,L.callbackDispatchers.setCallbackAvailable(!1),A.messageActions.addMaintenanceMessage()},updateAgentInfo:function(e){if(1===e.length){var t=e[0];(0,c.default)(f.default,t),t.bot_id||(d.default.pa_id=t.agent_id)}},resetCallStatus:function(e){Z.log("resetCallStatus",e),e||L.callbackDispatchers.setCallbackStatus(!1)},setOnline:function(){var e=(0,y.default)("offlineAgentConnected");L.appDispatchers.setAppIsOnline(1),A.messageActions.systemMessageOnce(e)},enableRecaptchaAntispam:function(){if(Z.log("Enable antispam"),L.callbackDispatchers.setCallbackAvailable(!1),A.messageActions.systemMessageOnce((0,y.default)("maintenanceSystemText"),"text",!1),P.default.enable_new_animation)L.appDispatchers.setIsInputDisabled(!0);else{var e=U.default.getComponent(z.Component.CHAT_INPUT);e&&(e.setDisabled(!0),e.setPlaceholder((0,y.default)("maintenanceBlockedPlaceholder")))}G.default.allRulesCancel()}};a.default=J},47321:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(63978)),o=n(a(20368)),r=n(a(39649)),l=n(a(78914)),u=n(a(34074)),s=n(a(20116)),c=n(a(14310)),d=n(a(86902)),f=n(a(87672)),h=n(a(51942)),p=n(a(33032)),m=n(a(59340)),g=n(a(77766)),v=n(a(81643)),_=n(a(36216)),y=n(a(69961)),b=n(a(62652)),E=n(a(18228)),w=a(56602),C=n(a(62904)),T=n(a(58061)),k=n(a(62107)),S=n(a(40695)),I=a(93298),x=n(a(99357)),A=n(a(67966)),M=n(a(8282)),R=n(a(75119)),N=n(a(75043)),O=a(17674),D=a(85442),L=a(8565),P=a(75245),j=a(36143),B=n(a(44992)),F=a(33367),H=a(63242),W=a(5505),U=a(81189),z=n(a(49043)),G=a(51139),V=a(20965),q=n(a(5972)),K=a(42796),Y=n(a(82036)),Z=a(23582),J=n(a(6991)),X=n(a(75959));function $(e,t){var a=(0,d.default)(e);if(c.default){var n=(0,c.default)(e);t&&(n=(0,s.default)(n).call(n,(function(t){return(0,u.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(a=$(Object(n),!0)).call(a,(function(t){(0,f.default)(e,t,n[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(n));else{var s;(0,l.default)(s=$(Object(n))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(n,t))}))}}return e}var ee=N.default.name("Actions"),te=null,ae=null,ne="",ie=0,oe=null,re=!1,le=k.default.throttle((function(e,a){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(t.default.startCallTimeout(),(0,v.default)(n=["cw_wait","cw_connecting","cw_connected"]).call(n,_.default.cw_call.status)>=0)ee.log("already calling");else{var o=(0,G.getPhoneNumberInfo)(e);_.default.client_info.phone=o?"+"+o.phoneCode+o.innerNumber:e,(0,G.checkStartCall)(e,i,(function(n,i){if(i||(ee.log("Wrong response from telephony"),i={ok:!1,error_list:["wrong_response"]}),i.only_forward)return U.callbackDispatchers.setCallbackStatus(V.CallStatus.ERROR),U.callbackDispatchers.setCallbackError((0,R.default)("cw_call_forward")),void _.default.dispatch();var o;i.ok?(b.default.chat_started=!0,b.default.chat_accepted=!0,U.callbackDispatchers.setCallbackStatus(V.CallStatus.WAIT),P.messageActions.handleContactsForm(),P.messageActions.systemCallMessage((0,g.default)(o="".concat((0,R.default)("cw_call_to")," ")).call(o,(0,G.getMaskedPhone)(e)),"callMessageStart"),(0,W._callUserFunction)("onCallStart"),S.default.trackCallWidgetRequested(),F.Monitoring.telemetry(H.TelemetryName.CALL_START,{param1:a})):(t.default.setCallError(),F.Monitoring.telemetry(H.TelemetryName.CALL_ERROR,{param1:i.error_list.join(" ")}),i.work_time&&i.work_time.schedule&&((0,I.onDelayedCallAvailable)(i.work_time),(0,I.redirectAfterRequestDelayedCall)(),F.Monitoring.telemetry(H.TelemetryName.CALL_START,{param1:a})),T.default.mobileOrTablet()||O.Router.getCurrentRoute()!==D.Route.LABEL||O.Router.next(D.RouterEvent.Navigate))}))}}),2e3),ue={chatOpenByClient:!1,visitorInvite:!1,sendUpdateProactive:function(){if(_.default.jv_sess_id){var e={name:"update_client",jv_sess_id:_.default.jv_sess_id},t=x.default.getCurrentProactive();A.default.get("text")&&(t=A.default),t&&t.get("text")&&t.get("body")&&(e.proactive_rule={invitation_text:t.get("text"),agent_id:t.get("body").agent_id,private_id:t.get("private_id"),created_ts:Math.floor(t.get("created_ts")/1e3)}),te!=(0,m.default)(e)&&(te=(0,m.default)(e),ee.log("sendUpdateProactive",e),e.proactive_rule&&E.default.sendIfConnected(e))}else ee.log("updateProactive no session.")},checkConnection:function(e){E.default.isConnected()?e():(E.default.handle("startup"),E.default.on("socket_message",(function t(a){(0,p.default)((function(){!a||"startup_ok"!=a.name&&"resume_ok"!=a.name||(a.jv_client_id&&(_.default.client_id=a.jv_client_id),e(),E.default.off("socket_message",t))}),0)})))},requestCWAvailable:function(e){C.default.maintenance?_.default.cw_call_enabled=!1:(0,G.callWidgetPing)((function(t){U.callbackDispatchers.setCallbackAvailable(t.ok),_.default.cw_call_enabled&&"function"==typeof e&&e()}),b.default.chat_started)},requestApiCWAvailable:function(e){(0,G.callWidgetPing)((function(t){if(U.callbackDispatchers.setCallbackAvailable(t.ok),_.default.cw_call_enabled&&"function"==typeof e)e({result:"ok"});else{var a=t.error_list?t.error_list.join(" "):"Call request error";e({result:"fail",reason:a})}}),b.default.chat_started)},pingAndOpenCall:function(){ee.info("pingAndOpenCall"),t.default.checkConnection((function(){(0,G.callWidgetPing)((function(e){U.callbackDispatchers.setCallbackAvailable(e.ok);var t=O.Router.getCurrentRoute()===D.Route.LABEL;!e.ok||!t&&b.default.is_online?e.ok&&!t&&b.default.is_online&&(ee.log("api toggle call form"),O.Router.next(D.RouterEvent.ToCall),T.default.desktop()&&Z.FeatureManager.isEnabled(Z.Feature.NEW_ANIMATION)&&U.transitionDispatchers.startTransition(K.ScriptName.OPEN_WIDGET)):(U.userDispatchers.setCallHeaderText(null),O.Router.next(D.RouterEvent.ToCall),T.default.desktop()&&Z.FeatureManager.isEnabled(Z.Feature.NEW_ANIMATION)&&U.transitionDispatchers.startTransition(K.ScriptName.OPEN_WIDGET),F.Monitoring.telemetry(H.TelemetryName.API_CALL_OPEN))}),b.default.chat_started)}))},openMobileNativeMenu:function(){b.default.isShowNativeMobileMenu=!0},closeMobileNativeMenu:function(){b.default.isShowNativeMobileMenu=!1},restoreAgentInfo:function(){var e={};if(y.default.agent_id)e=y.default;else{var t=x.default.getLastProactive(),a=t?t.get("body"):null;a&&a.agent_id&&(e=a)}return e},blurActiveElement:function(){var e=(0,w.getPageWindow)().document.activeElement;e&&"function"==typeof e.blur&&e.blur()},closeWidget:function(e){U.appDispatchers.setAppIsFocused(0),T.default.mobileOrTablet()?(t.default.blurActiveElement(),e||(0,W._callUserFunction)("onClose")):O.Router.isMinRoute()?parent.document.getElementById("jivo_custom_widget")||(0,W._callUserFunction)("onClose"):(A.default.get("proactiveName")&&(S.default.trackProactiveInvitationRejected(A.default.get("proactiveName")),A.default.set("proactiveName",null)),(0,W._callUserFunction)("onClose")),q.default.set("close_time",(new Date).getTime()),t.default.chatOpenByClient=!1,Z.FeatureManager.isEnabled(Z.Feature.NEW_ANIMATION)||O.Router.next(D.RouterEvent.CloseWindow)},openChatCallbacks:function(){ee.log("openChatCallbacks"),b.default.is_online?S.default.trackChatOpenedByClick():S.default.trackOfflineFormOpenedByClick(),(0,W._callUserFunction)("onOpen")},hideWidget:function(){O.Router.next(D.RouterEvent.Hide),B.default.disableSoundPlayer()},setClientContactInfo:function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];ee.log("setClientContactInfo",e,a),t.default.setIntroduce(e),a||U.clientDispatchers.setIsIntroduced(!0),b.default.is_online&&!a&&(S.default.trackGaveContacts(),n&&F.Monitoring.telemetry(H.TelemetryName.INTRODUCE,{param1:C.default.contacts_ask}),(0,W._callUserFunction)("onIntroduction"))},setIntroduce:function(e){_.default.client_info=(0,h.default)(_.default.client_info,{client_name:e.name||e.client_name||null,phone:e.phone||null,email:e.email||null,description:e.description||null}),ee.log("setIntroduce",_.default.client_info,e),E.default.sendIfConnected(Q(Q({name:"introduction"},_.default.client_info),{},{accept_eula:C.default.eula&&b.default.eula_accepted||null}))},setDepartmentId:function(e){_.default.department_id=e,ee.log("set department id",e)},startCall:function(e,a,n){ee.log("startCall from chat",e),t.default.checkConnection((function(){le(e.replace(/\D+/g,""),a,n)}))},sendEvaluation:function(e){F.Monitoring.telemetry(H.TelemetryName.CLIENT_RATE_FORM,{param1:e}),_.default.evaluate="0"!==e;var t=x.default.getAgentMessages(),a=t.length?t[t.length-1].get("chat_id"):null;a?E.default.send({name:"rate",chat_id:a,rate:e}):ee.log("sendEvaluation","error: no chat_id for rate form")},markEvaluated:function(){_.default.evaluate=!0},clientTyping:function(e){var t=e?1:0;ie!=t&&(ie=t,E.default.sendIfConnected({name:"client_typing",typing:t}))},typingInsight:function(e){1==C.default.typing_insight&&ne!=e&&(ne=e,E.default.sendIfConnected({name:"client_service_message",service:"typing_insight",event:"input_changed",new_val:e}))},updateTitle:function(e,t){if(ee.log("updateTitle",e),window&&window.location){if(!T.default.mobileOrTablet()||O.Router.getCurrentRoute()===D.Route.LABEL){var a=t||(0,w.getCurrentPage)().url;ee.log("updateTitle url",a),E.default.sendIfConnected({name:"url_change",url:a,title:(0,w.setSubstrTitle)(e)})}}else ee.log("no window")},agentMessageAck:function(e){E.default.send({name:"agent_message_ack",ack_msg_ids:e})},agentMessageRead:function(e){E.default.send({name:"agent_message_read",msg_ids:e})},submitShowEula:function(e){if(j.RouterUtils.needToShowEula()){var t,a=(0,G.getMaskedPhone)(e);return X.default.showEula((0,g.default)(t="".concat((0,R.default)("eula_phone"),"<br/>")).call(t,a),null,"cb"),O.Router.next(D.RouterEvent.Submit,{context:"cb"}),!0}return!1},reloadStories:function(){b.default.reload(),_.default.reload(),t.default.syncRouter()},syncRouter:function(){if(ee.warn("syncRouter",b.default.route,O.Router.getCurrentRoute()),b.default.route!==O.Router.getCurrentRoute()){var e,t,a=O.Router.getPrevEvent();if(_.default.is_introduced&&"introduce"===b.default.route)return;if(-1!==(0,v.default)(e=[0,-1]).call(e,C.default.contacts_ask)&&"introduce"===b.default.route)return;if(!(b.default.route!==D.Route.CHAT_SOCIAL||a&&J.default.getPopupMode()))return void ee.warn("prevent to show Social without user click.");if(-1!=(0,v.default)(t=[D.Route.CHAT_EULA,D.Route.CALL_EULA]).call(t,b.default.route)&&(!a||a&&-1==(0,v.default)(a).call(a,"submit"))&&b.default.show_eula)return void ee.warn("prevent to show Eula without user click.");O.Router.setNext(b.default.route)}},disableFileUpload:function(){U.featuresDispatchers.disableFiletransfer(1),C.default.options=0},agentTyping:function(e){0==e?clearTimeout(ae):ae=(0,p.default)((function(){t.default.agentTyping(0)}),3e3),y.default.typing=e},updateChatAgent:function(e){var t=e.params,a=M.default.getAgentById(t.from_id);a?(a.set("body.state",t.type),U.messagesDispatchers.addMessage({type:"system",body:{from_id:t.from_id,action:t.type,type:"chat"},msg_id:t.msg_id,chat_id:t.chat_id})):ee.error("updateChatAgent: No agent info in agents store.")},clearCallTimeout:function(){oe&&clearTimeout(oe)},startCallTimeout:function(){t.default.clearCallTimeout(),oe=(0,p.default)((function(){var e;(0,v.default)(e=["cw_wait","cw_connecting"]).call(e,_.default.cw_call.status)>=0&&t.default.setCallError()}),24e4)},setCallError:function(){var e=(0,R.default)("cw_unableToConnect")+" "+(0,R.default)("cw_errInfoText");U.callbackDispatchers.setCallbackStatus(V.CallStatus.ERROR),U.callbackDispatchers.setCallbackError(e),U.messagesDispatchers.addMessage({text:e,type:L.MessageType.SYSTEM,from:L.MessageInitiator.SYSTEM,body:{type:"call",name:"callEnd"}})},isChatContactForm:function(){var e;return-1!==(0,v.default)(e=[0,-1]).call(e,C.default.contacts_ask)},clearHistory:function(){b.default.reset(),_.default.reset(),x.default.destroy()},initializeReduxStores:function(){U.appDispatchers.initializeAppStore({isFocused:b.default.is_focused,isOnline:b.default.is_online,route:b.default.route,tabRoute:null,lastChatOpened:b.default.lastChatOpened,isInputDisabled:!1}),U.clientDispatchers.initializeClientStore({assignedAgentId:_.default.assigned_agent_id,clientId:_.default.client_id,description:_.default.client_info.description,email:_.default.client_info.email,eulaAccepted:null,hasIntegration:_.default.has_integration,isBlacklisted:null,isIntroduced:_.default.is_introduced,lastMessage:_.default.last_message,displayName:_.default.display_name,priorityAgentId:_.default.pa_id,phone:_.default.client_info.phone,sessionId:_.default.jv_sess_id,utm:_.default.utm,visitorId:_.default.visitorId}),U.callbackDispatchers.initializeCallbackStore({available:_.default.cw_call_enabled,delayedPeriods:null,delayedStatus:_.default.cw_call_delayed_status,delayedTimezone:null,isDelayed:_.default.cw_call_delayed,error:_.default.cw_call.error,status:_.default.cw_call.status}),U.agentsDispatchers.initializeAgentStore(M.default.toReduxFormat()),U.botsDispatchers.initializeBotsStore(M.default.toReduxFormat()),U.messagesDispatchers.initializeMessagesStore(),U.chatsDispatchers.initializeChatsStore(),T.default.mobileOrTablet()||U.positionDispatchers.initializePositionStore({height:Y.default.height,left:Y.default.left,right:Y.default.right}),ee.warn(O.Router.getCurrentRoute());var e=O.Router.isContainerRoute()?K.ScriptName.OPEN_WIDGET:K.ScriptName.CLOSE_WIDGET;if(O.Router.isMinRoute()&&(e=K.ScriptName.MINIMIZE_WIDGET),U.transitionDispatchers.initializeTransitionStore({currentScript:e}),A.default.get("body")&&(y.default.agent_id||y.default.bot_id)){var t=y.default.toReduxFormat();t.isBot?(U.botsDispatchers.addBot({avatarUrl:t.avatarUrl,id:t.id,name:t.name,title:t.title}),U.chatsDispatchers.setJoinedBots([t.id])):(U.agentsDispatchers.addAgent(t),U.chatsDispatchers.addJoinedAgent(t.id))}},getCurrentChatStatus:function(){return b.default.chat_accepted?V.ChatState.ACCEPTED:b.default.chat_started?V.ChatState.STARTED:V.ChatState.NOT_STARTED_OR_CLOSED},getCaptcha:function(e,t){var a,n,i,o=(new Date).getTime(),r=(0,g.default)(a=(0,g.default)(n=(0,g.default)(i="".concat(C.default.base_url,"/script/captcha/")).call(i,C.default.widget_id,"?visitor_id=")).call(n,_.default.visitorId,"&rnd=")).call(a,o);z.default.get({url:r},(function(a,n){if(a||!n.ok||!n.image_src)return t();e(n.image_src)}))},checkCaptcha:function(e,t,a){var n,i,o,r=(0,g.default)(n=(0,g.default)(i=(0,g.default)(o="".concat(C.default.base_url,"/script/startup-token/")).call(o,C.default.widget_id,"?visitor_id=")).call(i,_.default.visitorId,"&symbols=")).call(n,e);z.default.get({url:r},(function(e,n){if(e||!n.ok||!n.token)return a();t(n.token)}))},checkChatStarted:function(e){b.default.is_online||(ee.log("checkChatStarted for offline."),U.appDispatchers.setLastChatOpened(e))},setVisitorInvite:function(e){this.visitorInvite=e},getVisitorInvite:function(){return this.visitorInvite},initSocial:function(){re||(J.default.startSocials(),re=!0)}};t.default=ue},75245:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.messageActions=void 0;var i=n(a(51942)),o=n(a(78914)),r=n(a(81643)),l=n(a(33032)),u=n(a(94473)),s=n(a(26394)),c=n(a(69198)),d=n(a(36216)),f=n(a(62652)),h=n(a(69961)),p=n(a(18228)),m=a(56602),g=n(a(62904)),v=n(a(58061)),_=(n(a(62107)),n(a(40695))),y=n(a(99357)),b=n(a(67966)),E=n(a(6991)),w=n(a(75119)),C=n(a(75043)),T=a(17674),k=a(85442),S=a(8565),I=a(92097),x=a(24335),A=a(33367),M=a(63242),R=a(5505),N=a(60906),O=a(11470),D=a(63465),L=n(a(45808)),P=a(21224),j=a(81189),B=a(23582),F=C.default.name("MessageActions"),H=new(function(){function e(){(0,s.default)(this,e),this.cacheOfflineMsg={},this.mediaFile=!1,this.formTimeout=null}return(0,c.default)(e,[{key:"systemMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];F.log("systemMessage",e,t);var n={type:"text"!==t?"call":t,name:t};a||(n.unsave=!0),j.messagesDispatchers.addMessage({text:e,type:S.MessageType.SYSTEM,body:n})}},{key:"testMessage",value:function(e){j.messagesDispatchers.addMessage({text:e,type:S.MessageType.FOR_TEST,from:S.MessageInitiator.AGENT})}},{key:"botMessage",value:function(e){F.log("botMessage",e),j.messagesDispatchers.addMessage({type:S.MessageType.PREFORM,text:e,from:S.MessageInitiator.FORM})}},{key:"messageOnce",value:function(e,t,a,n){if(!this.checkIfMessageExists(e,t))switch(e){case S.MessageType.SYSTEM:this.systemMessage(t,a,n);break;case S.MessageType.PREFORM:this.botMessage(t);break;case S.MessageType.FOR_TEST:this.testMessage(t)}}},{key:"systemMessageOnce",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.messageOnce(S.MessageType.SYSTEM,e,t,a)}},{key:"botMessageOnce",value:function(e){this.messageOnce(S.MessageType.PREFORM,e)}},{key:"checkIfMessageExists",value:function(e,t){var a=(0,u.default)(y.default).call(y.default,(function(a){var n=a.get("type")===e,i=!t||a.get("text")===t;return n&&i}));return a||!1}},{key:"_sendClientMessageBase",value:function(e){var t,a=(0,m.generateGUID)(),n=b.default.get("proactiveName");if(n)_.default.trackProactiveInvitationAccepted(n),b.default.set("proactiveName",null);else if(f.default.chat_started){var i=y.default.getCurrentChatAgentMessages(),o=y.default.getCurrentClientMessages();o&&!o.length&&i&&i.length&&_.default.trackClientAnswerAgentChatRequest()}else _.default.trackClientInitChat(),(0,R._callUserFunction)("onClientStartChat");if(N.ApiInvitationsManager.isInitialized()&&N.ApiInvitationsManager.hasInvitations()&&N.ApiInvitationsManager.markInvitationsAnswered(),this.saveLastSystemMessage(),!this.mediaFile){var r={from:S.MessageInitiator.CLIENT,text:e,type:S.MessageType.MESSAGE,private_id:a,status:S.MessageStatus.SENT};t=y.default.push(r),j.messagesDispatchers.addMessage(r,!0)}var u={name:"client_message",message:e,private_id:a};if(d.default.department_id&&(u.widget_department_id=d.default.department_id),1===y.default.getClientMessages().length&&(0,R._callUserFunction)("onMessageSent"),!(0,m.isWixEditor)()&&!x.isDesignerEditor){if((0,l.default)((function(){t&&!t.get("msg_id")&&(t.set("status","notDelivered"),p.default.messageBuffer.hasMessage(a)||p.default.messageBuffer.push(u),A.Monitoring.telemetry(M.TelemetryName.CLIENT_MESSAGE_SEND_ERROR))}),2e3),!f.default.chat_started){var s={param1:y.default.getChatCounts()>0?"old":"new",param2:(0,I.prechatUsed)()?"prechat_used":"from_input",param3:g.default.locale};A.Monitoring.telemetryOnce(M.TelemetryName.VISITOR_MSG_SENT,s)}(0,I.prechatEnabled)()&&((0,I.prechatUsed)()&&(u.is_prechat_btn=!0),this.deletePrechatMsg()),3==g.default.contacts_ask&&E.default.isLoginned()&&this.initSocial(),this.needToShowContactsForm()&&!g.default.bots&&this.startFormSequence((0,w.default)("lblIntroduceRequest")),d.default.is_introduced||1!==g.default.contacts_ask||(T.Router.next(k.RouterEvent.ToIntroduce),A.Monitoring.telemetry(M.TelemetryName.CHAT_INTRODUCE,{param1:"show",param2:(0,m.getContactSettingsInfo)()})),this.mediaFile&&(u.media=this.mediaFile.file,u.private_id=this.mediaFile.privateId,this.mediaFile=!1),(0,O.getRuleLocal)("firstMessageTime")||(0,O.setRuleLocal)("firstMessageTime",new Date),f.default.chat_started=!0,p.default.send(u)}}},{key:"needToShowContactsForm",value:function(){var e;return!d.default.is_introduced&&!h.default.bot_id&&-1!==(0,r.default)(e=[0,-1]).call(e,g.default.contacts_ask)&&!y.default.getFormMessage().length}},{key:"checkContactsForm",value:function(){if(this.needToShowContactsForm()){var e=(0,w.default)("lblIntroduceRequest"),t=this.checkIfMessageExists(S.MessageType.PREFORM,e);t?t.set("created_ts",(new Date).getTime()):this.botMessage(e),this.addContactsForm()}}},{key:"addContactsForm",value:function(){this.checkIfMessageExists(S.MessageType.FORM)||(j.messagesDispatchers.addMessage({type:S.MessageType.FORM,from:S.MessageInitiator.FORM}),this.addSocialTelemetry())}},{key:"saveLastSystemMessage",value:function(){var e=y.default.getLastMessage();e&&"system"==e.get("type")&&e.get("body")&&e.get("body").unsave&&e.set("body",null)}},{key:"storeMediaFile",value:function(e,t){this.mediaFile={file:e,privateId:t}}},{key:"addSocialTelemetry",value:function(){var e=E.default.getJoints().links,t="";e.vkUrl&&e.fbUrl&&(t="show_vkfb"),e.vkUrl&&!e.fbUrl&&(t="show_vk"),!e.vkUrl&&e.fbUrl&&(t="show_fb"),(e.vkUrl||e.fbUrl)&&A.Monitoring.telemetry(M.TelemetryName.CHAT_INTRODUCE_SOCIAL,{param1:t})}},{key:"initSocial",value:function(){var e=this;F.log("initSocial",E.default.isLoginned()),y.default.getMessagesByType(S.MessageType.SOCIAL).length||v.default.mobileOrTablet()||(0,l.default)((function(){1!==y.default.getCurrentClientMessages().length||d.default.has_integration||(h.default.bot_id||j.messagesDispatchers.addMessage({text:(0,w.default)("social_online_text"),type:S.MessageType.SYSTEM,body:{type:S.MessageType.SOCIAL}}),(0,l.default)((function(){e.addSocialMessage()}),2e3))}),2e3)}},{key:"addSocialMessage",value:function(){F.log("addSocialMessage"),g.default.joint&&!d.default.client_info.email&&!d.default.has_integration&&!v.default.mobileOrTablet()&&!y.default.getMessagesByType(S.MessageType.SOCIAL).length&&y.default.getCurrentClientMessages().length>0&&j.messagesDispatchers.addMessage({text:"",type:S.MessageType.SOCIAL})}},{key:"sendOfflineMessageFromApi",value:function(e){F.log("sendOfflineMessageFromApi",e),p.default.send({name:"offline_message",message:e.message,email:e.email,phone:e.phone,client_name:e.name||e.client_name,cap_symbols:e.cap_symbols||"",from_online:f.default.forcedOffline,description:d.default.client_info.description,accept_eula:g.default.eula&&f.default.eula_accepted||null}),_.default.trackOfflineMessageSent()}},{key:"getSystemInviteText",value:function(){return g.default.offline_form_text}},{key:"getOfflineSuccessText",value:function(){return(0,w.default)("offlineSuccessContactsSubmit")}},{key:"offlineSystemInvite",value:function(e){if(!g.default.maintenance&&!f.default.is_online&&!f.default.chat_started&&(!B.FeatureManager.isEnabled(B.Feature.OLD_CAPTCHA)||e)){var t=this.getSystemInviteText();this.messageOnce(S.MessageType.FOR_TEST,t)}}},{key:"startFormSequence",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:700;F.log("startFormSequence",e,a),f.default.is_online&&h.default.bot_id||(this.formTimeout&&clearTimeout(this.formTimeout),f.default.is_online||this.setInputDisabled(!0),a?this.formTimeout=(0,l.default)((function(){0===y.default.getFormMessage().length&&(e&&t.botMessageOnce(e),(0,l.default)((function(){t.addContactsForm()}),a),A.Monitoring.telemetry(M.TelemetryName.CHAT_INTRODUCE,{param1:"show"}))}),a):0===y.default.getFormMessage().length&&(e&&this.botMessageOnce(e),this.addContactsForm(),A.Monitoring.telemetry(M.TelemetryName.CHAT_INTRODUCE,{param1:"show"})))}},{key:"deleteUnansweredOfflineSystemInvite",value:function(){0===y.default.getClientMessages().length&&(this.deleteOfflineSystemInvites(),f.default.is_online&&!(0,D.isValidEmail)()&&this.deleteOfflineTmpMessage())}},{key:"deleteOfflineTmpMessage",value:function(){this.destroyByType(S.MessageType.FOR_TEST),this.destroyByType(S.MessageType.TEMPORARY),this.destroyByType(S.MessageType.PREFORM),this.destroyByType(S.MessageType.FORM)}},{key:"addPrechatMessage",value:function(){if((0,I.prechatEnabled)()){var e=y.default.getMessagesByType(S.MessageType.PRECHAT),t=y.default.getCurrentChatAgentMessages(),a=y.default.getCurrentClientMessages(),n=y.default.getLastProactive();!f.default.is_online||f.default.chat_started||e.length||(a.length||t.length)&&!n||this.pushPrechat()}}},{key:"pushPrechat",value:function(){j.messagesDispatchers.addMessage({body:{unsave:!0},type:S.MessageType.PRECHAT,from:S.MessageInitiator.FORM})}},{key:"deletePrechatMsg",value:function(){var e=y.default.getMessagesByType(S.MessageType.PRECHAT);e&&(0,o.default)(e).call(e,(function(e){e&&e.destroy()}))}},{key:"deleteOfflineSystemInvites",value:function(){var e=y.default.getMessagesByType(S.MessageType.FOR_TEST);(0,o.default)(e).call(e,(function(e){e&&e.destroy()}))}},{key:"addMaintenanceMessage",value:function(){if(this.systemMessageOnce((0,w.default)("maintenanceSystemText"),"text",!1),g.default.enable_new_animation)j.appDispatchers.setIsInputDisabled(!0);else{var e=L.default.getComponent(P.Component.CHAT_INPUT);e&&e.checkInputState()}}},{key:"deleteMaintenanceMessage",value:function(){F.log("deleteMaintenanceMessage");var e=y.default.getSystemMessageByText((0,w.default)("maintenanceSystemText"));(0,o.default)(e).call(e,(function(e){e&&e.destroy()}))}},{key:"destroyByType",value:function(e){var t=y.default.getMessagesByType(e);(0,o.default)(t).call(t,(function(e){e&&e.destroy()}))}},{key:"markdownMessage",value:function(e){F.log("markdownMessage",e),j.messagesDispatchers.addMessage({type:S.MessageType.MESSAGE,text:e,from:S.MessageInitiator.AGENT,body:{customerIO:!0,unsave:!0}})}},{key:"systemCallMessage",value:function(e,t){var a=y.default.getLastMessage();(!a||a&&a.get("text")!==e)&&this.systemMessage(e,t)}},{key:"sendClientMessage",value:function(e){F.log("sendClientMessage",e),f.default.is_online?this._sendClientMessageBase(e):d.default.is_introduced?this.sendOfflineMessage(e):B.FeatureManager.isEnabled(B.Feature.OLD_CAPTCHA)?T.Router.next(k.RouterEvent.ToIntroduce):(this._fakeOfflineMessage(e),this.handleContactsForm())}},{key:"sendOfflineMessage",value:function(e){F.log("sendOfflineMessage",e),f.default.chat_started=!0,j.appDispatchers.setLastChatOpened(!0);var t=y.default.getLastMessage();this.saveLastSystemMessage();var a,n=(0,m.generateGUID)();if(!this.mediaFile){var i={from:S.MessageInitiator.CLIENT,text:e,type:S.MessageType.MESSAGE,private_id:n,status:S.MessageStatus.SENT};a=y.default.push(i),j.messagesDispatchers.addMessage(i,!0)}var o=this._createOfflineMessage(e,n);this.mediaFile&&(o.media=this.mediaFile.file,o.private_id=this.mediaFile.privateId,this.mediaFile=!1),p.default.send(o),this.checkIfMessageIsDelivered(a);var r=this.getOfflineSuccessText(),l=this.checkIfMessageExists(S.MessageType.SYSTEM,r),u=this.equalMessages(t,l);d.default.is_introduced&&l&&y.default.getClientMessages().length>=1&&u&&A.Monitoring.telemetryOnce(M.TelemetryName.NEWOFFLINE_MESSAGE_AFTER_FORM),_.default.trackOfflineMessageSent()}},{key:"offlineAck",value:function(e){F.log("offlineAck"),(0,m.isEmpty)(this.cacheOfflineMsg)&&!e||(T.Router.getCurrentRoute()===k.Route.CHAT||v.default.mobileOrTablet()||T.Router.next(k.RouterEvent.ToChat),this.cacheOfflineMsg=e)}},{key:"resendClientMessageAfterForceOffline",value:function(){var e=this;F.log("resendClientMessageAfterForceOffline");var t=y.default.getClientMessages();(0,o.default)(t).call(t,(function(t){var a=t&&t.get("status");if(t&&a!==S.MessageStatus.DELIVERED){var n=t.get("text"),i=t.get("body");if(t.get("type")===S.MessageType.MEDIA)if(i&&i.file_url)if(e.storeMediaFile(i.file_url,(0,m.generateGUID)()),t.set("status",S.MessageStatus.SENT),t.set("type",S.MessageType.TEMPORARY),e.systemMessageOnce((0,w.default)("offlineForceOfflineMessage")),d.default.is_introduced){var o=e._createOfflineMessage(n);e.mediaFile&&(e._formatMediaForOfflineMessage(o,i),e.mediaFile=!1),p.default.send(o)}else e.handleContactsForm();else i&&!i.file_url&&t.set("type",S.MessageType.TEMPORARY);else t.destroy(),e.systemMessageOnce((0,w.default)("offlineForceOfflineMessage")),e.sendClientMessage(n)}}))}},{key:"handleContactsForm",value:function(){if(!f.default.is_online&&!d.default.is_introduced)if(0===y.default.getFormMessage().length)A.Monitoring.telemetryOnce(M.TelemetryName.NEWOFFLINE_FIRST_MESSAGE),this.startFormSequence((0,w.default)("offlineIntroductionText"));else{var e=y.default.getFormIntroduceText(),t=y.default.getFormMessage();e[0].set("created_ts",(new Date).getTime()),t[0].set("created_ts",(new Date).getTime()),this.setInputDisabled(!0)}}},{key:"sendTemporaryMessages",value:function(){var e=this,t=y.default.getTemporaryMessages();return!(!t||!t.length)&&((0,o.default)(t).call(t,(function(t){e.sendTemporaryMessage(t)})),!0)}},{key:"sendTemporaryMessage",value:function(e){F.log("sendTemporaryMessage",t);var t=e.get("text"),a=e.get("body"),n=this._createOfflineMessage(t);this._formatMediaForOfflineMessage(n,a),p.default.send(n),_.default.trackOfflineMessageSent(),this._swapTemporaryOfflineMessage(n),(0,I.prechatSetUsed)(!1)}},{key:"setInputDisabled",value:function(e){if(F.log("setInputDisabled",e),g.default.enable_new_animation)j.appDispatchers.setIsInputDisabled(e);else{var t=L.default.getComponent(P.Component.CHAT_INPUT);t&&t.setDisabled(e)}}},{key:"equalMessages",value:function(e,t){return!(!e||!t||e.get("type")!==t.get("type")||e.get("text")!==t.get("text"))}},{key:"checkIfMessageIsDelivered",value:function(e){(0,l.default)((function(){e&&!e.get("msg_id")&&e.set("status",S.MessageStatus.NOT_DELIVERED)}),2e3)}},{key:"sendTempMessageAsClientMessageIfNeeded",value:function(){var e=this;F.log("sendTempMessageAsClientMessageIfNeeded");var t=y.default.getTemporaryMessages();t&&(0,o.default)(t).call(t,(function(t){var a=t.get("text");t.destroy(),e.sendClientMessage(a)}))}},{key:"_swapTemporaryOfflineMessage",value:function(e){if(F.log("_swapTemporaryOfflineMessage"),e){var t=y.default.getTemporaryMessageWithText(e.message);if(e&&t){var a=t.get("body");a&&a.file?t.set("type",S.MessageType.MEDIA):t.set("type",S.MessageType.MESSAGE),t.set("private_id",e.private_id),t.set("status",S.MessageStatus.SENT)}this.checkIfMessageIsDelivered(t)}}},{key:"_fakeOfflineMessage",value:function(e){F.log("_fakeOfflineMessage",e),f.default.chat_started=!0,j.appDispatchers.setLastChatOpened(!0);var t={from:S.MessageInitiator.CLIENT,text:e,type:S.MessageType.TEMPORARY};this.mediaFile&&(t.media=this.mediaFile.file,t.private_id=this.mediaFile.privateId,this.mediaFile=!1),t=y.default.push(t),j.messagesDispatchers.addMessage(t,!0)}},{key:"_createOfflineMessage",value:function(e,t){var a={name:"offline_message",message:e||"",email:d.default.client_info.email,phone:d.default.client_info.phone,client_name:d.default.client_info.client_name,cap_symbols:"",from_online:!1,description:d.default.client_info.description,accept_eula:g.default.eula&&f.default.eula_accepted||null,private_id:t||(0,m.generateGUID)()};return(0,I.prechatUsed)()&&(a.is_prechat_btn=!0),a}},{key:"_formatMediaForOfflineMessage",value:function(e,t){if(e&&t&&t.file_url){var a=(0,m.getUrlEmoji)(t.type,t.file_url),n=(0,i.default)({},t);n.file=t.file_url,delete n.file_url,n.type=(0,m.detectType)(t.type),e.message=a,e.media=n}}},{key:"setListpickerAnswer",value:function(e,t){F.log("setListpickerAnswer",e,t);var a=y.default.getMessageById(e);if(a){a.set("body.answer_id",t);var n=a.get("body.keyboard")[t];a.set("body.keyboard",[n]),a.destroy()}}},{key:"hideEmailForm",value:function(){var e=y.default.getMessagesByType("email");e.length&&e[e.length-1].destroy()}}]),e}());t.messageActions=H},92234:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(51942)),o=n(a(36216)),r=n(a(69961)),l=n(a(99357)),u=n(a(67966)),s=n(a(62652)),c=n(a(47321)),d=n(a(58061)),f=n(a(40695)),h=a(74721),p=a(17674),m=a(85442),g=a(75245),v=n(a(75119)),_=a(33367),y=a(63242),b=a(8565),E=a(81189),w=a(42796),C=(n(a(62904)),a(23582)),T=n(a(75043)).default.name("ruleActions"),k=function(){s.default.is_online&&g.messageActions.deleteUnansweredOfflineSystemInvite(),p.Router.getCurrentRoute()!==m.Route.LABEL||d.default.mobileOrTablet()||(p.Router.next(m.RouterEvent.ToChat),C.FeatureManager.isEnabled(C.Feature.NEW_ANIMATION)&&E.transitionDispatchers.startTransition(w.ScriptName.OPEN_WIDGET))},S={proactive:function(e,t,a){T.log("proactive",t),(0,i.default)(r.default,t);var n=r.default.toReduxFormat();n.isBot?(E.botsDispatchers.addBot({avatarUrl:n.avatarUrl,id:n.id,name:n.name,title:n.title}),E.chatsDispatchers.setJoinedBots([n.id])):(E.agentsDispatchers.addAgent(n),E.chatsDispatchers.addJoinedAgent(n.id));var o={text:(0,h.escapeHTMLString)(e),body:t,proactiveName:a};u.default.set(o);var l=o.text===(0,v.default)("defRuleInvitationText")?"default":"custom";_.Monitoring.telemetry(y.TelemetryName.CHAT_INVITE,{param1:l}),k(),c.default.sendUpdateProactive()},showCallForm:function(e,t){c.default.requestCWAvailable((function(){T.log("RULE MANAGER: ",o.default.cw_call_enabled,"label"==s.default.route),o.default.cw_call_enabled&&"label"==s.default.route&&(E.userDispatchers.setCallHeaderText(e),!d.default.mobileOrTablet()&&p.Router.next(m.RouterEvent.ToCall),C.FeatureManager.isEnabled(C.Feature.NEW_ANIMATION)&&E.transitionDispatchers.startTransition(w.ScriptName.OPEN_WIDGET),"function"==typeof t&&t())}))},systemMessage:function(e){if(!r.default.bot_id){var t=l.default.getLastMessage();t&&t.get("type")===b.MessageType.SYSTEM&&t.get("text")===e&&t.destroy();var a={type:b.MessageType.SYSTEM,text:e};s.default.chat_started||(a.body={unsave:!0}),E.messagesDispatchers.addMessage(a),k()}},systemMessageEmail:function(e){E.messagesDispatchers.addMessage({type:"email",text:e,body:{unsave:!0}}),k(),f.default.trackSystemMessageEmailShown()},openOffline:function(){g.messageActions.offlineSystemInvite(!0),k()}};t.default=S},40695:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(77766)),o=n(a(81643)),r=n(a(78914)),l=a(56602),u=n(a(62904)),s=n(a(75043)).default.name("analytics"),c={_yaCounter:[],_trackedEvents:[],getAnalyticsClientId:function(){var e,t,a=(0,l.getPageWindow)(),n={};"function"==typeof a.ga&&("function"==typeof a.ga.getAll&&(0,r.default)(t=a.ga.getAll()).call(t,(function(e){n.ga||(n.ga=e.get("clientId"))})));return(0,r.default)(e=this._yaCounter).call(e,(function(e){a[e]&&"function"==typeof a[e].getClientID&&(n.ym||(n.ym=a[e].getClientID()))})),n},isAnalyticsIdAvaiable:function(){var e=this.getAnalyticsClientId();return s.log("Counters userId",e),!(!u.default.options||!e.ga&&!e.ym)&&e},init:function(){try{var e=(0,l.getPageWindow)();for(var t in e)0===(0,o.default)(t).call(t,"yaCounter")&&"function"==typeof e[t].reachGoal&&this._yaCounter.push(t);s.log("Active Yandex counters: ",this._yaCounter.length)}catch(e){s.log(e.toString())}},_trackEvent:function(e,t){var a;if((0,l.isPaidCustomer)()&&!((0,o.default)(a=this._trackedEvents).call(a,e)>=0)){this._trackedEvents.push(e),s.info("_trackEvent: "+e+"/"+t);var n,u=(0,l.getPageWindow)();if(void 0!==u._gaq&&"function"==typeof u._gaq.push&&u._gaq.push(["_trackEvent","JivoSite",e,t,void 0,!0]),"function"==typeof u.ga&&"function"==typeof u.ga.getAll)(0,r.default)(n=u.ga.getAll()).call(n,(function(a){s.log("track ga:",a.get("name"),e,t),0!==a.get("name").search(/^gtag_/i)&&a.send("event","JivoSite",e,t,{nonInteraction:1})}));if("function"==typeof u.gtag){var c={event_category:"JivoSite",event_action:e,event_label:t};s.log("track gtag:",c),u.gtag("event","JivoSite",c)}if(u._gaUA_real&&"function"==typeof u._gaUA_real.getAll){var d=u._gaUA_real.getAll();2==d.length&&(d[1].send("event","JivoSite",e,t,{nonInteraction:1}),s.log("Track event to custom tiu client counter",d[1].get("trackingId"),e,t))}if(u.gaUA&&"function"==typeof u.gaUA.getAll){var f=u.gaUA.getAll();f.length&&f.length>0&&f[1]&&"function"==typeof f[1].send&&(f[1].send("event","JivoSite",e,t,{nonInteraction:1}),s.log("Track event to custom tiu client counter",f[1].get("trackingId"),e,t))}if(this._yaCounter.length>0){var h,p;e=(0,i.default)(h=["Jivo"]).call(h,e.split(" ")).join("_");var m=(0,l.getPageWindow)();(0,r.default)(p=this._yaCounter).call(p,(function(t){m&&m[t]&&"function"==typeof m[t].reachGoal&&m[t].reachGoal(e)}))}this.trackFBEvents(e)}},_setCustomVar:function(e,t){s.log("_setCustomVar: "+e+"/"+t);var a=(0,l.getPageWindow)();if(void 0!==a._gaq&&a._gaq.push(["_setCustomVar",1,e,t,1]),"function"==typeof a.ga&&a.ga("set",e,t),this._yaCounter.length>0){var n,i={};i[e]=t,(0,r.default)(n=this._yaCounter).call(n,(function(e){a[e].params(i)}))}},trackFBEvents:function(e){var t=(0,l.getPageWindow)().fbq;if(e=e.replace(/ /gi,"_").replace("Jivo_",""),s.log("trackFBEvents",e),!t||1===u.default.site_id)return!1;t("trackCustom","Jivo",{content_name:e})},trackChatOpenedByClick:function(){this._trackEvent("Chat requested","User clicked chat widget")},trackOfflineFormOpenedByClick:function(){this._trackEvent("Offline form shown","User offline form")},trackOfflineMessageSent:function(){this._trackEvent("Offline message sent","User sent message via offline form")},trackProactiveInvitationShown:function(e){this._trackEvent("Proactive invitation shown",e)},trackProactiveInvitationAccepted:function(e){this._trackEvent("Proactive invitation accepted",e)},trackProactiveInvitationRejected:function(e){this._trackEvent("Proactive invitation rejected",e)},trackChatConnected:function(){this._trackEvent("Chat established","User connected to agent")},trackGaveContacts:function(){this._trackEvent("User gave contacts during chat","User gave contacts during chat")},trackCallWidgetInvitationShown:function(e){this._trackEvent("Callback invitation shown",e)},trackCallWidgetRequested:function(){this._trackEvent("Callback requested","User request callback.")},setABTestGroupContacts:function(e,t){this._setCustomVar(e,t)},trackSystemMessageEmailShown:function(){this._trackEvent("In-chat email form shown","In-chat email form shown.")},trackSystemMessageEmailSubmitted:function(){this._trackEvent("In-chat email form submitted","In-chat email form submitted.")},trackContinueInSocial:function(e){this._trackEvent("Continue in social","User clicked ".concat(e," button"))},trackMobileSocial:function(e){var t=this.getSocialName(e);this._trackEvent("Jivo_".concat(t),"User tap ".concat(t," mobile link"))},trackSocial:function(e){var t=this.getSocialName(e);this._trackEvent("Jivo_".concat(t),"User click ".concat(t," label link"))},trackClientInitChat:function(){this._trackEvent("Client initiate chat","Client initiate chat")},trackClientAnswerAgentChatRequest:function(){this._trackEvent("Client answer on agent request","Client answer on agent request")},trackMobileCallClick:function(){this._trackEvent("Mobile call","Mobile call")},trackPrechatClick:function(e){this._trackEvent("Prechat phrase clicked",e)},getSocialName:function(e){switch(e){case"vk":return"Vkontakte";case"fb":return"Facebook";case"wa":return"WhatsApp";case"tg":return"Telegram";case"vb":return"Viber";default:return e}}};t.default=c},5505:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t._callUserFunction=F,t.default=void 0;var i=n(a(41511)),o=n(a(33032)),r=n(a(81643)),l=n(a(23765)),u=n(a(62904)),s=n(a(18228)),c=a(56602),d=n(a(86999)),f=n(a(58061)),h=n(a(36216)),p=n(a(44299)),m=n(a(40695)),g=n(a(27968)),v=n(a(62652)),_=n(a(47321)),y=a(17674),b=a(85442),E=a(75245),w=n(a(49173)),C=a(33367),T=a(63242),k=n(a(99357)),S=n(a(94686)),I=n(a(6991)),x=a(60906),A=a(51139),M=a(81189),R=a(42796),N=a(11470),O=a(94515),D=a(23582),L=n(a(93268)),P=n(a(75043)).default.name("api"),j=10,B={open:function(e){if(C.Monitoring.telemetryWithProbability(T.TelemetryName.API_OPEN,{param1:e},j),L.default.get("is_blacklisted"))return{result:"fail"};var t=(0,c.getPageWindow)();t.jivo_cstm_widget&&f.default.mobileOrTablet()&&(t.jivo_cstm_widget.style.display="block");var a="object"===(0,l.default)(e);return a&&"call"===e.start?u.default.callback_settings.time?(y.Router.getCurrentRoute()===b.Route.CALL||(p.default.allRulesCancel(),_.default.pingAndOpenCall()),{result:"ok"}):(P.info("Callback is disabled."),{result:"fail",reason:"Callback is disabled"}):y.Router.getCurrentRoute()==b.Route.CHAT?{result:"ok",opened:!0}:(v.default.is_focused=1,a&&"menu"===e.start?f.default.mobile()&&I.default.getJoints().count>0?(v.default.isShowNativeMobileMenu=!1,_.default.chatOpenByClient=!1,_.default.openMobileNativeMenu()):(D.FeatureManager.isEnabled(D.Feature.NEW_ANIMATION)&&M.transitionDispatchers.startTransition(R.ScriptName.OPEN_WIDGET),y.Router.next(b.RouterEvent.ApiOpen)):(f.default.desktop()&&D.FeatureManager.isEnabled(D.Feature.NEW_ANIMATION)&&M.transitionDispatchers.startTransition(R.ScriptName.OPEN_WIDGET),y.Router.next(b.RouterEvent.ApiOpen)),E.messageActions.offlineSystemInvite(),E.messageActions.addPrechatMessage(),t.jivo_cstm_widget&&f.default.mobileOrTablet()&&(v.default.is_online?m.default.trackChatOpenedByClick():m.default.trackOfflineFormOpenedByClick()),{result:"ok"})},close:function(){var e;return C.Monitoring.telemetryWithProbability(T.TelemetryName.API_CLOSE,{},j),L.default.get("is_blacklisted")?{result:"fail"}:(0,r.default)(e=[b.Route.LABEL,b.Route.CHAT_MIN]).call(e,v.default.route)>=0?{result:"ok",closed:!0}:(_.default.closeWidget(),f.default.mobileOrTablet()&&y.Router.next(b.RouterEvent.CloseWindow),{result:"ok"})},getContactInfo:function(){C.Monitoring.telemetryWithProbability(T.TelemetryName.API_GET_CONTACT_INFO,{},j);var e=h.default.client_info;return{client_name:e.client_name,email:e.email,phone:e.phone,description:e.description}},getVisitorNumber:function(e){P.log("getVisitorNumber",e);var t=h.default.client_id;t&&(0,r.default)(t).call(t,".")>0&&"function"==typeof e?(0,o.default)((function(){e(null,t.split(".").shift())}),0):e&&"function"==typeof e?(C.Monitoring.telemetryWithProbability(T.TelemetryName.API_GET_VISITOR_NUMBER,{},j),w.default.getVisitorNumber((function(t,a){P.log(t,a),t?P.log("Error fetch visitor number."):a&&("object"===(0,l.default)(a)&&a.result&&"client_id"in a?(h.default.client_id||(h.default.client_id=a.client_id),"function"==typeof e&&e(null,h.default.client_id.split(".").shift())):P.error("Error fetching visitor number"))}))):P.error("Please provide callback function in jivo_api.getVisitorNumber(callback)")},setUserToken:function(e){var t;return C.Monitoring.telemetryWithProbability(T.TelemetryName.API_SET_USER_TOKEN,{},j),"string"==typeof e||e instanceof String?(e==s.default.user_token?t={result:"fail",error:"Cant set same token: ".concat(e)}:s.default.setUserToken(e,(function(a){a?P.log("Token updated, token: ".concat(e)):P.log("Token set, but was not sent to the server"),t={result:"ok",token:e||!1}})),!u.default.enable_api_invitation&&O.EnvironmentManager.isProduction()||v.default.chat_started||x.ApiInvitationsManager.initialize(e),t):(P.error("Bad token. The token must be type of string"),{result:"fail",token:e||!1})},setCustomData:function(e){if(C.Monitoring.telemetryWithProbability(T.TelemetryName.API_SET_CUSTOM_DATA,{},j),u.default.webhooks_enabled)return{result:"fail",reason:"Webhooks enabled. You must disable it to use setCustomData"};var t=this.validateCustomData(e);return(0,i.default)(t)?(s.default.setCustomData(e),{result:"ok"}):(P.error("Invalid custom data.",t),{result:"fail",reason:t})},validateCustomData:function(e){var t="";if(!(0,i.default)(e))return"Data must be array.";(0==e.length||e.length>10)&&(t+="Data limit error, data length  must be 1 to 10.");for(var a=0;a<e.length;a++){var n;if("string"!=typeof e[a].content&&(t+="Property content must be string. "),e[a].link)if(u.default.api_domain&&"string"==typeof e[a].link)-1===(0,r.default)(n=e[a].link).call(n,u.default.api_domain)&&delete e[a].link;else delete e[a].link}return""==t?e:t},sendMessage:function(e){if(D.FeatureManager.isEnabled(D.Feature.OLD_CAPTCHA))return{result:"fail",error:"Send message error"};if("string"!=typeof e||"[object Object]"===Object.prototype.toString.call(e))return{result:"fail",error:"First argument must be text to send message."};var t=k.default.getClientMessages();return t.length&&e==t[t.length-1].get("text")?{result:"fail",error:"You cannot send 2 messages in a row"}:(E.messageActions.sendClientMessage(e),C.Monitoring.telemetryOnce(T.TelemetryName.API_SEND_MESSAGE),{result:"ok"})},setContactInfo:function(e){if(C.Monitoring.telemetryWithProbability(T.TelemetryName.API_SET_CONTACT_INFO,{},j),e&&"object"===(0,l.default)(e)){P.log("setContactInfo",e);var t={},a=!1,n="";for(var i in e)if({}.hasOwnProperty.call(e,i)){var o=e[i],r=i;"name"==r&&(r="client_name"),o&&S.default[r]&&S.default[r](o)?(t[i]=o,a=!0):(P.error(r+" not valid."),n+=r+" not valid.")}return a?(this._sendIntroduce(t),{result:"ok",data:t}):(C.Monitoring.telemetryWithProbability(T.TelemetryName.API_SET_CONTACT_INFO_BAD_DATA,{},j),P.error("setContactInfo bad data",e),{result:"fail",error:n})}},_sendIntroduce:function(e){e.isEmailSubmitted&&m.default.trackSystemMessageEmailSubmitted(),P.log(e),_.default.setClientContactInfo({client_name:e.name||e.client_name,phone:e.phone,email:e.email,description:e.description},!0)},showProactiveInvitation:function(e,t){(0,N.isYandexMarketClient)(h.default.utm)?P.log("Disabled for YM clients"):(0,c.isPaidCustomer)()?(C.Monitoring.telemetryOnce(T.TelemetryName.API_SHOW_PROACTIVE),p.default.showProactive(e,t,"jivo_api.showProactiveInvitation")):P.log("Proactive disabled for free users.")},highlightCobrowse:function(e,t){g.default.getCobrowseData(e,t)},sendOfflineMessage:function(e){if(C.Monitoring.telemetryOnce(T.TelemetryName.API_SEND_OFFLINE_MESSAGE),P.log("sendOfflineMessage",e),v.default.is_online)return{result:"fail",error:"Error send offline message when chat is online."};if(e&&"object"===(0,l.default)(e)){P.log("sendOfflineMessage",e);var t="";for(var a in e)if({}.hasOwnProperty.call(e,a)){var n=e[a],i=a;"name"==i&&(i="client_name"),n&&S.default[i]&&S.default[i](n)||(P.error(i+" not valid."),t+=i+" not valid. ")}return""==t?(_.default.setClientContactInfo(e),E.messageActions.sendOfflineMessageFromApi(e),{result:"ok"}):(C.Monitoring.telemetryOnce(T.TelemetryName.API_SEND_OFFLINE_MESSAGE_BAD_DATA),P.error("sendOfflineMessage bad data",e),{result:"fail",error:t})}return{result:"fail",error:"Invalid params for offline message"}},setRules:function(e){return C.Monitoring.telemetryOnce(T.TelemetryName.API_SET_RULES),e&&"object"===(0,l.default)(e)?(u.default.rules=e,{result:"ok"}):(P.error("Invalid type of rules, must be object."),{result:"fail"})},chatMode:function(){return C.Monitoring.telemetryWithProbability(T.TelemetryName.API_CHAT_MODE,{},j),u.default.chat_mode},setWidgetColor:function(e,t){C.Monitoring.telemetryOnce(T.TelemetryName.API_SET_WIDGET_COLOR);var a=d.default.isLightColor(e)?"dark":"light";M.userDispatchers.setWidgetColor(e),M.userDispatchers.setWidgetColor2(t||null),M.userDispatchers.setWidgetFontColor(a)},sendPageTitle:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&"string"==typeof e?(_.default.updateTitle(e,a),t&&C.Monitoring.telemetryOnce(T.TelemetryName.API_SEND_PAGE_TITLE),{result:"ok"}):{result:"fail",reason:"Invalid title"}},isCallbackEnabled:function(e){"function"==typeof e&&(C.Monitoring.telemetryWithProbability(T.TelemetryName.API_IS_CALLBACK_ENABLED,{},j),(0,c.isEmpty)(u.default.callback_settings)?e({result:"fail",reason:"Callback disabled"}):_.default.requestApiCWAvailable(e))},startCall:function(e){if(P.log("api startCall",e),!h.default.cw_call_enabled||(0,c.isEmpty)(u.default.callback_settings))return{result:"fail",reason:"Callback disabled"};if(e){var t=(0,A.getPhoneNumberInfo)(e);return t?(e="+"+t.number,y.Router.next(b.RouterEvent.ToCall),_.default.startCall(e,"from_api"),{result:"ok"}):{result:"fail",reason:"Invalid phone"}}return{result:"fail",reason:"Invalid phone"}},getUtm:function(){C.Monitoring.telemetryWithProbability(T.TelemetryName.API_GET_UTM,{},j);var e=h.default.utm;return{term:e.keyword||null,campaign:e.campaign||null,content:e.content||null,medium:e.medium||null,source:e.source||null}},getUnreadMessagesCount:function(){return k.default.getUnreadMessage().length},clearHistory:function(){_.default.clearHistory()}};function F(e,t){if(P.log("_callUserFunction",e,t),e="jivo_"+e,"function"==typeof window.parent.window[e])try{P.log("JIVO: calling user function "+e),window.parent.window[e](t),P.log("JIVO: user function "+e+" returned"),C.Monitoring.telemetryWithProbability(e,{},j)}catch(e){P.log("ERROR: _callUserFunction",e)}}t.default=B,y.Router.on("route_change",(function(e){F("onChangeState",e),y.Router.isChatInputRoute(e)&&x.ApiInvitationsManager.markInvitationsRead()}))},27968:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(86902)),o=n(a(77766)),r=n(a(33032)),l=n(a(23765)),u=n(a(81643)),s=(n(a(59748)),n(a(59748)),n(a(75119))),c=a(56602),d=a(99112),f=n(a(4620)),h=n(a(58061)),p=n(a(62904)),m=n(a(62107)),g=n(a(90842)),v=n(a(47321)),_=n(a(93867)),y=a(33367),b=n(a(49043)),E=a(63242),w=a(94515),C=n(a(41829)),T=n(a(75043)).default.name("cobrowse"),k=window.parent.document,S=function(e,t){var a=window.top;"function"==typeof a.history.replaceState?a.history.replaceState({},t,e):"function"==typeof a.history.pushState&&a.history.pushState({},t,e)},I={init:function(){var e,t,a=!1,n={};g.default.install(window.parent),this._process=t=function(t,i){a?(T.log("controller of childSandboxBridge set as for NodeWebkit"),(e=M).setLangpack(n),e.init(),"in_node_webkit"===t&&window.parent.jivo_cobrowse.source.postMessage({name:"widget_ready"},window.parent.jivo_cobrowse.origin)):e=A,e[t]&&"is_node_webkit"!==t&&e[t](i)},(0,c.addListener)(window.parent,"message",(function(e){if(e&&e.data&&"object"===(0,l.default)(e.data)){var i=e.data;-1!==(0,u.default)(m.default).call(m.default,["startSelection","stopSelection","in_node_webkit"],i.name)&&e.source&&e.origin&&(e.source,e.origin,a=!0,i.langpack&&(n=i.langpack),t(i.name,i))}}),!1)},process:function(e,t){this._process||this.init(),this._process(e,t)},create:function(e,t){I.process("highlight",e),I.process("renderTooltip",e),S(t,k.title)},postMessage:function(e){(0,r.default)((function(){window.parent.jivo_cobrowse.source.postMessage(e,window.parent.jivo_cobrowse.origin)}),0)},isNodeWebkit:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return isNodeWebkit})),getCobrowseData:function(e,t){var a=p.default.base_url+"/script/cobrowsing?hash=".concat(e);b.default.get({url:a},(function(a,n){if(!a&&n&&m.default.isObject(n)){0===n.comment.length&&(n.comment=(0,s.default)("lblDefaultCobrowseComment")),n.comment=(0,c.stripBrackets)(n.comment),C.default.stopBlinking();var i=k.location.href.split("#")[0],o=t&&t+"#jvhs_"+e;t&&i!==t&&i!==encodeURI(t)?window.parent.document.location.href=o:h.default.mobileOrTablet()?(v.default.closeWidget(),(0,r.default)((function(){I.create(n,o)}),1e3)):I.create(n,o)}}))}};function x(e){var t=function(e){var t="",a=e.split(" > ");return m.default.each(a,(function(e){t+="/*",-1!==(0,u.default)(e).call(e,":")&&(t+="["+e.substr((0,u.default)(e).call(e,"(")+1,(0,u.default)(e).call(e,")")-(0,u.default)(e).call(e,"(")-1)+"]")})),t}(e),a=k.querySelector(e);return a||k.evaluate(t,k,null,g.default.XPathResultType.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}var A={is_inited:!1,isCobrowseVisible:function(e){return(0,d.isVisible)(e)&&"HTML"!=e.tagName&&"hidden"!=e.style.visibility&&"jivo-iframe-container"!=e.id&&"jivo_container"!=e.id},highlight:function(e){if(T.log("highlight"),"cobrowser-iframe"===window.parent.name&&!this.is_inited&&!M.is_inited){var t=k.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",(0,c.staticUrl)((w.EnvironmentManager.isDevelopment()?"/public":"")+"/css/for_app.css")),k.body.appendChild(t),this.is_inited=!0}var a;if(R(a="string"==typeof e.element?x(e.element):e.element)){if(e.hash&&null!==k.getElementById("#jivo_cobrowsing_element_id_"+e.hash))return this.animateScroll(e);m.default.each(["jivo_cobrowsing_element","jivo_cobrowsing_tooltip"],(function(e){m.default.each(k.getElementsByClassName(e),(function(e){e.parentNode.removeChild(e)}))}));var n,i=R(a),o=i.width,l=i.height;if(T.log(a,e),a&&this.isCobrowseVisible(a)){T.log("overlayCreate"),d(),T.log("overlayCss"),s(i,o,l),T.log("overlayAppend"),f(),window.parent&&"cobrowser-iframe"!==window.parent.name&&y.Monitoring.telemetry(E.TelemetryName.COBROWSE_SUCCESS);var u=function(){var t;if(t="string"==typeof e.element?x(e.element):e.element,n||(d(),f()),t){var a=R(t);s(a,a.width,a.height)}if(n)return n};return(0,r.default)((function(){u()}),50),(0,c.addListener)(window.parent,"resize",u),n||void 0}"cobrowser-iframe"!==window.parent.name&&y.Monitoring.telemetry(E.TelemetryName.COBROWSE_FAILED)}else T.log("cobrowse element position failed.");function s(e,t,i){n.style.width=t+"px",n.style.height=i+"px",n.style.left=e.left-8+"px",n.style.top=e.top-8+"px",N(a)&&(n.style.position="fixed")}function d(){n||((n=k.createElement("jdiv")).className="jivo_cobrowsing_element",n.id="jivo_cobrowsing_element_id_"+e.hash,k.body.appendChild(n))}function f(){if(!n){var e=k.createElement("jdiv");n.className="jivo_cobrowsing_element_inner",n.appendChild(e)}}},renderTooltip:function(e){T.log("renderTooltip");var t,a=null!==k.getElementById("#jivo_cobrowsing_element_id_"+e.hash);if(!1!==a)return this.animateScroll(e),a;if((t="string"==typeof e.element?x(e.element):e.element)&&this.isCobrowseVisible(t)){var n=k.createElement("jdiv");n.className="",n.id="jivo_content_cobrowsing_tooltip",n.style.width="100%",n.style.height="auto";var i=k.createElement("jdiv");return i.className="jivo_cobrowsing_tooltip",h.default.mobile()&&(i.style.width="200px"),i.id="jivo_cobrowsing_tooltip_"+e.hash,N(t)&&(i.style.position="fixed"),i.appendChild(n),e.show&&(i=this.addTooltipContent(i,e,t)),i}T.log("Error render tooltip, element not visible")},appendTooltip:function(e,t){var a=e.childNodes[0];k.body.appendChild(e);var n=function(){if((0,d.addClass)(a,"jivo-bottom"),(0,d.removeClass)(a,"jivo-top jivo-left jivo-right"),t){var n=R(t),i=(0,c.getPageWindow)(),o=n.width,r=n.height,l=n.left+o/2,u=n.top-30+15,s=R(e),f=R(a),p=i.innerWidth||i.outerWidth,m=s.width/2*-1;u<f.height+10?(u=n.top+r+10,a.className+=" jivo-top"):(a.style.position="absolute",a.style.bottom="10px"),l+m<10&&(l=35,m=0,a.className+=" jivo-left"),h.default.mobile()?l+s.width+m>p&&(m=0,l=p-s.width):l+s.width>p&&(m=-1*s.width,l=n.left+o-30,a.className+=" jivo-right"),e.style.left=(0!==l?l:35)+"px",e.style.top=u+"px",e.style.marginLeft=m+"px"}};n(),e.style.opacity=1,this.animateScroll(null,t,a),(0,r.default)((function(){n()}),50),(0,c.addListener)(window.parent,"resize",n)},addTooltipContent:function(e,t,a){var n,i,r=e.childNodes[0];32&p.default.options&&"string"==typeof t.agent.avatar_url&&t.agent.avatar_url.length>0&&p.default.avatar_url&&(t.agent.avatar_url=(0,o.default)(n=(0,o.default)(i="".concat(c.getProtocol)).call(i,p.default.avatar_url,"/avatars/")).call(n,t.agent.avatar_url));var l=k.createElement("jdiv");l.dir="ltr",l.id="jivo_action",l.className="jivo-desktop";var s=window.parent.document.createElement("jdiv");s.id="jivo_close_button",s.innerHTML=_.default,l.appendChild(s),r.appendChild(l),s.addEventListener("click",(function(a){a.preventDefault();var n,i,o,r=k.getElementsByClassName("jivo_cobrowsing_element")[0];r.parentNode.removeChild(r),n=t.hash,o=window.top,(0,u.default)(i=o.location.href).call(i,"#jvhs_"+n)>0&&S(o.location.href.replace("#jvhs_"+n,""),(0,c.getCurrentPage)().title),e.parentNode.removeChild(e)}));var d=k.createElement("jdiv");d.innerText=t.agent.display_name,d.className="jivo_cobrowsing_tooltip_agent",r.appendChild(d);var f=k.createElement("jdiv");return f.innerHTML=t.comment.split("\n").join("<br />"),f.className="jivo_cobrowsing_tooltip_text",r.appendChild(f),this.appendTooltip(e,a),e},animateScroll:function(e,t,a){e&&(t=k.getElementById("#jivo_cobrowsing_element_id_"+e.hash),a=k.getElementById("#jivo_cobrowsing_tooltip_"+e.hash).childNodes[0]);var n={top:(a&&(0,d.hasClass)(a,"top")?R(t).top:R(a.parentNode).top)-300};k.documentElement&&"scrollBehavior"in k.documentElement.style&&(n.behavior="smooth"),window.parent.scrollTo(n)}},M={is_selecting:!1,is_tooltip_open:!1,is_inited:!1,langpack:{},init:function(){if(!this.is_inited){var e=k.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",(0,c.staticUrl)((w.EnvironmentManager.isDevelopment()?"/public":"")+"/css/for_app.css")),k.body.appendChild(e),(0,c.removeEvent)(window.parent,"keydown",this.keydownListener),(0,c.addListener)(window.parent,"keydown",this.keydownListener),this.is_inited=!0}},keydownListener:function(e){27===e.keyCode&&M.onEsc()},setLangpack:function(e){this.langpack=e},i18n:function(e){return this.langpack[e]?this.langpack[e]:e},startSelection:function(){var e=M;(0,d.addClass)(k.body,"jivo_selecting"),e.is_selecting=!0,m.default.each(["input","textarea","select","button"],(function(e){m.default.each(k.getElementsByTagName(e),(function(e){var t=k.createElement("jdiv"),a=R(e);t.style.width=a.width+"px",t.style.height=a.height+"px",t.style.left=a.left+"px",t.style.top=a.top+"px",t.style.position="absolute",t.realNode=e,e.disabled=!0,k.body.appendChild(t)}))})),m.default.each(k.getElementsByTagName("*"),(function(t){(0,c.addListener)(t,"mouseover",e.mouseoverListener),(0,c.addListener)(t,"mouseout",e.clearSelection)}))},stopTagsA:function(){m.default.each(k.getElementsByTagName("a"),(function(e){(0,c.addListener)(e,"click",(function(e){return e.preventDefault(),e.stopPropagation(),!1}))}))},mouseoverListener:function(e){var t=M;if("OPTION"===this.tagName)return!1;t.clearSelection(),A.highlight({element:e.target}),t.stopTagsA(),(0,c.removeEvent)(e.currentTarget,"click",t.clickListener),(0,c.addListener)(e.currentTarget,"click",t.clickListener)},clickListener:function(e){var t=M;e.preventDefault(),e.stopPropagation();var a=this.realNode?this.realNode:this;t.stopSelection(),t.toolTip(a)},stopSelection:function(){var e=M;(0,d.removeClass)(k.body,"jivo_selecting"),m.default.each(["input","textarea","select","button"],(function(e){m.default.each(k.getElementsByTagName(e),(function(e){e.disabled=!1}))})),m.default.each(k.getElementsByClassName("fake_cb_element"),(function(e){e.parentNode.removeChild(e)})),m.default.each(k.getElementsByTagName("*"),(function(t){(0,c.removeEvent)(t,"mouseover",e.mouseoverListener),(0,c.removeEvent)(t,"mouseout",e.clearSelection),(0,c.removeEvent)(t,"click",e.clickListener)})),e.is_selecting=!1},clearSelection:function(){m.default.each(["jivo_cobrowsing_element","jivo_cobrowsing_tooltip"],(function(e){m.default.each(k.getElementsByClassName(e),(function(e){e.parentNode.removeChild(e)}))}))},toolTip:function(e){var t=M,a=A.renderTooltip({element:e}),n=a.childNodes[0];a.className+=" air",a.style.width="auto",n.style.padding="8px",n.style.width="auto",n.style.backgroundColor="";var i=k.createElement("textarea");i.id="cobrowsing_textarea_comment",i.placeholder=t.i18n("cb_enterComment"),i.value="",i.onkeypress=function(a){13===a.keyCode&&(a.preventDefault(),a.stopPropagation(),t.send(e))},t.textInput=i;var o=k.createElement("button");o.className="btn btn-mimi blue on_dark large",o.innerText=t.i18n("cb_send"),o.style.float="right",o.style.position="relative",o.style.marginRight="8px",o.onclick=function(){t.send(e)};var r=k.createElement("button");r.className="btn btn-mimi grey on_dark large",r.innerText=t.i18n("cb_cancel"),r.style.float="right",r.style.position="relative",r.style.marginRight="5px",r.onclick=function(){t.closeTooltip()};var l=k.createElement("jdiv");l.style.clear="both",n.appendChild(i),n.appendChild(r),n.appendChild(o),n.appendChild(l),A.appendTooltip(a,e),i.focus(),t.is_tooltip_open=!0},send:function(e){var t=this.textInput.value;t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");var a={name:"on_send",page_element:function(e){for(var t=[];e.parentNode;){if(e.id){t.unshift("#"+e.id);break}if(e==e.ownerDocument.documentElement)t.unshift(e.tagName);else{for(var a=1,n=e;n.previousElementSibling;n=n.previousElementSibling,a++);t.unshift(e.tagName+":nth-child("+a+")")}e=e.parentNode}return t.join(" > ")}(e),page_url:window.parent.location.href,comment:t};I.postMessage(a),h.default.supportsLocalStorage()?window.parent.localStorage.removeItem("jv_".concat(p.default.widget_id,"_tmp_app")):f.default.get("store_".concat(p.default.widget_id,"_tmp_app"),null)},closeTooltip:function(){var e=M;e.stopSelection(),e.is_tooltip_open=!1,e.startSelection(),I.postMessage({name:"on_cancel"})},onEsc:function(){this.is_tooltip_open?this.closeTooltip():this.is_selecting?(this.stopSelection(),I.postMessage({name:"reset"})):I.postMessage({name:"close"})}};function R(e){var t,a,n=0,i=0,o=0,r=0,l={top:0,left:0},u=k,s=u.body;return t=u.documentElement,e&&void 0!==e.getBoundingClientRect?(l=e.getBoundingClientRect(),e&&!N(e)&&(a=(0,c.getPageWindow)(),n=t.clientTop||s.clientTop||0,i=t.clientLeft||s.clientLeft||0,o=a.pageYOffset||t.scrollTop,r=a.pageXOffset||t.scrollLeft),{top:l.top+o-n,left:l.left+r-i,right:l.right,width:e.offsetWidth,height:e.offsetHeight,windowWidth:s.innerWidth,windowHeight:s.innerHeight}):(y.Monitoring.telemetry(E.TelemetryName.COBROWSE_FAILED),!1)}function N(e){var t=!1;if(e)for(var a=e,n=[];a&&"HTML"!==a.tagName;){if(n.unshift(a),window.parent.window.Polymer&&!window.parent.jivo_cobrowse&&a.treeScope_){var o=a[(0,i.default)(a)[0]];"fixed"===getComputedStyle(o).position&&(t=!0)}else"fixed"===getComputedStyle(a).position&&(t=!0);a=a.parentNode}return t}var O=I;t.default=O},62904:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.initConfig=function(e){window.parent.jivo_config=u=e},t.getViHost=function(){return u.vi_host},t.getCometHost=function(){return u.comet.host},t.getConfig=function(){return u},t.default=void 0;var i=n(a(51942)),o=a(24335),r=a(81426),l=window.parent||window,u=l.jivo_config;switch(a.p=(u.static_host||u.base_url)+"/",u||(u={}),u.chat_mode){case"online":case 1:u.chat_mode=r.ChatMode.ONLINE;break;case"offline":case 0:u.chat_mode=r.ChatMode.OFFLINE}u.callback_settings||(u.callback_settings={}),u.widget_color2||"#383345"!=u.widget_color||(u.widget_color="#2F324A",u.widget_color2="#424867",u.power_gradient=1),u.bubble_color||(u.bubble_color="green"),"[object Object]"===Object.prototype.toString.call(l.wix_context)&&"[object Object]"===Object.prototype.toString.call(l.jivo_wix)&&(0,i.default)(u,l.jivo_wix),l.jivo_in_wix_iframe&&(u.widget_orientation="bottom"),o.isDesignerEditor&&(0,i.default)(u,l._desingerConfig);var s=u;t.default=s},84235:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.ACTIVE_TEST=void 0;a(76871);t.ACTIVE_TEST=!1},57018:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.DEFAULT_WIDGET_HEIGHT=t.MINIMAL_WIDGET_HEIGHT=t.MAX_FILE_SIZE=t.MAINT_RECONNECT_TIMEOUT=t.HEADER_HEIGHT=t.CACHE_KEY=t.API_INVITES_CACHE_TIME=t.MP_AGENT_HEIGHT=t.MP_LINE_HEIGHT=t.PROACTIVE_MAX_HEIGHT=t.PROACTIVE_TEXT_LIMIT=t.APP_INVITE_TIME=t.AWAY_CLIENT_TIMEOUT=void 0;t.AWAY_CLIENT_TIMEOUT=144e5;t.APP_INVITE_TIME=8e3;t.PROACTIVE_TEXT_LIMIT=50;t.PROACTIVE_MAX_HEIGHT=74;t.MP_LINE_HEIGHT=19;t.MP_AGENT_HEIGHT=28;t.API_INVITES_CACHE_TIME=18e5;t.CACHE_KEY="api_invites";t.HEADER_HEIGHT=70;t.MAINT_RECONNECT_TIMEOUT=3e5;t.MAX_FILE_SIZE=10485760;t.MINIMAL_WIDGET_HEIGHT=402;t.DEFAULT_WIDGET_HEIGHT=496},18228:function(e,t,a){"use strict";var n=a(87646),i=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a(63978)),r=i(a(20368)),l=i(a(39649)),u=i(a(34074)),s=i(a(20116)),c=i(a(14310)),d=i(a(86902)),f=i(a(78914)),h=i(a(81643)),p=i(a(87672)),m=i(a(77766)),g=i(a(33032)),v=i(a(59340)),_=i(a(23765)),y=i(a(68415)),b=i(a(46849)),E=n(a(62904)),w=a(56602),C=a(99112),T=i(a(58061)),k=i(a(36216)),S=i(a(62652)),I=i(a(99357)),x=i(a(67966)),A=i(a(35067)),M=i(a(33535)),R=i(a(27371)),N=a(24335),O=a(33367),D=a(63242),L=i(a(9805)),P=i(a(51362)),j=i(a(40695)),B=i(a(5972)),F=i(a(14282)),H=a(57018),W=a(75737),U=a(94515),z=i(a(93268)),G=i(a(49043)),V=a(23582),q=i(a(13106));function K(e,t){var a=(0,d.default)(e);if(c.default){var n=(0,c.default)(e);t&&(n=(0,s.default)(n).call(n,(function(t){return(0,u.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,f.default)(a=K(Object(n),!0)).call(a,(function(t){(0,p.default)(e,t,n[t])}));else if(l.default)(0,r.default)(e,(0,l.default)(n));else{var i;(0,f.default)(i=K(Object(n))).call(i,(function(t){(0,o.default)(e,t,(0,u.default)(n,t))}))}}return e}var Z=i(a(75043)).default.name("CONNECTION");function J(){var e=[];return U.EnvironmentManager.isProduction()||"https:"===(0,w.getProtocol)()?e.unshift("wss://"+(0,E.getCometHost)()+"/cometcn"):e.unshift("ws://"+(0,E.getCometHost)()+"/cometcn"),e}var X=new y.default({namespace:"CONNECTION",messageBuffer:null,jconnection:null,user_token:null,send:function(e,t){Z.log("SEND: ",e,t),this.handle("send",e,t),this.trigger("send",e)},sendIfConnected:function(e){Z.log("sendIfConnected",this.isConnected(),e),this.isConnected()&&(this.handle("send",e),this.trigger("send",e))},setupConnection:function(){var e=this;this.jconnection||(0,w.isWixEditor)()||N.isDesignerEditor||(Z.log("url",J()),this.jconnection=new b.default(J()),this.jconnection.on("connecting",(function(){e.handle("socket_connecting")})),this.jconnection.on("open",(function(){e.handle("socket_connect")})),this.jconnection.on("close",(function(t){e.handle("socket_disconnect",t)})),this.jconnection.on("error",(function(e){Z.error(e)})),this.jconnection.on("message",(function(e){var t;try{t=JSON.parse(e)}catch(e){return Z.error("parse error",e)}if(!t||"object"!==(0,_.default)(t))return Z.error("bad message");t.name&&(Z.log(t.name,t),L.default.getInstance().saveSocketEvent(t)),X.handle("socket_message",t)})),this.jconnection.open())},_sendSocketEvent:function(e,t){var a;Z.log("_sendSocketEvent",e);try{a=(0,v.default)(e)}catch(e){return t&&t(!1),Z.error("stringify error",e)}if("object"==(0,_.default)(e))if("name"in e){var n=this.jconnection.send(a);if(Z.log("Sending "+e.name,n),n){var i=!e.implict&&"offline_message"===e.name;("client_message"==e.name||i)&&this.messageBuffer.push(e),Z.error("send error",n),t&&t(!1)}else L.default.getInstance().saveSocketEvent(e),t&&t(!0)}else Z.error("Attempt to send event without name"),t&&t(!1);else Z.error("Socket event must be object"),t&&t(!1)},isConnected:function(){return"CONNECTED"===this.state},setCustomData:function(e){Z.log("setCustomData",e,this.isConnected()),this.isConnected()?this.send({name:"update_custom_data",custom_data:e}):(this.custom_data=e,this.emit("update_data"))},setUserToken:function(e,t){Z.log("setUserToken",e,this.user_token),this.user_token=e,this.isConnected()?this.send({name:"update_user_token",user_token:e},t):t(!1)},setCaptchaToken:function(e){Z.log("setCaptchaToken",this.cap_token),this.cap_token=e},requestTelemetry:function(e){var t=this.jconnection,a={},n=J().join(",");t?(a.Param1=t.url||n,a.Param2=t.state,a.Param3=t.health):a.Param1=n,O.Monitoring.telemetry(e,a)},checkMaintenance:function(e){(1013===e||E.default.maintenance)&&(Z.log("Maintenance mode on",e,E.default.maintenance),E.default.maintenance=!0,this._cancelEvent("startup"),this._scheduleEvent("startup",H.MAINT_RECONNECT_TIMEOUT))},states:{uninitialized:{_onEnter:function(){this.jconnection&&(this.jconnection.off(),this.jconnection.close(),this.jconnection=null)},send:function(e){this.messageBuffer.push(e),this.transition("CONNECTING")},startup:function(){this.transition("CONNECTING")}},CONNECTING:{_onEnter:function(){this.setupConnection()},socket_connect:function(){this.transition("STARTING_UP")},send:function(e){this.messageBuffer.push(e)},socket_disconnect:function(e){this.transition("uninitialized"),this.checkMaintenance(e.code),this.requestTelemetry(D.TelemetryName.DISCONNECTED)},socket_connecting:function(){}},STARTING_UP:{_onEnter:function(){var e=1===E.default.enable_yandex&&E.default.joint&&E.default.joint.ya,t=null;try{t=JSON.parse(B.default.get("joint_ya")||null)}catch(e){Z.log(e)}var a=e&&t&&"failed"!==t?{external_info:{widget_id:e,user_token:t.user_token,security_token:t.security_token}}:void 0;Z.log("STARTING_UP YANDEX",a),Q.call(this,a)},startup_timeout:function(){this.requestTelemetry(D.TelemetryName.STARTUP_TIMEOUT)},socket_disconnect:function(e){this.checkMaintenance(e.code),this.transition("uninitialized")},send:function(e){this.messageBuffer.push(e)},socket_message:function(e){"startup_ok"===e.name?(this._cancelEvent("startup_timeout"),this.transition("CONNECTED")):"resume_ok"==e.name?(e&&e.client_info&&e.client_info.msg_history&&this.messageBuffer.validate(e.client_info.msg_history),this.transition("CONNECTED")):"startup_error"===e.name?("maintenance"==e.err_code&&(E.default.maintenance=!0,this.checkMaintenance(1013)),"moved"==e.err_code&&W.ConfigUtils.reloadConfig((function(e){Z.log("Site is moved",e),X._scheduleEvent("startup",5e3)})),this.transition("DISCONNECTING")):"maintenance"===e.name&&this.transition("DISCONNECTING"),this.emit(e.name,e),this.emit("socket_message",e)}},CONNECTED:{_onEnter:function(){this.emit("startup_ok"),this.messageBuffer.flush()},socket_message:function(e){switch(e.name){case"agent_chat_close":E.default.options||(Z.log("DISCONNECT FROM chatserver due agent_chat_close!"),this.transition("DISCONNECTING"));break;case"blacklist":this.transition("DISCONNECTING")}this.emit(e.name,e),this.emit("socket_message",e)},send:function(e,t){this._sendSocketEvent(e,t)},socket_disconnect:function(e){Z.log("close",e),this.checkMaintenance(e.code),1e3==e.code&&this.trigger("disconnecting"),this.transition("uninitialized")},startup:function(){this.emit("startup_ok")},socket_connecting:function(){var e=this;(0,g.default)((function(){e.requestTelemetry(D.TelemetryName.JC_RECONNECT)}),2e3),this.transition("CONNECTING")}},DISCONNECTING:{_onEnter:function(){this.jconnection.close(),this.trigger("disconnecting")},socket_disconnect:function(e){this.transition("uninitialized")}}}});X.messageBuffer=new F.default(X),X.ifNeedConnect=function(){if(V.FeatureManager.isEnabled(V.Feature.RECAPTCHA)){var e=q.default.getInstance();if(e&&e.isBlocked())return!1}if(!E.default.maintenance){var t=(0,w.isWixEditor)()||N.isDesignerEditor,a=z.default.get("is_blacklisted"),n=!S.default.is_online&&1==E.default.hide_offline&&!S.default.chat_started,i=I.default.getUndelivered().length,o=T.default.mobileOrTablet()&&1==E.default.disable_mobile;return t||a||n||o?(Z.log("Connection disabled for wix editor"),!1):k.default.jv_sess_id&&!S.default.chat_started?(Z.log("Connection disabled chat not started."),!1):k.default.jv_sess_id||S.default.chat_started||!E.default.botmode?!(X.isConnected()||!(0,C.pageVisible)())&&(S.default.is_online&&i?(Z.log("Online and send undelivered."),!0):!(!k.default.jv_sess_id||(0,w.isAppCobrowse)())||!(S.default.is_online||!S.default.chat_started)):(Z.log('Connection disabled for "Google bots".'),!1)}Z.log("Maintenance mode on!")};var $=function(){k.default.jv_sess_id&&S.default.reload(),Z.log("ifNeedConnect",X.ifNeedConnect()),X.ifNeedConnect()&&X.handle("startup")};$(),(0,w.listenVisibility)($),X.on("socket_message",(function(e){Z.log("socket_message",e),e.method&&M.default[e.params.type]?M.default[e.params.type](e.params.body):e.method?M.default[e.method](e):M.default[e.name]&&M.default[e.name](e)})),X.on("disconnecting",(function(){M.default.disconnecting&&M.default.disconnecting()}));function Q(e){var t,a,n=this;Z.log("onAppStartingUp");var i=Y(Y({},e),{},{name:"startup",jv_widget_id:(0,E.getConfig)().widget_id,site_id:(0,E.getConfig)().site_id,current_page:{title:(0,w.getCurrentPage)().title,url:P.default.decodeString((0,w.getCurrentPage)().url)},is_mobile:T.default.mobileOrTablet(),visits_count:B.default.get("visits_count")-0,jv_client_id:k.default.client_id,pa_id:k.default.pa_id,client_name:k.default.client_info.client_name,email:k.default.client_info.email,phone:k.default.client_info.phone,description:k.default.client_info.description,page_visible:(0,C.pageVisible)(),chat_opened:0===(0,h.default)(t=S.default.route).call(t,"chat")&&-1===(0,h.default)(a=S.default.route).call(a,"min"),chat_id:I.default.getChatId(),widget_version:U.EnvironmentManager.getVersion(),abtest:R.default.getActiveTestAsString()});Z.log("STARTING_UP",k.default.client_id),k.default.visitorId&&(i.visitor_id=k.default.visitorId);var o=k.default.utm,r=o.campaign,l=o.source,u=o.medium,s=o.keyword,c=o.content;if(r||l||u||s||c){var d=Y(Y(Y(Y(Y({},r&&{campaign:r}),l&&{source:l}),u&&{medium:u}),s&&{keyword:s}),c&&{content:c});i.new_utm=d}k.default.jv_sess_id||(i.history=A.default.get()),Z.log("proactive on startup");var p=I.default.getCurrentProactive();x.default.get("text")&&(p=x.default),p&&p.get("text")&&p.get("body")&&(i.proactive_rule={invitation_text:p.get("text"),agent_id:p.get("body").agent_id,private_id:p.get("private_id"),created_ts:Math.floor(p.get("created_ts")/1e3)});var _=I.default.getLastUnreadApiInvitation();_&&(i.proactive_rule={invitation_text:_.get("text"),agent_id:_.get("body").agent_id,private_id:_.get("private_id"),created_ts:Math.floor(_.get("created_ts")/1e3)});var y=I.default.getUndelivered();if(y.length){var b=S.default.is_online?"client_message":"offline_message";(0,f.default)(y).call(y,(function(e){var t={name:b,message:e.get("text"),private_id:e.get("private_id")},a=e.get("private_id");a&&(n.messageBuffer.hasMessage(a)||X.messageBuffer.push(t))}))}this.custom_data&&(i.custom_data=this.custom_data),this.user_token&&(i.user_token=this.user_token);var N=j.default.isAnalyticsIdAvaiable();if(N&&(i.analytics=N),(z.default.get("is_blacklisted")||1==E.default.hide_offline&&!S.default.is_online&&!S.default.chat_started)&&this.transition("DISCONNECTING"),V.FeatureManager.isEnabled(V.Feature.RECAPTCHA)){var L=q.default.getInstance();L.getToken((function(e){var t=function(e){var t,a;return(0,w.getProtocol)()+E.default.base_url+(0,m.default)(t=(0,m.default)(a="/script/recaptcha-token/".concat(encodeURIComponent(E.default.widget_id),"?visitor_id=")).call(a,encodeURIComponent(k.default.visitorId),"&token=")).call(t,encodeURIComponent(e))}(e);G.default.get({url:t},(function(e,t){e?O.Monitoring.telemetry(D.TelemetryName.RECAPTCHA_ERROR,{param1:"Server error: "+(0,v.default)(e)}):t&&t.ok&&t.token?(O.Monitoring.telemetry(D.TelemetryName.RECAPTCHA_SUCCESS,{param1:t&&t.score}),Z.log("Recaptcha request is successful"),i.cap_token=t.token,n._sendSocketEvent(i),E.default.maintenance||n._scheduleEvent("startup_timeout",3e3)):t&&!t.ok&&(O.Monitoring.telemetry(D.TelemetryName.RECAPTCHA_FAILURE,{param1:t&&t.score,param2:t&&t.reason.join(",")}),Z.log("Recaptcha request is unsuccessful"),L.block(),(0,g.default)((function(){M.default.enableRecaptchaAntispam(),n.transition("DISCONNECTING")}),1500))}))}),(function(e){O.Monitoring.telemetry(D.TelemetryName.RECAPTCHA_ERROR,{param1:"Client error: "+(0,v.default)(e)})}))}else this.cap_token&&(i.cap_token=this.cap_token),this._sendSocketEvent(i),E.default.maintenance||this._scheduleEvent("startup_timeout",3e3)}var ee=X;t.default=ee},92142:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=t.addSyncExclude=void 0;var i=n(a(20368)),o=n(a(39649)),r=n(a(78914)),l=n(a(34074)),u=n(a(20116)),s=n(a(14310)),c=n(a(86902)),d=n(a(23765)),f=n(a(63978)),h=n(a(59340)),p=n(a(87672)),m=n(a(51942)),g=n(a(81643)),v=n(a(62107)),_=n(a(62904)),y=n(a(4620)),b=n(a(58061)),E=a(99112),w=n(a(75043));function C(e,t){var a=(0,c.default)(e);if(s.default){var n=(0,s.default)(e);t&&(n=(0,u.default)(n).call(n,(function(t){return(0,l.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,r.default)(a=C(Object(n),!0)).call(a,(function(t){(0,p.default)(e,t,n[t])}));else if(o.default)(0,i.default)(e,(0,o.default)(n));else{var u;(0,r.default)(u=C(Object(n))).call(u,(function(t){(0,f.default)(e,t,(0,l.default)(n,t))}))}}return e}var k=a(89766).EventEmitter,S=w.default.name("createStore"),I=["pa_id"],x=["widget_color","widget_color2","widget_font_color","show_container","started"];function A(e,t){for(var a in t)if(t[a]&&t[a].constructor&&t[a].constructor===Object)e[a]=e[a]||{},A(e[a],t[a]);else{if(window.parent.window&&window.parent.window.isWixPreview)return!0;-1!==(0,g.default)(v.default).call(v.default,["route"],a)&&b.default.mobileOrTablet()||"cobrowser-iframe"===window.parent.name||-1!==(0,g.default)(x).call(x,a)||(e[a]=t[a])}return e}t.addSyncExclude=function(e){I.push(e),x.push(e)};var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("JivoStore"==e.__type)return e;var a=(0,m.default)({},e),n=b.default.supportsLocalStorage(),i=new k,o=v.default.debounce((function(){i.emit("update",e)}),10),r=function(){var a=function(t){var a=T({},t);return t?A(a,e):a=e,a};if(n&&!_.default.cookie_domain){var i=a(JSON.parse(window.parent.localStorage.getItem("jv_store_"+t)));window.parent.localStorage.setItem("jv_store_"+t,(0,h.default)(i))}else{var o=a(JSON.parse(y.default.get("store_"+t)));y.default.set("store_"+t,(0,h.default)(o))}},l=function(e,a){var n=e[a];(0,f.default)(e,a,{set:function(e){if(n!=e&&(n=e,o(),t)){if(!(0,E.pageVisible)()&&(0,g.default)(I).call(I,a)>-1)return;if((0,g.default)(x).call(x,a)>-1)return;if(window.parent&&"cobrowser-iframe"===window.parent.name)return;r()}},get:function(){return n}})},u=function e(t){v.default.each(t,(function(a,n){"function"!=typeof a&&(a&&"object"==(0,d.default)(a)&&"number"!=typeof a.length?e(a):l(t,n))}))},s=function(){if(t)try{if(n&&!_.default.cookie_domain){var a=JSON.parse(window.parent.localStorage.getItem("jv_store_"+t));A(e,a);var i=JSON.parse(y.default.get("store_"+t));i&&A(e,i),y.default.set("store_"+t,null)}else A(e,JSON.parse(y.default.get("store_"+t))),n&&(A(e,JSON.parse(window.parent.localStorage.getItem("jv_store_"+t))),window.parent.localStorage.removeItem("jv_store_"+t))}catch(e){S.error(e)}},c=function(){e=a,r()};return u(e),s(),(0,f.default)(e,"__type",{enumerable:!1,configurable:!1,writable:!1,value:"JivoStore"}),(0,f.default)(e,"addListener",{enumerable:!1,configurable:!1,writable:!1,value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"update",t=arguments.length>1?arguments[1]:void 0;return"function"==typeof e&&(t=e,e="update"),i.addListener(e,t)}}),(0,f.default)(e,"dispatch",{enumerable:!1,configurable:!1,writable:!1,value:function(){o()}}),(0,f.default)(e,"reload",{enumerable:!1,configurable:!1,writable:!1,value:function(){s()}}),(0,f.default)(e,"reset",{enumerable:!1,configurable:!1,writable:!1,value:function(){c()}}),e};t.default=M},66707:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.cssLoader=void 0;var i=n(a(81643)),o=n(a(62904)),r=n(a(54417));window.parent.__jivoBundleInit(window);var l,u,s=(u=window.parent.location.protocol,-1===(0,i.default)(l=["http","https","http:","https:"]).call(l,u)&&(u="https:"),u+(o.default.static_host&&(~o.default.static_host.search(/\/\/cdn(-\w+)?.jivosite.com(\/\w)?/)||~o.default.static_host.search(/\/\/code(-\w+)?.jivosite.com(\/\w)?/))?o.default.static_host:o.default.base_url)+"/css/bcf5f788.widget.css"),c=new r.default(window.parent.document,s);t.cssLoader=c},16624:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i,o,r=n(a(63978)),l=n(a(20368)),u=n(a(39649)),s=n(a(78914)),c=n(a(34074)),d=n(a(20116)),f=n(a(14310)),h=n(a(86902)),p=n(a(3649)),m=n(a(87672)),g=n(a(59340)),v=n(a(93476)),_=n(a(77766)),y=n(a(62107)),b=n(a(62904)),E=n(a(18228)),w=n(a(49043)),C=n(a(75043)),T=a(33367),k=a(63242),S=n(a(93268)),I=a(94515);function x(e,t){var a=(0,h.default)(e);if(f.default){var n=(0,f.default)(e);t&&(n=(0,d.default)(n).call(n,(function(t){return(0,c.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}var A=C.default.name("YandexDialogs"),M=b.default.joint&&b.default.joint.ya,R="/user_token/jivosite/".concat(M,"/"),N=I.EnvironmentManager.isProduction()?"https://chats.messenger.yandex.ru".concat(R):(0,_.default)(i="https:".concat(b.default.base_url.replace("code","ya"))).call(i,R),O=(0,_.default)(o="https:".concat(b.default.base_url,"/script/yandex-csrf/")).call(o,M);var D=function(){var e,t="joint_ya",a=function(e,t){return new v.default((function(a,n){("get"===e?w.default.get:w.default.post)(t,(function(e,t){e?n(e,t):a(t)}),{withCredentials:t.withCredentials})}))},n=function(e){var a,n=28800;S.default.set(t,(0,g.default)(e||null),n),A.log((0,_.default)(a="".concat(t," cached to ")).call(a,n.toString()))},i=function(){var e=null;try{e=JSON.parse(S.default.get(t)||null)}catch(e){A.warn(e)}return e},o=function(e){if(e&&y.default.isObject(e)&&"ok"===e.result){var t=function(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,s.default)(a=x(Object(n),!0)).call(a,(function(t){(0,m.default)(e,t,n[t])}));else if(u.default)(0,l.default)(e,(0,u.default)(n));else{var i;(0,s.default)(i=x(Object(n))).call(i,(function(t){(0,r.default)(e,t,(0,c.default)(n,t))}))}}return e}({},e),a=t.user_token,n=t.security_token;return d={user_token:a,security_token:n},E.default.sendIfConnected({name:"update_external_info",external_info:{widget_id:M,user_token:d.user_token,security_token:d.security_token}}),v.default.resolve(d)}return v.default.reject("Failed to get yandex user token.",e)},d=i(),f=function(e,t){if(A.log("CSRF Token:",e),e&&e.token){var r=e.token;if(d=i(),A.log("YandexData from LS",d),y.default.isObject(d)&&d.user_token)return void t(!0);a("get",{url:N,headers:{sk:r},withCredentials:!0}).then((function(e){return o(e)})).then((function(e){T.Monitoring.telemetry(k.TelemetryName.YANDEX_OK),n(e),t(!0)})).catch((function(e,a){A.warn(e,a),function(e,t){var a={};if(e&&e.data){var n,i=e.data.toString&&(0,p.default)(n=e.data.toString()).call(n,0,100);a={param1:e.code,param2:e.text+i}}T.Monitoring.telemetry(k.TelemetryName.YANDEX_TOKENS_ERROR,a)}(e),t(!1)}))}else t(!1)};e=function(e){A.log("DataFinish",e),e||n("failed")},A.log("start request data for Yandex",d),y.default.isNull(d)||d&&y.default.isObject(d)&&"failed"!==d?a("get",{url:O,headers:{Accept:"application/json"}}).then((function(t){if(!t||!t.ok){var a=t.isDeleted?"Channel is deleted ".concat(M):null;return v.default.reject("Failed to get csrf token. ".concat(t.error||a))}f(t,e)})).catch((function(t){A.log(t),e(!1)})):e(!1)};t.default=D},75119:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(62904));function o(e){return"custom_langpack"in i.default&&e in i.default.custom_langpack?i.default.custom_langpack[e].replace(/\n/g,"<br />").replace(/&quot;/g,'"').replace(/&#039;/g,"'"):function(e){return window.base_langpack&&window.base_langpack[e]?window.base_langpack[e].replace(/\n/g,"<br />").replace(/&nbsp;/g," "):e}(e)}function r(e){var t=window.parent.currentDownloadLocale,a=window.parent.customLocale,n=window.parent.domKeys;return n&&n[e]&&t&&t[e]?a[e]||t[e]:"{{_"+e+"_}}"}var l=window.parent&&window.parent.__jivoPhraseappEditor?r:o;t.default=l},73113:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i,o=n(a(94198)),r=n(a(51942)),l=n(a(54103)),u=n(a(26394)),s=n(a(69198)),c=a(56602),d=a(99112),f=n(a(58061)),h=n(a(62107)),p=n(a(75043)).default.name("autoResizer"),m=["lineHeight","textDecoration","letterSpacing","fontSize","fontFamily","fontStyle","fontWeight","textTransform","textAlign","direction","wordSpacing","fontSizeAdjust","paddingLeft","paddingRight","width","boxSizing","whiteSpace","wordWrap","paddingTop"],g=function(){function e(t,a){if((0,u.default)(this,e),i)return i.element=t,i.config=a,i.bindEvents(),i;if(t){this.element=t;var n=t.offsetHeight;"original"===a.maxSize&&(a.maxSize=n),"original"===a.minSize&&(a.minSize=n),this.config=a,this.bindEvents(),this.container=this.initializeContainer(),this.clone=this.initializeClone(),i=this}else p.warn("no element provided to resize!")}return(0,s.default)(e,[{key:"bindEvents",value:function(){var e,t,a,n;(0,c.addListener)(this.element,"keyup",(0,l.default)(e=this.check).call(e,this)),(0,c.addListener)(this.element,"keypress",(0,l.default)(t=this.check).call(t,this)),(0,c.addListener)(this.element,"change",(0,l.default)(a=this.check).call(a,this)),(0,c.addListener)(this.element,"paste",(0,l.default)(n=this.check).call(n,this))}},{key:"initializeContainer",value:function(){if(p.log("initializeContainer"),this.container)return this.container;var e=null;return(e=document.createElement("jdiv")).style.position="absolute",e.style.top="-9999px",e.style.width="0px",e.style.height="0px",e.style.padding="0px",e.style.overflow="hidden",document.body.appendChild(e),e}},{key:"initializeClone",value:function(){if(this.clone)return this.clone;p.log("initializeClone");var e=document.createElement("jdiv");return e.setAttribute("id","jv-autoresize"),this.container.appendChild(e),e}},{key:"updateClone",value:function(){var e=this;h.default.each(m,(function(t){var a=(0,d.getComputedStyleAll)(e.element,t);a&&(e.clone.style[t]=a)})),this.clone.style.display="block"}},{key:"afterResize",value:function(){(f.default.tablet()?this.element.scrollHeight:this.element.offsetHeight)>=this.config.maxSize&&this.element.style.setProperty("overflow-y","auto","important")}},{key:"updateConfig",value:function(e){p.log("updateConfig",e),(0,r.default)(this.config,e)}},{key:"check",value:function(){this.updateClone();var e,t,a=this.element.value||this.element.getAttribute("placeholder")||"",n=this.element.offsetHeight;(a=a.length?a:" ")===this.prevValue&&""==a||(this.clone.innerHTML=h.default.escape(a).replace(new RegExp("\\r?\\n","ig"),"<div>.</div>"),e=Math.min(Math.max(this.clone.offsetHeight,this.config.minSize>>0),this.config.maxSize),""==this.element.value&&(e=this.clone.offsetHeight),n!==e&&(t={height:e}),this.prevValue=a,t&&(f.default.mobile()&&(e+=(0,o.default)((0,d.getComputedStyleAll)(this.element,"paddingTop"))+(0,o.default)((0,d.getComputedStyleAll)(this.element,"paddingBottom"))),this.element.setAttribute("style","height: ".concat(e,"px!important")),this.config.onResize&&this.config.onResize.call(this.element),this.config.initCheck=!1,this.afterResize()))}}]),e}();t.default=g},86999:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(2991)),o=n(a(94198));function r(e){return(0,o.default)(s(e).substring(0,2),16)}function l(e){return(0,o.default)(s(e).substring(2,4),16)}function u(e){return(0,o.default)(s(e).substring(4,6),16)}function s(e){return function(e){var t;return 3==e.length&&(e=(0,i.default)(t=e.split("")).call(t,(function(e){return e.toString()+e.toString()})).join("")),e}(e="#"==e.charAt(0)?e.substring(1,7):e)}function c(e){return e=(0,o.default)(e,10),isNaN(e)?"00":(e=Math.max(0,Math.min(e,255)),"0123456789ABCDEF".charAt((e-e%16)/16)+"0123456789ABCDEF".charAt(e%16))}function d(e,t,a){var n=r(e),i=l(e),o=u(e),s=m.toHSV(new h(n,i,o));s.v>0?s.v=s.v*t:s.v=100*(t-1),s.s=s.s*a;var d,f,p,g=m.toRGB(s);return"#"+(d=g.r,f=g.g,p=g.b,c(d)+c(f)+c(p))}function f(e,t,a){e<=0&&(e=0),t<=0&&(t=0),a<=0&&(a=0),e>360&&(e=360),t>100&&(t=100),a>100&&(a=100),this.h=e,this.s=t,this.v=a}function h(e,t,a){e<=0&&(e=0),t<=0&&(t=0),a<=0&&(a=0),e>255&&(e=255),t>255&&(t=255),a>255&&(a=255),this.r=e,this.g=t,this.b=a}function p(e,t,a,n){e<=0&&(e=0),t<=0&&(t=0),a<=0&&(a=0),n<=0&&(n=0),e>100&&(e=100),t>100&&(t=100),a>100&&(a=100),n>100&&(n=100),this.c=e,this.m=t,this.y=a,this.k=n}var m={isLightColor:function(e){return function(e){var t=r(e),a=l(e),n=u(e),i=m.toHSV(new h(t,a,n));return i.v+-.5*i.s}(e)>58},_RGBtoHSV:function(e){var t=new f(0,0,0),a=e.r/255,n=e.g/255,i=e.b/255,o=Math.min(a,n,i),r=Math.max(a,n,i),l=r-o;if(t.v=r,0==l)t.h=0,t.s=0;else{t.s=l/r;var u=((r-a)/6+l/2)/l,s=((r-n)/6+l/2)/l,c=((r-i)/6+l/2)/l;a==r?t.h=c-s:n==r?t.h=1/3+u-c:i==r&&(t.h=2/3+s-u),t.h<0&&(t.h+=1),t.h>1&&(t.h-=1)}return t.h=Math.round(360*t.h),t.s=Math.round(100*t.s),t.v=Math.round(100*t.v),t},_HSVtoRGB:function(e){var t=new h(0,0,0),a=e.h/360,n=e.s/100,i=e.v/100;if(0==n)t.r=255*i,t.g=255*i,t.b=255*i;else{var o,r,l,u=6*a,s=Math.floor(u),c=i*(1-n),d=i*(1-n*(u-s)),f=i*(1-n*(1-(u-s)));0==s?(o=i,r=f,l=c):1==s?(o=d,r=i,l=c):2==s?(o=c,r=i,l=f):3==s?(o=c,r=d,l=i):4==s?(o=f,r=c,l=i):(o=i,r=c,l=d),t.r=255*o,t.g=255*r,t.b=255*l,t.r=Math.round(t.r),t.g=Math.round(t.g),t.b=Math.round(t.b)}return t},_CMYKtoRGB:function(e){var t=new h(0,0,0),a=e.c/100,n=e.m/100,i=e.y/100,o=e.k/100;return t.r=1-Math.min(1,a*(1-o)+o),t.g=1-Math.min(1,n*(1-o)+o),t.b=1-Math.min(1,i*(1-o)+o),t.r=Math.round(255*t.r),t.g=Math.round(255*t.g),t.b=Math.round(255*t.b),t},_RGBtoCMYK:function(e){var t=new p(0,0,0,0),a=e.r/255,n=e.g/255,i=e.b/255;return t.k=Math.min(1-a,1-n,1-i),t.c=(1-a-t.k)/(1-t.k),t.m=(1-n-t.k)/(1-t.k),t.y=(1-i-t.k)/(1-t.k),t.c=Math.round(100*t.c),t.m=Math.round(100*t.m),t.y=Math.round(100*t.y),t.k=Math.round(100*t.k),t},toRGB:function(e){return e instanceof h?e:e instanceof f?this._HSVtoRGB(e):e instanceof p?this._CMYKtoRGB(e):void 0},toHSV:function(e){return e instanceof f?e:e instanceof h?this._RGBtoHSV(e):e instanceof p?this._RGBtoHSV(this._CMYKtoRGB(e)):void 0},toCMYK:function(e){return e instanceof p?e:e instanceof h?this._RGBtoCMYK(e):e instanceof f?this._RGBtoCMYK(this._HSVtoRGB(e)):void 0},genGradientBg:function(e){return"linear-gradient(95deg, "+e+" 20%, "+this.getRightColor(e)+" 80%)"},getRightColor:function(e){return d(e,.9,.9)},getGradientBg:function(e,t){return"linear-gradient(95deg, "+e+" 20%, "+(t||e)+" 80%)"}},g=m;t.default=g},46237:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i,o=n(a(33032)),r=n(a(51942)),l=a(56602),u=n(a(45808)),s=a(21224),c=window.parent?window.parent.document:null,d=0,f=0,h=new(0,a(89766).EventEmitter),p=null,m=(0,r.default)(h,{attach:function(e){e&&(e.style.cursor="move",(0,l.addListener)(e,"mousedown",(function(e){e.preventDefault(),d=e.screenX,f=e.screenY,_()})))}}),g=function(e){e.preventDefault(),m.emit("move",e,d-e.screenX,f-e.screenY),clearTimeout(i),i=(0,o.default)((function(){y()}),500)},v=function(e){e.preventDefault(),y()},_=function(){c&&(p||(p=u.default.get(s.Component.MOUSE_TRACK)),m.emit("start"),p.style.display="block",(0,l.addListener)(p,"mousemove",g),(0,l.addListener)(p,"mouseup",v))},y=function(){c&&(m.emit("stop"),p.style.display="none",(0,l.removeEvent)(p,"mousemove",g),(0,l.removeEvent)(p,"mouseup",v),clearTimeout(i))},b=m;t.default=b},34777:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(51942)),o=n(a(3649)),r=n(a(86902)),l=n(a(78914)),u=n(a(81643)),s=n(a(77766)),c=n(a(62904)),d=a(56602),f=n(a(75119)),h=n(a(47321)),p=n(a(33109)),m=a(33367),g=n(a(62652)),v=n(a(36216)),_=n(a(69961)),y=a(63242),b=a(94515),E=n(a(56152)),w=a(10404),C=a(57018),T=n(a(58061)),k=n(a(75043)).default.name("fileUploader"),S="https://api.jivosite.com";if(!b.EnvironmentManager.isProduction()){var I=c.default.api_host||"",x=c.default.base_url||"",A=I?I.replace("code",""):"api"+x.replace("//code","");S=(0,d.getProtocol)()+"//"+A}var M=new(0,a(89766).EventEmitter),R={isInited:!1,xhr:!1,xhrS3:!1,getFileInfo:function(e,t){N.emit("uploading",e);var a=new E.default(e);if(a.isValid())R.checkIfFileReadIsNeeded(e,t);else{var n=a.getReason();R.emitError(n,e)}},emitError:function(e,t){if(e){var a=null,n=null;switch(e){case w.FileUploadError.FILE_SIZE_EXCEEDED:a=(0,f.default)("file_upl_error_max_size").replace("_FILESIZE_",(0,d.humanFileSize)(C.MAX_FILE_SIZE)),n=null;break;case w.FileUploadError.NO_EXTENSION:a=(0,f.default)("file_upl_error_no_ext"),n={param1:"no_ext"};break;case w.FileUploadError.RESTRICTED_FILE_TYPE:a=(0,f.default)("file_upl_error"),n={param1:(0,d.getFileExtension)(t.name)}}N.emit("error",a,t,!0),n&&m.Monitoring.telemetry(y.TelemetryName.FILE_UPLOAD_ERROR,n)}},checkIfFileReadIsNeeded:function(e,t){"photo"===(0,d.detectType)(e.type)&&"FileReader"in window?R.readFileContent(e,t):R.getS3Credentials(e)},readFileContent:function(e,t){var a=new FileReader;a.onload=function(){var n=new Image;n.onload=function(){if(e.width=n.width,e.height=n.height,!t&&(n.width>320||n.height>320)&&T.default.supportsImageResize()){var a=p.default.create(n,e);R.getFileInfo(a,e)}else R.getS3Credentials(e,t)},n.onerror=function(e){k.log("FileReader error",e),m.Monitoring.telemetry(y.TelemetryName.FILE_UPLOAD_ERROR,{param1:"image_generate_failed"})},n.src=a.result},a.onprogress=function(e){},a.readAsDataURL(e)},getS3Credentials:function(e,t){var a,n,i,o,r=(0,d.getFileExtension)(e.name);r=r.toLowerCase();var l=(0,s.default)(a="gain?extension=".concat(encodeURIComponent(r),"&allow_content_type=1&type=")).call(a,encodeURIComponent(e.type)),u=(0,s.default)(n=(0,s.default)(i=(0,s.default)(o="/api/".concat("1","/sites/")).call(o,c.default.site_id,"/widgets/")).call(i,c.default.widget_id,"/media/transfer/access/")).call(n,l),h=new XMLHttpRequest;h.open("GET",S+u),h.onload=function(){if(200===h.status){k.log("API responce:",JSON.parse(h.responseText));var a=JSON.parse(h.responseText);R.startUpload(e,!1,a,t)}else k.error("API Request failed.  Returned status of ",h.status),N.emit("error",(0,f.default)("file_upl_error"),e),m.Monitoring.telemetry(y.TelemetryName.FILE_UPLOAD_ERROR,{param1:"api_status_failed"})},h.addEventListener("error",(function(t){k.log("API error:",t),N.emit("error",(0,f.default)("file_upl_error"),e),m.Monitoring.telemetry(y.TelemetryName.FILE_UPLOAD_ERROR,{param1:"api_xhr_error"})}),!1),h.send(),R.xhrS3=h},abort:function(){k.log("abort upload"),R.xhr&&R.xhr.abort(),R.xhrS3&&R.xhrS3.abort(),N.emit("abort")},startUpload:function(e,t,a,n){var i=R.buildBodyFormData(a,e);if(i){var o=new XMLHttpRequest;o.upload.addEventListener("progress",(function(e){e.lengthComputable&&N.emit(n?"thumbProgress":"progress",e.loaded,e.total)}),!1),o.addEventListener("load",(function(t){t.target&&204==t.target.status?(k.log(n?"thumbComplete":"complete",t),e.icon_type=(0,d.detectType)(e.type),N.emit(n?"thumbComplete":"complete",e,a.url+"/"+i.url,n||null)):(k.log("not received response",t),N.emit("error",(0,f.default)("file_upl_error"),e),m.Monitoring.telemetry(y.TelemetryName.FILE_UPLOAD_ERROR,{param1:"s3_no_responce"}))}),!1),o.addEventListener("error",(function(t){k.log("upload error",t),N.emit("error",(0,f.default)("file_upl_error"),e),m.Monitoring.telemetry(y.TelemetryName.FILE_UPLOAD_ERROR,{param1:"s3_xhr"})}),!1),o.addEventListener("abort",(function(e){N.emit("cancel")}),!1),o.open("POST",a.url),o.send(i.formData),k.log("upload started."),N.emit(n?"thumbUploading":"uploading",e,i,t),R.xhr=o}else k.log("s3 credentials error, abort uploading.")},getEscapedFileName:function(e){var t;try{t=encodeURIComponent(e)}catch(e){k.log("too ugly file name",e),t=!1}return t},buildBodyFormData:function(e,t){var a,n;if(k.log("buildBody",e,t),e.error_list)return e.error_list.length&&-1!==(0,u.default)(n=e.error_list).call(n,"expired_license")&&(h.default.disableFileUpload(),N.emit("disableFileUpload")),N.emit("error",(0,f.default)("file_upl_error"),t),void m.Monitoring.telemetry(y.TelemetryName.FILE_UPLOAD_ERROR,{param1:"s3_error"});var i={signature:"X-Amz-Signature",credential:"X-Amz-Credential",algorithm:"X-Amz-Algorithm",policy:"Policy",date:"X-Amz-Date"},s=e.key.split("/")[3],c=new FormData;c.append("acl","public-read"),c.append("Content-Type",t.type),c.append("key",e.key),c.append("Content-disposition","attachment; filename*=UTF-8''"+R.getEscapedFileName(t.name)),(0,l.default)(a=(0,r.default)(e)).call(a,(function(t){i[t]&&c.append(i[t],e[t])}));var d=new Blob([(0,o.default)(t).call(t)],{type:t.type});return c.append("file",d,R.getEscapedFileName(t.name)),{fileName:s,url:e.key,formData:c}},isPreviewImage:function(e){var t=e.toLowerCase();return/\.(gif|jpg|jpeg|png)$/i.test(t)},isFileUploadEnabled:function(){return g.default.is_online?!_.default.bot_id&&!c.default.disable_filetransfer&&0!=c.default.options:!c.default.disable_filetransfer&&0!=c.default.options&&v.default.is_introduced}},N=(0,i.default)(M,R);N.addListener("thumbComplete",(function(e,t,a){a.imagePreview=t,N.getS3Credentials(a)}));var O=N;t.default=O},66434:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.filterMessage=void 0;var i=n(a(23765)),o=n(a(99357));t.filterMessage=function(e){var t=/^\/service/.test(e.text),a="object"===(0,i.default)(e.media),n=e.msg_id,r=!t;if("number"==typeof n){var l=!!o.default.getMessageById(n);r=r&&!l}if(a){var u="client"===e.from&&"media"!==e.type&&a&&"error"===e.media.type;r=r&&!u}return e.deleted&&(r=!1),r}},18389:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(3649)),o=n(a(23765)),r=function(e,t,a){for(;t<e.length;t++)l(e[t])&&(e[t]=a);return e},l=function(e){return!e.match(/[\s()-]/)},u={toPattern:function(e,t){var a,n="object"===(0,o.default)(t)?t.pattern:t,u=n.replace(/\W/g,""),s=n.split(""),c=e.toString().replace(/\W/g,""),d=c.replace(/\W/g,""),f=0,h=s.length,p="object"===(0,o.default)(t)?t.placeholder:void 0;for(a=0;a<h;a++){if(f>=c.length){if(u.length===d.length)return s.join("");if(void 0!==p&&u.length>d.length)return r(s,a,p).join("");break}if(s[a]&&l(s[a])&&c[f].match(/[0-9]/))s[a]=c[f++];else if(s[a]&&l(s[a]))return void 0!==p?r(s,a,p).join(""):(0,i.default)(s).call(s,0,a).join("")}return s.join("").substr(0,a)}};t.default=u},31446:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(3649)),o=n(a(94473)),r=n(a(81643)),l=n(a(78914)),u=n(a(62107)),s=n(a(75043)),c=a(8575),d=a(17673),f=a(91151),h=(s.default.name("Referer"),function(e){var t=[];for(var a in e){var n=e[a],i=function(e){var a=n[e],i=function(n){var i;r=a[n],(0,l.default)(i=r[0]).call(i,(function(a){var i={domain:a,medium:e,name:n};r[1]&&(i.params=r[1]),t.push(i)}))};for(var o in a)i(o)};for(var o in n){var r;i(o)}}return t}(f)),p=function(e,t,a){var n;this.known=!1,this.referer=null,this.medium="unknown",this.search_parameter=null,this.search_term=null,this.referers=a||h;var i=c.parse(e),o=i.hostname;if(this.known=Boolean(~(0,r.default)(n=["http:","https:"]).call(n,i.protocol)),this.uri=i,this.known){if(t)if(c.parse(t).hostname===o)return void(this.medium="internal");var l=this._lookup_referer(o,i.pathname,!0);if(l||(l=this._lookup_referer(o,i.pathname,!1))){if(this.referer=l.name,this.medium=l.medium,"search"===l.medium){if(!l.params)return;var s=u.default.extend(d.parse(i.hash),d.parse(i.query));for(var f in s){var p,m=s[f];-1!==(0,r.default)(p=l.params).call(p,f.toLowerCase())&&(this.search_parameter=f,this.search_term=m)}}}else this.medium="unknown"}};p.prototype.searchReferer=function(e){return(0,o.default)(u.default).call(u.default,this.referers,(function(t){return t.domain instanceof RegExp&&e.search(t.domain)>-1||(t.domain===e||void 0)}))},p.prototype._lookup_referer=function(e,t,a){var n=null;if(!(n=a?this.searchReferer(e+t):this.searchReferer(e))&&a){var o=t.split("/");if(o.length>1)try{n=this.searchReferer(e+"/"+o[1])}catch(e){}}if(n)return n;try{var l=(0,r.default)(e).call(e,".");if(-1===l)return null;var u=(0,i.default)(e).call(e,l+1);return this._lookup_referer(u,t,a)}catch(e){return null}};var m=p;t.default=m},33109:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var n={reduceImage:function(e,t){var a=0,i=0,o=e.width/e.height;e.width/320>e.height/320?(a=320,i=Math.floor(320/o)):(a=Math.floor(320*o),i=320);var r=Math.ceil(Math.log(e.width/a)/Math.log(2))-2,l=document.createElement("canvas"),u=l.getContext("2d");l.width=e.width,l.height=e.height,u.drawImage(e,0,0,l.width,l.height);for(var s=0;s<r;s++)l=n.reduceImageStep(l);var c=document.createElement("canvas");return c.width=a,c.height=i,c.getContext("2d").drawImage(l,0,0,c.width,c.height),c.toDataURL(t.type)},reduceImageStep:function(e){var t=document.createElement("canvas");return t.width=e.width/2,t.height=e.height/2,t.getContext("2d").drawImage(e,0,0,t.width,t.height),t},dataURItoBlob:function(e){for(var t=atob(e.split(",")[1]),a=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),i=new Uint8Array(n),o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return new Blob([n],{type:a})},createFile:function(e,t){window.URL;var a=n.dataURItoBlob(e),i="thumb_"+t.name;return new File([a],i,{type:t.type,lastModified:new Date})},create:function(e,t){var a=n.reduceImage(e,t);return n.createFile(a,t)}},i=n;t.default=i},51362:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(3649)),o=n(a(94198)),r=n(a(81643)),l=n(a(89400)),u=n(a(62107)),s=a(33367),c=n(a(4620)),d=n(a(36216)),f=n(a(31446)),h=n(a(75043)),p=n(a(10505)),m=a(56602),g=a(17673),v=h.default.name("utm"),_={utmccn:"campaign",utmcsr:"source",utmcmd:"medium",utmctr:"keyword",utmcct:"content"},y={parseUtmz:function(e){var t={};if(e){var a,n=decodeURI(e).replace(/^[0-9\.]*/g,"");if(n)for(var i=n.split("|"),o=0;o<i.length;o++)(a=i[o].substr(0,6))in _&&(t[_[a]]=i[o].substr(7))}return t},parseUTM:function(e,t,a){var n={},i=!1;try{n=this.parseUtmz(c.default.get("__utmz"))}catch(e){s.Monitoring.reportException({message:"utmz parse error",stack:e.stack,lineNumber:1,fileName:"utm.js",column:1})}if(v.log("parseUTM",a),a)for(var o,d=a.split("|"),h=(0,l.default)(u.default).call(u.default,_),y=0;y<d.length;y++)2===(o=d[y].split("=")).length&&(o[0]=o[0].toLowerCase(),(0,r.default)(h).call(h,o[0])>=0?(n[o[0]]=o[1],i=!0):"term"===o[0]&&(n.keyword=o[1]));if(v.log("finish utmz, utmparams",n),!i)if("string"==typeof t&&""!==t){var b=new f.default(t,e);if(v.log("processing_refer",b,t,e),!b.known)return void v.log("unknown_refer");if("internal"===b.medium){if(b.uri.query&&b.uri.query.length){var E=this.decodeString(b.uri.query),w={};try{w=g.parse(E)}catch(e){s.Monitoring.reportException({message:"querystring parse error: "+E,stack:e.stack,lineNumber:72,fileName:"utm.js",column:1});var C=this.getUTMParamsFromUrl(E);for(var T in C)if(C[T]){var k=C[T].split("=");k.length&&(w[k[0]]=k[1])}}for(var S in _)w["utm_"+_[S]]&&(n[_[S]]=w["utm_"+_[S]]);w.utm_term&&(n.keyword=w.utm_term),v.log("query params:",n)}(0,m.isEmpty)(n)&&u.default.extend(n,{campaign:"(direct)",source:"(direct)"})}else"unknown"===b.medium?u.default.extend(n,{campaign:"(referral)",medium:"referral",source:p.default.toUnicode(b.uri.hostname),content:b.uri.path}):u.default.extend(n,{campaign:"(organic)",source:b.referer,medium:b.medium,keyword:b.search_term,content:""})}else(0,m.isEmpty)(n)&&u.default.extend(n,{campaign:"(direct)",source:"(direct)"});return n.keyword&&(n.keyword=this.decodeString(n.keyword)),n.content&&(n.content=this.decodeString(n.content)),n.campaign&&(n.campaign=this.decodeString(n.campaign)),v.log("FINISH UTM",u.default.omit(n,m.isEmpty)),u.default.omit(n,m.isEmpty)},decodeString:function(e){try{e=decodeURIComponent(e)}catch(t){return v.log(t),this.decode(e)}return e},decode:function(e){return(e=(e=(e=e.replace(/%([EF][0-9A-F])%([89AB][0-9A-F])%([89AB][0-9A-F])/gi,(function(e,t,a,n){var i=(0,o.default)(t,16)-224,r=(0,o.default)(a,16)-128;if(0==i&&r<32)return e;var l=(i<<12)+(r<<6)+((0,o.default)(n,16)-128);return l>65535?e:String.fromCharCode(l)}))).replace(/%([CD][0-9A-F])%([89AB][0-9A-F])/gi,(function(e,t,a){var n=(0,o.default)(t,16)-192;if(n<2)return e;var i=(0,o.default)(a,16)-128;return String.fromCharCode((n<<6)+i)}))).replace(/%([0-7][0-9A-F])/gi,(function(e,t){return String.fromCharCode((0,o.default)(t,16))}))).replace(/%[A-Z0-9]{2}/gi,"")},getUTMParamsFromUrl:function(e){for(var t=(0,r.default)(e).call(e,"?"),a=null;-1!=a;)(a=(0,r.default)(e).call(e,"?",t+1))>0&&(t=a);var n,o,l=e.substr(t+1).split("&"),u="";for(o=l.length;o--;){var s;if(n=l[o].split("="),(0,r.default)(s=n[0]).call(s,"utm_")>=0){var c=(n=(n=l[o]).replace(/\|/gi,"%7C")).split("=");c.length>1&&(n=c[0]+"="+(0,i.default)(c).call(c,1).join("%3D")),u+=(u.length>0?"|":"")+n.substr((0,r.default)(n).call(n,"utm_")+4)}}return u},setUTM:function(e,t){var a=y.getUTMParamsFromUrl(e),n=y.parseUTM(e,t,a);d.default.utm.campaign=n&&n.campaign||null,d.default.utm.source=n&&n.source||null,d.default.utm.medium=n&&n.medium||null,d.default.utm.keyword=n&&n.keyword||null,d.default.utm.content=n&&n.content||null}},b=y;t.default=b},301:function(e,t,a){"use strict";var n=a(60530),i=n(a(3649)),o=n(a(59340)),r=n(a(33032));!function(){"undefined"==typeof window&&(window=a.g);var e,t=2e4,n=2e3,l=32e3,u=3e4,s=function(t,a){if("function"==typeof e[t])try{return e[t](a)}catch(a){if("onerror"!==t)try{e.onerror(a)}catch(e){}}},c=function(e){return void 0===e?"":("string"!=typeof e&&(e=String(e)),e.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/[\x00-\x19]/g," "))},d=function(e){return Math.random()*e<<0},f=/^-?[a-zA-Z0-9]{1,16}$/,h=/^[_a-zA-Z][_a-zA-Z0-9]{0,7}$/,p=/^[a-zA-Z0-9]{10}$/;window.ClientSocket=function(){if(e)return e;e=this;var a,m,g,v,_=n,y=0,b=function e(){try{m.send(".")}catch(e){}g=(0,r.default)(e,t)},E=function(){m.onclose=null,m.onerror=null,m.onmessage=null,m.onopen=null,m.CLOSING>m.readyState&&m.close()},w=function f(){m&&(E(),l<(_<<=1)&&(_=l)),m=new WebSocket(a),e.readyState=m.readyState,m.onclose=function(t){if(e.readyState=m.readyState,s("onclose",t.reason),g){if(clearTimeout(g),clearTimeout(v),t.reason){var a=-1;switch(t.reason){case"Protocol Error":case"Unsupported Data":case"Invalid Data":case"Message Too Big":case"Mandatory Ext.":case"Invalid Response":case"Normal Closure":case"Void Time":a=0;break;case"Service Restart":a=6e4+d(6e5);break;case"Try Again Later":a=6e5+d(6e5);break;case"Internal Error":a=18e5+d(6e5);break;case"Going Away":a=36e5+d(6e5);break;case"Policy Violation":a=72e5;break;case"Blacklisted":a=864e5}if(-1!==a)return E(),g=null,void s("ondrop",a)}else s("onerror",new Error("close-is-not-clean"));if(3<=++y)return E(),g=null,s("ondrop",6e5+d(6e5)),void s("onfail","Network Unreachable");g=(0,r.default)(f,_+d(n)),l<(_<<=1)&&(_=l)}},m.onerror=function(e){},m.onmessage=function(e){if(y=0,clearTimeout(v),v=(0,r.default)(f,u),!(1>=e.data.length)){for(var t,a="",n={},l=e.data.split("\n"),d=0;d<l.length;d++)if(l[d]){var h=l[d].split("\t");if(4>h.length)l[d]&&s("onerror","uncomplete-message: "+(0,o.default)(l[d]));else switch(h[3]){case"+":h[0]&&(n.from=h[0]),h[1]&&(n.room=h[1]),h[4]&&(n.ip=h[4]),h[5]&&(n.port=h[5]),n.geoip={},h[6]&&(n.geoip.region=h[6]),h[7]&&(n.geoip.city_country_code=h[7]),h[8]&&(n.geoip.city_country_name=h[8]),h[9]&&(n.geoip.region_name=h[9]),h[10]&&(n.geoip.city=h[10]),h[11]&&(n.geoip.latitude=h[11]),h[12]&&(n.geoip.longitude=h[12]),h[13]&&(n.geoip.org=h[13]),s("onadd",n);break;case"-":h[0]&&(n.from=h[0]),h[1]&&(n.room=h[1]),h[4]&&(n.code=h[4]),s("ondel",n);break;default:if(4<h.length)n.key=h[3],h[0]&&(n.from=h[0]),h[1]&&(n.room=h[1]),n.value=5<h.length?(0,i.default)(h).call(h,4):h[4],s("onset",n);else if(h[0]&&(n.from=h[0],n.room=h[1]),n.key=h[3]||"*",t=s("onget",n)){if(a+="\t"+h[1]+"\t"+h[0]+"\t"+h[3],t instanceof Array)for(var p=0;p<t.length;p++)a+="\t"+c(t);else a+="\t"+c(t);a+="\n"}}}a&&C(a)}},m.onopen=function(a){e.readyState=m.readyState,e.url=m.url,e.protocol=m.protocol,_=n,clearTimeout(v),v=(0,r.default)(f,u),clearTimeout(g),g=(0,r.default)(b,t),s("onopen")},clearTimeout(g),g=(0,r.default)(f,_)};this.open=function(e){if("string"!=typeof e)throw new TypeError("invalid-URL");a=e,w()},this.close=function(){m&&(clearTimeout(g),clearTimeout(v),y=0,g=null,m.close(1e3,"Normal Closure"),e.readyState=m.readyState)};var C=function(e){if(e){var a=(e=String(e)).length;if("function"==typeof Blob&&(a=new Blob([e]).size),!(8192>=a))throw new RangeError("message-too-big");clearTimeout(v),v=(0,r.default)(w,u),clearTimeout(g),g=(0,r.default)(b,t),m.send(e)}},T=function(e,t){var a="";if(e.to){if(!f.test(e.to))throw new Error("invalid-TO");if(!e.room||!p.test(e.room))throw new Error("invalid-ROOM");a+="\t"+e.room+"\t"+e.to}else{if("get"===t)throw new Error("get-require-TO-and-ROOM");a+="\t\t"}if("*"===e.key)e.key="";else if(!h.test(e.key))throw new Error("invalid-KEY");return a+="\t"+e.key};this.get=function(e){if(e)try{C(T(e,"get")+"\n")}catch(e){return e}},this.set=function(e){if(e)try{var t=T(e,"set");if(e.value instanceof Array){if(0===e.value.length)return;for(var a=0;a<e.value.length;a++)t+="\t"+c(e.value[a])}else t+="\t"+c(e.value);C(t+"\n")}catch(e){return e}}}}()},75043:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(3649)),o=n(a(77766)),r=n(a(62904)),l=a(94515),u=[],s=3;void 0===window.console&&(window.console={log:function(){},warn:function(){},error:function(){},info:function(){}});var c=Array,d=function(){Array||(Array=c)},f=function(e,t,a,n){if(h(e,t,n),r.default.logs){if(t){if(t+=":","count"===e){var i;if(!r.default.debugOrder)return;t=(0,o.default)(i="".concat(s++," ")).call(i,t),e="warn"}"error"==e&&(t+=" ERROR"),n.unshift(t),a&&!l.EnvironmentManager.isProduction()&&n.unshift("%c%s %s",a)}console[e].apply?console[e].apply(console,n):console[e](n.join())}},h=function(e,t,a){"Monitoring"!=t&&(5==u.length&&u.shift(),u.push("".concat(a.toString().substr(0,60))))},p={name:function(e,t){return f("count",e,null,["code exec started!"]),{log:function(){d();var a=(0,i.default)(Array.prototype).call(arguments||[]);f("log",e,t,a)},info:function(){d();var a=(0,i.default)(Array.prototype).call(arguments);f("info",e,t,a)},warn:function(){d();var a=(0,i.default)(Array.prototype).call(arguments||[]);f("warn",e,t,a)},error:function(){d();var a=(0,i.default)(Array.prototype).call(arguments);f("error",e,t,a)},count:function(){d();var a=(0,i.default)(Array.prototype).call(arguments);f("count",e,t,a)}}},lastLog:u};t.default=p},45609:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.updateAgent=t.addAgent=t.initializeAgentStore=void 0;var n=a(54847),i=a(43472),o=a(14890),r=function(e){return{type:n.ActionType.INIT_AGENTS_STORE,payload:e}};t.initializeAgentStore=r;var l=function(e){return{type:n.ActionType.ADD_AGENT,payload:e}};t.addAgent=l;var u=function(e){return{type:n.ActionType.UPDATE_AGENT,payload:e}};t.updateAgent=u;var s={initializeAgentStore:(0,o.bindActionCreators)(r,i.reduxStore.dispatch),addAgent:(0,o.bindActionCreators)(l,i.reduxStore.dispatch),updateAgent:(0,o.bindActionCreators)(u,i.reduxStore.dispatch)};t.dispatchers=s},1476:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.setIsInputDisabled=t.setIsContactFormFocused=t.setIsInDrag=t.setLastChatOpened=t.setAppRoute=t.setAppIsFocused=t.setAppIsOnline=t.initializeAppStore=void 0;var i=a(54847),o=a(43472),r=a(14890),l=n(a(62652)),u=function(e){var t=e.isFocused,a=e.isOnline,n=e.route,o=e.tabRoute,r=e.lastChatOpened,l=e.isInputDisabled;return{type:i.ActionType.INIT_APP_STORE,payload:{isFocused:t,isOnline:a,route:n,tabRoute:o,lastChatOpened:r,isInputDisabled:l}}};t.initializeAppStore=u;var s=function(e){return l.default.is_online=e,{type:i.ActionType.SET_APP_IS_ONLINE,payload:{isOnline:e}}};t.setAppIsOnline=s;var c=function(e){return l.default.is_focused=e,{type:i.ActionType.SET_APP_IS_FOCUSED,payload:{isFocused:e}}};t.setAppIsFocused=c;var d=function(e){return l.default.route=e,{type:i.ActionType.SET_APP_ROUTE,payload:{route:e}}};t.setAppRoute=d;var f=function(e){return l.default.lastChatOpened=e,{type:i.ActionType.SET_LAST_CHAT_OPENED,payload:{lastChatOpened:e}}};t.setLastChatOpened=f;var h=function(e){return{type:i.ActionType.SET_IS_IN_DRAG,payload:{isInDrag:e}}};t.setIsInDrag=h;var p=function(e){return{type:i.ActionType.SET_IS_CONTACT_FORM_FOCUSED,payload:{isContactFormFocused:e}}};t.setIsContactFormFocused=p;var m=function(e){return{type:i.ActionType.SET_IS_INPUT_DISABLED,payload:{isInputDisabled:e}}};t.setIsInputDisabled=m;var g={initializeAppStore:(0,r.bindActionCreators)(u,o.reduxStore.dispatch),setAppIsOnline:(0,r.bindActionCreators)(s,o.reduxStore.dispatch),setAppIsFocused:(0,r.bindActionCreators)(c,o.reduxStore.dispatch),setAppRoute:(0,r.bindActionCreators)(d,o.reduxStore.dispatch),setLastChatOpened:(0,r.bindActionCreators)(f,o.reduxStore.dispatch),setIsInDrag:(0,r.bindActionCreators)(h,o.reduxStore.dispatch),setIsContactFormFocused:(0,r.bindActionCreators)(p,o.reduxStore.dispatch),setIsInputDisabled:(0,r.bindActionCreators)(m,o.reduxStore.dispatch)};t.dispatchers=g},13240:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.addBot=t.initializeBotsStore=void 0;var n=a(54847),i=a(43472),o=a(14890),r=function(e){return{type:n.ActionType.INIT_BOTS_STORE,payload:e}};t.initializeBotsStore=r;var l=function(e){return{type:n.ActionType.ADD_BOT,payload:e}};t.addBot=l;var u={initializeBotsStore:(0,o.bindActionCreators)(r,i.reduxStore.dispatch),addBot:(0,o.bindActionCreators)(l,i.reduxStore.dispatch)};t.dispatchers=u},86864:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.setCallbackError=t.setCallbackStatus=t.setCallbackIsDelayed=t.setDelayedCallbackStatus=t.setCallbackAvailable=t.initializeCallbackStore=void 0;var i=a(54847),o=a(43472),r=a(14890),l=n(a(36216)),u=function(e){var t=e.status,a=e.available,n=e.delayedStatus,o=e.error;return{type:i.ActionType.INIT_CALLBACK_STORE,payload:{status:t,available:a,delayedStatus:n,error:o}}};t.initializeCallbackStore=u;var s=function(e){return l.default.cw_call_enabled=e,{type:i.ActionType.SET_CALL_AVAILABLE,payload:{available:e}}};t.setCallbackAvailable=s;var c=function(e){return l.default.cw_call_delayed_status=e,{type:i.ActionType.SET_DELAYED_CALL_STATUS,payload:{delayedStatus:e}}};t.setDelayedCallbackStatus=c;var d=function(e){return l.default.cw_call_delayed=e,{type:i.ActionType.SET_CALL_IS_DELAYED,payload:{isDelayed:e}}};t.setCallbackIsDelayed=d;var f=function(e){return l.default.cw_call.status=e,{type:i.ActionType.SET_CALL_STATUS,payload:{status:e}}};t.setCallbackStatus=f;var h=function(e){return l.default.cw_call.error=e,{type:i.ActionType.SET_CALL_ERROR,payload:{error:e}}};t.setCallbackError=h;var p={initializeCallbackStore:(0,r.bindActionCreators)(u,o.reduxStore.dispatch),setCallbackAvailable:(0,r.bindActionCreators)(s,o.reduxStore.dispatch),setDelayedCallbackStatus:(0,r.bindActionCreators)(c,o.reduxStore.dispatch),setCallbackIsDelayed:(0,r.bindActionCreators)(d,o.reduxStore.dispatch),setCallbackStatus:(0,r.bindActionCreators)(f,o.reduxStore.dispatch),setCallbackError:(0,r.bindActionCreators)(h,o.reduxStore.dispatch)};t.dispatchers=p},31505:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.setJoinedBots=t.addJoinedAgent=t.setNoJoinedAgents=t.setJoinedAgents=t.setDepartment=t.setChatEvaluated=t.setAgentTyping=t.startChat=t.updateChat=t.initializeChatsStore=void 0;var i=n(a(78914)),o=a(54847),r=a(43472),l=a(14890),u=n(a(62652)),s=n(a(69961)),c=n(a(8282)),d=n(a(36216)),f=a(20965),h=n(a(99357)),p=function(){return u.default.chat_accepted?f.ChatState.ACCEPTED:u.default.chat_started?f.ChatState.STARTED:f.ChatState.NOT_STARTED_OR_CLOSED},m=function(){var e,t,a=(e=[],t=h.default.getAllChatIds(),(0,i.default)(t).call(t,(function(a,n){var i=n===t.length-1;null!==a&&e.push({state:i?p():f.ChatState.NOT_STARTED_OR_CLOSED,evaluated:d.default.evaluate,departmentId:d.default.department_id,joinedAgents:i?c.default.getOnlyAgentIdsByStatus("join"):[],joinedBots:i?c.default.getBotIdsByStatus("join"):[],id:a,agentTyping:s.default.typing})})),e);return{type:o.ActionType.INIT_CHATS_STORE,payload:a}};t.initializeChatsStore=m;var g=function(){var e=r.reduxStore.getState().chats,t=h.default.getAllChatIds();return e.length!==t.length?m():{type:o.ActionType.DO_NOTHING,payload:null}};t.updateChat=g;var v=function(){return{type:o.ActionType.START_CHAT,payload:{}}};t.startChat=v;var _=function(e){return s.default.typing=e,{type:o.ActionType.SET_AGENT_TYPING,payload:{agentTyping:e}}};t.setAgentTyping=_;var y=function(e){return d.default.evaluate=e,{type:o.ActionType.SET_CURRENT_CHAT_EVALUATED,payload:{evaluated:e}}};t.setChatEvaluated=y;var b=function(e){return d.default.department_id=e,{type:o.ActionType.SET_CURRENT_CHAT_DEPARTMENT_ID,payload:{departmentId:e}}};t.setDepartment=b;var E=function(e){c.default.updateAgentList(e);var t=c.default.getAgentIdsByStatus("join");return{type:o.ActionType.SET_JOINED_AGENTS_IN_CURRENT_CHAT,payload:{joinedAgents:t||[]}}};t.setJoinedAgents=E;var w=function(){return c.default.closeChat(),{type:o.ActionType.CLOSE_CHAT,payload:{state:f.ChatState.NOT_STARTED_OR_CLOSED,joinedAgents:[]}}};t.setNoJoinedAgents=w;var C=function(e){return{type:o.ActionType.ADD_JOINED_AGENT_TO_CURRENT_CHAT,payload:{agentId:e}}};t.addJoinedAgent=C;var T=function(e){return{type:o.ActionType.SET_JOINED_BOTS,payload:{joinedBots:e||[]}}};t.setJoinedBots=T;var k={initializeChatsStore:(0,l.bindActionCreators)(m,r.reduxStore.dispatch),updateChat:(0,l.bindActionCreators)(g,r.reduxStore.dispatch),setAgentTyping:(0,l.bindActionCreators)(_,r.reduxStore.dispatch),setChatEvaluated:(0,l.bindActionCreators)(y,r.reduxStore.dispatch),setDepartment:(0,l.bindActionCreators)(b,r.reduxStore.dispatch),setJoinedAgents:(0,l.bindActionCreators)(E,r.reduxStore.dispatch),setNoJoinedAgents:(0,l.bindActionCreators)(w,r.reduxStore.dispatch),addJoinedAgent:(0,l.bindActionCreators)(C,r.reduxStore.dispatch),startChat:(0,l.bindActionCreators)(v,r.reduxStore.dispatch),setJoinedBots:(0,l.bindActionCreators)(T,r.reduxStore.dispatch)};t.dispatchers=k},64480:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.setInputText=t.setIsIntroduced=t.setLastMessage=t.setHasIntegration=t.initializeClientStore=void 0;var i=a(54847),o=a(43472),r=a(14890),l=n(a(36216)),u=function(e){var t=e.assignedAgentId,a=e.clientId,n=e.description,o=e.email,r=e.eulaAccepted,l=e.hasIntegration,u=e.isBlacklisted,s=e.isIntroduced,c=e.lastMessage,d=e.displayName,f=e.priorityAgentId,h=e.phone,p=e.sessionId,m=e.utm,g=e.visitorId,v=e.inputText;return{type:i.ActionType.INIT_CLIENT_STORE,payload:{assignedAgentId:t,clientId:a,description:n,email:o,eulaAccepted:r,hasIntegration:l,isBlacklisted:u,isIntroduced:s,lastMessage:c,displayName:d,priorityAgentId:f,phone:h,sessionId:p,utm:m,visitorId:g,inputText:v}}};t.initializeClientStore=u;var s=function(e){return l.default.has_integration=e,{type:i.ActionType.SET_HAS_INTEGRATION,payload:{hasIntegration:e}}};t.setHasIntegration=s;var c=function(e){return l.default.last_message=e,{type:i.ActionType.SET_LAST_MESSAGE,payload:{lastMessage:e}}};t.setLastMessage=c;var d=function(e){return l.default.is_introduced=e,{type:i.ActionType.SET_IS_INTRODUCED,payload:{isIntroduced:e}}};t.setIsIntroduced=d;var f=function(e){return{type:i.ActionType.SET_INPUT_TEXT,payload:{inputText:e}}};t.setInputText=f;var h={initializeClientStore:(0,r.bindActionCreators)(u,o.reduxStore.dispatch),setHasIntegration:(0,r.bindActionCreators)(s,o.reduxStore.dispatch),setLastMessage:(0,r.bindActionCreators)(c,o.reduxStore.dispatch),setIsIntroduced:(0,r.bindActionCreators)(d,o.reduxStore.dispatch),setInputText:(0,r.bindActionCreators)(f,o.reduxStore.dispatch)};t.dispatchers=h},38645:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.disableFiletransfer=void 0;var i=a(54847),o=a(43472),r=a(14890),l=n(a(62904)),u=function(e){return l.default.disable_filetranser=e,{type:i.ActionType.SET_DISABLE_FILETRANSFER,payload:{disableFiletransfer:e?1:0}}};t.disableFiletransfer=u;var s={disableFiletransfer:(0,r.bindActionCreators)(u,o.reduxStore.dispatch)};t.dispatchers=s},81189:function(e,t,a){"use strict";var n=a(87646);a(63978)(t,"__esModule",{value:!0}),t.bots=t.features=t.client=t.messages=t.transition=t.chats=t.agents=t.user=t.social=t.callback=t.position=t.app=t.botsDispatchers=t.featuresDispatchers=t.clientDispatchers=t.messagesDispatchers=t.transitionDispatchers=t.chatsDispatchers=t.agentsDispatchers=t.userDispatchers=t.socialDispatchers=t.callbackDispatchers=t.positionDispatchers=t.appDispatchers=void 0;var i=n(a(1476));t.app=i;var o=n(a(17591));t.position=o;var r=n(a(86864));t.callback=r;var l=n(a(37780));t.social=l;var u=n(a(55865));t.user=u;var s=n(a(45609));t.agents=s;var c=n(a(31505));t.chats=c;var d=n(a(16792));t.transition=d;var f=n(a(97783));t.messages=f;var h=n(a(64480));t.client=h;var p=n(a(38645));t.features=p;var m=n(a(13240));t.bots=m;var g=i.dispatchers;t.appDispatchers=g;var v=o.dispatchers;t.positionDispatchers=v;var _=r.dispatchers;t.callbackDispatchers=_;var y=l.dispatchers;t.socialDispatchers=y;var b=u.dispatchers;t.userDispatchers=b;var E=s.dispatchers;t.agentsDispatchers=E;var w=c.dispatchers;t.chatsDispatchers=w;var C=d.dispatchers;t.transitionDispatchers=C;var T=f.dispatchers;t.messagesDispatchers=T;var k=h.dispatchers;t.clientDispatchers=k;var S=p.dispatchers;t.featuresDispatchers=S;var I=m.dispatchers;t.botsDispatchers=I},97783:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.deleteMessage=t.editMessage=t.addMessages=t.addMessage=t.initializeMessagesStore=void 0;var i=n(a(2991)),o=a(54847),r=a(43472),l=a(14890),u=n(a(99357)),s=function(){var e,t=(0,i.default)(e=u.default.getAll()).call(e,(function(e){return e.store}));return{type:o.ActionType.INIT_MESSAGES_STORE,payload:{messages:t}}};t.initializeMessagesStore=s;var c=function(e,t){var a=e;return t||(a=u.default.push(a).store),{type:o.ActionType.ADD_MESSAGE,payload:{message:a}}};t.addMessage=c;var d=function(e){return u.default.pushAll(e),{type:o.ActionType.ADD_MESSAGES,payload:{messages:e}}};t.addMessages=d;var f=function(e){return{type:o.ActionType.EDIT_MESSAGE,payload:e}};t.editMessage=f;var h=function(e){return{type:o.ActionType.DELETE_MESSAGE,payload:e}};t.deleteMessage=h;var p={initializeMessagesStore:(0,l.bindActionCreators)(s,r.reduxStore.dispatch),addMessage:(0,l.bindActionCreators)(c,r.reduxStore.dispatch),addMessages:(0,l.bindActionCreators)(d,r.reduxStore.dispatch),editMessage:(0,l.bindActionCreators)(f,r.reduxStore.dispatch),deleteMessage:(0,l.bindActionCreators)(h,r.reduxStore.dispatch)};t.dispatchers=p},17591:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.setWidgetPositionRight=t.setWidgetPositionLeft=t.setWidgetPositionHeight=t.initializePositionStore=void 0;var i=a(54847),o=a(43472),r=a(14890),l=n(a(82036)),u=function(e){var t=e.height,a=e.left,n=e.right;return l.default.height=t,l.default.left=a,l.default.right=n,{type:i.ActionType.INIT_POSITION_STORE,payload:{height:t,left:a,right:n}}};t.initializePositionStore=u;var s=function(e){return l.default.height=e,{type:i.ActionType.CHANGE_POSITION_HEIGHT,payload:{height:e}}};t.setWidgetPositionHeight=s;var c=function(e){return l.default.left=e,{type:i.ActionType.CHANGE_POSITION_LEFT,payload:{left:e}}};t.setWidgetPositionLeft=c;var d=function(e){return l.default.right=e,{type:i.ActionType.CHANGE_POSITION_RIGHT,payload:{right:e}}};t.setWidgetPositionRight=d;var f={initializePositionStore:(0,r.bindActionCreators)(u,o.reduxStore.dispatch),setWidgetPositionHeight:(0,r.bindActionCreators)(s,o.reduxStore.dispatch),setWidgetPositionLeft:(0,r.bindActionCreators)(c,o.reduxStore.dispatch),setWidgetPositionRight:(0,r.bindActionCreators)(d,o.reduxStore.dispatch)};t.dispatchers=f},37780:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.initializeSocialStore=void 0;var n=a(54847),i=a(43472),o=a(14890),r=function(e){var t=e.vk,a=e.fb,i=e.mode;return{type:n.ActionType.INIT_SOCIAL_STORE,payload:{vk:t,fb:a,mode:i}}};t.initializeSocialStore=r;var l={initializeSocialStore:(0,o.bindActionCreators)(r,i.reduxStore.dispatch)};t.dispatchers=l},16792:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.startTransition=t.initializeTransitionStore=void 0;var n=a(54847),i=a(43472),o=a(14890),r=function(e){return{type:n.ActionType.INIT_TRANSITION_STORE,payload:e}};t.initializeTransitionStore=r;var l=function(e){return{type:n.ActionType.START_TRANSITION_SCRIPT,payload:{script:e}}};t.startTransition=l;var u={initializeTransitionStore:(0,o.bindActionCreators)(r,i.reduxStore.dispatch),startTransition:(0,o.bindActionCreators)(l,i.reduxStore.dispatch)};t.dispatchers=u},55865:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.dispatchers=t.setPattern=t.setCallHeaderText=t.setWidgetFontType=t.setWidgetFontFamily=t.setWidgetFontSize=t.setOnlineWidgetLabel=t.setWidgetPadding=t.setWidgetOrientation=t.setWidgetFontColor=t.setWidgetColor2=t.setWidgetColor=void 0;var i=a(54847),o=a(43472),r=a(14890),l=n(a(62904)),u=n(a(62652)),s=function(e){return l.default.widget_color=e,u.default.widget_color=e,{type:i.ActionType.SET_WIDGET_COLOR,payload:{widgetColor:e}}};t.setWidgetColor=s;var c=function(e){return l.default.widget_color2=e,u.default.widget_color2=e,{type:i.ActionType.SET_WIDGET_COLOR2,payload:{widgetColor2:e}}};t.setWidgetColor2=c;var d=function(e){return l.default.widget_font_color=e,u.default.widget_font_color=e,{type:i.ActionType.SET_WIDGET_FONT_COLOR,payload:{widgetFontColor:e}}};t.setWidgetFontColor=d;var f=function(e){return l.default.widget_orientation=e,{type:i.ActionType.SET_WIDGET_ORIENTATION,payload:{widgetOrientation:e}}};t.setWidgetOrientation=f;var h=function(e){return l.default.widget_padding=e,{type:i.ActionType.SET_WIDGET_PADDING,payload:{widgetPadding:e}}};t.setWidgetPadding=h;var p=function(e){return l.default.online_widget_label=e,{type:i.ActionType.SET_ONLINE_WIDGET_LABEL,payload:{onlineWidgetLabel:e}}};t.setOnlineWidgetLabel=p;var m=function(e){return l.default.font_size=e,{type:i.ActionType.SET_WIDGET_FONT_SIZE,payload:{fontSize:e}}};t.setWidgetFontSize=m;var g=function(e){return l.default.font_family=e,{type:i.ActionType.SET_WIDGET_FONT_FAMILY,payload:{fontFamily:e}}};t.setWidgetFontFamily=g;var v=function(e){return l.default.font_type=e,{type:i.ActionType.SET_WIDGET_FONT_TYPE,payload:{fontType:e}}};t.setWidgetFontType=v;var _=function(e){return u.default.callText=e,{type:i.ActionType.SET_CALL_HEADER_TEXT,payload:{callHeaderText:e}}};t.setCallHeaderText=_;var y=function(e){return l.default.pattern=e,{type:i.ActionType.SET_PATTERN,payload:{pattern:e}}};t.setPattern=y;var b={setWidgetColor:(0,r.bindActionCreators)(s,o.reduxStore.dispatch),setWidgetColor2:(0,r.bindActionCreators)(c,o.reduxStore.dispatch),setWidgetFontColor:(0,r.bindActionCreators)(d,o.reduxStore.dispatch),setWidgetOrientation:(0,r.bindActionCreators)(f,o.reduxStore.dispatch),setWidgetPadding:(0,r.bindActionCreators)(h,o.reduxStore.dispatch),setOnlineWidgetLabel:(0,r.bindActionCreators)(p,o.reduxStore.dispatch),setWidgetFontSize:(0,r.bindActionCreators)(m,o.reduxStore.dispatch),setWidgetFontFamily:(0,r.bindActionCreators)(g,o.reduxStore.dispatch),setWidgetFontType:(0,r.bindActionCreators)(v,o.reduxStore.dispatch),setCallHeaderText:(0,r.bindActionCreators)(_,o.reduxStore.dispatch),setPattern:(0,r.bindActionCreators)(y,o.reduxStore.dispatch)};t.dispatchers=b},54847:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.ActionType=void 0;t.ActionType={DO_NOTHING:"DO_NOTHING",INIT_POSITION_STORE:"INIT_POSITION_STORE",CHANGE_POSITION_HEIGHT:"CHANGE_POSITION_HEIGHT",CHANGE_POSITION_LEFT:"CHANGE_POSITION_LEFT",CHANGE_POSITION_RIGHT:"CHANGE_POSITION_RIGHT",INIT_CALLBACK_STORE:"INIT_CALLBACK_STORE",SET_CALL_AVAILABLE:"SET_CALL_AVAILABLE",SET_DELAYED_CALL_STATUS:"SET_DELAYED_CALL_STATUS",SET_CALL_IS_DELAYED:"SET_CALL_IS_DELAYED",SET_CALL_STATUS:"SET_CALL_STATUS",SET_CALL_ERROR:"SET_CALL_ERROR",INIT_SOCIAL_STORE:"INIT_SOCIAL_STORE",INIT_APP_STORE:"INIT_APP_STORE",SET_APP_IS_ONLINE:"SET_APP_IS_ONLINE",SET_APP_IS_FOCUSED:"SET_APP_IS_FOCUSED",SET_APP_ROUTE:"SET_APP_ROUTE",SET_LAST_CHAT_OPENED:"SET_LAST_CHAT_OPENED",SET_IS_IN_DRAG:"SET_IS_IN_DRAG",SET_IS_CONTACT_FORM_FOCUSED:"SET_IS_CONTACT_FORM_FOCUSED",SET_IS_INPUT_DISABLED:"SET_IS_INPUT_DISABLED",SET_WIDGET_COLOR:"SET_WIDGET_COLOR",SET_WIDGET_COLOR2:"SET_WIDGET_COLOR2",SET_WIDGET_FONT_COLOR:"SET_WIDGET_FONT_COLOR",SET_WIDGET_ORIENTATION:"SET_WIDGET_ORIENTATION",SET_WIDGET_PADDING:"SET_WIDGET_PADDING",SET_ONLINE_WIDGET_LABEL:"SET_ONLINE_WIDGET_LABEL",SET_WIDGET_FONT_SIZE:"SET_WIDGET_FONT_SIZE",SET_WIDGET_FONT_FAMILY:"SET_WIDGET_FONT_FAMILY",SET_WIDGET_FONT_TYPE:"SET_WIDGET_FONT_TYPE",SET_CALL_HEADER_TEXT:"SET_CALL_HEADER_TEXT",SET_PATTERN:"SET_PATTERN",INIT_AGENTS_STORE:"INIT_AGENTS_STORE",ADD_AGENT:"ADD_AGENT",UPDATE_AGENT:"UPDATE_AGENT",INIT_BOTS_STORE:"INIT_BOTS_STORE",ADD_BOT:"ADD_BOT",INIT_CHATS_STORE:"INIT_CHATS_STORE",START_CHAT:"START_CHAT",CLOSE_CHAT:"CLOSE_CHAT",SET_JOINED_AGENTS_IN_CURRENT_CHAT:"SET_JOINED_AGENTS_IN_CURRENT_CHAT",ADD_JOINED_AGENT_TO_CURRENT_CHAT:"ADD_JOINED_AGENT_TO_CURRENT_CHAT",REMOVE_AGENT_FROM_CURRENT_CHAT:"REMOVE_AGENT_FROM_CHAT",SET_CURRENT_CHAT_EVALUATED:"SET_CHAT_EVALUATED",SET_AGENT_TYPING:"SET_AGENT_TYPING",SET_CURRENT_CHAT_DEPARTMENT_ID:"SET_CHAT_DEPARTMENT_ID",SET_JOINED_BOTS:"SET_JOINED_BOTS",INIT_TRANSITION_STORE:"INIT_TRANSITION_STORE",START_TRANSITION_SCRIPT:"START_TRANSITION_SCRIPT",CONTINUE_TRANSITION_SCRIPT:"CONTINUE_TRANSITION_SCRIPT",STOP_TRANSITION_SCRIPT:"STOP_TRANSITION_SCRIPT",RESET_TRANSITON_SCRIPT:"RESET_TRANSITON_SCRIPT",INIT_MESSAGES_STORE:"INIT_MESSAGES_STORE",ADD_MESSAGE:"ADD_MESSAGE",ADD_MESSAGES:"ADD_MESSAGES",EDIT_MESSAGE:"EDIT_MESSAGE",DELETE_MESSAGE:"DELETE_MESSAGE",INIT_CLIENT_STORE:"INIT_CLIENT_STORE",SET_HAS_INTEGRATION:"SET_HAS_INTEGRATION",SET_LAST_MESSAGE:"SET_LAST_MESSAGE",SET_IS_INTRODUCED:"SET_IS_INTRODUCED",SET_INPUT_TEXT:"SET_INPUT_TEXT",SET_DISABLE_FILETRANSFER:"SET_DISABLE_FILETRANSFER"}},78055:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.logger=void 0;var i=n(a(63978)),o=n(a(20368)),r=n(a(39649)),l=n(a(78914)),u=n(a(34074)),s=n(a(20116)),c=n(a(14310)),d=n(a(86902)),f=n(a(87672)),h=n(a(75043)),p=n(a(9805));function m(e,t){var a=(0,d.default)(e);if(c.default){var n=(0,c.default)(e);t&&(n=(0,s.default)(n).call(n,(function(t){return(0,u.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(a=m(Object(n),!0)).call(a,(function(t){(0,f.default)(e,t,n[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(n));else{var s;(0,l.default)(s=m(Object(n))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(n,t))}))}}return e}var v=h.default.name("Redux");t.logger=function(e){return function(t){return function(a){v.log("dispatching",a);var n=t(a);return p.default.getInstance()&&p.default.getInstance().saveReduxAction(g(g({},a),{},{ts:(new Date).getTime()})),v.log("next state",e.getState()),n}}}},83425:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case v.ActionType.INIT_AGENTS_STORE:return n&&n.length?(0,g.default)(n):(0,g.default)(e);case v.ActionType.ADD_AGENT:if(n){var i,o=(0,m.default)(e).call(e,(function(e){return e.id===n.id}));return o?(0,p.default)(e).call(e,(function(e){return e.id===n.id?y(y({},e),n):e})):(0,f.default)(i=[]).call(i,(0,g.default)(e),[y({},n)])}return(0,g.default)(e);case v.ActionType.UPDATE_AGENT:return n?(0,p.default)(e).call(e,(function(e){return e.id===n.id?y(y({},e),n):e})):(0,g.default)(e);default:return e}};var i=n(a(63978)),o=n(a(20368)),r=n(a(39649)),l=n(a(78914)),u=n(a(34074)),s=n(a(20116)),c=n(a(14310)),d=n(a(86902)),f=n(a(77766)),h=n(a(87672)),p=n(a(2991)),m=n(a(94473)),g=n(a(59036)),v=a(54847);function _(e,t){var a=(0,d.default)(e);if(c.default){var n=(0,c.default)(e);t&&(n=(0,s.default)(n).call(n,(function(t){return(0,u.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(a=_(Object(n),!0)).call(a,(function(t){(0,h.default)(e,t,n[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(n));else{var s;(0,l.default)(s=_(Object(n))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(n,t))}))}}return e}var b=[]},29781:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case h.ActionType.INIT_APP_STORE:return{isFocused:n.isFocused,isOnline:!!n.isOnline,route:n.route,tabRoute:n.tabRoute,lastChatOpened:n.lastChatOpened,isInDrag:n.isInDrag,isContactFormFocused:n.isContactFormFocused,isInputDisabled:n.isInputDisabled};case h.ActionType.SET_APP_IS_ONLINE:return m(m({},e),{},{isOnline:n.isOnline});case h.ActionType.SET_APP_IS_FOCUSED:return m(m({},e),{},{isFocused:n.isFocused});case h.ActionType.SET_APP_ROUTE:return m(m({},e),{},{route:n.route});case h.ActionType.SET_LAST_CHAT_OPENED:return m(m({},e),{},{lastChatOpened:n.lastChatOpened});case h.ActionType.SET_IS_IN_DRAG:return m(m({},e),{},{isInDrag:n.isInDrag});case h.ActionType.SET_IS_CONTACT_FORM_FOCUSED:return m(m({},e),{},{isContactFormFocused:n.isContactFormFocused});case h.ActionType.SET_IS_INPUT_DISABLED:return m(m({},e),{},{isInputDisabled:n.isInputDisabled});default:return e}};var i=n(a(63978)),o=n(a(20368)),r=n(a(39649)),l=n(a(78914)),u=n(a(34074)),s=n(a(20116)),c=n(a(14310)),d=n(a(86902)),f=n(a(87672)),h=a(54847);function p(e,t){var a=(0,d.default)(e);if(c.default){var n=(0,c.default)(e);t&&(n=(0,s.default)(n).call(n,(function(t){return(0,u.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(a=p(Object(n),!0)).call(a,(function(t){(0,f.default)(e,t,n[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(n));else{var s;(0,l.default)(s=p(Object(n))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(n,t))}))}}return e}var g={isFocused:null,isOnline:null,route:null,tabRoute:null,lastChatOpened:null,isInDrag:null,isContactFormFocused:null,isInputDisabled:null}},30183:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case v.ActionType.INIT_BOTS_STORE:return n&&n.length?(0,g.default)(n):(0,g.default)(e);case v.ActionType.ADD_BOT:if(n){var i,o=(0,m.default)(e).call(e,(function(e){return e.id===n.id}));return o?(0,p.default)(e).call(e,(function(e){return e.id===n.id?y(y({},e),n):e})):(0,f.default)(i=[]).call(i,(0,g.default)(e),[y({},n)])}return(0,g.default)(e);default:return e}};var i=n(a(63978)),o=n(a(20368)),r=n(a(39649)),l=n(a(78914)),u=n(a(34074)),s=n(a(20116)),c=n(a(14310)),d=n(a(86902)),f=n(a(77766)),h=n(a(87672)),p=n(a(2991)),m=n(a(94473)),g=n(a(59036)),v=a(54847);function _(e,t){var a=(0,d.default)(e);if(c.default){var n=(0,c.default)(e);t&&(n=(0,s.default)(n).call(n,(function(t){return(0,u.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(a=_(Object(n),!0)).call(a,(function(t){(0,h.default)(e,t,n[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(n));else{var s;(0,l.default)(s=_(Object(n))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(n,t))}))}}return e}var b=[]},77781:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case h.ActionType.INIT_CALLBACK_STORE:return{available:n.available,delayedPeriods:n.delayedPeriods,delayedStatus:n.delayedStatus,delayedTimezone:n.delayedTimezone,isDelayed:n.isDelayed,status:n.status,error:n.error};case h.ActionType.SET_CALL_AVAILABLE:return m(m({},e),{},{available:n.available});case h.ActionType.SET_DELAYED_CALL_STATUS:return m(m({},e),{},{delayedStatus:n.delayedStatus});case h.ActionType.SET_CALL_IS_DELAYED:return m(m({},e),{},{isDelayed:n.isDelayed});case h.ActionType.SET_CALL_STATUS:return m(m({},e),{},{status:n.status});case h.ActionType.SET_CALL_ERROR:return m(m({},e),{},{error:n.error});default:return e}};var i=n(a(63978)),o=n(a(20368)),r=n(a(39649)),l=n(a(78914)),u=n(a(34074)),s=n(a(20116)),c=n(a(14310)),d=n(a(86902)),f=n(a(87672)),h=a(54847);function p(e,t){var a=(0,d.default)(e);if(c.default){var n=(0,c.default)(e);t&&(n=(0,s.default)(n).call(n,(function(t){return(0,u.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(a=p(Object(n),!0)).call(a,(function(t){(0,f.default)(e,t,n[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(n));else{var s;(0,l.default)(s=p(Object(n))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(n,t))}))}}return e}var g={available:null,delayedPeriods:null,delayedStatus:null,delayedTimezone:null,isDelayed:null,status:null,error:null}},51369:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;if(!n)return e;switch(a){case v.ActionType.INIT_CHATS_STORE:return(0,g.default)(n);case v.ActionType.SET_JOINED_AGENTS_IN_CURRENT_CHAT:return e.length?(0,m.default)(e).call(e,(function(t,a){return a!==e.length-1?t:b(b({},t),{},{joinedAgents:(0,g.default)(n.joinedAgents)})})):[b(b({},w),{},{joinedAgents:(0,g.default)(n.joinedAgents)})];case v.ActionType.SET_JOINED_BOTS:return n.joinedBots&&n.joinedBots.length>=0?e.length?(0,m.default)(e).call(e,(function(t,a){return a!==e.length-1?t:b(b({},t),{},{joinedBots:n.joinedBots.length?(0,g.default)(n.joinedBots):[]})})):[b(b({},w),{},{joinedBots:n.joinedBots.length?(0,g.default)(n.joinedBots):[]})]:e;case v.ActionType.ADD_JOINED_AGENT_TO_CURRENT_CHAT:return n.agentId>=0?e.length?(0,m.default)(e).call(e,(function(t,a){var i,o;return a!==e.length-1||(0,h.default)(i=e[a].joinedAgents).call(i,n.agentId)?t:b(b({},t),{},{joinedAgents:(0,f.default)(o=[]).call(o,(0,g.default)(e[a].joinedAgents),[n.agentId])})})):[b(b({},w),{},{joinedAgents:n.agentId?[n.agentId]:[]})]:e;case v.ActionType.SET_AGENT_TYPING:return(0,m.default)(e).call(e,(function(t,a){return a!==e.length-1?t:b(b({},t),{},{agentTyping:n.agentTyping})}));case v.ActionType.SET_CURRENT_CHAT_EVALUATED:return(0,m.default)(e).call(e,(function(t,a){return a!==e.length-1?t:b(b({},t),{},{evaluated:n.evaluated})}));case v.ActionType.SET_CURRENT_CHAT_DEPARTMENT_ID:return(0,m.default)(e).call(e,(function(t,a){return a!==e.length-1?t:b(b({},t),{},{departmentId:n.departmentId})}));case v.ActionType.CLOSE_CHAT:return(0,m.default)(e).call(e,(function(t,a){return a!==e.length-1?t:b(b({},t),{},{state:n.state,joinedAgents:(0,g.default)(n.joinedAgents)})}));default:return e}};var i=n(a(63978)),o=n(a(20368)),r=n(a(39649)),l=n(a(78914)),u=n(a(34074)),s=n(a(20116)),c=n(a(14310)),d=n(a(86902)),f=n(a(77766)),h=n(a(78580)),p=n(a(87672)),m=n(a(2991)),g=n(a(59036)),v=a(54847),_=a(20965);function y(e,t){var a=(0,d.default)(e);if(c.default){var n=(0,c.default)(e);t&&(n=(0,s.default)(n).call(n,(function(t){return(0,u.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(a=y(Object(n),!0)).call(a,(function(t){(0,p.default)(e,t,n[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(n));else{var s;(0,l.default)(s=y(Object(n))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(n,t))}))}}return e}var E=[],w={state:_.ChatState.NOT_STARTED_OR_CLOSED,evaluated:null,departmentId:null,joinedAgents:[],joinedBots:[],id:null,agentTyping:null}},43683:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case h.ActionType.INIT_CLIENT_STORE:return{assignedAgentId:n.assignedAgentId,clientId:n.clientId,description:n.description,email:n.email,eulaAccepted:n.eulaAccepted,hasIntegration:n.hasIntegration,isBlacklisted:n.isBlacklisted,isIntroduced:n.isIntroduced,lastMessage:n.lastMessage,displayName:n.displayName,priorityAgentId:n.priorityAgentId,phone:n.phone,sessionId:n.sessionId,utm:n.utm,visitorId:n.visitorId};case h.ActionType.SET_HAS_INTEGRATION:return m(m({},e),{},{hasIntegration:n.hasIntegration});case h.ActionType.SET_LAST_MESSAGE:return m(m({},e),{},{lastMessage:n.lastMessage});case h.ActionType.SET_IS_INTRODUCED:return m(m({},e),{},{isIntroduced:n.isIntroduced});case h.ActionType.SET_INPUT_TEXT:return m(m({},e),{},{inputText:n.inputText});default:return e}};var i=n(a(63978)),o=n(a(20368)),r=n(a(39649)),l=n(a(78914)),u=n(a(34074)),s=n(a(20116)),c=n(a(14310)),d=n(a(86902)),f=n(a(87672)),h=a(54847);function p(e,t){var a=(0,d.default)(e);if(c.default){var n=(0,c.default)(e);t&&(n=(0,s.default)(n).call(n,(function(t){return(0,u.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(a=p(Object(n),!0)).call(a,(function(t){(0,f.default)(e,t,n[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(n));else{var s;(0,l.default)(s=p(Object(n))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(n,t))}))}}return e}var g={assignedAgentId:null,clientId:null,description:null,email:null,eulaAccepted:null,hasIntegration:null,isBlacklisted:null,isIntroduced:null,lastMessage:null,name:null,priorityAgentId:null,phone:null,sessionId:null,utm:{campaign:null,content:null,keyword:null,medium:null,source:null},visitorId:null,inputText:null}},40758:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=a(14890),o=n(a(83425)),r=n(a(29781)),l=n(a(30183)),u=n(a(77781)),s=n(a(51369)),c=n(a(43683)),d=n(a(86461)),f=n(a(52917)),h=n(a(18355)),p=n(a(84868)),m=n(a(3433)),g=n(a(10466)),v=(0,i.combineReducers)({agents:o.default,app:r.default,bots:l.default,callback:u.default,chats:s.default,client:c.default,messages:d.default,position:f.default,proactive:h.default,settings:p.default,social:m.default,transition:g.default});t.default=v},86461:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case r.ActionType.INIT_MESSAGES_STORE:return n.messages&&n.messages.length?(0,o.default)(n.messages):(0,o.default)(e);case r.ActionType.ADD_MESSAGE:var u;return n.message?(0,i.default)(u=[]).call(u,(0,o.default)(e),[n.message]):(0,o.default)(e);case r.ActionType.ADD_MESSAGES:var s;return n.messages&&n.messages.length?(0,i.default)(s=[]).call(s,(0,o.default)(e),(0,o.default)(n.messages)):(0,o.default)(e);case r.ActionType.EDIT_MESSAGE:case r.ActionType.DELETE_MESSAGE:return(0,o.default)(e);default:return e}};var i=n(a(77766)),o=n(a(59036)),r=a(54847),l=[]},52917:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case h.ActionType.INIT_POSITION_STORE:return{height:n?n.height:e.height,left:n?n.left:e.left,right:n?n.right:e.right};case h.ActionType.CHANGE_POSITION_HEIGHT:return m(m({},e),{},{height:n?n.height:e.height});case h.ActionType.CHANGE_POSITION_LEFT:return m(m({},e),{},{left:n?n.left:e.left});case h.ActionType.CHANGE_POSITION_RIGHT:return m(m({},e),{},{right:n?n.right:e.right});default:return e}};var i=n(a(63978)),o=n(a(20368)),r=n(a(39649)),l=n(a(78914)),u=n(a(34074)),s=n(a(20116)),c=n(a(14310)),d=n(a(86902)),f=n(a(87672)),h=a(54847);function p(e,t){var a=(0,d.default)(e);if(c.default){var n=(0,c.default)(e);t&&(n=(0,s.default)(n).call(n,(function(t){return(0,u.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(a=p(Object(n),!0)).call(a,(function(t){(0,f.default)(e,t,n[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(n));else{var s;(0,l.default)(s=p(Object(n))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(n,t))}))}}return e}var g={height:null,left:null,right:null}},18355:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;t.type,t.payload;return e};a(54847),n(a(62904));var i={createdTs:null,name:null,privateId:null,status:null,text:null}},11171:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.features=void 0;var i=n(a(63978)),o=n(a(20368)),r=n(a(39649)),l=n(a(78914)),u=n(a(34074)),s=n(a(20116)),c=n(a(14310)),d=n(a(86902)),f=n(a(87672)),h=a(54847),p=n(a(62904));function m(e,t){var a=(0,d.default)(e);if(c.default){var n=(0,c.default)(e);t&&(n=(0,s.default)(n).call(n,(function(t){return(0,u.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(a=m(Object(n),!0)).call(a,(function(t){(0,f.default)(e,t,n[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(n));else{var s;(0,l.default)(s=m(Object(n))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(n,t))}))}}return e}var v=p.default.eula,_={apiInvitation:!!p.default.enable_api_invitation||null,disableEmoji:!!p.default.disable_emoji||null,disableErrorReporting:!!p.default.disable_error_reporting||null,disableFiletransfer:!!p.default.disable_filetransfer||null,disableMobile:!!p.default.disable_mobile||null,disableTelemetry:!!p.default.disable_telemetry||null,eula:v&&{customAgreement:v.custom_agreement||null,customTitle:v.custom_title||null,externalLink:v.external_link||null,titleExternalLink:v.title_external_link||null,useGdpr:v.use_gdpr||null}||null,joint:p.default.joint||null,logs:!!p.default.logs||null,mobileProactive:!!p.default.mobile_proactive||null,newOfflineForm:!!p.default.new_offline_form||null,newVisitorsInsight:!!p.default.new_visitors_insight||null,prechat:!!p.default.enable_prechat||null,regions:p.default.regions||null,typingInsight:!!p.default.typing_insight||null,webhooks:p.default.webhooks_enabled||null,widgetStatus:p.default.enable_widget_status||null,yandex:!!p.default.enable_yandex||null,newAnimation:!!p.default.enable_new_animation||null};t.features=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case h.ActionType.SET_DISABLE_FILETRANSFER:return g(g({},e),{},{disableFiletransfer:n.disableFiletransfer});default:return e}}},84868:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var n=a(14890),i=a(11171),o=a(74310),r=a(83641),l=(0,n.combineReducers)({features:i.features,system:o.system,user:r.user});t.default=l},74310:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.system=void 0;a(54847);var i=n(a(62904)),o={abSegment:i.default.ab_segment||null,apiDomain:i.default.api_domain||null,apiHost:i.default.api_host||null,avatarUrl:i.default.avatar_url||null,baseUrl:i.default.base_url||null,botmode:i.default.botmode||null,buildNumber:i.default.build_number||null,comet:i.default.comet&&{host:i.default.comet.host||null}||null,configUpdatedTs:i.default.config_updated_ts||null,cookieDomain:i.default.cookie_domain||null,geoIp:i.default.geoip||null,hostBlacklist:i.default.host_blacklist||null,premium:i.default.options||null,siteId:i.default.site_id||null,staticHost:i.default.static_host||null,telHost:i.default.telHost||null,unverified:i.default.unverified||null,viHost:i.default.vi_host||null,widgetId:i.default.widget_id||null,billRu:!!i.default.bill_ru};t.system=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;t.type,t.payload;return e}},83641:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.user=void 0;var i=n(a(63978)),o=n(a(20368)),r=n(a(39649)),l=n(a(78914)),u=n(a(34074)),s=n(a(20116)),c=n(a(14310)),d=n(a(86902)),f=n(a(87672)),h=a(54847),p=n(a(62904)),m=n(a(75119));function g(e,t){var a=(0,d.default)(e);if(c.default){var n=(0,c.default)(e);t&&(n=(0,s.default)(n).call(n,(function(t){return(0,u.default)(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a,n=null!=arguments[t]?arguments[t]:{};if(t%2)(0,l.default)(a=g(Object(n),!0)).call(a,(function(t){(0,f.default)(e,t,n[t])}));else if(r.default)(0,o.default)(e,(0,r.default)(n));else{var s;(0,l.default)(s=g(Object(n))).call(s,(function(t){(0,i.default)(e,t,(0,u.default)(n,t))}))}}return e}var _={bubbleColor:p.default.bubble_color||null,callback:p.default.callback_settings&&{time:p.default.callback_settings.time||null,button:p.default.callback_settings.button||null,countries:p.default.callback_settings.countries||null}||null,callbackButtonColor:p.default.callback_btn_color||null,chatMode:p.default.chat_mode||null,contactsAsk:p.default.contacts_ask||null,contactsSettings:p.default.contacts_settings||null,custom_langpack:p.default.custom_langpack||null,departments:p.default.departments||null,fontFamily:p.default.font_family||"Arial",fontSize:p.default.font_size||"15",fontType:p.default.font_type||"normal",hideAd:p.default.hide_ad||null,hideOffline:p.default.hide_offline||null,locale:p.default.locale||null,offlineFormText:p.default.offline_form_text||null,offlineFormTitle:p.default.offline_form_title||null,offlineWidgetLabel:p.default.offline_widget_label||(0,m.default)("defOfflineWidgetLabelMobile"),onlineWidgetLabel:p.default.online_widget_label||(0,m.default)("defOnlineWidgetLabel"),pattern:p.default.pattern||null,powerButtonColor:p.default.power_button_color||null,powerButtonPhone:p.default.power_button_phone||null,powerGradient:!!p.default.power_gradient||null,prechat:p.default.prechat||null,rules:p.default.rules||null,showRateForm:p.default.show_rate_form||null,socialResponse:p.default.social_response||null,widgetColor:p.default.widget_color||null,widgetColor2:p.default.widget_color2||null,widgetFontColor:p.default.widget_font_color||null,widgetMobileOrientation:p.default.widget_mobile_orientation||null,widgetOrientation:p.default.widget_orientation||"bottom",widgetPadding:p.default.widget_padding||"100",wixAgentDisplayName:p.default.wix_agent_display_name||null,wixAgentTitle:p.default.wix_agent_title||null,callHeaderText:null};t.user=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case h.ActionType.SET_WIDGET_COLOR:return v(v({},e),{},{widgetColor:n.widgetColor});case h.ActionType.SET_WIDGET_COLOR2:return v(v({},e),{},{widgetColor2:n.widgetColor2});case h.ActionType.SET_WIDGET_FONT_COLOR:return v(v({},e),{},{widgetFontColor:n.widgetFontColor});case h.ActionType.SET_WIDGET_ORIENTATION:return v(v({},e),{},{widgetOrientation:n.widgetOrientation});case h.ActionType.SET_WIDGET_PADDING:return v(v({},e),{},{widgetPadding:n.widgetPadding});case h.ActionType.SET_ONLINE_WIDGET_LABEL:return v(v({},e),{},{onlineWidgetLabel:n.onlineWidgetLabel});case h.ActionType.SET_WIDGET_FONT_FAMILY:return v(v({},e),{},{fontFamily:n.fontFamily});case h.ActionType.SET_WIDGET_FONT_SIZE:return v(v({},e),{},{fontSize:n.fontSize});case h.ActionType.SET_WIDGET_FONT_TYPE:return v(v({},e),{},{fontType:n.fontType});case h.ActionType.SET_CALL_HEADER_TEXT:return v(v({},e),{},{callHeaderText:n.callHeaderText});case h.ActionType.SET_PATTERN:return v(v({},e),{},{pattern:n.pattern});default:return e}}},3433:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0,a=t.type,o=t.payload;switch(a){case n.ActionType.INIT_SOCIAL_STORE:return o?{vk:o.vk||null,fb:o.fb||null,mode:o.mode||null}:e;default:return e}};var n=a(54847),i={vk:null,fb:null,mode:null}},10466:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0,a=t.type,o=t.payload;switch(a){case n.ActionType.INIT_TRANSITION_STORE:return{currentScript:o&&o.currentScript||null};case n.ActionType.START_TRANSITION_SCRIPT:return{currentScript:o&&o.script||e.currentScript};default:return e}},t.initialState=void 0;var n=a(54847),i={currentScript:null};t.initialState=i},43472:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.reduxStore=void 0;var i=a(14890),o=n(a(40758)),r=a(78055),l=(n(a(75043)).default.name("ReduxStore"),(0,i.createStore)(o.default,(0,i.applyMiddleware)(r.logger)));t.reduxStore=l},44299:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i,o,r=n(a(23765)),l=n(a(33032)),u=n(a(54103)),s=n(a(51942)),c=n(a(62107)),d=a(56602),f=n(a(62904)),h=n(a(62652)),p=n(a(36216)),m=n(a(69961)),g=n(a(40695)),v=n(a(92234)),_=n(a(47321)),y=n(a(99357)),b=n(a(67966)),E=n(a(44992)),w=n(a(18750)),C=a(17674),T=a(85442),k=a(75245),S=a(81426),I=a(33367),x=a(63242),A=a(11470),M=a(99112),R=n(a(5972)),N=n(a(93268)),O=a(8565),D=a(23582),L=n(a(75043)).default.name("ruleManager"),P=new(0,a(89766).EventEmitter),j=(0,s.default)(P,{rules:[],canInvite:!0,init:function(){var e=c.default.defaults(this.rules,f.default.rules);f.default.botmode||((0,A.setRuleLocal)("pageEnterTime",(new Date).getTime()),(0,A.addPageView)(),m.default.agent_id&&h.default.chat_started&&h.default.is_online||(0===e.length&&c.default.isArray(f.default.proactive_rules)&&f.default.proactive_rules.length>0?(this.importLegacy(),this.ready()):this.ready()))},ready:function(){L.log("RULE MANAGER READY");var e=this.rules;this.rules=[];for(var t=0;t<e.length;t++)e[t].conditions?this.rules.push(new F(e[t])):L.warn("Remove rule without condition.")},importLegacy:function(){var e;L.log("importing from proactive_rules"),I.Monitoring.telemetry(x.TelemetryName.IMPORT_LEGACY);for(var t=["contain","equal","regexp"],a=0;a<f.default.proactive_rules.length;a++){e=f.default.proactive_rules[a],c.default.defaults(e,{name:e.invitationText,urlPrefix:[{url:"/",mm:0}],page_timeout:20,close_timeout:300,enter_timeout:0,pages_count:0});for(var n=0;n<e.urlPrefix.length;n++)this.rules.push({legacyId:e.id,name:e.name,type:"all",conditions:[{condition:"online",value:!0},{condition:"time_on_page",comparator:"greater_equal",value:e.page_timeout},{condition:"time_after_close",comparator:"greater_equal",value:e.close_timeout},{condition:"time_on_site",comparator:"greater_equal",value:e.enter_timeout},{condition:"pages_count",comparator:"greater_equal",value:e.pages_count},{condition:"page_url",comparator:t[e.urlPrefix[n].mm],value:e.urlPrefix[n].url}],commands:[{command:"proactive",params:{message:e.invitationText}}]})}},moveCloseButton:function(){c.default.each(this.rules,(function(e){(0,A.setRuleLocal)("movedToCloseButton",!0),e.tick()}),this)},mouseScroll:function(e){c.default.each(this.rules,(function(t){(0,A.setRuleLocal)("scrollPosition",e),t.tick()}),this)},cancelRule:function(e){L.log("canceling rule",e);for(var t=0;t<this.rules.length;t+=1)!this.rules[t].isTriggered&&this.rules[t].cancel&&this.rules[t].commands[0].command===e&&this.rules[t].cancel();"proactive"===e&&(this.canInvite=!1)},allRulesCancel:function(){L.log("allRulesCancel");for(var e=0;e<this.rules.length;e++)!this.rules[e].isTriggered&&this.rules[e].cancel&&this.rules[e].cancel()},handleOnceADay:function(e){L.log("handleOnceADay",e),e&&e.name&&N.default.set(e.name,e.value,86400)},showProactive:function(e,t,a,n){var i=this;L.log("showProactive");var o=y.default.getCurrentChatMessages();!this.canInvite||b.default.get("text")||y.default.getCurrentProactive()||"chat"==C.Router.getCurrentRoute()&&_.default.chatOpenByClient||h.default.chat_started&&o&&o.length?L.log("showProactive cant invite"):((0,M.pageVisible)()||p.default.reload(),t&&t!==p.default.department_id&&_.default.setDepartmentId(t),w.default.getActiveAgent((function(t){L.log("widget status",t),t&&C.Router.getCurrentRoute()===T.Route.LABEL?(t.bot_id||p.default.pa_id&&p.default.pa_id===t.agent_id||(p.default.pa_id=t.agent_id),v.default.proactive(e,t,a),(0,A.setInvitationTime)(),i.emit("show_proactive"),E.default.play("notification"),i.handleOnceADay(n),k.messageActions.addPrechatMessage(),g.default.trackProactiveInvitationShown(a)):L.log('invitation failed, no agent OR route != "label"')})))},showCallForm:function(e,t,a){var n=this;v.default.showCallForm(e,(function(){n.emit("show_proactive"),E.default.play("notification"),(0,A.setInvitationTime)(),g.default.trackCallWidgetInvitationShown(a),n.handleOnceADay(t)}))}}),B=(0,s.default)(P,{inited:!1,initialize:function(){this.inited||(this.initScroll(),this.initClose(),this.inited=!0)},initScroll:function(){var e;i=c.default.throttle((0,u.default)(e=this._scroll).call(e,this),150),(0,d.addListener)(window.parent,"scroll",i)},initClose:function(){this.last_position={},o=c.default.throttle((0,u.default)(c.default).call(c.default,this._mouse,this),100),(0,d.addListener)(window.parent,"mousemove",o)},_mouse:function(e){if(this.timerId&&clearTimeout(this.timerId),void 0!==this.last_position.x){var t=this.last_position.x-e.clientX,a=this.last_position.y-e.clientY,n=Math.abs(a)>Math.abs(t)&&a>0,i=e.clientY>>0==0,o=e.clientY<=30,r=e.clientY<=this.last_position.dY+30&&a>e.clientY&&a>25;n&&(i||o&&r)&&(this.timerId=(0,l.default)((function(){j.moveCloseButton()}),200))}this.last_position={x:e.clientX,y:e.clientY,dY:this.last_position.y-e.clientY}},_scroll:function(){var e=window.parent.document,t=e.documentElement.clientHeight;t===e.documentElement.scrollHeight&&(t=e.body.clientHeight),j.mouseScroll(Math.round((e.documentElement.scrollTop+e.body.scrollTop)/(e.documentElement.scrollHeight-t)*100))},removeEvents:function(){i&&(0,d.removeEvent)(window.parent,"scroll",i),o&&(0,d.removeEvent)(window.parent,"scroll",o)}}),F=function(e){var t={initialize:function(){c.default.defaults(this,e),c.default.each(this.conditions,(function(e){"week_day"===e.condition&&"0"===e.value&&(e.value="7")}));var t=[],a=!1,n=this.commands[0],i=N.default.get(n.command+"_onceADay");if(n.params&&n.params.onceADay&&i)L.log("is once a day rule",this.name);else{if(this.conditions)for(var o=0;o<this.conditions.length;o++){var r=this.conditions[o];if((0,A.isGoalCondition)(r.condition)&&B.initialize(),(0,A.isTimeCondition)(r)||(0,A.isGoalCondition)(r)){var l=(0,A.getValue)(r.condition);L.info(this.name+"; init condition "+r.condition+"; expected="+r.value+"; actual="+l),t.push(r)}else{if("page_url"===r.condition)r.value=r.value.replace(/http(|s):\/\//,"");else if("ab_test_group"===r.condition&&!R.default.get("ab_test_group")){var u=Math.round(Math.random()),s=r.group_name?r.group_name:"JivoSite A/B Group";R.default.set("ab_test_group",u?"group_a":"group_b"),g.default.setABTestGroupContacts(s,u?"Group A":"Group B")}if((0,A.checkCondition)(r,this.name))a=!0;else if("all"===this.type)return}}t.length>0?(this.conditions=t,(0,A.checkTimeConditions)(this.conditions,this.type,this.name)?this.triggered():this.timeWait()):a&&this.triggered()}},timeWait:function(){var e=this;clearTimeout(this.timeWaitTimeout),this.timeWaitTimeout=(0,l.default)((function(){e.tick()}),1e3)},tick:function(){!this.isTriggered&&(0,A.checkTimeConditions)(this.conditions,this.type,this.name)?this.triggered():this.timeWait()},cancel:function(){clearTimeout(this.timeWaitTimeout),this.isTriggered=!0},triggered:function(){L.log("triggered");var e=this.commands[0],t={};clearTimeout(this.timeWaitTimeout),this.isTriggered=!0,"object"===(0,r.default)(e.params)&&(t={name:e.command+"_onceADay",value:e.params.onceADay?1:null});var a=(0,A.isPopupCommand)(e.command);if(h.default.route!==T.Route.LABEL&&a&&_.default.chatOpenByClient)L.log("cant show proactive",h.default.route);else if(a&&(0,A.isYandexMarketClient)(p.default.utm))L.log("ignore proactive for YMarket");else{var n,i=y.default.getLastMessage();switch(e.command){case"proactive":j.showProactive(e.params.message,e.params.department,this.name,t);break;case"open_offline":if(f.default.chat_mode===S.ChatMode.ONLINE||"hidden"==h.default.route)return;if("ok"==h.default.cap_result||h.default.chat_started)return;(0,A.setInvitationTime)(),e.params&&(e.params.title&&(f.default.offline_form_title=e.params.title),e.params.message&&(k.messageActions.deleteOfflineSystemInvites(),f.default.offline_form_text=e.params.message)),j.handleOnceADay(t),v.default.openOffline(e),j.emit("show_proactive"),E.default.play("notification"),g.default.trackProactiveInvitationShown(this.name),j.cancelRule("open_offline"),I.Monitoring.telemetry(x.TelemetryName.OFFLINE_INVITE);break;case"hide":_.default.hideWidget();break;case"system_message":h.default.is_online&&(i&&i.get("type")===O.MessageType.SYSTEM&&i.get("text")===e.params.message&&i.destroy(),(0,A.setInvitationTime)(),v.default.systemMessage(e.params.message),k.messageActions.addPrechatMessage());break;case"system_message_email":if(!h.default.is_online)return;if(h.default.is_online&&3===f.default.contacts_ask)return void L.log("systemMessageEmail failed, contact settings is social");if(p.default.client_info.email)return void L.log("Client already has email. Rule ignored.");if((0,d.hasIntegration)(p.default.has_integration))return void L.log("systemMessageEmail failed, client has integration");if(D.FeatureManager.isEnabled(D.Feature.OLD_CAPTCHA))return void L.log("systemMessageEmail failed, captcha mode enabled");(0,A.setInvitationTime)(),v.default.systemMessageEmail(e.params.message),k.messageActions.addPrechatMessage();break;case"show_callform":j.showCallForm((n=(n=(n=(n=(n=e.params.title).replace("<br>","")).replace("<span>","")).replace("<span style='color: #40cd72'>","")).replace("</span>",""),D.FeatureManager.isEnabled(D.Feature.NEW_ANIMATION)?n:c.default.escape(n)),t,this.name)}}}};return t.initialize(),t};m.default.addListener((function(){m.default.agent_id&&h.default.chat_started&&h.default.is_online&&j.allRulesCancel()})),y.default.on("create",(function(){y.default.getCurrentClientMessages().length&&!(0,A.getRuleLocal)("firstMessageTime")&&(L.log("cancelRules, we have client messsages."),j.cancelRule("proactive"),j.cancelRule("show_callform"));var e=y.default.getLastMessage();e&&"proactive"===e.get("type")&&j.cancelRule("proactive"),y.default.getAgentTextMessages().length&&"client"!==e.get("from")&&(L.log("cancel system_message, we have agentMessage"),j.cancelRule("system_message"))})),(0,d.addListener)(window.parent,"jBeforeunload",B.removeEvents);var H=j;t.default=H},69961:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(92142)),o=(n(a(75043)).default.name("agent"),(0,i.default)({agent_id:0,bot_id:0,display_name:null,title:null,avatar_url:null,typing:!1}));o.toReduxFormat=function(){return{avatarUrl:(e=o).avatar_url||null,id:e.agent_id||e.bot_id,name:e.display_name||null,title:e.title||null,isBot:!!e.bot_id};var e};var r=o;t.default=r},62652:function(e,t,a){"use strict";var n=a(87646),i=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a(62904)),r=i(a(62107)),l=i(a(36216)),u=n(a(92142)),s=i(a(58061)),c=i(a(56602)),d=a(11470),f=a(85442),h=a(24335),p=a(81426),m=i(a(93268)),g=(i(a(75043)).default.name("app"),{route:f.Route.LABEL,is_online:0,is_focused:0,chat_started:!1,chat_accepted:!1,widget_color:o.default.widget_color,widget_color2:o.default.widget_color2,widget_font_color:o.default.widget_font_color,cap_id:null,cap_result:null,proactiveName:!1,forcedOffline:!1,callText:null,proactive:!1,isShowNativeMobileMenu:!1,eula_accepted:!1,show_eula:!1,width:!1,height:!1,viReconnectTime:null,show_container:!1,lastMsgId:null,lastChatOpened:null,started:!1}),v=h.isDesignerEditor?null:"".concat(o.default.widget_id,"_app"),_=(0,u.default)(g,v);_.widget_color=o.default.widget_color,_.widget_color2=o.default.widget_color2,_.widget_font_color=o.default.widget_font_color,_.is_online=o.default.chat_mode===p.ChatMode.ONLINE?1:0,o.default.chat_mode===p.ChatMode.OFFLINE||null!==l.default.jv_sess_id||(_.chat_started=!1),c.default.isWixEditor()&&(_.chat_started=!1),_.chat_started?"cw_call_end"!=l.default.cw_call.status&&"cw_error"!=l.default.cw_call.status||(l.default.cw_call.status=!1):("col_old_page"!==window.parent.name&&(_.route=f.Route.LABEL),l.default.evaluate=!1,l.default.cw_call.status=!1,l.default.cw_call.error=!1),s.default.mobileOrTablet()&&(_.route=f.Route.LABEL),r.default.defaults(o.default,{contacts_settings:{name:{show:!1,required:!1},phone:{show:!1,required:!1},email:{show:!1,required:!1}}});var y=!0;r.default.each(["name","phone","email"],(function(e){o.default.contacts_settings[e].show&&(y=!1)}),void 0),y&&(o.default.contacts_ask=2),1!=o.default.hide_offline||512&o.default.options||(o.default.hide_offline=0),1!=o.default.show_rate_form||64&o.default.options||(o.default.show_rate_form=0);var b=!1;r.default.each(o.default.rules,(function(e){"hide"===e.commands[0].command&&(0,d.checkTimeConditions)(e.conditions,e.type,e.name)&&(b=!0)})),b&&(0,u.addSyncExclude)("route"),(!_.is_online&&o.default.hide_offline||m.default.get("is_blacklisted")||b||s.default.mobileOrTablet()&&o.default.disable_mobile||c.default.isAppCobrowse())&&(_.route=f.Route.HIDDEN),_.route==f.Route.INTRODUCE&&1!==o.default.contacts_ask&&(_.route=f.Route.CHAT),_.route==f.Route.INTRODUCE&&l.default.is_introduced&&(_.route=f.Route.CHAT),_.route==f.Route.CHAT_SOCIAL&&(_.route=f.Route.CHAT),_.route==f.Route.CHAT_EULA&&(_.route=f.Route.CHAT),_.route==f.Route.CALL_EULA&&(_.route=f.Route.CALL),!s.default.mobile()&&_.zoom&&(_.zoom=null),_.isShowNativeMobileMenu=!1,_.show_eula=!1,_.show_container=!1,h.isDesignerEditor&&(_.route=f.Route.CHAT);var E=_;t.default=E},36216:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(62904)),o=n(a(92142)),r=a(24335),l=(n(a(75043)).default.name("client"),r.isDesignerEditor?null:"".concat(i.default.widget_id,"_client")),u=(0,o.default)({jv_sess_id:null,client_id:null,pa_id:null,is_introduced:!1,client_info:{client_name:null,phone:null,email:null,description:null},cw_call:{status:!1},cw_call_enabled:!1,cw_call_delayed:!1,cw_call_delayed_status:null,cw_call_delayed_periods:[],cw_call_delayed_tz:null,department_id:null,evaluate:!1,last_message:null,has_integration:!1,utm:{campaign:null,source:null,medium:null,keyword:null,content:null},visitorId:0,avatar_url:null,display_name:null,assigned_agent_id:null},l);i.default.callback_settings&&i.default.callback_settings.time||(u.cw_call_enabled=!1),i.default.joint||(u.has_integration=!1),u.client_id||(u.department_id=null);var s=u;t.default=s},82036:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(94198)),o=n(a(62904)),r=n(a(92142)),l=a(24335),u=(n(a(75043)).default.name("position"),l.isDesignerEditor?null:"".concat(o.default.widget_id,"_position")),s=(0,r.default)({height:null,left:null,right:null},u);s.height&&(0,i.default)(s.height)<402&&(s.height="410px");var c=s;t.default=c},67966:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(71093)),o=a(56602),r=(n(a(75043)).default.name("proactive"),new i.default({type:"memory",name:"proactive",keys:{private_id:function(){return(0,o.generateGUID)()},created_ts:function(){return(new Date).getTime()},text:null,status:null,body:{},proactiveName:null}}));t.default=r},56602:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.listenVisibility=M,t.default=t.omit=t.isPaidCustomer=t.getBundleSrc=t.getHostURL=t.isCdnProvider=t.isEmpty=t.isTextEmojiDisabled=t.hasIntegration=t.getUrlEmoji=t.getFileExtension=t.detectType=t.cdnLinkToEmoji=t.cdnPatternUrl=t.getGradientBg=t.isAppCobrowse=t.isCustomLabel=t.humanFileSize=t.trackCallLogo=t.hideOffline=t.isAnyRequired=t.isEmailOrPhoneRequired=t.getTextColor=t.getProtocol=t.chatServerHost=t.staticUrl=t.setSubstrTitle=t.stripBrackets=t.generateGUIDCount=t.generateGUID=t.getRandomString=t.getUtmLink=t.getCopyrightSiteByLocale=t.getUnicodeHref=t.removeQueryParam=t.setGetParam=t.getCurrentPage=t.getContactSettingsInfo=t.isWixEditor=t.isWixContext=t.isWixIframe=t.showAd=t.removeEvent=t.addListener=t.getPageWindow=void 0;var i=n(a(28032)),o=n(a(23765)),r=n(a(2991)),l=n(a(80122)),u=n(a(32366)),s=n(a(86902)),c=n(a(23054)),d=n(a(77766)),f=n(a(20116)),h=n(a(69301)),p=n(a(54103)),m=n(a(81643)),g=n(a(62904)),v=n(a(62107)),_=n(a(10505)),y=n(a(58061)),b=a(94515);function E(e){var t=function(e,t){if("object"!==(0,o.default)(e)||null===e)return e;var a=e[i.default];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==(0,o.default)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,o.default)(t)?t:String(t)}var w=n(a(75043)).default.name("utils","color: grey"),C=function(){return window.parent||window};t.getPageWindow=C;var T=function(e,t,a){var n,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener?e.addEventListener(t,a,!!y.default.supportsPassiveListeners()&&{passive:i}):e.attachEvent&&(e.attachEvent("on"+t,(n=e,function(){a.call(n,window.event)})),e=null)};t.addListener=T;var k=function(e,t,a){if(window.removeEventListener)e.removeEventListener(t,a,!1);else{if(!window.detachEvent)return!1;e.detachEvent("on"+t,(function(){a.call(e)}))}};t.removeEvent=k;var S=function(){return!(g.default.unverified||g.default.options&&g.default.hide_ad)};t.showAd=S;var I=function(){return void 0!==C().jivo_in_wix_iframe};t.isWixIframe=I;var x=function(){var e=C().wix_context;return e&&e.Utils&&e.Utils.getViewMode()};t.isWixContext=x;var A=function(){var e=x();return!!e&&-1!==(0,m.default)(v.default).call(v.default,["preview","editor"],e)};function M(e){w.log("Installing visibility event handler");var t,a,n=v.default.debounce(e,50);void 0!==document.hidden?("hidden",a="visibilitychange",t="visibilityState"):void 0!==document.mozHidden?("mozHidden",a="mozvisibilitychange",t="mozVisibilityState"):void 0!==document.msHidden?("msHidden",a="msvisibilitychange",t="msVisibilityState"):void 0!==document.webkitHidden&&("webkitHidden",a="webkitvisibilitychange",t="webkitVisibilityState"),"addEventListener"in document&&void 0!==a&&(document.addEventListener(a,(0,p.default)(v.default).call(v.default,n,this,t),!1),parent.document.addEventListener(a,(0,p.default)(v.default).call(v.default,n,this,t),!1),parent.document.addEventListener("focus",(0,p.default)(v.default).call(v.default,n,this,t),!1),parent.document.addEventListener("blur",(0,p.default)(v.default).call(v.default,n,this,t),!1),parent.window.addEventListener("focus",(0,p.default)(v.default).call(v.default,n,this,t),!1),parent.window.addEventListener("blur",(0,p.default)(v.default).call(v.default,n,this,t),!1))}t.isWixEditor=A;var R=function(){if(!g.default.contacts_settings)return"";var e=g.default.contacts_settings,t=(0,h.default)(v.default).call(v.default,e),a={name:0,phone:1,email:2},n=[];return v.default.each(t,(function(t){var i=e[t].show&&e[t].required?"*":"";e[t].show&&(n[a[t]]=t+i)})),(0,f.default)(n).call(n,(function(e){return e})).join(";")};t.getContactSettingsInfo=R;var N=function(){var e=C(),t=e.location.href,a=e.document.title,n=-1!==(0,m.default)(t).call(t,"about:");return""==a&&n&&(a=e.parent.document.title),t=L(n?e.parent.location:e.location),x()&&(t=e.wix_url||t,a=e.wix_title||a),{url:t,title:a.substr(0,255)}};t.getCurrentPage=N;var O=function(e,t,a){e=encodeURI(e),t=encodeURI(t);for(var n,i=a.split("&"),o=i.length;o--;)if((n=i[o].split("="))[0]===e){n[1]=t,i[o]=n.join("=");break}return o<0&&(i[i.length]=[e,t].join("=")),i.join("&")};t.setGetParam=O;var D=function(e,t){t||(t=C().location.href);var a=t.split("#"),n=new RegExp("([?&])"+e+"=.*?(&|#|$)","i");return a[0].match(n)&&(t=(t=a[0].replace(n,"$1")).replace(/([?&])$/,""),void 0!==a[1]&&null!==a[1]&&(t+="#"+a[1])),t};t.removeQueryParam=D;var L=function(e){try{var t=e.hostname;return e.href.replace(t,_.default.toUnicode(t))}catch(t){return e.href}};t.getUnicodeHref=L;var P=function(){var e,t,a,n,i,o,r=g.default.locale,l="https://www.jivochat.com";-1!=(0,m.default)(e=["ru_RU","be","kk","uk"]).call(e,r)?l="https://www.jivo.ru":-1!=(0,m.default)(t=["pt","pt_BR"]).call(t,r)?l="https://www.jivochat.com.br":-1!=(0,m.default)(a=["es"]).call(a,r)?l="https://www.jivochat.es":-1!=(0,m.default)(n=["de"]).call(n,g.default.locale)?l="https://www.jivochat.de":-1!=(0,m.default)(i=["tr"]).call(i,g.default.locale)?l="https://www.jivochat.com.tr":-1!=(0,m.default)(o=["id"]).call(o,g.default.locale)&&(l="https://www.jivochat.co.id");var u=C().location.hostname.split("."),s=u[u.length-1];return"de"===s?l="https://www.jivochat.de":"cl"===s?l="https://www.jivochat.cl":"bo"===s?l="https://www.jivochat.com.bo":"co"===s?l="https://www.jivochat.com.co":"ve"===s?l="https://www.jivochat.com.ve":"pe"===s?l="https://www.jivochat.com.pe":"mx"===s?l="https://www.jivochat.mx":"ar"===s&&(l="https://www.jivochat.com.ar"),l};t.getCopyrightSiteByLocale=P;var j=function(e){return"chat"===e&&(e=y.default.mobile()?"chat_mobile":"chat_desktop"),P()+"/i_sa/?utm_source="+encodeURIComponent(C().location.hostname)+"&utm_medium=link&utm_content="+e+"&utm_campaign=from_widget"};t.getUtmLink=j;var B=function e(){var t=Math.floor(65536*Math.random()).toString(16);return 4===t.length?t:e()};t.getRandomString=B;var F=function(){var e=B;return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()};t.generateGUID=F;var H=function(e){for(var t="";e--;)t+=B();return t};t.generateGUIDCount=H;var W=function(e){return v.default.isUndefined(e)?"":e.replace(/</g,"&lt;").replace(/>/g,"&gt;")};t.stripBrackets=W;var U=function(e){return e.substr(0,255)};t.setSubstrTitle=U;var z=function(e,t){if(t||(e+="?rnd="+(new Date).getTime()),b.EnvironmentManager.isDevelopment())return e;var a=g.default.bundle_folder?g.default.bundle_folder:"";return V()+ce()+a+e};t.staticUrl=z;var G=function(){var e=V(),t=e+"//";return"comet"in g.default?(t+=g.default.comet.host,"https:"==e?"secure_port"in g.default.comet&&(t+=":"+g.default.comet.secure_port):"plain_port"in g.default.comet&&(t+=":"+g.default.comet.plain_port)):t+="node.jivosite.com",t};t.chatServerHost=G;var V=function(){var e,t=C().location.protocol;return-1===(0,m.default)(e=["http","https"]).call(e,t)&&(t="https:"),t};t.getProtocol=V;var q=function(e){return"dark"==e?"#222222":"#F0F1F1"};t.getTextColor=q;var K=function(){var e=!1,t=g.default.contacts_settings;return!!t&&((t.phone.show&&t.phone.required||t.email.show&&t.email.required)&&(e=!0),e)};t.isEmailOrPhoneRequired=K;var Y=function(){var e=!1,t=g.default.contacts_settings;return!!t&&((t.phone.show&&t.phone.required||t.email.show&&t.email.required||t.name.show&&t.name.required)&&(e=!0),e)};t.isAnyRequired=Y;var Z=function(){return g.default.hide_offline>0};t.hideOffline=Z;var J=function(){return P()+"/calls?utm_source="+C().location.host+"&utm_medium=link&utm_content=callback_popup&utm_campaign=self_ad"};t.trackCallLogo=J;var X=function(e){if(!e||0==e)return"";var t=Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,t)).toFixed(2)+["B","KB","MB","gB","tB"][t]};t.humanFileSize=X;var $=function(){try{return!(!(window&&window.parent)||"function"!=typeof window.parent.jivo_onLoadCallback)&&-1!=window.parent.jivo_onLoadCallback.toString().search(/jivo_custom_widget/gi)}catch(e){return!1}};t.isCustomLabel=$;var Q=function(){return"cobrowser-iframe"===window.parent.name};t.isAppCobrowse=Q;var ee=function(e,t){var a,n={};t?n.background=(0,d.default)(a="linear-gradient(95deg, ".concat(e," 20%, ")).call(a,t," 80%)"):n.background=e;return n};t.getGradientBg=ee;var te=function(){return"url(".concat(z((b.EnvironmentManager.isDevelopment()?"/public":"")+"/images/pattern/"+g.default.pattern+".svg",!0),")")};t.cdnPatternUrl=te;var ae=function(e){return z((b.EnvironmentManager.isDevelopment()?"/public":"")+"/images/emoji/"+e+".svg",!0)};t.cdnLinkToEmoji=ae;var ne=function(e){return(0,m.default)(e).call(e,"image")>=0?"photo":(0,m.default)(e).call(e,"video")>=0?"video":(0,m.default)(e).call(e,"audio")>=0?"audio":"document"};t.detectType=ne;var ie=function(e){return e.substr((0,c.default)(e).call(e,".")+1)};t.getFileExtension=ie;var oe=function(e,t){return((0,m.default)(e).call(e,"image")>=0?"📸":(0,m.default)(e).call(e,"video")>=0?"📽️":(0,m.default)(e).call(e,"audio")>=0?"🔉":"📄")+" "+t};t.getUrlEmoji=oe;var re=function(e){var t;return-1!==(0,m.default)(t=["vk","fb"]).call(t,e)};t.hasIntegration=re;var le=function(){return!!C()._wpemojiSettings};t.isTextEmojiDisabled=le;var ue=function(e){return null===e||""===e||void 0===e||(!(!e||0!==(0,s.default)(e).length||e.constructor!==Object&&e.constructor!==Array)||!e&&0!==e&&!1!==e&&void 0)};t.isEmpty=ue;var se=function(){return!(!g.default.static_host||!~g.default.static_host.search(/\/\/cdn(-\w+)?.jivosite.com(\/\w)?/)&&!~g.default.static_host.search(/\/\/code(-\w+)?.jivosite.com(\/\w)?/))};t.isCdnProvider=se;var ce=function(){return se()?g.default.static_host:g.default.base_url};t.getHostURL=ce;var de=function(){var e=g.default.bundle_folder?g.default.bundle_folder:"";return(b.EnvironmentManager.isDevelopment()?"/public/js/bundle_":ce()+e+"/js/bundle_")+g.default.locale+".js?rand="+g.default.build_number};t.getBundleSrc=de;var fe=function(){return 16&g.default.options};t.isPaidCustomer=fe;var he=function(e,t){return e&&e.length?(0,u.default)(e).call(e,(function(e,t){var a;e[t];return(0,l.default)(e,(0,r.default)(a=[t]).call(a,E))}),t):t};t.omit=he;var pe={isEmpty:ue,isTextEmojiDisabled:le,hasIntegration:re,getUrlEmoji:oe,getFileExtension:ie,detectType:ne,cdnLinkToEmoji:ae,cdnPatternUrl:te,getGradientBg:ee,isAppCobrowse:Q,isCustomLabel:$,humanFileSize:X,trackCallLogo:J,hideOffline:Z,isAnyRequired:Y,isEmailOrPhoneRequired:K,getTextColor:q,getProtocol:V,chatServerHost:G,staticUrl:z,setSubstrTitle:U,stripBrackets:W,generateGUIDCount:H,generateGUID:F,getRandomString:B,getUtmLink:j,getCopyrightSiteByLocale:P,getUnicodeHref:L,removeQueryParam:D,setGetParam:O,getCurrentPage:N,getContactSettingsInfo:R,listenVisibility:M,isWixEditor:A,isWixContext:x,isWixIframe:I,showAd:S,removeEvent:k,addListener:T,getPageWindow:C,isCdnProvider:se,getHostURL:ce,getBundleSrc:de,isPaidCustomer:fe,omit:he};t.default=pe},46849:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(47302)),o=n(a(31581)),r=n(a(81643)),l=n(a(33032)),u=n(a(23765));!function(e){var t={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},a={1e3:"Normal Closure",1001:"Going away",1002:"Protocol error",1003:"Unsupported data",1004:"reserved",1005:null,1006:null,1007:"Invalid frame payload data",1008:"Policy violation",1009:"Message Too Big",1010:"Mandatory Ext.",1011:"Internal Error",1012:"Service Restart",1013:"Try Again Later",1014:"Unassigned",1015:"TLS handshake",3001:"Attempts have Ended",3333:"Spam detected",4e3:"Application Closure",4999:"Last Code"},n=function(){},s=function(){throw new Error("Not implemented")},c=Date,d=function(e,t){this.name="NetworkError",this.code=t<<0,this.message=String(e)};d.prototype.toString=function(){return this.name+":"+(this.code<<0||"")+" "+this.message};var f,h=function e(t,a,n){if(t&&"function"==typeof t[a])try{t[a](n)}catch(n){if("onerror"===String(a))throw n;try{e(t,"onerror",n)}catch(e){}}},p={};if(window&&("function"==typeof window.WebSocket||"object"===(0,u.default)(window.WebSocket))){var m=window.WebSocket;for(var g in f=function(e,n){var i,o,r,u=this;this.url=e,this.readyState=t.CONNECTING;var s=function(){if(i){i.onclose=null,i.onerror=null,i.onmessage=null,i.onopen=null;try{i.close()}catch(e){}}u.readyState=t.CLOSED,h(u,"onclose",{wasClean:!1,code:1006,reason:"Timeout"})},c=function(){try{i.send(".")}catch(e){}r=(0,l.default)(s,1e4)};this.close=function(e,a){if(clearTimeout(r),this.readyState===t.CONNECTING)this.readyState=t.CLOSING,clearTimeout(o),o=(0,l.default)((function(){u.readyState=t.CLOSED,h(u,"onclose",{wasClean:!1,code:1006,reason:""})}),20);else if(this.readyState===t.OPEN){this.readyState=t.CLOSING;try{a?i.close(e,a):e?i.close(e):i.close(1e3)}catch(e){h(u,"onerror",e),h(u,"onclose",{wasClean:!1,code:1006,reason:""})}}},this.send=function(e){if(!i||i.OPEN!==i.readyState)throw new Error("Socket is not open");i.send(e)},o=(0,l.default)((function(){try{(i=n?new m(e,n):new m(e)).onclose=function(e){if(clearTimeout(r),clearTimeout(o),u.readyState=t.CLOSED,/MSIE|Trident|Edge|Lumia/.test(window.navigator.userAgent)&&e.wasClean&&(1e3===e.code||1005===e.code)&&e.reason)for(var n in a)if(e.reason===a[n])return void h(u,"onclose",{wasClean:!0,code:n<<0,reason:e.reason});h(u,"onclose",e)},i.onerror=function(e){e.name||e.message||(e.name="WebSocketError",e.message="Unknown"),h(u,"onerror",e)},i.onmessage=function(e){clearTimeout(r),r=(0,l.default)(c,2e4),e&&e.data&&1<e.data.length&&h(u,"onmessage",e)},i.onopen=function(e){clearTimeout(r),r=(0,l.default)(c,2e4),u.readyState=t.OPEN,u.protocol=i.protocol,h(u,"onopen",e)}}catch(e){h(u,"onerror",e)}}),20)},t)f.prototype[g]=t[g]}if(window&&window.navigator){var v;if(/iP(hone|od|ad)/.test(window.navigator.platform))(v=/OS (\d+)_(\d+)_?(\d+)?/.exec(window.navigator.appVersion))&&6>v[1]&&(f=s);if(/apple/i.test(window.navigator.vendor))(v=/\bVersion\/(\d+)\./.exec(window.navigator.userAgent))&&6>v[1]&&(f=s)}p.ws=p.wss=f;var _=function e(){var t,a,i,o,u=window.document.getElementsByTagName("head")[0],s=this;this.withCredentials=!1,this.readyState=0,this.responseText="",this.status=0,this.statusText="",this.timeout=void 0;var c=function(){if(t){clearTimeout(o),t.onreadystatechange=n,t.onload=n,t.onerror=n,t.parentNode.removeChild(t),t=null,a=null,i=null,s.responseText="",s.status=0,s.statusText="",s.timeout=void 0,s.withCredentials=!1;try{delete window[i]}catch(e){window[i]=void 0}h(s,"onloadend")}},d=function(){t&&(h(s,"onerror"),c())};this.open=function(t,n){!a&&n&&(s.readyState=1,a=String(n).replace(/#.*$/,""),i="_jivo"+e._count++,a+=(-1===(0,r.default)(a).call(a,"?")?"?":"&")+"cb="+i)},this.send=function(n){a&&(n=n?"&msg="+encodeURIComponent(n):"",window[i]=function(t){s.readyState=4,e._statusBody.test(t)?(s.status=e._statusBody.exec(t)[1]<<0,s.statusText="",s.responseText="",h(s,"onerror"),c()):(s.status=200,s.statusText="OK",s.responseText=t,h(s,"onload"),c())},(t=document.createElement("script")).charset="utf-8",t.type="text/javascript",t.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||(0,l.default)(d,0)},t.readyState||(t.onload=t.onerror=d),t.src=a+n,u.appendChild(t),s.timeout<<=0,0<s.timeout&&(o=(0,l.default)((function(){h(s,"ontimeout"),c()}),s.timeout)))},this.abort=function(){h(s,"onabort"),c()},this.setRequestHeader=n};_._statusBody=/^(\d{3})\n$/m,_._count=0,_.prototype={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4};var y=function e(){if(e._stack.length)return e._stack.pop();var t;try{"withCredentials"in(t=new XMLHttpRequest)||(t=null)}catch(e){}return(t=t||new _).release=function(){e._stack.push(t)},t};y._stack=[];var b=function(e){for(var t,a,i,o=3e3,r=n,l=1;l<arguments.length;l++)if(arguments[l])switch((0,u.default)(arguments[l])){case"object":a=arguments[l];break;case"string":i=arguments[l];break;case"number":o=arguments[l];break;case"function":r=arguments[l]}if("string"!=typeof e)return r(TypeError("Bad URL")),null;try{(t=y()).open(i?"POST":"GET",e,!0),i&&t.setRequestHeader("Content-Type","text/plain")}catch(e){return r(e),t.release(),null}if(0<(o<<=0))try{t.timeout=o}catch(e){}if(t.onloadend=function(){t.release()},t.onload=function(){200===t.status?r(null,t.responseText):r(new d(t.statusText,t.status))},t.onabort=function(){r(new d("Aborted"))},t.ontimeout=function(){r(new d("Timeout"))},t.onerror=function(){r(new d("Unknown"))},a)for(var l in a)t.setRequestHeader(l,a[l]);try{t.send(i||null)}catch(e){return r(e),t.release(),null}return function(){r=n}};e.request=b;var E=/([^\n]*)\n/gm,w=function(e,i){var o=/^([^\?]*)(?:\?+(.*))?$/.exec(e);e=o[1]||"/";var r=o[2]?"&"+o[2]:"";/[^\/]$/.test(e)&&(e+="/");var u,s,d,f,p=this,m=n,g="open",v=2e4,_=0;this.readyState=t.CONNECTING;var y=function(e,n,i){t.CLOSED!==p.readyState&&(clearTimeout(d),p.readyState=t.CLOSED,h(p,"onclose",{wasClean:!!i,code:n||1006,reason:a[n]||e||""}))},w=function(t,a){m(),m=b(e+g+(t?"/"+t:"")+"?"+(new c).getTime()+r,v,a,C)},C=function(e,a){var n=function(e){if("string"!=typeof e)return e;var t,a,n={};for(E.lastIndex=0;null!==(t=E.exec(e));){if(!t[1]){n.message=e.substring(t.index+1);break}(a=(t=t[1].split(/\t/))[0])&&(t.shift(),n[a]=t)}return n}(a);switch(p.readyState){case t.CONNECTING:if(e){h(p,"onerror",e),y("Open error");break}if(!(n&&n.open&&n.open[0])){y("No response in state open");break}g=n.open[0],p.protocol=n.open[1],p.readyState=t.OPEN,h(p,"onopen");case t.OPEN:var i="";if(n){if(n.timeout&&0<n.timeout[0]&&(v=Math.ceil(n.timeout[0])),n.etag&&n.etag[0]){var o=n.etag[0]<<0,r=o-_;_=o,0<r&&(1!==r&&h(p,"onerror",new Error("Missing "+r+" etags")),n.message&&(0,l.default)((function(){h(p,"onmessage",{data:n.message})}),20)),i="etag/"+o}n.close&&(p.readyState=t.CLOSING,i="close/"+(n.close[0]||"")+"/"+(n.close[1]||""))}else if(e&&204!==e.code&&(h(p,"onerror",e),!e.code||404===e.code))return void y();w(i);break;case t.CLOSING:if(n&&n.close){var c=n.close[0]<<0;y(n.close[1],c,!u||u===c)}else y(s,u,!1)}};this.close=function(e,a){t.CONNECTING===this.readyState?(clearTimeout(f),m(),d=(0,l.default)(y,20)):t.OPEN===this.readyState&&(u=e<<0||1e3,s=a||"",this.readyState=t.CLOSING,w("close/"+u+"/"+s))},this.send=function(e){if(t.OPEN!==this.readyState)throw new Error("Socket is not open");if(!e||"string"!=typeof e)throw new TypeError("Bad data type");w("send",e)};var T=[];if(i)if("string"==typeof i)T.push(i);else if(i instanceof Array)for(var k=0;k<i.length;k++)T.push(String(i[k]));f=(0,l.default)((function(){w(T.join("/"))}),20)};for(var g in t)w.prototype[g]=t[g];p.http=p.https=w;var C,T=/^\s*(?:([^\;\/\?\:\@\&\=\+\$\,\#\n\r\s]{1,8})\:\/\/)([^\s\n\r]+)\s*$/,k=function e(t,a){if(a||((a=[]).index=0,a.add=function(e){a.unshift({value:String(e),health:0}),a.index=0}),t)if("string"==typeof t||t instanceof String)a.push({value:String(t),health:0});else if(0<t.length)for(var n=0;n<t.length;n++)e(t[n],a);return a},S=function(e,t,a){var n=e[t]=a;return function(a){return arguments.length&&(n=e[t]=a),n}},I=(C=0,(0,o.default)((function(){0<C&&(0<=(C-=2)||(C=0))}),1e3),function(){return 60<++C}),x=function(e){var o=k(e),r=null,s=n,c={connecting:n,open:n,close:n,error:n,message:n},d=S(this,"state",t.CLOSED),f=S(this,"url",void 0),h=S(this,"health",void 0),m=function e(t,a){clearTimeout(e.value),t&&(e.value=(0,l.default)(t,a))},g=function(e){if(r){r.onclose=null,r.onerror=null,r.onmessage=null,r.onopen=null;try{e?r.close(e):r.close()}catch(e){}}},v=function(e){g(),r=null,s(),s=n,m(),d(t.CLOSED);try{c.close(e)}catch(e){b(e)}f(void 0),h(void 0)},_=function(){if(I()){if(s(),s=n,r){g(3333);for(var e=0;e<o.length;e++)o[e].health=-1}return!0}return!1},y=function(e){if(s(),s=n,m(),e||(e={wasClean:!1,code:1005,reason:"No Status Rcvd"}),e.wasClean||h(--o[o.index].health),1012===e.code){d(t.CONNECTING);try{c.connecting(o[o.index].health)}finally{return m(x,1e4+(2e4*Math.random()<<0))}}else 1013===e.code||1005===e.code||1e3===e.code||4e3<=e.code&&5e3>e.code?v(e):x()},b=function(e){try{c.error(e)}catch(e){throw e}},E=function(e){if(t.OPEN===d())try{c.message(e.data)}catch(e){b(e)}},w=function(){var e,a,n,i;m(),d(t.OPEN),e=o[o.index],a=h,i=1e3,n=(0,l.default)((function t(){e&&0<=e.health&&(a(++e.health),i<<=1,n=(0,l.default)(t,i))}),i),s=function(){clearTimeout(n)};try{c.open()}catch(e){b(e)}},C=function(){var e=o[o.index];try{r=function(e){if("string"!=typeof e)throw new TypeError("Bad URL type");var t=T.exec(e);if(null===t)throw new Error("Bad URL");if(!p[t[1]])throw new Error("Not supported URL scheme: "+t[1]);return new p[t[1]](e)}(e.value)}catch(t){return e.health=-1,++o.index,b(t),x()}r.onclose=y,r.onerror=b,r.onmessage=E,r.onopen=w},x=function e(n){if(m(),o.index>=o.length)f(void 0),h(void 0),v({wasClean:!1,code:3001,reason:a[3001]});else if(0>o[o.index].health)b(new Error("Sick URL")),++o.index,e();else{g(),d(t.CONNECTING);var i=o[o.index];f()!==i.value&&(f(i.value),h(i.health));try{c.connecting(i.health)}catch(e){}n||0===o[o.index].health?C():m(C,3e3)}};this.open=function(e){if(_())return v({wasClean:!1,code:3333,reason:a[3333]});if(t.CONNECTING!==d()&&t.OPEN!==d()){if(e){e=String(e);for(var n=0;n<o.length;n++)if(e===o[n].value)return o.index=n,x(!0);o.add(e)}x(!0)}},this.close=function(e,n){m(),t.CLOSING!==d()&&t.CLOSED!==d()&&(!r||r.CONNECTING!==r.readyState&&r.OPEN!==r.readyState?v({wasClean:!1,code:1011,reason:a[1011]}):(4e3>(e<<=0)||5e3<=e?r.close():n?r.close(e,String(n)):r.close(e),r.onclose=v,d(t.CLOSING)))},this.send=function(e){if(t.OPEN!==d())return new Error("Connection is not open");if(_())return v({wasClean:!1,code:3333,reason:a[3333]}),new Error("Spam detected");try{r.send(e)}catch(e){return e}return null};var A=function(e,t){return function(){t.apply(e,arguments)}};this.on=function(e,t){if(e&&"object"===(0,u.default)(e))for(var a in e)this.on(a,A(e,e[a]));else c[e]&&"function"==typeof t&&(c[e]=t)},this.off=function(){for(var e in c)c[e]=n},this.getHealthyURLs=function(){for(var e=[],t=0;t<o.length;t++)0<=o[t].health&&e.push(o[t]);(0,i.default)(e).call(e,(function(e,t){return t.health-e.health}));for(t=0;t<e.length;t++)e[t]=e[t].value;return e}};for(var g in x.prototype={valueOf:function(){return this.toString()},toString:function(){return t.OPEN===this.state?this.url:""},toJSON:function(e){switch(e){case"url":return'"'+this.url+'"';case"state":return this.state;case"health":return this.health}return arguments.length?"":'{"state":'+this.state+', "health":'+this.health+', "url":"'+this.url+'"}'}},t)x.prototype[g]=t[g];e.Connection=x}(window);var s=Connection;t.default=s},68415:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(54103)),o=n(a(33032)),r=n(a(62107)),l=n(a(10471)),u=n(a(75043)).default.name(!1);l.default.on("newfsm",(function(e){e.on("handling",(function(e){u.log(this.namespace+": handling "+e.inputType+" in state "+this.state)})),e.on("nohandler",(function(e){u.log(this.namespace+": unhandled "+e.inputType+" in state "+this.state)})),e.on("transition",(function(e){u.log([this.namespace+":","transition from:",e.fromState,"to:",e.toState,"action:",e.action].join(" "))}))}));var s=l.default.Fsm.extend({_fireEvent:function(e){delete this._scheduled_events[e],this.handle(e)},_scheduleEvent:function(e,t){e in this._scheduled_events?u.log(this.namespace+": attempt to re-schedule event"+e):(u.log(this.namespace+": scheduling "+e+" for "+t),this._scheduled_events[e]=(0,o.default)((0,i.default)(r.default).call(r.default,this._fireEvent,this,e),t))},_cancelEvent:function(e){e in this._scheduled_events?(clearTimeout(this._scheduled_events[e]),delete this._scheduled_events[e]):u.log(this.namespace+": attempt to cancel not scheduled event",e)},constructor:function(){this._scheduled_events={},l.default.Fsm.apply(this,arguments)}});t.default=s},45127:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i,o,r,l,u=n(a(3649)),s=(i=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,o=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,r=/[^-+\dA-Z]/g,l=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e},function(e,t,a){var n,c=s;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(e)||/\d/.test(e)||(t=e,e=void 0),"string"==typeof e&&isNaN(new Date(e))&&(e=e.replace(/-/g,"/").replace("T"," ").split(".").shift()+"Z"),e=e?new Date(e):new Date,isNaN(e))throw SyntaxError("invalid date");t=String(c.masks[t]||t||c.masks.default),"UTC:"==(0,u.default)(t).call(t,0,4)&&(t=(0,u.default)(t).call(t,4),a=!0);var d=a?"getUTC":"get",f=e[d+"Date"](),h=e[d+"Day"](),p=e[d+"Month"](),m=e[d+"FullYear"](),g=e[d+"Hours"](),v=e[d+"Minutes"](),_=e[d+"Seconds"](),y=e[d+"Milliseconds"](),b=a?0:e.getTimezoneOffset(),E={d:f,dd:l(f),ddd:c.i18n.dayNames[h],dddd:c.i18n.dayNames[h+7],m:p+1,mm:l(p+1),mmm:c.i18n.monthNames[p],mmmm:c.i18n.monthNames[p+12],yy:(0,u.default)(n=String(m)).call(n,2),yyyy:m,h:g%12||12,hh:l(g%12||12),H:g,HH:l(g),M:v,MM:l(v),s:_,ss:l(_),l:l(y,3),L:l(y>99?Math.round(y/10):y),t:g<12?"a":"p",tt:g<12?"am":"pm",T:g<12?"A":"P",TT:g<12?"AM":"PM",Z:a?"UTC":(String(e).match(o)||[""]).pop().replace(r,""),o:(b>0?"-":"+")+l(100*Math.floor(Math.abs(b)/60)+Math.abs(b)%60,4),S:["th","st","nd","rd"][f%10>3?0:(f%100-f%10!=10)*f%10]};return t.replace(i,(function(e){return e in E?E[e]:(0,u.default)(e).call(e,1,e.length-1)}))});s.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},s.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};var c=s;t.default=c},531:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=function(e,t){try{return f(e,t)}catch(e){if(e.message&&e.message.match(/stack|recursion/i)||-2146828260===e.number)return l.warn("Warning: react-fast-compare does not handle circular references.",e.name,e.message),!1;throw e}};var i=n(a(23765)),o=n(a(86902)),r=n(a(41511)),l=n(a(75043)).default.name("equal"),u=r.default,s=o.default,c=Object.prototype.hasOwnProperty,d="undefined"!=typeof Element;function f(e,t){if(e===t)return!0;if(e&&t&&"object"==(0,i.default)(e)&&"object"==(0,i.default)(t)){var a,n,o,r=u(e),l=u(t);if(r&&l){if((n=e.length)!=t.length)return!1;for(a=n;0!=a--;)if(!f(e[a],t[a]))return!1;return!0}if(r!=l)return!1;var h=e instanceof Date,p=t instanceof Date;if(h!=p)return!1;if(h&&p)return e.getTime()==t.getTime();var m=e instanceof RegExp,g=t instanceof RegExp;if(m!=g)return!1;if(m&&g)return e.toString()==t.toString();var v=s(e);if((n=v.length)!==s(t).length)return!1;for(a=n;0!=a--;)if(!c.call(t,v[a]))return!1;if(d&&e instanceof Element)return!1;for(a=n;0!=a--;)if(!("_owner"===(o=v[a])&&e.$$typeof||f(e[o],t[o])))return!1;return!0}return e!=e&&t!=t}},74721:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.escapeHTMLString=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=(0,i.default)(t),n=void 0===a||a,o=e.replace(/[&<>'"]/g,(function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"}[e]||e}));n&&(o=o.replace(/^\s+|\s+$/g,""));return o};var i=n(a(25843))},17889:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i,o,r,l,u,s,c=n(a(3649)),d=n(a(81643)),f=function e(t){return linkify(t,{callback:function(t,a){var n=(0,d.default)(t).call(t,"://");if(a&&n>0){var i,o=t.split("://"),r=-1!=(0,d.default)(i=["http","https"]).call(i,o[0]);t=e.getShortText(r?t.substring(n+3):t)}return a?'<a target="_blank" rel="noopener" href="'+a+'" title="'+a+'">'+t+"</a>":t}})};f.getShortText=function(e){return e.length>80?(0,c.default)(e).call(e,0,30)+"..."+(0,c.default)(e).call(e,-30):e},
/*!
 * linkify - v0.3 - 6/27/2009
 * http://benalman.com/code/test/js-linkify/
 *
 * Copyright (c) 2009 "Cowboy" Ben Alman
 * Licensed under the MIT license
 * http://benalman.com/about/license/
 *
 * Some regexps adapted from http://userscripts.org/scripts/review/7122
 */
window.linkify=(i="[a-z\\d.-]+://",o="mailto:",r=new RegExp("(?:\\b[a-z\\d.-]+://[^<>\\s]+|\\b(?:(?:(?:[^\\s!@#$%^&*()_=+[\\]{}\\\\|;:'\",.<>/?]+)\\.)+(?:ac|ad|aero|ae|af|ag|ai|al|am|an|ao|aq|arpa|ar|asia|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|biz|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|cat|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|coop|com|co|cr|cu|cv|cx|cy|cz|de|dj|dk|dm|do|dz|ec|edu|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gov|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|info|int|in|io|iq|ir|is|it|je|jm|jobs|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mil|mk|ml|mm|mn|mobi|mo|mp|mq|mr|ms|mt|museum|mu|mv|mw|mx|my|mz|name|na|nc|net|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|org|pa|pe|pf|pg|ph|pk|pl|pm|pn|pro|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sy|sz|tc|td|tel|tf|tg|th|tj|tk|tl|tm|tn|to|tp|travel|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|xn--0zwm56d|xn--11b5bs3a9aj6g|xn--80akhbyknj4f|xn--9t4b11yi5a|xn--deba0ad|xn--g6w251d|xn--hgbk6aj7f53bba|xn--hlcj6aya9esc7a|xn--jxalpdlp|xn--kgbechtv|xn--zckzah|ye|yt|yu|za|zm|zw|win)|(?:(?:[0-9]|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.){3}(?:[0-9]|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5]))(?:[;/][^#?<>\\s]*)?(?:\\?[^#<>\\s]*)?(?:#[^<>\\s]*)?(?!\\w)|(?:mailto:)?[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:(?:(?:[^\\s!@#$%^&*()_=+[\\]{}\\\\|;:'\",.<>/?]+)\\.)+(?:ac|ad|aero|ae|af|ag|ai|al|am|an|ao|aq|arpa|ar|asia|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|biz|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|cat|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|coop|com|co|cr|cu|cv|cx|cy|cz|de|dj|dk|dm|do|dz|ec|edu|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gov|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|info|int|in|io|iq|ir|is|it|je|jm|jobs|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mil|mk|ml|mm|mn|mobi|mo|mp|mq|mr|ms|mt|museum|mu|mv|mw|mx|my|mz|name|na|nc|net|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|org|pa|pe|pf|pg|ph|pk|pl|pm|pn|pro|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sy|sz|tc|td|tel|tf|tg|th|tj|tk|tl|tm|tn|to|tp|travel|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|xn--0zwm56d|xn--11b5bs3a9aj6g|xn--80akhbyknj4f|xn--9t4b11yi5a|xn--deba0ad|xn--g6w251d|xn--hgbk6aj7f53bba|xn--hlcj6aya9esc7a|xn--jxalpdlp|xn--kgbechtv|xn--zckzah|ye|yt|yu|za|zm|zw|win)|(?:(?:[0-9]|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.){3}(?:[0-9]|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5]))(?:\\?[^#<>\\s]*)?(?:#[^<>\\s]*)?(?!\\w))","ig"),l=new RegExp("^"+i,"i"),u={"'":"`",">":"<",")":"(","]":"[","}":"{","В»":"В«","вЂє":"вЂ№"},s={callback:function(e,t){return t?'<a href="'+t+'" title="'+t+'">'+e+"</a>":e},punct_regexp:/(?:[!?.,:;'"]|(?:&|&amp;)(?:lt|gt|quot|apos|raquo|laquo|rsaquo|lsaquo);)$/},function(e,t){t=t||{};var a,n,i,f,h,p,m,g,v,_,y,b,E="",w=[];for(n in s)void 0===t[n]&&(t[n]=s[n]);for(;a=r.exec(e);)if(i=a[0],m=(p=r.lastIndex)-i.length,!/[\/:]/.test(e.charAt(m-1))){do{g=i,b=i.substr(-1),(y=u[b])&&(v=i.match(new RegExp("\\"+y+"(?!$)","g")),_=i.match(new RegExp("\\"+b,"g")),(v?v.length:0)<(_?_.length:0)&&(i=i.substr(0,i.length-1),p--)),t.punct_regexp&&(i=i.replace(t.punct_regexp,(function(e){return p-=e.length,""})))}while(i.length&&i!==g);f=i,l.test(f)||(f=(/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/.test(f)?(0,d.default)(f).call(f,o)?o:"":(0,d.default)(f).call(f,"irc.")?(0,d.default)(f).call(f,"ftp.")?"http://":"ftp://":"irc://")+f),h!=m&&(w.push([(0,c.default)(e).call(e,h,m)]),h=p),w.push([i,f])}for(w.push([e.substr(h)]),n=0;n<w.length;n++)E+=t.callback.apply(window,w[n]);return E||e});var h=f;t.default=h},10471:function(e,t,a){"use strict";var n=a(60530);a(63978)(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(20116)),o=n(a(77766)),r=n(a(23765)),l=n(a(3649)),u=n(a(62107)),s=a(33367),c=a(94515),d=function(e,t){var a,n=(0,l.default)([]),u="transition",d="handler",f="handling",h="handled",p="nohandler",m="deferred",g="newfsm",v={makeFsmNamespace:(a=0,function(){return"fsm."+a++}),getDefaultOptions:function(){return{initialState:"uninitialized",eventListeners:{"*":[]},states:{},eventQueue:[],namespace:v.makeFsmNamespace(),targetReplayState:"",state:t,priorState:t,_priorAction:"",_currentAction:""}}};if(!e.deepExtend){var _={"*":function(e,t,a){e[t]=a},object:function(e,t,a){e[t]=b({},e[t]||{},a)},array:function(t,a,n){t[a]=[],e.each(n,(function(e,n){_[y(e)](t[a],n,e)}),this)}},y=function(t){var a=function(t){return e.isArray(t)?"array":e.isDate(t)?"date":e.isRegExp(t)?"regex":(0,r.default)(t)}(t);return _[a]?a:"*"},b=function(t){return e.each(n.call(arguments,1),(function(a){e.each(a,(function(e,a){_[y(e)](t,a,e)}))})),t};e.mixin({deepExtend:b})}var E=function(t){e.extend(this,t),e.defaults(this,v.getDefaultOptions()),this.initialize.apply(this,arguments),C.emit(g,this),this.initialState&&this.transition(this.initialState)};e.extend(E.prototype,{initialize:function(){},emit:function(t){var a=arguments;this.eventListeners["*"]&&e.each(this.eventListeners["*"],(function(e){if(c.EnvironmentManager.isProduction())try{e.apply(this,n.call(a,0))}catch(e){var i;e.message+=(0,o.default)(i=" machina.js * [".concat(this.namespace,"] ")).call(i,t),s.Monitoring.reportException(e)}else e.apply(this,n.call(a,0))}),this),this.eventListeners[t]&&e.each(this.eventListeners[t],(function(e){if(c.EnvironmentManager.isProduction())try{e.apply(this,n.call(a,1))}catch(e){var i;e.message+=(0,o.default)(i=" machina.js ev [".concat(this.namespace,"] ")).call(i,t),s.Monitoring.reportException(e)}else e.apply(this,n.call(a,1))}),this)},handle:function(a){if(!this.inExitHandler){var i,o,r,u,s=this.states,c=this.state,m=n.call(arguments,0);this.currentActionArgs=m,s[c][a]||s[c]["*"]||this["*"]?(r="*"===(i=s[c][a]?a:"*"),s[c][i]?(o=s[c][i],u=c+"."+i):(o=this["*"],u="*"),this._currentAction||(this._currentAction=u),this.emit.call(this,f,{inputType:a,args:(0,l.default)(m).call(m,1)}),e.isFunction(o)&&(o=o.apply(this,r?m:(0,l.default)(m).call(m,1))),e.isString(o)&&this.transition(o),this.emit.call(this,h,{inputType:a,args:(0,l.default)(m).call(m,1)}),this._priorAction=this._currentAction,this._currentAction="",this.processQueue(d)):this.emit.call(this,p,{inputType:a,args:(0,l.default)(m).call(m,1)}),this.currentActionArgs=t}},transition:function(e){if(!this.inExitHandler&&e!==this.state){var t;if(this.states[e]){if(this.targetReplayState=e,this.priorState=this.state,this.state=e,t=this.priorState,this.states[t]&&this.states[t]._onExit&&(this.inExitHandler=!0,this.states[t]._onExit.call(this),this.inExitHandler=!1),this.emit.call(this,"transition",{fromState:t,action:this._currentAction,toState:e}),this.states[e]._onEnter)if(c.EnvironmentManager.isProduction())try{this.states[e]._onEnter.call(this)}catch(t){var a;t.message+=(0,o.default)(a=" machina.js [".concat(this.namespace,"] ")).call(a,e),s.Monitoring.reportException(t)}else this.states[e]._onEnter.call(this);return void(this.targetReplayState===e&&this.processQueue(u))}this.emit.call(this,"invalidstate",{state:this.state,attemptedState:e})}},processQueue:function(t){var a=t===u?function(e){return e.type===u&&(!e.untilState||e.untilState===this.state)}:function(e){return e.type===d},n=(0,i.default)(e).call(e,this.eventQueue,a,this);this.eventQueue=e.difference(this.eventQueue,n),e.each(n,(function(e){this.handle.apply(this,e.args)}),this)},clearQueue:function(t,a){var n;t?(t===u?n=function(e){return e.type===u&&(!a||e.untilState===a)}:t===d&&(n=function(e){return e.type===d}),this.eventQueue=(0,i.default)(e).call(e,this.eventQueue,n)):this.eventQueue=[]},deferUntilTransition:function(e){if(this.currentActionArgs){var t={type:u,untilState:e,args:this.currentActionArgs};this.eventQueue.push(t),this.emit.call(this,m,{state:this.state,queuedArgs:t})}},deferUntilNextHandler:function(){if(this.currentActionArgs){var e={type:u,args:this.currentActionArgs};this.eventQueue.push(e),this.emit.call(this,m,{state:this.state,queuedArgs:e})}},on:function(e,t){var a=this;return a.eventListeners[e]||(a.eventListeners[e]=[]),a.eventListeners[e].push(t),{eventName:e,callback:t,off:function(){a.off(e,t)}}},off:function(t,a){t?this.eventListeners[t]&&(this.eventListeners[t]=a?e.without(this.eventListeners[t],a):[]):this.eventListeners={}}}),E.prototype.trigger=E.prototype.emit;var w=function(){};E.extend=function(t,a){var n=function(t,a,n){var i;return i=a&&a.hasOwnProperty("constructor")?a.constructor:function(){t.apply(this,arguments)},e.deepExtend(i,t),w.prototype=t.prototype,i.prototype=new w,a&&e.deepExtend(i.prototype,a),n&&e.deepExtend(i,n),i.prototype.constructor=i,i.__super__=t.prototype,i}(this,t,a);return n.extend=this.extend,n};var C={Fsm:E,utils:v,on:function(e,t){return this.eventListeners[e]||(this.eventListeners[e]=[]),this.eventListeners[e].push(t),t},off:function(t,a){this.eventListeners[t]&&(this.eventListeners[t]=e.without(this.eventListeners[t],a))},trigger:function(t){var a=arguments,i=this.eventListeners[t]||[];i&&i.length&&e.each(i,(function(e){e.apply(null,n.call(a,1))}))},eventListeners:{newFsm:[]}};return C.emit=C.trigger,C}(u.default);t.default=d},7886:function(e,t,a){"use strict";var n=a(60530),i=n(a(63978)),o=n(a(3649)),r=n(a(81643)),l=function(){return!0},u=function(e){for(var t="\\".charCodeAt(0),a=e.length,n=0;a&&e.charCodeAt(--a)===t;)n++;return n%2==1},s=function(e,t,a){for(var n=a-1;;){var i=n;if((n=(0,r.default)(e).call(e,t,n+1))<0)return-1;if(!u((0,o.default)(e).call(e,i,n)))return n}},c=function e(t){for(var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=[],r=function(e){return a&&"text"==a.type?(a.text+=e,a):c({type:"text",text:e})},c=function(e){var t=i.length;return(t?i[t-1].block:n).push(e),a=e},d=function(e){return"link"==e.type&&(e={type:"link",block:e.block,url:"",ref:""}),c(e)},f=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=i.length;--t>=0;){var a=i[t];if(!e(a))return a;d(i.pop())}},h=function(e){return p.lastIndex=m=e},p=/(^([*_-])\s*\2(?:\s*\2)+$)|(?:^(\s*)([>*+-]|\d+[.\)])\s+)|(?:^``` *(\w*)\n([\s\S]*?)```$)|(^(?:(?:\t|    )[^\n]*(?:\n|$))+)|(\!?\[)|(\](?:(\(|\[)|\:\s*(.+)$)?)|(?:^([^\s].*)\n(\-{3,}|={3,})$)|(?:^(#{1,6})(?:[ \t]+(.*))?$)|(?:`([^`].*?)`)|(  \n|\n\n)|(__|\*\*|[_*]|~~)/gm,m=0;;){var g=p.exec(t),v=g?g.index:t.length,_=(0,o.default)(t).call(t,m,v);if(_&&(r(_),g&&u(_)))h(g.index+1),r(g[0][0]);else{if(!g)break;var y=1;if(m=p.lastIndex,g[y])f(),c({type:"border",text:(0,o.default)(t).call(t,v,v+g[0].length)});else if(g[y+=3]){f();var b=g[y],E=">"==b,w=c(E?{type:"quote",block:[]}:{type:"list",block:[],indent:g[y-1],bullet:b}),C=E?/^\s{0,3}([*+-]|\d+[.\)])[ \t]/:/^\s*([>*+-]|\d+[.\)])[ \t]/,T=m;(m=s(t,"\n",T))<0&&(m=t.length);for(var k=(0,o.default)(t).call(t,T,m);m<t.length;){var S=m+1;if("\n"==t.charAt(S))break;(m=s(t,"\n",S))<0&&(m=t.length);var I=(0,o.default)(t).call(t,S,m);if(!I){m=S-1;break}if(I.match(C)){m=S;break}k+="\n"+I.match(E?/^\s*>?\s*(.*)$/:/^\s*(.*)$/)[1]}e(k,w.block),h(m)}else if(null!=g[y+=2]||g[y+1]){f();var x,A=g[y+1],M="",R="";if(A)R=/^(\t|    )/.exec(A)[0],A=A.replace(/^(\t|    )/gm,""),"\n"==(0,o.default)(A).call(A,-1)&&(A=(0,o.default)(A).call(A,0,-1),h(m-1));else A=(0,o.default)(x=g[y]).call(x,0,-1),M=g[y-1].toLowerCase();c({type:"codeBlock",code:A,syntax:M,indent:R})}else if(g[y+=2])if("!"==g[y][0]){var N=s(t,"]",m);if(N<0){r(g[0]);continue}a=null,i.push({type:"image",alt:(0,o.default)(t).call(t,g.index+2,N),url:"",ref:""}),h(N)}else a=null,i.push({type:"link",block:[],offset:m});else if(g[++y]){var O=function(){var e=/^(link|image)$/,a=f((function(t){return!e.test(t.type)}));if(a){if(i.pop(),g[y+2]){if("link"==a.type)return c({type:"linkDef",key:(0,o.default)(t).call(t,a.offset,v),url:g[y+2]}),"continue";h(g.index+1)}if(a=d(a),g[y+1]){var n=s(t,"("==g[y+1]?")":"]",m);if(n<0)r(g[y+1]);else{var l=g.index+2,u=(0,o.default)(t).call(t,l,n);h(n+1),"("==g[y+1]?a.url=u:a.ref=u}}}else r(g[0])}();if("continue"===O)continue}else if(g[y+=3]||g[y+2])f(),c({type:"title",block:e(g[y]||g[y+3]||""),rank:g[y+2]?g[y+2].length:"="==g[y+1][0]?1:2});else if(g[y+=4]){var D=v+1;c({type:"codeSpan",code:(0,o.default)(t).call(t,D,D+g[y].length)})}else if(g[++y])f(),c({type:"break",text:g[0]});else if(g[++y]){var L=g[y],P=L.length<2?"italic":"~~"==L?"strike":"bold",j=i[i.length-1];j&&j.type==P&&j.style==L?c(i.pop()):(a=null,i.push({type:P,block:[],style:L}))}}}return f(),n};(0,i.default)(c,"default",{value:c}),e.exports=c},10505:function(e,t,a){"use strict";var n=a(60530),i=n(a(16976)),o=n(a(41511)),r=n(a(19996)),l=n(a(65420)),u=n(a(66419)),s=n(a(3649)),c=n(a(92762)),d=n(a(23054)),f=n(a(72388)),h=n(a(59036));function p(e,t){var a;if(void 0===l.default||null==(0,r.default)(e)){if((0,o.default)(e)||(a=function(e,t){var a;if(!e)return;if("string"==typeof e)return m(e,t);var n=(0,s.default)(a=Object.prototype.toString.call(e)).call(a,8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return(0,u.default)(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,c=function(){};return{s:c,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,f=!0,h=!1;return{s:function(){a=(0,i.default)(e)},n:function(){var e=a.next();return f=e.done,e},e:function(e){h=!0,d=e},f:function(){try{f||null==a.return||a.return()}finally{if(h)throw d}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var g=2147483647,v=36,_=/^xn--/,y=/[^\0-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=Math.floor,C=String.fromCharCode;function T(e){throw new RangeError(E[e])}function k(e,t){var a=e.split("@"),n="";a.length>1&&(n=a[0]+"@",e=a[1]);var i=function(e,t){for(var a=[],n=e.length;n--;)a[n]=t(e[n]);return a}((e=e.replace(b,".")).split("."),t).join(".");return n+i}function S(e){for(var t=[],a=0,n=e.length;a<n;){var i=e.charCodeAt(a++);if(i>=55296&&i<=56319&&a<n){var o=e.charCodeAt(a++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),a--)}else t.push(i)}return t}var I=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},x=function(e,t,a){var n=0;for(e=a?w(e/700):e>>1,e+=w(e/t);e>455;n+=v)e=w(e/35);return w(n+36*e/(e+38))},A=function(e){var t,a=[],n=e.length,i=0,o=128,r=72,l=(0,d.default)(e).call(e,"-");l<0&&(l=0);for(var u=0;u<l;++u)e.charCodeAt(u)>=128&&T("not-basic"),a.push(e.charCodeAt(u));for(var s=l>0?l+1:0;s<n;){for(var h=i,p=1,m=v;;m+=v){s>=n&&T("invalid-input");var _=(t=e.charCodeAt(s++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:v;(_>=v||_>w((g-i)/p))&&T("overflow"),i+=_*p;var y=m<=r?1:m>=r+26?26:m-r;if(_<y)break;var b=v-y;p>w(g/b)&&T("overflow"),p*=b}var E=a.length+1;r=x(i-h,E,0==h),w(i/E)>g-o&&T("overflow"),o+=w(i/E),i%=E,(0,c.default)(a).call(a,i++,0,o)}return f.default.apply(String,a)},M=function(e){var t,a=[],n=(e=S(e)).length,i=128,o=0,r=72,l=p(e);try{for(l.s();!(t=l.n()).done;){var u=t.value;u<128&&a.push(C(u))}}catch(e){l.e(e)}finally{l.f()}var s=a.length,c=s;for(s&&a.push("-");c<n;){var d,f=g,h=p(e);try{for(h.s();!(d=h.n()).done;){var m=d.value;m>=i&&m<f&&(f=m)}}catch(e){h.e(e)}finally{h.f()}var _=c+1;f-i>w((g-o)/_)&&T("overflow"),o+=(f-i)*_,i=f;var y,b=p(e);try{for(b.s();!(y=b.n()).done;){var E=y.value;if(E<i&&++o>g&&T("overflow"),E==i){for(var k=o,A=v;;A+=v){var M=A<=r?1:A>=r+26?26:A-r;if(k<M)break;var R=k-M,N=v-M;a.push(C(I(M+R%N,0))),k=w(R/N)}a.push(C(I(k,0))),r=x(o,_,c==s),o=0,++c}}}catch(e){b.e(e)}finally{b.f()}++o,++i}return a.join("")},R={version:"2.1.0",ucs2:{decode:S,encode:function(e){return f.default.apply(String,(0,h.default)(e))}},decode:A,encode:M,toASCII:function(e){return k(e,(function(e){return y.test(e)?"xn--"+M(e):e}))},toUnicode:function(e){return k(e,(function(e){return _.test(e)?A((0,s.default)(e).call(e,4).toLowerCase()):e}))}};e.exports=R},91151:function(e,t,a){"use strict";a(63978)(t,"__esModule",{value:!0}),t.default=void 0;t.default={unknown:{Google:[["support.google.com","developers.google.com","maps.google.com","accounts.google.com","drive.google.com","sites.google.com","groups.google.com","groups.google.co.uk","news.google.co.uk"]],"Yahoo!":[["finance.yahoo.com","news.yahoo.com","eurosport.yahoo.com","sports.yahoo.com","astrology.yahoo.com","travel.yahoo.com","answers.yahoo.com","screen.yahoo.com","weather.yahoo.com","messenger.yahoo.com","games.yahoo.com","shopping.yahoo.net","movies.yahoo.com","cars.yahoo.com","lifestyle.yahoo.com","omg.yahoo.com","match.yahoo.net"]]},search:{TalkTalk:[[/talktalk.co.uk$/gi],["query"]],"1.cz":[[/1.cz$/gi],["q"]],Softonic:[[/^search.softonic./gi],["q"]],GAIS:[[/gais.cs.ccu.edu.tw$/gi],["q"]],Freecause:[[/^search.freecause./gi],["p"]],"360.cn":[[/so.(com|360.cn)$/gi],["q"]],RPMFind:[[/(fr2.)?rpmfind.net$/gi],["query"]],Comcast:[[/^serach.comcast./gi],["q"]],Voila:[["search.ke.voila.fr",/lemoteur.fr$/gi],["rdata","kw"]],Nifty:[[/^search.nifty./gi],["q"]],Atlas:[[/^searchatlas.centrum./gi],["q"]],"Lo.st":[["lo.st"],["x_query"]],DasTelefonbuch:[[/dastelefonbuch.de$/gi],["kw"]],Fireball:[[/fireball.de$/gi],["q"]],"1und1":[[/^search.1und1./gi],["su"]],Virgilio:[[/\w+.virgilio.it$/gi],["qs"]],"Web.nl":[["www.web.nl"],["zoekwoord"]],Plazoo:[["www.plazoo.com"],["q"]],"Goyellow.de":[["www.goyellow.de"],["mdn"]],AOL:[[/\.aol.\w{2,4}(\w{2,4})?/gi,"aolsearch.com"],["q","query"]],Acoon:[["www.acoon.de"],["begriff"]],Free:[[/^search(1-(2|1))?.free.fr$/gi],["q"]],HighBeam:[["www.highbeam.com"],["q"]],"I-play":[["start.iplay.com"],["q"]],FriendFeed:[["friendfeed.com"],["q"]],Yasni:[[/.yasni.\w{2,4}(\w{2,4})?/gi],["query"]],Gigablast:[[/.gigablast.com$/gi],["q"]],arama:[["arama.com"],["q"]],Fixsuche:[["www.fixsuche.de"],["q"]],Apontador:[[/.apontador.com.$/gi],["q"]],"Search.com":[["www.search.com"],["q"]],Monstercrawler:[["www.monstercrawler.com"],["qry"]],"Google Images":[[/^images.google.\w{2,4}(.\w{2,4})?/gi,/google.\w{2,4}(.\w{2,4})?\/imgres$/gi],["q"]],"ABCsøk":[["abcsolk.no","verden.abcsok.no"],["q"]],"Google Product Search":[[/google.\w{2,4}(.\w{2,4})?\/products$/gi],["q"]],DasOertliche:[["www.dasoertliche.de"],["kw"]],InfoSpace:[["infospace.com","dogpile.com","www.dogpile.com","metacrawler.com","webfetch.com","webcrawler.com","search.kiwee.com","isearch.babylon.com","start.facemoods.com","search.magnetic.com","search.searchcompletion.com","clusty.com"],["q","s"]],Weborama:[["weborama.com"],["query"]],Bluewin:[["search.bluewin.ch"],["searchterm"]],Neti:[["www.neti.ee"],["query"]],Winamp:[["search.winamp.com"],["q"]],Nigma:[["nigma.ru"],["s"]],"Yahoo! Images":[["image.yahoo.cn","images.search.yahoo.com"],["p","q"]],Exalead:[["www.exalead.fr","www.exalead.com"],["q"]],Teoma:[["www.teoma.com"],["q"]],Needtofind:[["ko.search.need2find.com"],["searchfor"]],Looksmart:[["www.looksmart.com"],["key"]],"Wirtualna Polska":[["szukaj.wp.pl"],["szukaj"]],Toolbarhome:[["www.toolbarhome.com","vshare.toolbarhome.com"],["q"]],Searchalot:[["searchalot.com"],["q"]],Yandex:[["yandex.ru","yandex.ua","yandex.com","www.yandex.ru","www.yandex.ua","www.yandex.com"],["text"]],"canoe.ca":[["web.canoe.ca"],["q"]],Compuserve:[["websearch.cs.com"],["query"]],Blogdigger:[["www.blogdigger.com"],["q"]],Startpagina:[["startgoogle.startpagina.nl"],["q"]],eo:[["eo.st"],["x_query"]],Zhongsou:[["p.zhongsou.com"],["w"]],"La Toile Du Quebec Via Google":[["www.toile.com","web.toile.com"],["q"]],Paperball:[["www.paperball.de"],["q"]],"Jungle Spider":[["www.jungle-spider.de"],["q"]],PeoplePC:[["search.peoplepc.com"],["q"]],"MetaCrawler.de":[[/.metacrawler.de$/gi],["qry"]],Orange:[["busca.orange.es","search.orange.co.uk"],["q"]],"Gule Sider":[["www.gulesider.no"],["q"]],Francite:[["recherche.francite.com"],["name"]],"Ask Toolbar":[["search.tb.ask.com"],["searchfor"]],"Trusted-Search":[["www.trusted--search.com"],["w"]],goo:[["search.goo.ne.jp","ocnsearch.goo.ne.jp"],["mt"]],"Fast Browser Search":[["www.fastbrowsersearch.com"],["q"]],Blogpulse:[["www.blogpulse.com"],["query"]],Volny:[["web.volny.cz"],["search"]],Icerockeet:[["blogs.icerocket.com"],["q"]],Terra:[["buscador.terra.es","buscador.terra.cl","buscador.terra.com.br"],["query"]],Amazon:[["amazon.com","www.amazon.com"],["keywords"]],Onet:[["szukaj.onet.pl"],["qt"]],Digg:[["digg.com"],["s"]],Abacho:[["www.abacho.de","www.abacho.com","www.abacho.co.uk","www.se.abacho.com","www.tr.abacho.com","www.abacho.at","www.abacho.fr","www.abacho.es","www.abacho.ch","www.abacho.it"],["q"]],maailm:[["www.maailm.com"],["tekst"]],Flix:[["www.flix.de"],["keyword"]],Suchnase:[["www.suchnase.de"],["q"]],Freenet:[["suche.freenet.de"],["query","Keywords"]],DuckDuckGoL:[["duckduckgo.com"],["q"]],"Poisk.ru":[["www.plazoo.com"],["q"]],Sharelook:[["www.sharelook.fr"],["keyword"]],Najdi:[["www.najdi.si"],["q"]],Picsearch:[["www.picsearch.com"],["q"]],"Mail.ru":[["go.mail.ru"],["q"]],Alexa:[["alexa.com","search.toolbars.alexa.com"],["q"]],Metager:[["meta.rrzn.uni-hannover.de","www.metager.de"],["eingabe"]],Technorati:[["technorati.com"],["q"]],Globososo:[["searches.globososo.com","search.globososo.com"],["q"]],WWW:[["search.www.ee"],["query"]],"Trouvez.com":[["www.trouvez.com"],["query"]],IXquick:[[/.?ixquick./gi],["query"]],"Naver Images":[["image.search.naver.com","imagesearch.naver.com"],["query"]],Zapmeta:[["www.zapmeta.com","www.zapmeta.nl","www.zapmeta.de","uk.zapmeta.com"],["q","query"]],Yippy:[["search.yippy.com"],["q","query"]],Gomeo:[["www.gomeo.com"],["keywords"]],Walhello:[["www.walhello.info","www.walhello.com","www.walhello.de","www.walhello.nl"],["key"]],Meta:[["meta.ua"],["q"]],Skynet:[["www.skynet.be"],["q"]],Searchy:[["www.searchy.co.uk"],["q"]],Findwide:[["search.findwide.com"],["k"]],WebSearch:[["www.websearch.com"],["qkw","q"]],Rambler:[["nova.rambler.ru"],["query","words"]],Latne:[["www.latne.lv"],["q"]],MySearch:[[/(.mysearch)|(.myway).com$/gi,"search.mywebsearch.com"],["searchfor","searchFor"]],Cuil:[["www.cuil.com"],["q"]],Tixuma:[["www.tixuma.de"],["sc"]],Sapo:[["pesquisa.sapo.pt"],["q"]],Gnadenmeer:[["www.gnadenmeer.de"],["keyword"]],Arcor:[["www.arcor.de"],["Keywords"]],Naver:[["search.naver.com"],["query"]],Zoeken:[["www.zoeken.nl"],["q"]],Startsiden:[["www.startsiden.no"],["q"]],Yam:[["search.yam.com"],["k"]],Eniro:[["www.eniro.se"],["q","search_word"]],APOLL07:[["apollo7.de"],["query"]],Biglobe:[["cgi.search.biglobe.ne.jp"],["q"]],Mozbot:[["www.mozbot.fr","www.mozbot.co.uk","www.mozbot.com"],["q"]],ICQ:[["www.icq.com","search.icq.com"],["q"]],Baidu:[[/.baidu.com$/gi,"web.gougou.com"],["wd","word","kw","k"]],Conduit:[["search.conduit.com"],["q"]],Vindex:[["www.vindex.nl","search.vindex.nl"],["search_for"]],Babylon:[["search.babylon.com","searchassist.babylon.com"],["q"]],TrovaRapido:[["www.trovarapido.com"],["q"]],"Suchmaschine.com":[["www.suchmaschine.com"],["suchstr"]],Lycos:[["search.lycos.com","www.lycos.com","lycos.com"],["query"]],Vinden:[["www.vinden.nl"],["q"]],Altavista:[["www.altavista.com","search.altavista.com","listings.altavista.com","altavista.de","altavista.fr","be-nl.altavista.com","be-fr.altavista.com"],["q"]],dmoz:[["dmoz.org","editors.dmoz.org"],["q"]],Ecosia:[["ecosia.org"],["q"]],Maxwebsearch:[["maxwebsearch.com"],["query"]],Euroseek:[["www.euroseek.com"],["string"]],Bing:[["bing.com","www.bing.com","msnbc.msn.com","dizionario.it.msn.com","cc.bingj.com","m.bing.com"],["q"]],"X-recherche":[["www.x-recherche.com"],["mots"]],"Yandex Images":[["images.yandex.ru","images.yandex.ua","images.yandex.com"],["text"]],GMX:[["suche.gmx.net"],["su"]],"Daemon search":[["daemon-search.com","my.daemon-search.com"],["q"]],"Jungle Key":[["junglekey.com","junglekey.fr"],["query"]],Firstfind:[["www.firstsfind.com"],["qry"]],Crawler:[["www.crawler.com"],["q"]],Holmes:[["holmes.ge"],["q"]],Charter:[["www.charter.net"],["q"]],Ilse:[["www.ilse.nl"],["search_for"]],earthlink:[["search.earthlink.net"],["q"]],Qualigo:[["www.qualigo.at","www.qualigo.ch","www.qualigo.de","www.qualigo.nl"],["q"]],"El Mundo":[["ariadna.elmundo.es"],["q"]],Metager2:[["metager2.de"],["q"]],Forestle:[["forestle.org","www.forestle.org","forestle.mobi"],["q"]],"Search.ch":[["www.search.ch"],["q"]],Meinestadt:[["www.meinestadt.de"],["words"]],Freshweather:[["www.fresh-weather.com"],["q"]],AllTheWeb:[["www.alltheweb.com"],["q"]],Snapdo:[["search.snapdo.com"],["q"]],Zoek:[["www3.zoek.nl"],["q"]],Daum:[["search.daum.net"],["q"]],Marktplaats:[["www.marktplaats.nl"],["query"]],"suche.info":[["suche.info"],["q"]],"Google News":[[/news.google.\w{2,4}(.\w{2,4})?$/gi],["q"]],Zoohoo:[["zoohoo.cz"],["q"]],Seznam:[["search.seznam.cz"],["q"]],"Online.no":[["online.no"],["q"]],Eurip:[["www.eurip.com"],["q"]],"all.by":[["all.by"],["query"]],"Road Runner Search":[["search.rr.com"],["q"]],"Opplysningen 1881":[["www.1881.no"],["query"]],YouGoo:[["www.yougoo.fr"],["q"]],"Bing Images":[["bing.com/images/search","www.bing.com/images/search"],["q"]],Geona:[["geona.net"],["q"]],Nate:[["search.nate.com"],["q"]],"T-Online":[["suche.t-online.de","brisbane.t-online.de","navigationshilfe.t-online.de"],["q"]],Hotbot:[["www.hotbot.com"],["query"]],Kvasir:[["www.kvasir.no"],["q"]],Austronaut:[["www2.austronaut.at","www1.astronaut.at"],["q"]],Excite:[["search.excite.it","search.excite.fr","search.excite.de","search.excite.co.uk","serach.excite.es","search.excite.nl","msxml.excite.com","www.excite.co.jp"],["q","search"]],qip:[["search.qip.ru"],["query"]],"Certified-Toolbar":[["search.certified-toolbar.com"],["q"]],"Yahoo!":[[/.?yahoo./gi,"www.cercato.it","search.offerbox.com","ys.mirostart.com"],["q","p"]],"URL.ORGanizier":[["www.url.org"],["q"]],Witch:[["www.witch.de"],["search"]],"Mister Wong":[["www.mister-wong.com","www.mister-wong.de"],["keywords"]],Aport:[["sm.aport.ru"],["r"]],"Web.de":[["suche.web.de"],["su"]],Ask:[[/.ask.com$/gi,"ask.reference.com","www.askkids.com","www.ask.co.uk","www.qbyrd.com","search-results.com","uk.search-results.com","www.search-results.com","int.search-results.com"]],Centrum:[["serach.centrum.cz","morfeo.centrum.cz"],["q"]],Everyclick:[["www.everyclick.com"],["keyword"]],"Google Video":[["video.google.com"],["q"]],Delfi:[["otsing.delfi.ee"],["q"]],blekko:[["blekko.com"],["q"]],Jyxo:[["jyxo.1188.cz"],["q"]],Kataweb:[["www.kataweb.it"],["q"]],"uol.com.br":[["busca.uol.com.br"],["q"]],Arianna:[["arianna.libero.it","www.arianna.com"],["query"]],Mamma:[["www.mamma.com","mamma75.mamma.com"],["query"]],Yatedo:[["www.yatedo.com","www.yatedo.fr"],["q"]],Twingly:[["www.twingly.com"],["q"]],"Delfi latvia":[["smart.delfi.lv"],["q"]],PriceRunner:[["www.pricerunner.co.uk"],["q"]],Rakuten:[["websearch.rakuten.co.jp"],["qt"]],Google:[[/^(www.)?google.\w{2,4}(.\w{2,4})?$/gi,/^.incredimail.com$/gi,/.googleearth./gi,"isearch.avg.com","www.cnn.com","darkoogle.com","search.darkoogle.com","search.foxtab.com","www.gooofullsearch.com","search.hiyo.com","search.sweetim.com","www.fastweb.it","search.juno.com","find.tdc.dk","searchresults.verizon.com","search.walla.co.il","search.alot.com","webcache.googleusercontent.com","encrypted.google.com","googlesyndicatedsearch.com"],["q","query","keywords"]],"Google Blogsearch":[[/^(www.)?blogsearch.google.\w{2,4}(.\w{2,4})?$/gi],["q"]],"Hooseek.com":[["www.hooseek.com"],["recherche"]],Dalesearch:[["www.dalesearch.com"],["q"]],"Alice Adsl":[["rechercher.aliceadsl.fr"],["q"]],"soso.com":[["www.soso.com"],["w"]],Sogou:[["www.sougou.com"],["query"]],"Hit-Parade":[["req.-hit-parade.com","class.hit-parade.com","www.hit-parade.com"],["p7"]],SearchCanvas:[["www.searchcanvas.com"],["q"]],Interia:[["www.google.interia.pl"],["q"]],Genieo:[["search.genieo.com"],["q"]],Tiscali:[["search.tiscali.it","search-dyn.tiscali.it","hledani.tiscali.cz"],["q","key"]],Clix:[["pesquisa.clix.pt"],["question"]]},email:{Bigpond:[["webmail.bigpond.com","webmail2.bigpond.com"]],"Naver Mail":[["mail.naver.com"]],"Optus Zoo":[["webmail.optuszoo.com.au"]],"Seznam Mail":[["email.seznam.cz"]],"126 Mail":[["mail.126.com"]],"Outlook.com":[["mail.live.com"]],"AOL Mail":[["mail.aol.com"]],"Daum Mail":[["mail2.daum.net"]],"Yahoo! Mail":[["mail.yahoo.net","mail.yahoo.com","mail.yahoo.co.uk","mail.yahoo.co.jp"]],"163 Mail":[["mail.163.com"]],"Orange Webmail":[["orange.fr/webmail"]],"QQ Mail":[["mail.qq.com"]],Gmail:[["mail.google.com"]]},social:{hi5:[["hi5.com"]],Friendster:[["friendster.com"]],Weibo:[["weibo.com","t.cn"]],Xanga:[["xanga.com"]],Myspace:[["myspace.com"]],Buzznet:[["wayn.com"]],MyLife:[["mylife.ru"]],Flickr:[["flickr.com"]],"Sonico.com":[["sonico.com"]],Odnoklassniki:[["odnoklassniki.ru"]],GitHub:[["github.com"]],Classmates:[["classmates.com"]],"Friends Reunited":[["friendsreunited.com"]],Renren:[["renren.com"]],"vKruguDruzei.ru":[["vkrugudruzei.ru"]],"Gaia Online":[["gaiaonline.com"]],Netlog:[["netlog.com"]],Orkut:[["orkut.com"]],MyHeritage:[["myheritage.com"]],Multiply:[["multiply.com"]],myYearbook:[["myyearbook.com"]],WeeWorld:[["weeworld.com"]],Vimeo:[["vimeo.com"]],Geni:[["geni.com"]],SourceForge:[["sourceforge.net"]],Plaxo:[["plaxo.com"]],"Taringa!":[["taringa.net"]],Tagged:[["login.tagged.com"]],XING:[["xing.com"]],Instagram:[["instagram.com"]],Vkontakte:[["vk.com","vkontakte.ru"]],Twitter:[["twitter.com","t.co"]],WAYN:[["wayn.com"]],Tuenti:[["tuenti.com"]],"Mail.ru":[["my.mail.ru"]],Badoo:[["badoo.com"]],Habbo:[["habbo.com"]],Pinterest:[["pinterest.com"]],LinkedIn:[["linkedin.com"]],Foursquare:[["foursquare.com"]],Flixster:[["flixster.com"]],"Windows Live Spaces":[["login.live.com"]],BlackPlanet:[["blackplanet.com"]],Cyworld:[["global.cyworld.com"]],Pocket:[["getpocket.com"]],Skyrock:[["skyrock.com"]],Facebook:[["facebook.com","fb.me"]],StudiVZ:[["studivz.net"]],Fotolog:[["fotolog.com"]],"Google+":[["url.google.com","plus.google.com"]],"Nasza-klasa.pl":[["nk.pl"]],Qzone:[["qzone.qq.com"]],Douban:[["douban.com"]],Bebo:[["bebo.com"]],Youtube:[["youtube.com","youtu.be"]],Reddit:[["reddit.com"]],"Identi.ca":[["identi.ca"]],StackOverflow:[["stackoverflow.com"]],Mixi:[["mixi.jp"]],StumbleUpon:[["stumbleupon.com"]],Viadeo:[["viadeo.com"]],"Last.fm":[["lastfm.ru"]],LiveJournal:[["livejournal.ru"]],Tumblr:[["tumblr.com"]],"Hacker News":[["news.ycombinator.com"]],Delicious:[["delicious.com"]],Hyves:[["hyves.nl"]],"Paper.li":[["paper.li"]],"MoiKrug.ru":[["moikrug.ru"]]}}},94184:function(e,t){var a;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var o=typeof a;if("string"===o||"number"===o)e.push(a);else if(Array.isArray(a)&&a.length){var r=i.apply(null,a);r&&e.push(r)}else if("object"===o)for(var l in a)n.call(a,l)&&a[l]&&e.push(l)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(a=function(){return i}.apply(t,[]))||(e.exports=a)}()},54493:function(e,t,a){a(77971),a(53242);var n=a(54058);e.exports=n.Array.from},24034:function(e,t,a){a(92737);var n=a(54058);e.exports=n.Array.isArray},15367:function(e,t,a){a(85906);var n=a(35703);e.exports=n("Array").concat},62383:function(e,t,a){a(21501);var n=a(35703);e.exports=n("Array").filter},60009:function(e,t,a){a(44929);var n=a(35703);e.exports=n("Array").findIndex},17671:function(e,t,a){a(80833);var n=a(35703);e.exports=n("Array").find},99324:function(e,t,a){a(2437);var n=a(35703);e.exports=n("Array").forEach},80991:function(e,t,a){a(97690);var n=a(35703);e.exports=n("Array").includes},8700:function(e,t,a){a(99076);var n=a(35703);e.exports=n("Array").indexOf},95909:function(e,t,a){a(66274);var n=a(35703);e.exports=n("Array").keys},6442:function(e,t,a){a(75915);var n=a(35703);e.exports=n("Array").lastIndexOf},23866:function(e,t,a){a(68787);var n=a(35703);e.exports=n("Array").map},52999:function(e,t,a){a(81876);var n=a(35703);e.exports=n("Array").reduce},91876:function(e,t,a){a(11490);var n=a(35703);e.exports=n("Array").reverse},24900:function(e,t,a){a(60186);var n=a(35703);e.exports=n("Array").slice},3824:function(e,t,a){a(36026);var n=a(35703);e.exports=n("Array").some},2948:function(e,t,a){a(4115);var n=a(35703);e.exports=n("Array").sort},78209:function(e,t,a){a(98611);var n=a(35703);e.exports=n("Array").splice},14423:function(e,t,a){a(66274);var n=a(35703);e.exports=n("Array").values},27700:function(e,t,a){a(73381);var n=a(35703);e.exports=n("Function").bind},16246:function(e,t,a){var n=a(27700),i=Function.prototype;e.exports=function(e){var t=e.bind;return e===i||e instanceof Function&&t===i.bind?n:t}},56043:function(e,t,a){var n=a(15367),i=Array.prototype;e.exports=function(e){var t=e.concat;return e===i||e instanceof Array&&t===i.concat?n:t}},2480:function(e,t,a){var n=a(62383),i=Array.prototype;e.exports=function(e){var t=e.filter;return e===i||e instanceof Array&&t===i.filter?n:t}},7147:function(e,t,a){var n=a(60009),i=Array.prototype;e.exports=function(e){var t=e.findIndex;return e===i||e instanceof Array&&t===i.findIndex?n:t}},32236:function(e,t,a){var n=a(17671),i=Array.prototype;e.exports=function(e){var t=e.find;return e===i||e instanceof Array&&t===i.find?n:t}},58557:function(e,t,a){var n=a(80991),i=a(21631),o=Array.prototype,r=String.prototype;e.exports=function(e){var t=e.includes;return e===o||e instanceof Array&&t===o.includes?n:"string"==typeof e||e===r||e instanceof String&&t===r.includes?i:t}},34570:function(e,t,a){var n=a(8700),i=Array.prototype;e.exports=function(e){var t=e.indexOf;return e===i||e instanceof Array&&t===i.indexOf?n:t}},57564:function(e,t,a){var n=a(6442),i=Array.prototype;e.exports=function(e){var t=e.lastIndexOf;return e===i||e instanceof Array&&t===i.lastIndexOf?n:t}},88287:function(e,t,a){var n=a(23866),i=Array.prototype;e.exports=function(e){var t=e.map;return e===i||e instanceof Array&&t===i.map?n:t}},68025:function(e,t,a){var n=a(52999),i=Array.prototype;e.exports=function(e){var t=e.reduce;return e===i||e instanceof Array&&t===i.reduce?n:t}},91060:function(e,t,a){var n=a(91876),i=Array.prototype;e.exports=function(e){var t=e.reverse;return e===i||e instanceof Array&&t===i.reverse?n:t}},69601:function(e,t,a){var n=a(24900),i=Array.prototype;e.exports=function(e){var t=e.slice;return e===i||e instanceof Array&&t===i.slice?n:t}},28299:function(e,t,a){var n=a(3824),i=Array.prototype;e.exports=function(e){var t=e.some;return e===i||e instanceof Array&&t===i.some?n:t}},69355:function(e,t,a){var n=a(2948),i=Array.prototype;e.exports=function(e){var t=e.sort;return e===i||e instanceof Array&&t===i.sort?n:t}},18339:function(e,t,a){var n=a(78209),i=Array.prototype;e.exports=function(e){var t=e.splice;return e===i||e instanceof Array&&t===i.splice?n:t}},62774:function(e,t,a){var n=a(13348),i=String.prototype;e.exports=function(e){var t=e.trim;return"string"==typeof e||e===i||e instanceof String&&t===i.trim?n:t}},84426:function(e,t,a){a(32619);var n=a(54058);n.JSON||(n.JSON={stringify:JSON.stringify}),e.exports=function(e,t,a){return n.JSON.stringify.apply(null,arguments)}},45999:function(e,t,a){a(49221);var n=a(54058);e.exports=n.Object.assign},35254:function(e,t,a){a(53882);var n=a(54058).Object;e.exports=function(e,t){return n.create(e,t)}},7702:function(e,t,a){a(74979);var n=a(54058).Object,i=e.exports=function(e,t){return n.defineProperties(e,t)};n.defineProperties.sham&&(i.sham=!0)},48171:function(e,t,a){a(86450);var n=a(54058).Object,i=e.exports=function(e,t,a){return n.defineProperty(e,t,a)};n.defineProperty.sham&&(i.sham=!0)},286:function(e,t,a){a(46924);var n=a(54058).Object,i=e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)};n.getOwnPropertyDescriptor.sham&&(i.sham=!0)},92766:function(e,t,a){a(88482);var n=a(54058);e.exports=n.Object.getOwnPropertyDescriptors},30498:function(e,t,a){a(35824);var n=a(54058);e.exports=n.Object.getOwnPropertySymbols},13966:function(e,t,a){a(17405);var n=a(54058);e.exports=n.Object.getPrototypeOf},48494:function(e,t,a){a(21724);var n=a(54058);e.exports=n.Object.keys},3065:function(e,t,a){a(90108);var n=a(54058);e.exports=n.Object.setPrototypeOf},7579:function(e,t,a){a(49718);var n=a(54058);e.exports=n.parseFloat},98524:function(e,t,a){a(14038);var n=a(54058);e.exports=n.parseInt},52956:function(e,t,a){a(55967),a(77971),a(7634),a(98881),a(4560),a(44349);var n=a(54058);e.exports=n.Promise},14983:function(e,t,a){a(7453);var n=a(54058);e.exports=n.Reflect.construct},37095:function(e,t,a){a(42355);var n=a(54058);e.exports=n.Reflect.get},76998:function(e,t,a){a(69008),a(55967),a(77971),a(7634);var n=a(54058);e.exports=n.Set},46614:function(e,t,a){a(23809);var n=a(54058);e.exports=n.String.fromCodePoint},21631:function(e,t,a){a(11035);var n=a(35703);e.exports=n("String").includes},13348:function(e,t,a){a(57398);var n=a(35703);e.exports=n("String").trim},57473:function(e,t,a){a(85906),a(55967),a(35824),a(8555),a(52615),a(21732),a(35903),a(1825),a(28394),a(45915),a(61766),a(62737),a(89911),a(74315),a(63131),a(64714),a(70659),a(79413),a(69120);var n=a(54058);e.exports=n.Symbol},24227:function(e,t,a){a(1825),a(77971),a(7634);var n=a(11477);e.exports=n.f("iterator")},62978:function(e,t,a){a(63131);var n=a(11477);e.exports=n.f("toPrimitive")},32304:function(e,t,a){a(55967),a(54334),a(7634);var n=a(54058);e.exports=n.WeakMap},27385:function(e,t,a){var n=a(54493);e.exports=n},81522:function(e,t,a){var n=a(24034);e.exports=n},32209:function(e,t,a){a(7634),a(77971);var n=a(22902);e.exports=n},1258:function(e,t,a){a(7634),a(77971);var n=a(53476);e.exports=n},69447:function(e,t,a){var n=a(34570);e.exports=n},81493:function(e,t,a){var n=a(69601);e.exports=n},54408:function(e,t,a){a(7634),a(77971);var n=a(80663);e.exports=n},60269:function(e,t,a){var n=a(45999);e.exports=n},76094:function(e,t,a){var n=a(35254);e.exports=n},73685:function(e,t,a){var n=a(48171);e.exports=n},27533:function(e,t,a){var n=a(286);e.exports=n},84710:function(e,t,a){var n=a(30498);e.exports=n},74303:function(e,t,a){var n=a(13966);e.exports=n},93799:function(e,t,a){var n=a(48494);e.exports=n},55122:function(e,t,a){var n=a(3065);e.exports=n},31524:function(e,t,a){var n=a(37095);e.exports=n},86600:function(e,t,a){var n=a(57473);a(28783),a(43975),a(46774),a(80620),a(36172),e.exports=n},9759:function(e,t,a){var n=a(24227);e.exports=n},58714:function(e,t,a){var n=a(32304);a(26207),a(13215),a(4629),a(4055),e.exports=n},33916:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},11851:function(e,t,a){var n=a(10941);e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},18479:function(e){e.exports=function(){}},5743:function(e){e.exports=function(e,t,a){if(!(e instanceof t))throw TypeError("Incorrect "+(a?a+" ":"")+"invocation");return e}},96059:function(e,t,a){var n=a(10941);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},56837:function(e,t,a){"use strict";var n=a(3610).forEach,i=a(34194),o=a(65486),r=i("forEach"),l=o("forEach");e.exports=r&&l?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},11354:function(e,t,a){"use strict";var n=a(86843),i=a(89678),o=a(75196),r=a(6782),l=a(43057),u=a(55449),s=a(22902);e.exports=function(e){var t,a,c,d,f,h,p=i(e),m="function"==typeof this?this:Array,g=arguments.length,v=g>1?arguments[1]:void 0,_=void 0!==v,y=s(p),b=0;if(_&&(v=n(v,g>2?arguments[2]:void 0,2)),null==y||m==Array&&r(y))for(a=new m(t=l(p.length));t>b;b++)h=_?v(p[b],b):p[b],u(a,b,h);else for(f=(d=y.call(p)).next,a=new m;!(c=f.call(d)).done;b++)h=_?o(d,v,[c.value,b],!0):c.value,u(a,b,h);return a.length=b,a}},31692:function(e,t,a){var n=a(74529),i=a(43057),o=a(59413),r=function(e){return function(t,a,r){var l,u=n(t),s=i(u.length),c=o(r,s);if(e&&a!=a){for(;s>c;)if((l=u[c++])!=l)return!0}else for(;s>c;c++)if((e||c in u)&&u[c]===a)return e||c||0;return!e&&-1}};e.exports={includes:r(!0),indexOf:r(!1)}},3610:function(e,t,a){var n=a(86843),i=a(37026),o=a(89678),r=a(43057),l=a(64692),u=[].push,s=function(e){var t=1==e,a=2==e,s=3==e,c=4==e,d=6==e,f=5==e||d;return function(h,p,m,g){for(var v,_,y=o(h),b=i(y),E=n(p,m,3),w=r(b.length),C=0,T=g||l,k=t?T(h,w):a?T(h,0):void 0;w>C;C++)if((f||C in b)&&(_=E(v=b[C],C,y),e))if(t)k[C]=_;else if(_)switch(e){case 3:return!0;case 5:return v;case 6:return C;case 2:u.call(k,v)}else if(c)return!1;return d?-1:s||c?c:k}};e.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6)}},67145:function(e,t,a){"use strict";var n=a(74529),i=a(68459),o=a(43057),r=a(34194),l=a(65486),u=Math.min,s=[].lastIndexOf,c=!!s&&1/[1].lastIndexOf(1,-0)<0,d=r("lastIndexOf"),f=l("indexOf",{ACCESSORS:!0,1:0}),h=c||!d||!f;e.exports=h?function(e){if(c)return s.apply(this,arguments)||0;var t=n(this),a=o(t.length),r=a-1;for(arguments.length>1&&(r=u(r,i(arguments[1]))),r<0&&(r=a+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}:s},50568:function(e,t,a){var n=a(95981),i=a(99813),o=a(53385),r=i("species");e.exports=function(e){return o>=51||!n((function(){var t=[];return(t.constructor={})[r]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},34194:function(e,t,a){"use strict";var n=a(95981);e.exports=function(e,t){var a=[][e];return!!a&&n((function(){a.call(null,t||function(){throw 1},1)}))}},65486:function(e,t,a){var n=a(55746),i=a(95981),o=a(47457),r=Object.defineProperty,l={},u=function(e){throw e};e.exports=function(e,t){if(o(l,e))return l[e];t||(t={});var a=[][e],s=!!o(t,"ACCESSORS")&&t.ACCESSORS,c=o(t,0)?t[0]:u,d=o(t,1)?t[1]:void 0;return l[e]=!!a&&!i((function(){if(s&&!n)return!0;var e={length:-1};s?r(e,1,{enumerable:!0,get:u}):e[1]=1,a.call(e,c,d)}))}},46499:function(e,t,a){var n=a(33916),i=a(89678),o=a(37026),r=a(43057),l=function(e){return function(t,a,l,u){n(a);var s=i(t),c=o(s),d=r(s.length),f=e?d-1:0,h=e?-1:1;if(l<2)for(;;){if(f in c){u=c[f],f+=h;break}if(f+=h,e?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?f>=0:d>f;f+=h)f in c&&(u=a(u,c[f],f,s));return u}};e.exports={left:l(!1),right:l(!0)}},64692:function(e,t,a){var n=a(10941),i=a(1052),o=a(99813)("species");e.exports=function(e,t){var a;return i(e)&&("function"!=typeof(a=e.constructor)||a!==Array&&!i(a.prototype)?n(a)&&null===(a=a[o])&&(a=void 0):a=void 0),new(void 0===a?Array:a)(0===t?0:t)}},75196:function(e,t,a){var n=a(96059);e.exports=function(e,t,a,i){try{return i?t(n(a)[0],a[1]):t(a)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},21385:function(e,t,a){var n=a(99813)("iterator"),i=!1;try{var o=0,r={next:function(){return{done:!!o++}},return:function(){i=!0}};r[n]=function(){return this},Array.from(r,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var a=!1;try{var o={};o[n]=function(){return{next:function(){return{done:a=!0}}}},e(o)}catch(e){}return a}},82532:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},9697:function(e,t,a){var n=a(22885),i=a(82532),o=a(99813)("toStringTag"),r="Arguments"==i(function(){return arguments}());e.exports=n?i:function(e){var t,a,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(a=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?a:r?i(t):"Object"==(n=i(t))&&"function"==typeof t.callee?"Arguments":n}},28984:function(e,t,a){"use strict";var n=a(96059),i=a(33916);e.exports=function(){for(var e,t=n(this),a=i(t.delete),o=!0,r=0,l=arguments.length;r<l;r++)e=a.call(t,arguments[r]),o=o&&e;return!!o}},83590:function(e,t,a){"use strict";var n=a(33916),i=a(86843),o=a(93091);e.exports=function(e){var t,a,r,l,u=arguments.length,s=u>1?arguments[1]:void 0;return n(this),(t=void 0!==s)&&n(s),null==e?new this:(a=[],t?(r=0,l=i(s,u>2?arguments[2]:void 0,2),o(e,(function(e){a.push(l(e,r++))}))):o(e,a.push,a),new this(a))}},45226:function(e){"use strict";e.exports=function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}},85616:function(e,t,a){"use strict";var n=a(65988).f,i=a(29290),o=a(87524),r=a(86843),l=a(5743),u=a(93091),s=a(47771),c=a(94431),d=a(55746),f=a(21647).fastKey,h=a(45402),p=h.set,m=h.getterFor;e.exports={getConstructor:function(e,t,a,s){var c=e((function(e,n){l(e,c,t),p(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),d||(e.size=0),null!=n&&u(n,e[s],e,a)})),h=m(t),g=function(e,t,a){var n,i,o=h(e),r=v(e,t);return r?r.value=a:(o.last=r={index:i=f(t,!0),key:t,value:a,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=r),n&&(n.next=r),d?o.size++:e.size++,"F"!==i&&(o.index[i]=r)),e},v=function(e,t){var a,n=h(e),i=f(t);if("F"!==i)return n.index[i];for(a=n.first;a;a=a.next)if(a.key==t)return a};return o(c.prototype,{clear:function(){for(var e=h(this),t=e.index,a=e.first;a;)a.removed=!0,a.previous&&(a.previous=a.previous.next=void 0),delete t[a.index],a=a.next;e.first=e.last=void 0,d?e.size=0:this.size=0},delete:function(e){var t=this,a=h(t),n=v(t,e);if(n){var i=n.next,o=n.previous;delete a.index[n.index],n.removed=!0,o&&(o.next=i),i&&(i.previous=o),a.first==n&&(a.first=i),a.last==n&&(a.last=o),d?a.size--:t.size--}return!!n},forEach:function(e){for(var t,a=h(this),n=r(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:a.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!v(this,e)}}),o(c.prototype,a?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),d&&n(c.prototype,"size",{get:function(){return h(this).size}}),c},setStrong:function(e,t,a){var n=t+" Iterator",i=m(t),o=m(n);s(e,t,(function(e,t){p(this,{type:n,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,a=e.last;a&&a.removed;)a=a.previous;return e.target&&(e.last=a=a?a.next:e.state.first)?"keys"==t?{value:a.key,done:!1}:"values"==t?{value:a.value,done:!1}:{value:[a.key,a.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),a?"entries":"values",!a,!0),c(t)}}},8850:function(e,t,a){"use strict";var n=a(87524),i=a(21647).getWeakData,o=a(96059),r=a(10941),l=a(5743),u=a(93091),s=a(3610),c=a(47457),d=a(45402),f=d.set,h=d.getterFor,p=s.find,m=s.findIndex,g=0,v=function(e){return e.frozen||(e.frozen=new _)},_=function(){this.entries=[]},y=function(e,t){return p(e.entries,(function(e){return e[0]===t}))};_.prototype={get:function(e){var t=y(this,e);if(t)return t[1]},has:function(e){return!!y(this,e)},set:function(e,t){var a=y(this,e);a?a[1]=t:this.entries.push([e,t])},delete:function(e){var t=m(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,a,s){var d=e((function(e,n){l(e,d,t),f(e,{type:t,id:g++,frozen:void 0}),null!=n&&u(n,e[s],e,a)})),p=h(t),m=function(e,t,a){var n=p(e),r=i(o(t),!0);return!0===r?v(n).set(t,a):r[n.id]=a,e};return n(d.prototype,{delete:function(e){var t=p(this);if(!r(e))return!1;var a=i(e);return!0===a?v(t).delete(e):a&&c(a,t.id)&&delete a[t.id]},has:function(e){var t=p(this);if(!r(e))return!1;var a=i(e);return!0===a?v(t).has(e):a&&c(a,t.id)}}),n(d.prototype,a?{get:function(e){var t=p(this);if(r(e)){var a=i(e);return!0===a?v(t).get(e):a?a[t.id]:void 0}},set:function(e,t){return m(this,e,t)}}:{add:function(e){return m(this,e,!0)}}),d}}},24683:function(e,t,a){"use strict";var n=a(76887),i=a(21899),o=a(21647),r=a(95981),l=a(32029),u=a(93091),s=a(5743),c=a(10941),d=a(90904),f=a(65988).f,h=a(3610).forEach,p=a(55746),m=a(45402),g=m.set,v=m.getterFor;e.exports=function(e,t,a){var m,_=-1!==e.indexOf("Map"),y=-1!==e.indexOf("Weak"),b=_?"set":"add",E=i[e],w=E&&E.prototype,C={};if(p&&"function"==typeof E&&(y||w.forEach&&!r((function(){(new E).entries().next()})))){m=t((function(t,a){g(s(t,m,e),{type:e,collection:new E}),null!=a&&u(a,t[b],t,_)}));var T=v(e);h(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(e){var t="add"==e||"set"==e;!(e in w)||y&&"clear"==e||l(m.prototype,e,(function(a,n){var i=T(this).collection;if(!t&&y&&!c(a))return"get"==e&&void 0;var o=i[e](0===a?0:a,n);return t?this:o}))})),y||f(m.prototype,"size",{configurable:!0,get:function(){return T(this).collection.size}})}else m=a.getConstructor(t,e,_,b),o.REQUIRED=!0;return d(m,e,!1,!0),C[e]=m,n({global:!0,forced:!0},C),y||a.setStrong(m,e,_),m}},67772:function(e,t,a){var n=a(99813)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[n]=!1,"/./"[e](t)}catch(e){}}return!1}},64160:function(e,t,a){var n=a(95981);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},31046:function(e,t,a){"use strict";var n=a(35143).IteratorPrototype,i=a(29290),o=a(31887),r=a(90904),l=a(12077),u=function(){return this};e.exports=function(e,t,a){var s=t+" Iterator";return e.prototype=i(n,{next:o(1,a)}),r(e,s,!1,!0),l[s]=u,e}},32029:function(e,t,a){var n=a(55746),i=a(65988),o=a(31887);e.exports=n?function(e,t,a){return i.f(e,t,o(1,a))}:function(e,t,a){return e[t]=a,e}},31887:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},55449:function(e,t,a){"use strict";var n=a(46935),i=a(65988),o=a(31887);e.exports=function(e,t,a){var r=n(t);r in e?i.f(e,r,o(0,a)):e[r]=a}},47771:function(e,t,a){"use strict";var n=a(76887),i=a(31046),o=a(249),r=a(88929),l=a(90904),u=a(32029),s=a(99754),c=a(99813),d=a(82529),f=a(12077),h=a(35143),p=h.IteratorPrototype,m=h.BUGGY_SAFARI_ITERATORS,g=c("iterator"),v="keys",_="values",y="entries",b=function(){return this};e.exports=function(e,t,a,c,h,E,w){i(a,t,c);var C,T,k,S=function(e){if(e===h&&R)return R;if(!m&&e in A)return A[e];switch(e){case v:case _:case y:return function(){return new a(this,e)}}return function(){return new a(this)}},I=t+" Iterator",x=!1,A=e.prototype,M=A[g]||A["@@iterator"]||h&&A[h],R=!m&&M||S(h),N="Array"==t&&A.entries||M;if(N&&(C=o(N.call(new e)),p!==Object.prototype&&C.next&&(d||o(C)===p||(r?r(C,p):"function"!=typeof C[g]&&u(C,g,b)),l(C,I,!0,!0),d&&(f[I]=b))),h==_&&M&&M.name!==_&&(x=!0,R=function(){return M.call(this)}),d&&!w||A[g]===R||u(A,g,R),f[t]=R,h)if(T={values:S(_),keys:E?R:S(v),entries:S(y)},w)for(k in T)(m||x||!(k in A))&&s(A,k,T[k]);else n({target:t,proto:!0,forced:m||x},T);return T}},66349:function(e,t,a){var n=a(54058),i=a(47457),o=a(11477),r=a(65988).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||r(t,e,{value:o.f(e)})}},55746:function(e,t,a){var n=a(95981);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},61333:function(e,t,a){var n=a(21899),i=a(10941),o=n.document,r=i(o)&&i(o.createElement);e.exports=function(e){return r?o.createElement(e):{}}},63281:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},22749:function(e,t,a){var n=a(2861);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},2861:function(e,t,a){var n=a(626);e.exports=n("navigator","userAgent")||""},53385:function(e,t,a){var n,i,o=a(21899),r=a(2861),l=o.process,u=l&&l.versions,s=u&&u.v8;s?i=(n=s.split("."))[0]+n[1]:r&&(!(n=r.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=r.match(/Chrome\/(\d+)/))&&(i=n[1]),e.exports=i&&+i},35703:function(e,t,a){var n=a(54058);e.exports=function(e){return n[e+"Prototype"]}},56759:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},76887:function(e,t,a){"use strict";var n=a(21899),i=a(49677).f,o=a(37252),r=a(54058),l=a(86843),u=a(32029),s=a(47457),c=function(e){var t=function(t,a,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,a)}return new e(t,a,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var a,d,f,h,p,m,g,v,_=e.target,y=e.global,b=e.stat,E=e.proto,w=y?n:b?n[_]:(n[_]||{}).prototype,C=y?r:r[_]||(r[_]={}),T=C.prototype;for(f in t)a=!o(y?f:_+(b?".":"#")+f,e.forced)&&w&&s(w,f),p=C[f],a&&(m=e.noTargetGet?(v=i(w,f))&&v.value:w[f]),h=a&&m?m:t[f],a&&typeof p==typeof h||(g=e.bind&&a?l(h,n):e.wrap&&a?c(h):E&&"function"==typeof h?l(Function.call,h):h,(e.sham||h&&h.sham||p&&p.sham)&&u(g,"sham",!0),C[f]=g,E&&(s(r,d=_+"Prototype")||u(r,d,{}),r[d][f]=h,e.real&&T&&!T[f]&&u(T,f,h)))}},95981:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},45602:function(e,t,a){var n=a(95981);e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},86843:function(e,t,a){var n=a(33916);e.exports=function(e,t,a){if(n(e),void 0===t)return e;switch(a){case 0:return function(){return e.call(t)};case 1:return function(a){return e.call(t,a)};case 2:return function(a,n){return e.call(t,a,n)};case 3:return function(a,n,i){return e.call(t,a,n,i)}}return function(){return e.apply(t,arguments)}}},98308:function(e,t,a){"use strict";var n=a(33916),i=a(10941),o=[].slice,r={},l=function(e,t,a){if(!(t in r)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";r[t]=Function("C,a","return new C("+n.join(",")+")")}return r[t](e,a)};e.exports=Function.bind||function(e){var t=n(this),a=o.call(arguments,1),r=function(){var n=a.concat(o.call(arguments));return this instanceof r?l(t,n.length,n):t.apply(e,n)};return i(t.prototype)&&(r.prototype=t.prototype),r}},626:function(e,t,a){var n=a(54058),i=a(21899),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(n[e])||o(i[e]):n[e]&&n[e][t]||i[e]&&i[e][t]}},22902:function(e,t,a){var n=a(9697),i=a(12077),o=a(99813)("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[n(e)]}},53476:function(e,t,a){var n=a(96059),i=a(22902);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},21899:function(e,t,a){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof a.g&&a.g)||Function("return this")()},47457:function(e){var t={}.hasOwnProperty;e.exports=function(e,a){return t.call(e,a)}},27748:function(e){e.exports={}},34845:function(e,t,a){var n=a(21899);e.exports=function(e,t){var a=n.console;a&&a.error&&(1===arguments.length?a.error(e):a.error(e,t))}},15463:function(e,t,a){var n=a(626);e.exports=n("document","documentElement")},2840:function(e,t,a){var n=a(55746),i=a(95981),o=a(61333);e.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},37026:function(e,t,a){var n=a(95981),i=a(82532),o="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},81302:function(e,t,a){var n=a(63030),i=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return i.call(e)}),e.exports=n.inspectSource},21647:function(e,t,a){var n=a(27748),i=a(10941),o=a(47457),r=a(65988).f,l=a(99418),u=a(45602),s=l("meta"),c=0,d=Object.isExtensible||function(){return!0},f=function(e){r(e,s,{value:{objectID:"O"+ ++c,weakData:{}}})},h=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,s)){if(!d(e))return"F";if(!t)return"E";f(e)}return e[s].objectID},getWeakData:function(e,t){if(!o(e,s)){if(!d(e))return!0;if(!t)return!1;f(e)}return e[s].weakData},onFreeze:function(e){return u&&h.REQUIRED&&d(e)&&!o(e,s)&&f(e),e}};n[s]=!0},45402:function(e,t,a){var n,i,o,r=a(38019),l=a(21899),u=a(10941),s=a(32029),c=a(47457),d=a(44262),f=a(27748),h=l.WeakMap;if(r){var p=new h,m=p.get,g=p.has,v=p.set;n=function(e,t){return v.call(p,e,t),t},i=function(e){return m.call(p,e)||{}},o=function(e){return g.call(p,e)}}else{var _=d("state");f[_]=!0,n=function(e,t){return s(e,_,t),t},i=function(e){return c(e,_)?e[_]:{}},o=function(e){return c(e,_)}}e.exports={set:n,get:i,has:o,enforce:function(e){return o(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var a;if(!u(t)||(a=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return a}}}},6782:function(e,t,a){var n=a(99813),i=a(12077),o=n("iterator"),r=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||r[o]===e)}},1052:function(e,t,a){var n=a(82532);e.exports=Array.isArray||function(e){return"Array"==n(e)}},37252:function(e,t,a){var n=a(95981),i=/#|\.prototype\./,o=function(e,t){var a=l[r(e)];return a==s||a!=u&&("function"==typeof t?n(t):!!t)},r=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},l=o.data={},u=o.NATIVE="N",s=o.POLYFILL="P";e.exports=o},80663:function(e,t,a){var n=a(9697),i=a(99813),o=a(12077),r=i("iterator");e.exports=function(e){var t=Object(e);return void 0!==t[r]||"@@iterator"in t||o.hasOwnProperty(n(t))}},10941:function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},82529:function(e){e.exports=!0},60685:function(e,t,a){var n=a(10941),i=a(82532),o=a(99813)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},93091:function(e,t,a){var n=a(96059),i=a(6782),o=a(43057),r=a(86843),l=a(22902),u=a(75196),s=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,a,c,d){var f,h,p,m,g,v,_,y=r(t,a,c?2:1);if(d)f=e;else{if("function"!=typeof(h=l(e)))throw TypeError("Target is not iterable");if(i(h)){for(p=0,m=o(e.length);m>p;p++)if((g=c?y(n(_=e[p])[0],_[1]):y(e[p]))&&g instanceof s)return g;return new s(!1)}f=h.call(e)}for(v=f.next;!(_=v.call(f)).done;)if("object"==typeof(g=u(f,y,_.value,c))&&g&&g instanceof s)return g;return new s(!1)}).stop=function(e){return new s(!0,e)}},35143:function(e,t,a){"use strict";var n,i,o,r=a(249),l=a(32029),u=a(47457),s=a(99813),c=a(82529),d=s("iterator"),f=!1;[].keys&&("next"in(o=[].keys())?(i=r(r(o)))!==Object.prototype&&(n=i):f=!0),null==n&&(n={}),c||u(n,d)||l(n,d,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:f}},12077:function(e){e.exports={}},20716:function(e,t,a){"use strict";var n=a(96059);e.exports=function(e,t){var a,i=n(this),o=arguments.length>2?arguments[2]:void 0;if("function"!=typeof t&&"function"!=typeof o)throw TypeError("At least one callback required");return i.has(e)?(a=i.get(e),"function"==typeof t&&(a=t(a),i.set(e,a))):"function"==typeof o&&(a=o(),i.set(e,a)),a}},66132:function(e,t,a){var n,i,o,r,l,u,s,c,d=a(21899),f=a(49677).f,h=a(82532),p=a(42941).set,m=a(22749),g=d.MutationObserver||d.WebKitMutationObserver,v=d.process,_=d.Promise,y="process"==h(v),b=f(d,"queueMicrotask"),E=b&&b.value;E||(n=function(){var e,t;for(y&&(e=v.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?r():o=void 0,e}}o=void 0,e&&e.enter()},y?r=function(){v.nextTick(n)}:g&&!m?(l=!0,u=document.createTextNode(""),new g(n).observe(u,{characterData:!0}),r=function(){u.data=l=!l}):_&&_.resolve?(s=_.resolve(void 0),c=s.then,r=function(){c.call(s,n)}):r=function(){p.call(d,n)}),e.exports=E||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,r()),o=t}},19297:function(e,t,a){var n=a(21899);e.exports=n.Promise},72497:function(e,t,a){var n=a(95981);e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},38019:function(e,t,a){var n=a(21899),i=a(81302),o=n.WeakMap;e.exports="function"==typeof o&&/native code/.test(i(o))},69520:function(e,t,a){"use strict";var n=a(33916),i=function(e){var t,a;this.promise=new e((function(e,n){if(void 0!==t||void 0!==a)throw TypeError("Bad Promise constructor");t=e,a=n})),this.resolve=n(t),this.reject=n(a)};e.exports.f=function(e){return new i(e)}},70344:function(e,t,a){var n=a(60685);e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},81942:function(e,t,a){var n=a(21899),i=a(74853).trim,o=a(73483),r=n.parseFloat,l=1/r(o+"-0")!=-1/0;e.exports=l?function(e){var t=i(String(e)),a=r(t);return 0===a&&"-"==t.charAt(0)?-0:a}:r},29806:function(e,t,a){var n=a(21899),i=a(74853).trim,o=a(73483),r=n.parseInt,l=/^[+-]?0[Xx]/,u=8!==r(o+"08")||22!==r(o+"0x16");e.exports=u?function(e,t){var a=i(String(e));return r(a,t>>>0||(l.test(a)?16:10))}:r},24420:function(e,t,a){"use strict";var n=a(55746),i=a(95981),o=a(14771),r=a(87857),l=a(36760),u=a(89678),s=a(37026),c=Object.assign,d=Object.defineProperty;e.exports=!c||i((function(){if(n&&1!==c({b:1},c(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},a=Symbol(),i="abcdefghijklmnopqrst";return e[a]=7,i.split("").forEach((function(e){t[e]=e})),7!=c({},e)[a]||o(c({},t)).join("")!=i}))?function(e,t){for(var a=u(e),i=arguments.length,c=1,d=r.f,f=l.f;i>c;)for(var h,p=s(arguments[c++]),m=d?o(p).concat(d(p)):o(p),g=m.length,v=0;g>v;)h=m[v++],n&&!f.call(p,h)||(a[h]=p[h]);return a}:c},29290:function(e,t,a){var n,i=a(96059),o=a(59938),r=a(56759),l=a(27748),u=a(15463),s=a(61333),c=a(44262),d=c("IE_PROTO"),f=function(){},h=function(e){return"<script>"+e+"</"+"script>"},p=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;p=n?function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):((t=s("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F);for(var a=r.length;a--;)delete p.prototype[r[a]];return p()};l[d]=!0,e.exports=Object.create||function(e,t){var a;return null!==e?(f.prototype=i(e),a=new f,f.prototype=null,a[d]=e):a=p(),void 0===t?a:o(a,t)}},59938:function(e,t,a){var n=a(55746),i=a(65988),o=a(96059),r=a(14771);e.exports=n?Object.defineProperties:function(e,t){o(e);for(var a,n=r(t),l=n.length,u=0;l>u;)i.f(e,a=n[u++],t[a]);return e}},65988:function(e,t,a){var n=a(55746),i=a(2840),o=a(96059),r=a(46935),l=Object.defineProperty;t.f=n?l:function(e,t,a){if(o(e),t=r(t,!0),o(a),i)try{return l(e,t,a)}catch(e){}if("get"in a||"set"in a)throw TypeError("Accessors not supported");return"value"in a&&(e[t]=a.value),e}},49677:function(e,t,a){var n=a(55746),i=a(36760),o=a(31887),r=a(74529),l=a(46935),u=a(47457),s=a(2840),c=Object.getOwnPropertyDescriptor;t.f=n?c:function(e,t){if(e=r(e),t=l(t,!0),s)try{return c(e,t)}catch(e){}if(u(e,t))return o(!i.f.call(e,t),e[t])}},684:function(e,t,a){var n=a(74529),i=a(10946).f,o={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return r&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return r.slice()}}(e):i(n(e))}},10946:function(e,t,a){var n=a(55629),i=a(56759).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},87857:function(e,t){t.f=Object.getOwnPropertySymbols},249:function(e,t,a){var n=a(47457),i=a(89678),o=a(44262),r=a(64160),l=o("IE_PROTO"),u=Object.prototype;e.exports=r?Object.getPrototypeOf:function(e){return e=i(e),n(e,l)?e[l]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},55629:function(e,t,a){var n=a(47457),i=a(74529),o=a(31692).indexOf,r=a(27748);e.exports=function(e,t){var a,l=i(e),u=0,s=[];for(a in l)!n(r,a)&&n(l,a)&&s.push(a);for(;t.length>u;)n(l,a=t[u++])&&(~o(s,a)||s.push(a));return s}},14771:function(e,t,a){var n=a(55629),i=a(56759);e.exports=Object.keys||function(e){return n(e,i)}},36760:function(e,t){"use strict";var a={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!a.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:a},88929:function(e,t,a){var n=a(96059),i=a(11851);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,a={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(a,[]),t=a instanceof Array}catch(e){}return function(a,o){return n(a),i(o),t?e.call(a,o):a.__proto__=o,a}}():void 0)},95623:function(e,t,a){"use strict";var n=a(22885),i=a(9697);e.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},31136:function(e,t,a){var n=a(626),i=a(10946),o=a(87857),r=a(96059);e.exports=n("Reflect","ownKeys")||function(e){var t=i.f(r(e)),a=o.f;return a?t.concat(a(e)):t}},54058:function(e){e.exports={}},40002:function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},56584:function(e,t,a){var n=a(96059),i=a(10941),o=a(69520);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var a=o.f(e);return(0,a.resolve)(t),a.promise}},87524:function(e,t,a){var n=a(99754);e.exports=function(e,t,a){for(var i in t)a&&a.unsafe&&e[i]?e[i]=t[i]:n(e,i,t[i],a);return e}},99754:function(e,t,a){var n=a(32029);e.exports=function(e,t,a,i){i&&i.enumerable?e[t]=a:n(e,t,a)}},48219:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},4911:function(e,t,a){var n=a(21899),i=a(32029);e.exports=function(e,t){try{i(n,e,t)}catch(a){n[e]=t}return t}},94431:function(e,t,a){"use strict";var n=a(626),i=a(65988),o=a(99813),r=a(55746),l=o("species");e.exports=function(e){var t=n(e),a=i.f;r&&t&&!t[l]&&a(t,l,{configurable:!0,get:function(){return this}})}},90904:function(e,t,a){var n=a(22885),i=a(65988).f,o=a(32029),r=a(47457),l=a(95623),u=a(99813)("toStringTag");e.exports=function(e,t,a,s){if(e){var c=a?e:e.prototype;r(c,u)||i(c,u,{configurable:!0,value:t}),s&&!n&&o(c,"toString",l)}}},44262:function(e,t,a){var n=a(68726),i=a(99418),o=n("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},63030:function(e,t,a){var n=a(21899),i=a(4911),o="__core-js_shared__",r=n[o]||i(o,{});e.exports=r},68726:function(e,t,a){var n=a(82529),i=a(63030);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:n?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},70487:function(e,t,a){var n=a(96059),i=a(33916),o=a(99813)("species");e.exports=function(e,t){var a,r=n(e).constructor;return void 0===r||null==(a=n(r)[o])?t:i(a)}},64620:function(e,t,a){var n=a(68459),i=a(48219),o=function(e){return function(t,a){var o,r,l=String(i(t)),u=n(a),s=l.length;return u<0||u>=s?e?"":void 0:(o=l.charCodeAt(u))<55296||o>56319||u+1===s||(r=l.charCodeAt(u+1))<56320||r>57343?e?l.charAt(u):o:e?l.slice(u,u+2):r-56320+(o-55296<<10)+65536}};e.exports={codeAt:o(!1),charAt:o(!0)}},93093:function(e,t,a){var n=a(95981),i=a(73483);e.exports=function(e){return n((function(){return!!i[e]()||"​᠎"!="​᠎"[e]()||i[e].name!==e}))}},74853:function(e,t,a){var n=a(48219),i="["+a(73483)+"]",o=RegExp("^"+i+i+"*"),r=RegExp(i+i+"*$"),l=function(e){return function(t){var a=String(n(t));return 1&e&&(a=a.replace(o,"")),2&e&&(a=a.replace(r,"")),a}};e.exports={start:l(1),end:l(2),trim:l(3)}},42941:function(e,t,a){var n,i,o,r=a(21899),l=a(95981),u=a(82532),s=a(86843),c=a(15463),d=a(61333),f=a(22749),h=r.location,p=r.setImmediate,m=r.clearImmediate,g=r.process,v=r.MessageChannel,_=r.Dispatch,y=0,b={},E="onreadystatechange",w=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},C=function(e){return function(){w(e)}},T=function(e){w(e.data)},k=function(e){r.postMessage(e+"",h.protocol+"//"+h.host)};p&&m||(p=function(e){for(var t=[],a=1;arguments.length>a;)t.push(arguments[a++]);return b[++y]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},n(y),y},m=function(e){delete b[e]},"process"==u(g)?n=function(e){g.nextTick(C(e))}:_&&_.now?n=function(e){_.now(C(e))}:v&&!f?(o=(i=new v).port2,i.port1.onmessage=T,n=s(o.postMessage,o,1)):!r.addEventListener||"function"!=typeof postMessage||r.importScripts||l(k)||"file:"===h.protocol?n=E in d("script")?function(e){c.appendChild(d("script")).onreadystatechange=function(){c.removeChild(this),w(e)}}:function(e){setTimeout(C(e),0)}:(n=k,r.addEventListener("message",T,!1))),e.exports={set:p,clear:m}},59413:function(e,t,a){var n=a(68459),i=Math.max,o=Math.min;e.exports=function(e,t){var a=n(e);return a<0?i(a+t,0):o(a,t)}},74529:function(e,t,a){var n=a(37026),i=a(48219);e.exports=function(e){return n(i(e))}},68459:function(e){var t=Math.ceil,a=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?a:t)(e)}},43057:function(e,t,a){var n=a(68459),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},89678:function(e,t,a){var n=a(48219);e.exports=function(e){return Object(n(e))}},46935:function(e,t,a){var n=a(10941);e.exports=function(e,t){if(!n(e))return e;var a,i;if(t&&"function"==typeof(a=e.toString)&&!n(i=a.call(e)))return i;if("function"==typeof(a=e.valueOf)&&!n(i=a.call(e)))return i;if(!t&&"function"==typeof(a=e.toString)&&!n(i=a.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},22885:function(e,t,a){var n={};n[a(99813)("toStringTag")]="z",e.exports="[object z]"===String(n)},99418:function(e){var t=0,a=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+a).toString(36)}},32302:function(e,t,a){var n=a(72497);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},11477:function(e,t,a){var n=a(99813);t.f=n},99813:function(e,t,a){var n=a(21899),i=a(68726),o=a(47457),r=a(99418),l=a(72497),u=a(32302),s=i("wks"),c=n.Symbol,d=u?c:c&&c.withoutSetter||r;e.exports=function(e){return o(s,e)||(l&&o(c,e)?s[e]=c[e]:s[e]=d("Symbol."+e)),s[e]}},73483:function(e){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},85906:function(e,t,a){"use strict";var n=a(76887),i=a(95981),o=a(1052),r=a(10941),l=a(89678),u=a(43057),s=a(55449),c=a(64692),d=a(50568),f=a(99813),h=a(53385),p=f("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",v=h>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),_=d("concat"),y=function(e){if(!r(e))return!1;var t=e[p];return void 0!==t?!!t:o(e)};n({target:"Array",proto:!0,forced:!v||!_},{concat:function(e){var t,a,n,i,o,r=l(this),d=c(r,0),f=0;for(t=-1,n=arguments.length;t<n;t++)if(y(o=-1===t?r:arguments[t])){if(f+(i=u(o.length))>m)throw TypeError(g);for(a=0;a<i;a++,f++)a in o&&s(d,f,o[a])}else{if(f>=m)throw TypeError(g);s(d,f++,o)}return d.length=f,d}})},21501:function(e,t,a){"use strict";var n=a(76887),i=a(3610).filter,o=a(50568),r=a(65486),l=o("filter"),u=r("filter");n({target:"Array",proto:!0,forced:!l||!u},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},44929:function(e,t,a){"use strict";var n=a(76887),i=a(3610).findIndex,o=a(18479),r=a(65486),l="findIndex",u=!0,s=r(l);l in[]&&Array(1).findIndex((function(){u=!1})),n({target:"Array",proto:!0,forced:u||!s},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(l)},80833:function(e,t,a){"use strict";var n=a(76887),i=a(3610).find,o=a(18479),r=a(65486),l="find",u=!0,s=r(l);l in[]&&Array(1).find((function(){u=!1})),n({target:"Array",proto:!0,forced:u||!s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(l)},2437:function(e,t,a){"use strict";var n=a(76887),i=a(56837);n({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},53242:function(e,t,a){var n=a(76887),i=a(11354);n({target:"Array",stat:!0,forced:!a(21385)((function(e){Array.from(e)}))},{from:i})},97690:function(e,t,a){"use strict";var n=a(76887),i=a(31692).includes,o=a(18479);n({target:"Array",proto:!0,forced:!a(65486)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},99076:function(e,t,a){"use strict";var n=a(76887),i=a(31692).indexOf,o=a(34194),r=a(65486),l=[].indexOf,u=!!l&&1/[1].indexOf(1,-0)<0,s=o("indexOf"),c=r("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:u||!s||!c},{indexOf:function(e){return u?l.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},92737:function(e,t,a){a(76887)({target:"Array",stat:!0},{isArray:a(1052)})},66274:function(e,t,a){"use strict";var n=a(74529),i=a(18479),o=a(12077),r=a(45402),l=a(47771),u="Array Iterator",s=r.set,c=r.getterFor(u);e.exports=l(Array,"Array",(function(e,t){s(this,{type:u,target:n(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,a=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==a?{value:n,done:!1}:"values"==a?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},75915:function(e,t,a){var n=a(76887),i=a(67145);n({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},68787:function(e,t,a){"use strict";var n=a(76887),i=a(3610).map,o=a(50568),r=a(65486),l=o("map"),u=r("map");n({target:"Array",proto:!0,forced:!l||!u},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},81876:function(e,t,a){"use strict";var n=a(76887),i=a(46499).left,o=a(34194),r=a(65486),l=o("reduce"),u=r("reduce",{1:0});n({target:"Array",proto:!0,forced:!l||!u},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},11490:function(e,t,a){"use strict";var n=a(76887),i=a(1052),o=[].reverse,r=[1,2];n({target:"Array",proto:!0,forced:String(r)===String(r.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),o.call(this)}})},60186:function(e,t,a){"use strict";var n=a(76887),i=a(10941),o=a(1052),r=a(59413),l=a(43057),u=a(74529),s=a(55449),c=a(99813),d=a(50568),f=a(65486),h=d("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),m=c("species"),g=[].slice,v=Math.max;n({target:"Array",proto:!0,forced:!h||!p},{slice:function(e,t){var a,n,c,d=u(this),f=l(d.length),h=r(e,f),p=r(void 0===t?f:t,f);if(o(d)&&("function"!=typeof(a=d.constructor)||a!==Array&&!o(a.prototype)?i(a)&&null===(a=a[m])&&(a=void 0):a=void 0,a===Array||void 0===a))return g.call(d,h,p);for(n=new(void 0===a?Array:a)(v(p-h,0)),c=0;h<p;h++,c++)h in d&&s(n,c,d[h]);return n.length=c,n}})},36026:function(e,t,a){"use strict";var n=a(76887),i=a(3610).some,o=a(34194),r=a(65486),l=o("some"),u=r("some");n({target:"Array",proto:!0,forced:!l||!u},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},4115:function(e,t,a){"use strict";var n=a(76887),i=a(33916),o=a(89678),r=a(95981),l=a(34194),u=[],s=u.sort,c=r((function(){u.sort(void 0)})),d=r((function(){u.sort(null)})),f=l("sort");n({target:"Array",proto:!0,forced:c||!d||!f},{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},98611:function(e,t,a){"use strict";var n=a(76887),i=a(59413),o=a(68459),r=a(43057),l=a(89678),u=a(64692),s=a(55449),c=a(50568),d=a(65486),f=c("splice"),h=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,m=Math.min,g=9007199254740991,v="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!f||!h},{splice:function(e,t){var a,n,c,d,f,h,_=l(this),y=r(_.length),b=i(e,y),E=arguments.length;if(0===E?a=n=0:1===E?(a=0,n=y-b):(a=E-2,n=m(p(o(t),0),y-b)),y+a-n>g)throw TypeError(v);for(c=u(_,n),d=0;d<n;d++)(f=b+d)in _&&s(c,d,_[f]);if(c.length=n,a<n){for(d=b;d<y-n;d++)h=d+a,(f=d+n)in _?_[h]=_[f]:delete _[h];for(d=y;d>y-n+a;d--)delete _[d-1]}else if(a>n)for(d=y-n;d>b;d--)h=d+a-1,(f=d+n-1)in _?_[h]=_[f]:delete _[h];for(d=0;d<a;d++)_[d+b]=arguments[d+2];return _.length=y-n+a,c}})},73381:function(e,t,a){a(76887)({target:"Function",proto:!0},{bind:a(98308)})},32619:function(e,t,a){var n=a(76887),i=a(626),o=a(95981),r=i("JSON","stringify"),l=/[\uD800-\uDFFF]/g,u=/^[\uD800-\uDBFF]$/,s=/^[\uDC00-\uDFFF]$/,c=function(e,t,a){var n=a.charAt(t-1),i=a.charAt(t+1);return u.test(e)&&!s.test(i)||s.test(e)&&!u.test(n)?"\\u"+e.charCodeAt(0).toString(16):e},d=o((function(){return'"\\udf06\\ud834"'!==r("\udf06\ud834")||'"\\udead"'!==r("\udead")}));r&&n({target:"JSON",stat:!0,forced:d},{stringify:function(e,t,a){var n=r.apply(null,arguments);return"string"==typeof n?n.replace(l,c):n}})},69120:function(e,t,a){var n=a(21899);a(90904)(n.JSON,"JSON",!0)},79413:function(e,t,a){a(90904)(Math,"Math",!0)},49221:function(e,t,a){var n=a(76887),i=a(24420);n({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},53882:function(e,t,a){a(76887)({target:"Object",stat:!0,sham:!a(55746)},{create:a(29290)})},74979:function(e,t,a){var n=a(76887),i=a(55746);n({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperties:a(59938)})},86450:function(e,t,a){var n=a(76887),i=a(55746);n({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:a(65988).f})},46924:function(e,t,a){var n=a(76887),i=a(95981),o=a(74529),r=a(49677).f,l=a(55746),u=i((function(){r(1)}));n({target:"Object",stat:!0,forced:!l||u,sham:!l},{getOwnPropertyDescriptor:function(e,t){return r(o(e),t)}})},88482:function(e,t,a){var n=a(76887),i=a(55746),o=a(31136),r=a(74529),l=a(49677),u=a(55449);n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,a,n=r(e),i=l.f,s=o(n),c={},d=0;s.length>d;)void 0!==(a=i(n,t=s[d++]))&&u(c,t,a);return c}})},17405:function(e,t,a){var n=a(76887),i=a(95981),o=a(89678),r=a(249),l=a(64160);n({target:"Object",stat:!0,forced:i((function(){r(1)})),sham:!l},{getPrototypeOf:function(e){return r(o(e))}})},21724:function(e,t,a){var n=a(76887),i=a(89678),o=a(14771);n({target:"Object",stat:!0,forced:a(95981)((function(){o(1)}))},{keys:function(e){return o(i(e))}})},90108:function(e,t,a){a(76887)({target:"Object",stat:!0},{setPrototypeOf:a(88929)})},55967:function(){},49718:function(e,t,a){var n=a(76887),i=a(81942);n({global:!0,forced:parseFloat!=i},{parseFloat:i})},14038:function(e,t,a){var n=a(76887),i=a(29806);n({global:!0,forced:parseInt!=i},{parseInt:i})},4560:function(e,t,a){"use strict";var n=a(76887),i=a(33916),o=a(69520),r=a(40002),l=a(93091);n({target:"Promise",stat:!0},{allSettled:function(e){var t=this,a=o.f(t),n=a.resolve,u=a.reject,s=r((function(){var a=i(t.resolve),o=[],r=0,u=1;l(e,(function(e){var i=r++,l=!1;o.push(void 0),u++,a.call(t,e).then((function(e){l||(l=!0,o[i]={status:"fulfilled",value:e},--u||n(o))}),(function(e){l||(l=!0,o[i]={status:"rejected",reason:e},--u||n(o))}))})),--u||n(o)}));return s.error&&u(s.value),a.promise}})},44349:function(e,t,a){"use strict";var n=a(76887),i=a(82529),o=a(19297),r=a(95981),l=a(626),u=a(70487),s=a(56584),c=a(99754);n({target:"Promise",proto:!0,real:!0,forced:!!o&&r((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,l("Promise")),a="function"==typeof e;return this.then(a?function(a){return s(t,e()).then((function(){return a}))}:e,a?function(a){return s(t,e()).then((function(){throw a}))}:e)}}),i||"function"!=typeof o||o.prototype.finally||c(o.prototype,"finally",l("Promise").prototype.finally)},98881:function(e,t,a){"use strict";var n,i,o,r,l=a(76887),u=a(82529),s=a(21899),c=a(626),d=a(19297),f=a(99754),h=a(87524),p=a(90904),m=a(94431),g=a(10941),v=a(33916),_=a(5743),y=a(82532),b=a(81302),E=a(93091),w=a(21385),C=a(70487),T=a(42941).set,k=a(66132),S=a(56584),I=a(34845),x=a(69520),A=a(40002),M=a(45402),R=a(37252),N=a(99813),O=a(53385),D=N("species"),L="Promise",P=M.get,j=M.set,B=M.getterFor(L),F=d,H=s.TypeError,W=s.document,U=s.process,z=c("fetch"),G=x.f,V=G,q="process"==y(U),K=!!(W&&W.createEvent&&s.dispatchEvent),Y="unhandledrejection",Z=R(L,(function(){if(!(b(F)!==String(F))){if(66===O)return!0;if(!q&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!F.prototype.finally)return!0;if(O>=51&&/native code/.test(F))return!1;var e=F.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[D]=t,!(e.then((function(){}))instanceof t)})),J=Z||!w((function(e){F.all(e).catch((function(){}))})),X=function(e){var t;return!(!g(e)||"function"!=typeof(t=e.then))&&t},$=function(e,t,a){if(!t.notified){t.notified=!0;var n=t.reactions;k((function(){for(var i=t.value,o=1==t.state,r=0;n.length>r;){var l,u,s,c=n[r++],d=o?c.ok:c.fail,f=c.resolve,h=c.reject,p=c.domain;try{d?(o||(2===t.rejection&&ae(e,t),t.rejection=1),!0===d?l=i:(p&&p.enter(),l=d(i),p&&(p.exit(),s=!0)),l===c.promise?h(H("Promise-chain cycle")):(u=X(l))?u.call(l,f,h):f(l)):h(i)}catch(e){p&&!s&&p.exit(),h(e)}}t.reactions=[],t.notified=!1,a&&!t.rejection&&ee(e,t)}))}},Q=function(e,t,a){var n,i;K?((n=W.createEvent("Event")).promise=t,n.reason=a,n.initEvent(e,!1,!0),s.dispatchEvent(n)):n={promise:t,reason:a},(i=s["on"+e])?i(n):e===Y&&I("Unhandled promise rejection",a)},ee=function(e,t){T.call(s,(function(){var a,n=t.value;if(te(t)&&(a=A((function(){q?U.emit("unhandledRejection",n,e):Q(Y,e,n)})),t.rejection=q||te(t)?2:1,a.error))throw a.value}))},te=function(e){return 1!==e.rejection&&!e.parent},ae=function(e,t){T.call(s,(function(){q?U.emit("rejectionHandled",e):Q("rejectionhandled",e,t.value)}))},ne=function(e,t,a,n){return function(i){e(t,a,i,n)}},ie=function(e,t,a,n){t.done||(t.done=!0,n&&(t=n),t.value=a,t.state=2,$(e,t,!0))},oe=function(e,t,a,n){if(!t.done){t.done=!0,n&&(t=n);try{if(e===a)throw H("Promise can't be resolved itself");var i=X(a);i?k((function(){var n={done:!1};try{i.call(a,ne(oe,e,n,t),ne(ie,e,n,t))}catch(a){ie(e,n,a,t)}})):(t.value=a,t.state=1,$(e,t,!1))}catch(a){ie(e,{done:!1},a,t)}}};Z&&(F=function(e){_(this,F,L),v(e),n.call(this);var t=P(this);try{e(ne(oe,this,t),ne(ie,this,t))}catch(e){ie(this,t,e)}},(n=function(e){j(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(F.prototype,{then:function(e,t){var a=B(this),n=G(C(this,F));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=q?U.domain:void 0,a.parent=!0,a.reactions.push(n),0!=a.state&&$(this,a,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n,t=P(e);this.promise=e,this.resolve=ne(oe,e,t),this.reject=ne(ie,e,t)},x.f=G=function(e){return e===F||e===o?new i(e):V(e)},u||"function"!=typeof d||(r=d.prototype.then,f(d.prototype,"then",(function(e,t){var a=this;return new F((function(e,t){r.call(a,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof z&&l({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return S(F,z.apply(s,arguments))}}))),l({global:!0,wrap:!0,forced:Z},{Promise:F}),p(F,L,!1,!0),m(L),o=c(L),l({target:L,stat:!0,forced:Z},{reject:function(e){var t=G(this);return t.reject.call(void 0,e),t.promise}}),l({target:L,stat:!0,forced:u||Z},{resolve:function(e){return S(u&&this===o?F:this,e)}}),l({target:L,stat:!0,forced:J},{all:function(e){var t=this,a=G(t),n=a.resolve,i=a.reject,o=A((function(){var a=v(t.resolve),o=[],r=0,l=1;E(e,(function(e){var u=r++,s=!1;o.push(void 0),l++,a.call(t,e).then((function(e){s||(s=!0,o[u]=e,--l||n(o))}),i)})),--l||n(o)}));return o.error&&i(o.value),a.promise},race:function(e){var t=this,a=G(t),n=a.reject,i=A((function(){var i=v(t.resolve);E(e,(function(e){i.call(t,e).then(a.resolve,n)}))}));return i.error&&n(i.value),a.promise}})},7453:function(e,t,a){var n=a(76887),i=a(626),o=a(33916),r=a(96059),l=a(10941),u=a(29290),s=a(98308),c=a(95981),d=i("Reflect","construct"),f=c((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),h=!c((function(){d((function(){}))})),p=f||h;n({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(e,t){o(e),r(t);var a=arguments.length<3?e:o(arguments[2]);if(h&&!f)return d(e,t,a);if(e==a){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(s.apply(e,n))}var i=a.prototype,c=u(l(i)?i:Object.prototype),p=Function.apply.call(e,c,t);return l(p)?p:c}})},42355:function(e,t,a){var n=a(76887),i=a(10941),o=a(96059),r=a(47457),l=a(49677),u=a(249);n({target:"Reflect",stat:!0},{get:function e(t,a){var n,s,c=arguments.length<3?t:arguments[2];return o(t)===c?t[a]:(n=l.f(t,a))?r(n,"value")?n.value:void 0===n.get?void 0:n.get.call(c):i(s=u(t))?e(s,a,c):void 0}})},69008:function(e,t,a){"use strict";var n=a(24683),i=a(85616);e.exports=n("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},23809:function(e,t,a){var n=a(76887),i=a(59413),o=String.fromCharCode,r=String.fromCodePoint;n({target:"String",stat:!0,forced:!!r&&1!=r.length},{fromCodePoint:function(e){for(var t,a=[],n=arguments.length,r=0;n>r;){if(t=+arguments[r++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");a.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return a.join("")}})},11035:function(e,t,a){"use strict";var n=a(76887),i=a(70344),o=a(48219);n({target:"String",proto:!0,forced:!a(67772)("includes")},{includes:function(e){return!!~String(o(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},77971:function(e,t,a){"use strict";var n=a(64620).charAt,i=a(45402),o=a(47771),r="String Iterator",l=i.set,u=i.getterFor(r);o(String,"String",(function(e){l(this,{type:r,string:String(e),index:0})}),(function(){var e,t=u(this),a=t.string,i=t.index;return i>=a.length?{value:void 0,done:!0}:(e=n(a,i),t.index+=e.length,{value:e,done:!1})}))},57398:function(e,t,a){"use strict";var n=a(76887),i=a(74853).trim;n({target:"String",proto:!0,forced:a(93093)("trim")},{trim:function(){return i(this)}})},8555:function(e,t,a){a(66349)("asyncIterator")},52615:function(){},21732:function(e,t,a){a(66349)("hasInstance")},35903:function(e,t,a){a(66349)("isConcatSpreadable")},1825:function(e,t,a){a(66349)("iterator")},35824:function(e,t,a){"use strict";var n=a(76887),i=a(21899),o=a(626),r=a(82529),l=a(55746),u=a(72497),s=a(32302),c=a(95981),d=a(47457),f=a(1052),h=a(10941),p=a(96059),m=a(89678),g=a(74529),v=a(46935),_=a(31887),y=a(29290),b=a(14771),E=a(10946),w=a(684),C=a(87857),T=a(49677),k=a(65988),S=a(36760),I=a(32029),x=a(99754),A=a(68726),M=a(44262),R=a(27748),N=a(99418),O=a(99813),D=a(11477),L=a(66349),P=a(90904),j=a(45402),B=a(3610).forEach,F=M("hidden"),H="Symbol",W=O("toPrimitive"),U=j.set,z=j.getterFor(H),G=Object.prototype,V=i.Symbol,q=o("JSON","stringify"),K=T.f,Y=k.f,Z=w.f,J=S.f,X=A("symbols"),$=A("op-symbols"),Q=A("string-to-symbol-registry"),ee=A("symbol-to-string-registry"),te=A("wks"),ae=i.QObject,ne=!ae||!ae.prototype||!ae.prototype.findChild,ie=l&&c((function(){return 7!=y(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(e,t,a){var n=K(G,t);n&&delete G[t],Y(e,t,a),n&&e!==G&&Y(G,t,n)}:Y,oe=function(e,t){var a=X[e]=y(V.prototype);return U(a,{type:H,tag:e,description:t}),l||(a.description=t),a},re=s?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof V},le=function(e,t,a){e===G&&le($,t,a),p(e);var n=v(t,!0);return p(a),d(X,n)?(a.enumerable?(d(e,F)&&e[F][n]&&(e[F][n]=!1),a=y(a,{enumerable:_(0,!1)})):(d(e,F)||Y(e,F,_(1,{})),e[F][n]=!0),ie(e,n,a)):Y(e,n,a)},ue=function(e,t){p(e);var a=g(t),n=b(a).concat(fe(a));return B(n,(function(t){l&&!se.call(a,t)||le(e,t,a[t])})),e},se=function(e){var t=v(e,!0),a=J.call(this,t);return!(this===G&&d(X,t)&&!d($,t))&&(!(a||!d(this,t)||!d(X,t)||d(this,F)&&this[F][t])||a)},ce=function(e,t){var a=g(e),n=v(t,!0);if(a!==G||!d(X,n)||d($,n)){var i=K(a,n);return!i||!d(X,n)||d(a,F)&&a[F][n]||(i.enumerable=!0),i}},de=function(e){var t=Z(g(e)),a=[];return B(t,(function(e){d(X,e)||d(R,e)||a.push(e)})),a},fe=function(e){var t=e===G,a=Z(t?$:g(e)),n=[];return B(a,(function(e){!d(X,e)||t&&!d(G,e)||n.push(X[e])})),n};(u||(x((V=function(){if(this instanceof V)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=N(e),a=function(e){this===G&&a.call($,e),d(this,F)&&d(this[F],t)&&(this[F][t]=!1),ie(this,t,_(1,e))};return l&&ne&&ie(G,t,{configurable:!0,set:a}),oe(t,e)}).prototype,"toString",(function(){return z(this).tag})),x(V,"withoutSetter",(function(e){return oe(N(e),e)})),S.f=se,k.f=le,T.f=ce,E.f=w.f=de,C.f=fe,D.f=function(e){return oe(O(e),e)},l&&(Y(V.prototype,"description",{configurable:!0,get:function(){return z(this).description}}),r||x(G,"propertyIsEnumerable",se,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:V}),B(b(te),(function(e){L(e)})),n({target:H,stat:!0,forced:!u},{for:function(e){var t=String(e);if(d(Q,t))return Q[t];var a=V(t);return Q[t]=a,ee[a]=t,a},keyFor:function(e){if(!re(e))throw TypeError(e+" is not a symbol");if(d(ee,e))return ee[e]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),n({target:"Object",stat:!0,forced:!u,sham:!l},{create:function(e,t){return void 0===t?y(e):ue(y(e),t)},defineProperty:le,defineProperties:ue,getOwnPropertyDescriptor:ce}),n({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:de,getOwnPropertySymbols:fe}),n({target:"Object",stat:!0,forced:c((function(){C.f(1)}))},{getOwnPropertySymbols:function(e){return C.f(m(e))}}),q)&&n({target:"JSON",stat:!0,forced:!u||c((function(){var e=V();return"[null]"!=q([e])||"{}"!=q({a:e})||"{}"!=q(Object(e))}))},{stringify:function(e,t,a){for(var n,i=[e],o=1;arguments.length>o;)i.push(arguments[o++]);if(n=t,(h(t)||void 0!==e)&&!re(e))return f(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!re(t))return t}),i[1]=t,q.apply(null,i)}});V.prototype[W]||I(V.prototype,W,V.prototype.valueOf),P(V,H),R[F]=!0},45915:function(e,t,a){a(66349)("matchAll")},28394:function(e,t,a){a(66349)("match")},61766:function(e,t,a){a(66349)("replace")},62737:function(e,t,a){a(66349)("search")},89911:function(e,t,a){a(66349)("species")},74315:function(e,t,a){a(66349)("split")},63131:function(e,t,a){a(66349)("toPrimitive")},64714:function(e,t,a){a(66349)("toStringTag")},70659:function(e,t,a){a(66349)("unscopables")},54334:function(e,t,a){"use strict";var n,i=a(21899),o=a(87524),r=a(21647),l=a(24683),u=a(8850),s=a(10941),c=a(45402).enforce,d=a(38019),f=!i.ActiveXObject&&"ActiveXObject"in i,h=Object.isExtensible,p=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},m=e.exports=l("WeakMap",p,u);if(d&&f){n=u.getConstructor(p,"WeakMap",!0),r.REQUIRED=!0;var g=m.prototype,v=g.delete,_=g.has,y=g.get,b=g.set;o(g,{delete:function(e){if(s(e)&&!h(e)){var t=c(this);return t.frozen||(t.frozen=new n),v.call(this,e)||t.frozen.delete(e)}return v.call(this,e)},has:function(e){if(s(e)&&!h(e)){var t=c(this);return t.frozen||(t.frozen=new n),_.call(this,e)||t.frozen.has(e)}return _.call(this,e)},get:function(e){if(s(e)&&!h(e)){var t=c(this);return t.frozen||(t.frozen=new n),_.call(this,e)?y.call(this,e):t.frozen.get(e)}return y.call(this,e)},set:function(e,t){if(s(e)&&!h(e)){var a=c(this);a.frozen||(a.frozen=new n),_.call(this,e)?b.call(this,e,t):a.frozen.set(e,t)}else b.call(this,e,t);return this}})}},28783:function(e,t,a){a(66349)("asyncDispose")},43975:function(e,t,a){a(66349)("dispose")},46774:function(e,t,a){a(66349)("observable")},80620:function(e,t,a){a(66349)("patternMatch")},36172:function(e,t,a){a(66349)("replaceAll")},4629:function(e,t,a){"use strict";var n=a(76887),i=a(82529),o=a(28984);n({target:"WeakMap",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},26207:function(e,t,a){a(76887)({target:"WeakMap",stat:!0},{from:a(83590)})},13215:function(e,t,a){a(76887)({target:"WeakMap",stat:!0},{of:a(45226)})},4055:function(e,t,a){"use strict";a(76887)({target:"WeakMap",proto:!0,real:!0,forced:a(82529)},{upsert:a(20716)})},7634:function(e,t,a){a(66274);var n=a(63281),i=a(21899),o=a(9697),r=a(32029),l=a(12077),u=a(99813)("toStringTag");for(var s in n){var c=i[s],d=c&&c.prototype;d&&o(d)!==u&&r(d,u,s),l[s]=l.Array}},71249:function(e,t,a){var n=a(76887),i=a(21899),o=a(2861),r=[].slice,l=function(e){return function(t,a){var n=arguments.length>2,i=n?r.call(arguments,2):void 0;return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,a)}};n({global:!0,bind:!0,forced:/MSIE .\./.test(o)},{setTimeout:l(i.setTimeout),setInterval:l(i.setInterval)})},27698:function(e,t,a){var n=a(54493);e.exports=n},83363:function(e,t,a){var n=a(24034);e.exports=n},49216:function(e,t,a){var n=a(99324);e.exports=n},56668:function(e,t,a){var n=a(95909);e.exports=n},74719:function(e,t,a){var n=a(14423);e.exports=n},28196:function(e,t,a){var n=a(16246);e.exports=n},8065:function(e,t,a){var n=a(56043);e.exports=n},11955:function(e,t,a){var n=a(2480);e.exports=n},96064:function(e,t,a){var n=a(7147);e.exports=n},61577:function(e,t,a){var n=a(32236);e.exports=n},46279:function(e,t,a){a(7634);var n=a(49216),i=a(9697),o=Array.prototype,r={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.forEach;return e===o||e instanceof Array&&t===o.forEach||r.hasOwnProperty(i(e))?n:t}},33778:function(e,t,a){var n=a(58557);e.exports=n},19373:function(e,t,a){var n=a(34570);e.exports=n},73819:function(e,t,a){a(7634);var n=a(56668),i=a(9697),o=Array.prototype,r={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.keys;return e===o||e instanceof Array&&t===o.keys||r.hasOwnProperty(i(e))?n:t}},11022:function(e,t,a){var n=a(57564);e.exports=n},61798:function(e,t,a){var n=a(88287);e.exports=n},52527:function(e,t,a){var n=a(68025);e.exports=n},28427:function(e,t,a){var n=a(91060);e.exports=n},82073:function(e,t,a){var n=a(69601);e.exports=n},45286:function(e,t,a){var n=a(28299);e.exports=n},62856:function(e,t,a){var n=a(69355);e.exports=n},2348:function(e,t,a){var n=a(18339);e.exports=n},76361:function(e,t,a){var n=a(62774);e.exports=n},62908:function(e,t,a){a(7634);var n=a(74719),i=a(9697),o=Array.prototype,r={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.values;return e===o||e instanceof Array&&t===o.values||r.hasOwnProperty(i(e))?n:t}},8933:function(e,t,a){var n=a(84426);e.exports=n},63383:function(e,t,a){var n=a(45999);e.exports=n},14471:function(e,t,a){var n=a(35254);e.exports=n},57396:function(e,t,a){var n=a(7702);e.exports=n},41910:function(e,t,a){var n=a(48171);e.exports=n},79427:function(e,t,a){var n=a(286);e.exports=n},62857:function(e,t,a){var n=a(92766);e.exports=n},9534:function(e,t,a){var n=a(30498);e.exports=n},23059:function(e,t,a){var n=a(48494);e.exports=n},66877:function(e,t,a){var n=a(7579);e.exports=n},74888:function(e,t,a){var n=a(98524);e.exports=n},27460:function(e,t,a){var n=a(52956);e.exports=n},61895:function(e,t,a){var n=a(14983);e.exports=n},43474:function(e,t,a){a(71249);var n=a(54058);e.exports=n.setInterval},27989:function(e,t,a){a(71249);var n=a(54058);e.exports=n.setTimeout},5519:function(e,t,a){var n=a(76998);e.exports=n},21194:function(e,t,a){var n=a(46614);e.exports=n},92547:function(e,t,a){var n=a(57473);e.exports=n},35774:function(e,t,a){var n=a(62978);e.exports=n},53879:function(e,t,a){var n=a(87236),i=a(6189),o={float:"cssFloat"},r=a(93379);function l(e,t,a){var l=o[t];if(void 0===l&&(l=function(e){var t=i(e),a=n(t);return o[t]=o[e]=o[a]=a,a}(t)),l){if(void 0===a)return e.style[l];e.style[l]=r(l,a)}}function u(e,t){for(var a in t)t.hasOwnProperty(a)&&l(e,a,t[a])}function s(){2===arguments.length?"string"==typeof arguments[1]?arguments[0].style.cssText=arguments[1]:u(arguments[0],arguments[1]):l(arguments[0],arguments[1],arguments[2])}e.exports=s,e.exports.set=s,e.exports.get=function(e,t){return Array.isArray(t)?t.reduce((function(t,a){return t[a]=l(e,a||""),t}),{}):l(e,t||"")}},64063:function(e){"use strict";e.exports=function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var n,i,o;if(Array.isArray(t)){if((n=t.length)!=a.length)return!1;for(i=n;0!=i--;)if(!e(t[i],a[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(a,o[i]))return!1;for(i=n;0!=i--;){var r=o[i];if(!e(t[r],a[r]))return!1}return!0}return t!=t&&a!=a}},89766:function(e,t,a){var n={EventEmitter:a(47333),EmitterSubscription:a(86584)};e.exports=n},47333:function(e,t,a){"use strict";var n=a(86584),i=a(68231),o=a(60139),r=a(73759),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._subscriber=new i,this._currentSubscription=null}return e.prototype.addListener=function(e,t,a){return this._subscriber.addSubscription(e,new n(this._subscriber,t,a))},e.prototype.once=function(e,t,a){var n=this;return this.addListener(e,(function(){n.removeCurrentListener(),t.apply(a,arguments)}))},e.prototype.removeAllListeners=function(e){this._subscriber.removeAllSubscriptions(e)},e.prototype.removeCurrentListener=function(){this._currentSubscription||r(!1),this._subscriber.removeSubscription(this._currentSubscription)},e.prototype.listeners=function(e){var t=this._subscriber.getSubscriptionsForType(e);return t?t.filter(o.thatReturnsTrue).map((function(e){return e.listener})):[]},e.prototype.emit=function(e){var t=this._subscriber.getSubscriptionsForType(e);if(t){for(var a=Object.keys(t),n=0;n<a.length;n++){var i=a[n],o=t[i];o&&(this._currentSubscription=o,this.__emitToSubscription.apply(this,[o].concat(Array.prototype.slice.call(arguments))))}this._currentSubscription=null}},e.prototype.__emitToSubscription=function(e,t){var a=Array.prototype.slice.call(arguments,2);e.listener.apply(e.context,a)},e}();e.exports=l},86584:function(e,t,a){"use strict";var n=function(e){function t(a,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,a),this.listener=n,this.context=i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(a(27024));e.exports=n},27024:function(e){"use strict";var t=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subscriber=t}return e.prototype.remove=function(){this.subscriber&&(this.subscriber.removeSubscription(this),this.subscriber=null)},e}();e.exports=t},68231:function(e,t,a){"use strict";var n=a(73759),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._subscriptionsForType={},this._currentSubscription=null}return e.prototype.addSubscription=function(e,t){t.subscriber!==this&&n(!1),this._subscriptionsForType[e]||(this._subscriptionsForType[e]=[]);var a=this._subscriptionsForType[e].length;return this._subscriptionsForType[e].push(t),t.eventType=e,t.key=a,t},e.prototype.removeAllSubscriptions=function(e){void 0===e?this._subscriptionsForType={}:delete this._subscriptionsForType[e]},e.prototype.removeSubscription=function(e){var t=e.eventType,a=e.key,n=this._subscriptionsForType[t];n&&delete n[a]},e.prototype.getSubscriptionsForType=function(e){return this._subscriptionsForType[e]},e}();e.exports=i},60139:function(e){"use strict";function t(e){return function(){return e}}var a=function(){};a.thatReturns=t,a.thatReturnsFalse=t(!1),a.thatReturnsTrue=t(!0),a.thatReturnsNull=t(null),a.thatReturnsThis=function(){return this},a.thatReturnsArgument=function(e){return e},e.exports=a},73759:function(e){"use strict";e.exports=function(e,t,a,n,i,o,r,l){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[a,n,i,o,r,l],c=0;(u=new Error(t.replace(/%s/g,(function(){return s[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},8679:function(e,t,a){"use strict";var n=a(59864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function u(e){return n.isMemo(e)?r:l[e.$$typeof]||i}l[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[n.Memo]=r;var s=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,a,n){if("string"!=typeof a){if(p){var i=h(a);i&&i!==p&&e(t,i,n)}var r=c(a);d&&(r=r.concat(d(a)));for(var l=u(t),m=u(a),g=0;g<r.length;++g){var v=r[g];if(!(o[v]||n&&n[v]||m&&m[v]||l&&l[v])){var _=f(a,v);try{s(t,v,_)}catch(e){}}}}return t}},84470:function(e,t,a){"use strict";a.r(t),t.default={main:"main_347",__mobile:"__mobile_74f",text:"text_1bc"}},31386:function(e,t,a){"use strict";a.r(t),t.default={avatar:"avatar_fd5",_chatStyle:"_chatStyle_92c",avatarItem:"avatarItem_e58",avatarListImg:"avatarListImg_98f",_width1:"_width1_ec2",_width2:"_width2_2a3",_width3:"_width3_7db",_connected:"_connected_ff4",_expanded:"_expanded_cdf",lightAvatar:"lightAvatar_140",darkAvatar:"darkAvatar_6a5",avatarImg:"avatarImg_ddf",_mobile:"_mobile_54b",_tablet:"_tablet_74a",avatarList:"avatarList_a4a",dotsItem:"dotsItem_152",_light:"_light_700",_dark:"_dark_34b",botIcon:"botIcon_60b",__header:"__header_036",img:"img_ce4"}},54782:function(e,t,a){"use strict";a.r(t),t.default={wrap:"wrap_9ae",__minified:"__minified_bb5",header:"header_920",body:"body_ba4",__expanded:"__expanded_a53",__collapsed:"__collapsed_4f3",popupContainer:"popupContainer_559"}},67752:function(e,t,a){"use strict";a.r(t),t.default={main:"main_e96",__animateToChat:"__animateToChat_493",logoBox:"logoBox_555",calltext:"calltext_a5f",_fade:"_fade_8f7",callText:"callText_d30",__dark:"__dark_8fe",_connected:"_connected_146",_hidden:"_hidden_59b",logoIcon:"logoIcon_0ea",callEndIcon:"callEndIcon_07e",callEndBox:"callEndBox_44f",time:"time_f91",__nologo:"__nologo_f01",eulaHeaderText:"eulaHeaderText_821",pattern:"pattern_764"}},99249:function(e,t,a){"use strict";a.r(t),t.default={main:"main_d08",text:"text_03d",callBox:"callBox_8e0",waitBox:"waitBox_fb3",waitText:"waitText_ada",timerBox:"timerBox_84d",count:"count_127",connectBox:"connectBox_abc",connectIcon:"connectIcon_7ea",pin:"pin_93d"}},44375:function(e,t,a){"use strict";a.r(t),t.default={main:"main_00a",__animateToChat:"__animateToChat_65f",logoBox:"logoBox_88d",calltext:"calltext_d69",_fade:"_fade_a34",callText:"callText_3a0",__dark:"__dark_9fb",logoIcon:"logoIcon_6ef",callEndIcon:"callEndIcon_b49",callEndBox:"callEndBox_7e7",time:"time_f22",__nologo:"__nologo_46b",eulaHeaderText:"eulaHeaderText_bda",pattern:"pattern_302"}},97034:function(e,t,a){"use strict";a.r(t),t.default={wrap:"wrap_fb1",container:"container_102",_tablet:"_tablet_34c",_portrait:"_portrait_d21",header:"header_de3",_cw_call_end:"_cw_call_end_5b3",_cw_error:"_cw_error_c68",_cw_wait:"_cw_wait_293",_cw_connecting:"_cw_connecting_253",_cw_connected:"_cw_connected_e63",_show:"_show_bbe",button:"button_c9a",phoneNumber:"phoneNumber_bbb",iconOk:"iconOk_55c",connectingWrap:"connectingWrap_117",connectingButton:"connectingButton_fd8",connectingIconWrap:"connectingIconWrap_d31",animationBtn:"animationBtn_81d",connectingLogo:"connectingLogo_5c2",clock:"clock_10c",ms:"ms_3a6",fives:"fives_17a",seconds:"seconds_d4f",line:"line_077",timer:"timer_1f8",copyContainer:"copyContainer_2c4"}},55160:function(e,t,a){"use strict";a.r(t),t.default={main:"main_75d",__animateToChat:"__animateToChat_247",formBox:"formBox_331",inputBox:"inputBox_36e",bottomBox:"bottomBox_324",link:"link_337",waitBox:"waitBox_c40",timerTextTop:"timerTextTop_42a",_ad:"_ad_452",timerTextBottom:"timerTextBottom_d7d",logoBox:"logoBox_c18",logoIcon:"logoIcon_ea0",timerBox:"timerBox_7b7",_show:"_show_66b",callLoader:"callLoader_273",_gt50:"_gt50_daf",callCircle:"callCircle_4f2",_fill:"_fill_1f4",callActionTimer:"callActionTimer_4b4",callTime:"callTime_118",connectBox:"connectBox_106",iconConnecting:"iconConnecting_014",buttonConnected:"buttonConnected_9f9",iconSelect:"iconSelect_a0c",headerBox:"headerBox_48c",iconConnectBox:"iconConnectBox_ded",connectIcon:"connectIcon_e88"}},76969:function(e,t,a){"use strict";a.r(t),t.default={pinBox:"pinBox_30a",pinBoxBig:"pinBoxBig_4bc",pin2:"pin2_6c1",pin3:"pin3_fdc",pin1:"pin1_d55",ochange:"ochange_7a0"}},60410:function(e,t,a){"use strict";a.r(t),t.default={header:"header_c8f",body:"body_18c",bodyInfo:"bodyInfo_927",bodyInfoChat:"bodyInfoChat_89f",bodyInfoChatText:"bodyInfoChatText_7da",bodyInfoText:"bodyInfoText_cdb",periodSelectWrap:"periodSelectWrap_bfa",inputPhone:"inputPhone_3df",successHeaderIcon:"successHeaderIcon_4f7",tryAgainText:"tryAgainText_fac",tryAgainLink:"tryAgainLink_183"}},78066:function(e,t,a){"use strict";a.r(t),t.default={body:"body_db6",message:"message_253",classNameInputPhone:"classNameInputPhone_adc"}},74983:function(e,t,a){"use strict";a.r(t),t.default={titleMessage:"titleMessage_062",statusInfo:"statusInfo_74b",text:"text_113",statusInfoIcon:"statusInfoIcon_5e7",successIcon:"successIcon_69d",failIcon:"failIcon_36f",tryAgainLink:"tryAgainLink_9ec"}},75676:function(e,t,a){"use strict";a.r(t),t.default={container:"container_ed4",inputWrap:"inputWrap_95e",countryMobileWrap:"countryMobileWrap_918",iconSelect:"iconSelect_a42",__alone:"__alone_38d",flagIcon:"flagIcon_827",flagWrap:"flagWrap_2de",list:"list_bb1",flagArrow:"flagArrow_3fd",phoneCodeWrap:"phoneCodeWrap_8cd",phoneInput:"phoneInput_792",countryWrap:"countryWrap_08a",countrySelect:"countrySelect_0af",countryTabletSelect:"countryTabletSelect_61e",rail:"rail_33d",_isScroll:"_isScroll_afb",listItem:"listItem_7df",countryName:"countryName_547",countryCode:"countryCode_977",__singleMod:"__singleMod_f3c",__error:"__error_3e7",__focused:"__focused_3ed",_grey:"_grey_bc0",_blue:"_blue_d3f",__mobile:"__mobile_1b6",__inFormMod:"__inFormMod_5cb",__smallTextSize:"__smallTextSize_87d"}},16552:function(e,t,a){"use strict";a.r(t),t.default={wrap:"wrap_ad7",_show:"_show_1c6",button:"button_74d",iconWrap:"iconWrap_577",animationBtn:"animationBtn_20e",logoCallback:"logoCallback_496"}},20608:function(e,t,a){"use strict";a.r(t),t.default={main:"main_187",__static:"__static_67e",header:"header_b92",body:"body_394",noShadow:"noShadow_7f9",mobile:"mobile_9cc",input:"input_1b2",popup:"popup_2cc",show:"show_498",popupFull:"popupFull_d8b",hide:"hide_296",headerBox:"headerBox_bca",fadeIn:"fadeIn_71e",fadeOut:"fadeOut_e9c",loading:"loading_222"}},54291:function(e,t,a){"use strict";a.r(t),t.default={wrap:"wrap_3cd",__call:"__call_58c",__show:"__show_0a8",closeButton:"closeButton_f53",closeIcon:"closeIcon_505"}},2090:function(e,t,a){"use strict";a.r(t),t.default={button:"button_35f",_disabled:"_disabled_3ab",_medium:"_medium_c8d",text:"text_410",_blue:"_blue_0fc",_grey:"_grey_ebd",__ios:"__ios_cbd",inputButton:"inputButton_5db",__mobileChat:"__mobileChat_192",buttonIcon:"buttonIcon_428",_green:"_green_939",_error:"_error_e2d"}},97865:function(e,t,a){"use strict";a.r(t),t.default={closeButton:"closeButton_a46",closeIcon:"closeIcon_91d",action:"action_2bb",drag:"drag_42c",__call:"__call_420",popupClose:"popupClose_d41"}},22259:function(e,t,a){"use strict";a.r(t),t.default={fieldWrap:"fieldWrap_c56",hint:"hint_94e",inputField:"inputField_c12",__bluredEmpty:"__bluredEmpty_743",_grey:"_grey_36b",_blue:"_blue_f66",_error:"_error_509",__textarea:"__textarea_b99",_disabled:"_disabled_52f",__inputChat:"__inputChat_195",__emailChat:"__emailChat_022",__mobile:"__mobile_200",__captcha:"__captcha_9d0",__valid:"__valid_a61",currentItem:"currentItem_455",_open:"_open_ed1",selectPopup:"selectPopup_15b",itemSelected:"itemSelected_767",item:"item_d74",__scroll:"__scroll_31d",__ios:"__ios_d62",iconSelect:"iconSelect_629",rail:"rail_7f7",iconValid:"iconValid_2a8"}},31636:function(e,t,a){"use strict";a.r(t),t.default={scrollForm:"scrollForm_ca2",__ad:"__ad_bdf",__hide:"__hide_ee2",__mobile:"__mobile_7e5",textToForm:"textToForm_84a"}},71155:function(e,t,a){"use strict";a.r(t),t.default={copyright:"copyright_09f",_bottom:"_bottom_57b",__ru:"__ru_57e",_right:"_right_5e3",_left:"_left_56b",hide:"hide_e52",logoIcon:"logoIcon_ebf",link:"link_da8",text:"text_394",corner:"corner_c2f",chatCopyright:"chatCopyright_700",__tablet:"__tablet_2e9",__call:"__call_c62",__mobile:"__mobile_05e",__chat:"__chat_11a",__offline:"__offline_da3",__top:"__top_096",__hidden:"__hidden_73c",customWrap:"customWrap_7a6"}},11897:function(e,t,a){"use strict";a.r(t),t.default={main:"main_fa8",__logo:"__logo_36e",__mobile:"__mobile_2c1",department:"department_ac3",circle:"circle_4bf",_green:"_green_7e7",_grey:"_grey_068",_blue:"_blue_93a",text:"text_96b"}},50712:function(e,t,a){"use strict";a.r(t),t.default={wrap:"wrap_943",__short:"__short_51b",__active:"__active_a9e"}},16083:function(e,t,a){"use strict";a.r(t),t.default={emojiIcon:"emojiIcon_13e",emojiMessages:"emojiMessages_341",__alone:"__alone_37b",iconSuccess:"iconSuccess_c37",emojiIconWrap:"emojiIconWrap_0ea",icon:"icon_8db",botAvatar:"botAvatar_bd2"}},43013:function(e,t,a){"use strict";a.r(t),t.default={eulaPopup:"eulaPopup_7aa",_mobile:"_mobile_ef5",__static:"__static_cfb",__call:"__call_fcf",_tablet:"_tablet_ade",text:"text_abb",title:"title_71e",formText:"formText_d8f",popupContent:"popupContent_272",popupCheckbox:"popupCheckbox_9d7","show-popup":"show-popup_bf4",__offlineForm:"__offlineForm_196",checkbox:"checkbox_698",_checked:"_checked_4af",_grey:"_grey_d19",_blue:"_blue_299",cancel:"cancel_ef4",scrollText:"scrollText_7b2",__hidden:"__hidden_94c",textBlock:"textBlock_37b",rail:"rail_73b"}},27816:function(e,t,a){"use strict";a.r(t),t.default={main:"main_520",__fadeIn:"__fadeIn_3e1",buttonsBox:"buttonsBox_808",button:"button_90a",iconUp:"iconUp_fd7",iconDown:"iconDown_779",text:"text_115",positiveBox:"positiveBox_d0a",cancelBox:"cancelBox_859",cancel:"cancel_404",close:"close_33f",closeIcon:"closeIcon_32d"}},70692:function(e,t,a){"use strict";a.r(t),t.default={wrap:"wrap_b3e",__disabled:"__disabled_319",iconFile:"iconFile_b59",iconAttach2:"iconAttach2_7f5",uploadFwrap:"uploadFwrap_3af",uploadButton:"uploadButton_3c7",__uploading:"__uploading_409"}},22755:function(e,t,a){"use strict";a.r(t),t.default={main:"main_00f"}},30769:function(e,t,a){"use strict";a.r(t),t.default={headerBox:"headerBox_5db",__mobile:"__mobile_cf7",hideCorners:"hideCorners_0aa",header:"header_68f",_fadeOut:"_fadeOut_ea9",info:"info_0a1",_expanded:"_expanded_90b",_light:"_light_16f",title:"title_849",agentName:"agentName_580",_dark:"_dark_121",_offline:"_offline_52c",callMe:"callMe_410",_mobile:"_mobile_cb3",__ios:"__ios_a2b",headerContainer:"headerContainer_070",_tablet:"_tablet_a0a",closeBox:"closeBox_aa4",_callEnabled:"_callEnabled_b7e",callIcon:"callIcon_ab6","_fade-in":"_fade-in_d39","_fade-out":"_fade-out_4f3",__url:"__url_4bf",mobileBack:"mobileBack_467",pattern:"pattern_7ef",visibilityHack:"visibilityHack_a8b"}},8126:function(e,t,a){"use strict";a.r(t),t.default={headerBox:"headerBox_e03",__mobile:"__mobile_7ec",hideCorners:"hideCorners_f2d",header:"header_1c5",_fadeOut:"_fadeOut_26e",info:"info_b1d",_expanded:"_expanded_ee5",_light:"_light_b6b",title:"title_3d3",agentName:"agentName_4aa",_dark:"_dark_f80",_offline:"_offline_861",callMe:"callMe_d96",_mobile:"_mobile_520",__ios:"__ios_84c",headerContainer:"headerContainer_82c",_tablet:"_tablet_e64",closeBox:"closeBox_c8f",_callEnabled:"_callEnabled_35f",callIcon:"callIcon_742",showContent:"showContent_368","_fade-in":"_fade-in_260","_fade-out":"_fade-out_fb3",__agents:"__agents_a18",__call:"__call_09a",mobileBack:"mobileBack_eb8",pattern:"pattern_146",visibilityHack:"visibilityHack_c49"}},90179:function(e,t,a){"use strict";a.r(t),t.default={header:"header_3a0",backButton:"backButton_bfb",title:"title_27f",logo:"logo_9d3",iconStartChat:"iconStartChat_a69",__dark:"__dark_407",pattern:"pattern_88a"}},53401:function(e,t,a){"use strict";a.r(t),t.default={input:"input_454",__mobile:"__mobile_960",tdTextarea:"tdTextarea_82c",inputField:"inputField_568",sendButton:"sendButton_8db",__filedisabled:"__filedisabled_97d",windowsPhone:"windowsPhone_124","input-field":"input-field_b7a",socialPanel:"socialPanel_6b6",iconEmoji:"iconEmoji_a6b"}},78162:function(e,t,a){"use strict";a.r(t),t.default={iconEmoji:"iconEmoji_870",__disabled:"__disabled_354",emojiWrap:"emojiWrap_d1b"}},76645:function(e,t,a){"use strict";a.r(t),t.default={iconPanel:"iconPanel_f2d",__mobile:"__mobile_10d"}},53597:function(e,t,a){"use strict";a.r(t),t.default={popup:"popup_103",hidePopup:"hidePopup_142",show:"show_073",showPopup:"showPopup_fa2",childrenWrap:"childrenWrap_aad",pip:"pip_292"}},48305:function(e,t,a){"use strict";a.r(t),t.default={iconMenu:"iconMenu_bc8",__disabled:"__disabled_319",menuWrap:"menuWrap_83d",menu:"menu_111",hidePopup:"hidePopup_9bd",menuItem:"menuItem_66d",pip:"pip_d5d",show:"show_28f",showPopup:"showPopup_dfa"}},30890:function(e,t,a){"use strict";a.r(t),t.default={main:"main_114",avatarBox:"avatarBox_71f",iconAnonymous:"iconAnonymous_792",caption:"caption_cbf",introducePopup:"introducePopup_10f",introduceText:"introduceText_d4b",popupContent:"popupContent_9c2",__mobile:"__mobile_003",captchaWrap:"captchaWrap_15d",captchaImg:"captchaImg_ba0",reloadCaptcha:"reloadCaptcha_189",refreshIcon:"refreshIcon_565"}},15937:function(e,t,a){"use strict";a.r(t),t.default={label:"label_11d",leafCont:"leafCont_614",_bottom:"_bottom_87b",_pad0:"_pad0_d6f",_right:"_right_787",_left:"_left_2bb",_designer:"_designer_c86",_init:"_init_839",_pad50:"_pad50_166",_pad100:"_pad100_b99",lbContainer:"lbContainer_821",copyContainer:"copyContainer_761",text:"text_fa9",_noAd:"_noAd_fde",labelRight:"labelRight_719",_chat:"_chat_941",_offline:"_offline_5ae",hoverl:"hoverl_18a",_custom:"_custom_f51",copy:"copy_3ca",leafBottom:"leafBottom_078",labelStatus:"labelStatus_b23",pattern:"pattern_042",fadeOut:"fadeOut_6ba",webkitBugfix:"webkitBugfix_858"}},4013:function(e,t,a){"use strict";a.r(t),t.default={popupWrap:"popupWrap_a4c",__show:"__show_968",popupBlock:"popupBlock_ec3",__short:"__short_9da",__longText:"__longText_2bd",text:"text_811",textBox:"textBox_022",avatar:"avatar_14d",avatarImg:"avatarImg_f19",agentName:"agentName_5be",closeBlock:"closeBlock_bd5",closePopupIcon:"closePopupIcon_f14"}},71731:function(e,t,a){"use strict";a.r(t),t.default={label:"label_32e",leafCont:"leafCont_b6e",_bottom:"_bottom_f6b",_designer:"_designer_711",_right:"_right_dbe",_left:"_left_43a",lbContainer:"lbContainer_bf5",copyContainer:"copyContainer_8f9",text:"text_c58",_noAd:"_noAd_c8a",_offline:"_offline_ee7",hoverl:"hoverl_3a9",_custom:"_custom_5dd",copy:"copy_fcf",leafBottom:"leafBottom_9cb",labelStatus:"labelStatus_b14",pattern:"pattern_3dd",contentTransitionWrap:"contentTransitionWrap_b55",fadeIn:"fadeIn_8f1"}},48882:function(e,t,a){"use strict";a.r(t),t.default={leaf:"leaf_641",_bottom:"_bottom_bfd",_right:"_right_b91",_left:"_left_c83",cssLeaf:"cssLeaf_cb6",_offline:"_offline_ee2"}},9186:function(e,t,a){"use strict";a.r(t),t.default={logo:"logo_a70",fallback:"fallback_9f2","_no-copyright":"_no-copyright_669",_bottom:"_bottom_1d6",hoverBox:"hoverBox_10c",_right:"_right_086",_left:"_left_48b",logoIcon:"logoIcon_ed0",__ru:"__ru_234"}},73525:function(e,t,a){"use strict";a.r(t),t.default={labelButton:"labelButton_1e4",text:"text_b3b",title:"title_5ec",vk:"vk_234",fb:"fb_463",info:"info_000",callback:"callback_cf2",chat:"chat_82d",wa:"wa_6d3"}},16132:function(e,t,a){"use strict";a.r(t),t.default={LabelButtons:"LabelButtons_e33",_bottom:"_bottom_49f",_right:"_right_1b1",_left:"_left_f42",callme:"callme_891",chat:"chat_547",wa:"wa_13c",bottomCorner:"bottomCorner_9f1",rightCorner:"rightCorner_496",leftCorner:"leftCorner_376",buttonsCorner:"buttonsCorner_dee",labelButton:"labelButton_ce8",text:"text_780",title:"title_9c3",labelVk:"labelVk_44a",labelFb:"labelFb_7c0",info:"info_bb9"}},52156:function(e,t,a){"use strict";a.r(t),t.default={labelButtons:"labelButtons_3da",_bottom:"_bottom_032",_right:"_right_637",_left:"_left_2fa",callme:"callme_8a6",chat:"chat_d5c",bottomCorner:"bottomCorner_322",rightCorner:"rightCorner_1cf",leftCorner:"leftCorner_260",buttonsCorner:"buttonsCorner_984"}},34197:function(e,t,a){"use strict";a.r(t),t.default={popupWrap:"popupWrap_8dc",__show:"__show_5a8",popupBlock:"popupBlock_980",__short:"__short_2c6",__longText:"__longText_e2c",text:"text_5f7",textBox:"textBox_637",avatar:"avatar_962",avatarImg:"avatarImg_d67",agentName:"agentName_547",closeBlock:"closeBlock_87f",closePopupIcon:"closePopupIcon_5e2"}},5711:function(e,t,a){"use strict";a.r(t),t.default={wrap:"wrap_5e0",_extraPadding:"_extraPadding_967",image:"image_1bf"}},68691:function(e,t,a){"use strict";a.r(t),t.default={leaf:"leaf_de7",_bottom:"_bottom_801",_right:"_right_41b",_left:"_left_a9e",cssLeaf:"cssLeaf_3af",_offline:"_offline_ae5"}},60284:function(e,t,a){"use strict";a.r(t),t.default={logo:"logo_72b",fallback:"fallback_b44","_no-copyright":"_no-copyright_578",_bottom:"_bottom_d38",hoverBox:"hoverBox_5ae",_right:"_right_39c",_left:"_left_7ea",logoIcon:"logoIcon_faf",__ru:"__ru_915"}},71168:function(e,t,a){"use strict";a.r(t),t.default={imageLink:"imageLink_bff",image:"image_19d",mediaType:"mediaType_19c"}},8717:function(e,t,a){"use strict";a.r(t),t.default={main:"main_06b",_mobile:"_mobile_751",_transparent:"_transparent_1d3",content:"content_b8c",_noagent:"_noagent_39a",avatarBox:"avatarBox_d9b",__isAnimated:"__isAnimated_81d",time:"time_878",_agentName:"_agentName_08f",agentName:"agentName_6b1",botBadge:"botBadge_400"}},74336:function(e,t,a){"use strict";a.r(t),t.default={main:"main_dd9",_mobile:"_mobile_a94",content:"content_ec4",__green:"__green_809",message:"message_d42",__grey:"__grey_017",__blue:"__blue_42e",time:"time_4bc"}},96153:function(e,t,a){"use strict";a.r(t),t.default={main:"main_345",container:"container_42b",__ad:"__ad_74c",__mobile:"__mobile_471",wrap:"wrap_57e",__tablet:"__tablet_8a3",scroll:"scroll_467",rail:"rail_ca0",avatarShadow:"avatarShadow_74d",__show:"__show_f6a"}},45026:function(e,t,a){"use strict";a.r(t),t.default={main:"main_5db",__mobile:"__mobile_b86",text:"text_176",showBtn:"showBtn_4fb",__green:"__green_6ba",__blue:"__blue_d07",__grey:"__grey_8d5"}},42085:function(e,t,a){"use strict";a.r(t),t.default={wrap:"wrap_3c1",fieldWrap:"fieldWrap_d04",emailBlock:"emailBlock_9a0",emailButton:"emailButton_b3b",emailText:"emailText_6ca",emailOk:"emailOk_e59",emailError:"emailError_041",_error:"_error_b56",form:"form_d96",emailFinished:"emailFinished_138",box:"box_9cb",__mobile:"__mobile_bc9",__ios:"__ios_3b5",__finished:"__finished_76c",email:"email_1a6",errorText:"errorText_b0d"}},68853:function(e,t,a){"use strict";a.r(t),t.default={box:"box_910",__tablet:"__tablet_ef3",__noanim:"__noanim_b6b",successMessage:"successMessage_287",introduceText:"introduceText_333",socialText:"socialText_31d",content:"content_a42",mainWrap:"mainWrap_6df",main:"main_82e",overlay:"overlay_934",__show:"__show_19d",__focus:"__focus_89e",__submited:"__submited_ba4",__green:"__green_c38",__blue:"__blue_8fa",__grey:"__grey_333",link:"link_787",boxFb:"boxFb_f04",step:"step_1bc",inputWrap:"inputWrap_0c3",iconFb:"iconFb_5fd",iconVk:"iconVk_148",animateBlock:"animateBlock_3b5",buttonWrapper:"buttonWrapper_03a",__fadeOut:"__fadeOut_b9c",submitSuccess:"submitSuccess_308",fadeOut:"fadeOut_012"}},71297:function(e,t,a){"use strict";a.r(t),t.default={main:"main_4f5",message:"message_8d3",successIcon:"successIcon_994",rubleIcon:"rubleIcon_1f5",text:"text_f24",info:"info_ce0",emailLabel:"emailLabel_d65",emailInput:"emailInput_5a7",_error:"_error_23b",productName:"productName_c1a",amountWrap:"amountWrap_116",amount:"amount_ca0",actionBtn:"actionBtn_c75",_tinkoff:"_tinkoff_9c0",actionText:"actionText_7b2",byYandex:"byYandex_336",successText:"successText_f3c",__success:"__success_47f",__emailError:"__emailError_52e"}},96116:function(e,t,a){"use strict";a.r(t),t.default={wrap:"wrap_066",text:"text_8ed",buttonsWrap:"buttonsWrap_b9b",button:"button_4c5",_disabled:"_disabled_78d"}},448:function(e,t,a){"use strict";a.r(t),t.default={main:"main_486",_preview:"_preview_b58",_client:"_client_730",_green:"_green_8d7",_grey:"_grey_986",_blue:"_blue_8b0",mediaIcon:"mediaIcon_6ef",uploading:"uploading_185",iconMedia:"iconMedia_bb2",mediaComplete:"mediaComplete_d03",_agent:"_agent_b0a",_mobile:"_mobile_5b6",mediaText:"mediaText_294",mediaFname:"mediaFname_a9d",mediaPerc:"mediaPerc_30e",iconError:"iconError_507",iconUpload:"iconUpload_992",iconLoading:"iconLoading_d7a",loaderCont:"loaderCont_83e",loaderBar:"loaderBar_f5e",previewLink:"previewLink_282",previewMediaPhoto:"previewMediaPhoto_ae2",mediaWrapper:"mediaWrapper_d7b",overlayText:"overlayText_e12"}},95705:function(e,t,a){"use strict";a.r(t),t.default={main:"main_465",message:"message_c75",showmessage:"showmessage_ac6",__mobile:"__mobile_4d9",__alone:"__alone_91a",text:"text_9e2",__client:"__client_1e6",withEditText:"withEditText_721",_green:"_green_42c",_grey:"_grey_c8a",_blue:"_blue_c1b",__agent:"__agent_d9a",__deleted:"__deleted_a01",editedText:"editedText_26a",sendErrorMessage:"sendErrorMessage_f1a"}},70602:function(e,t,a){"use strict";a.r(t),t.default={main:"main_69d",__hide:"__hide_cef",button:"button_11b",__bot:"__bot_bc8"}},96586:function(e,t,a){"use strict";a.r(t),t.default={main:"main_1b0"}},61604:function(e,t,a){"use strict";a.r(t),t.default={main:"main_a56",avatar:"avatar_392",img:"img_7ad",text:"text_ff6",_mobile:"_mobile_a96"}},68930:function(e,t,a){"use strict";a.r(t),t.default={main:"main_00e",text:"text_111",__mobile:"__mobile_503",__callMessageStart:"__callMessageStart_7a8",__callEnd:"__callEnd_9dd",callIcon:"callIcon_f61"}},51407:function(e,t,a){"use strict";a.r(t),t.default={main:"main_12c",__mobile:"__mobile_34b",text:"text_349",__bot:"__bot_156",__social:"__social_593"}},48938:function(e,t,a){"use strict";a.r(t),t.default={container:"container_7c9",_tablet:"_tablet_1a9",_orientationLeft:"_orientationLeft_a40",mobileContainer:"mobileContainer_497",__tablet:"__tablet_715"}},62231:function(e,t,a){"use strict";a.r(t),t.default={wrap:"wrap_4de",_show:"_show_ccd",menuWrap:"menuWrap_3a7",_landscape:"_landscape_d6d",menuTitle:"menuTitle_b26",menu:"menu_f87",menuItem:"menuItem_c74",menuItemVk:"menuItemVk_d9b",menuItemIcon:"menuItemIcon_01b",menuItemText:"menuItemText_c05",textIcon:"textIcon_867",menuItemTextHighlight:"menuItemTextHighlight_7ba menuItemText_c05",copyrightWrap:"copyrightWrap_605",copyright:"copyright_025",logoIcon:"logoIcon_eb5",__ru:"__ru_e74",closeBtn:"closeBtn_5f9",closeIcon:"closeIcon_7d7",closeText:"closeText_f3c"}},97694:function(e,t,a){"use strict";a.r(t),t.default={wrap:"wrap_0ee",_show:"_show_b7f",overlay:"overlay_3fa",menuWrap:"menuWrap_49f",_landscape:"_landscape_394",menuTitle:"menuTitle_7c6",menu:"menu_241",menuItem:"menuItem_228",menuItemIcon:"menuItemIcon_c67",menuItemIconCloud:"menuItemIconCloud_724",menuItemIconIm:"menuItemIconIm_db4",menuItemText:"menuItemText_e70",menuItemTextHighlight:"menuItemTextHighlight_7bc menuItemText_e70",menuItemImText:"menuItemImText_b6f",copyrightWrap:"copyrightWrap_299",copyright:"copyright_224",logoIcon:"logoIcon_6c4",__ru:"__ru_531",closeBtn:"closeBtn_8a8"}},53415:function(e,t,a){"use strict";a.r(t),t.default={tabletWrap:"tabletWrap_065",_show:"_show_3af",menuWrap:"menuWrap_bbf",menu:"menu_33a",menuItem:"menuItem_23c",menuItemIconVk:"menuItemIconVk_85e",menuItemIcon:"menuItemIcon_bcd",chatIcon:"chatIcon_f9d",menuItemIconCall:"menuItemIconCall_3bb",menuItemIconFb:"menuItemIconFb_646",menuItemIconIm:"menuItemIconIm_688",menuItemText:"menuItemText_958",menuItemTextHighlight:"menuItemTextHighlight_181 menuItemText_958",closeBtn:"closeBtn_f6a",closeIcon:"closeIcon_fdb",closeText:"closeText_2de",buttonsCorner:"buttonsCorner_64f",_orinationLeft:"_orinationLeft_e2f"}},98513:function(e,t,a){"use strict";a.r(t),t.default={moreBox:"moreBox_2f0",__show:"__show_68b",__mobile:"__mobile_f0e",moreBtn:"moreBtn_adf",moreBadge:"moreBadge_3e6"}},99745:function(e,t,a){"use strict";a.r(t),t.default={popup:"popup_07b",__show:"__show_da9",__left:"__left_0f7",imOverlay:"imOverlay_cd9",popupBlock:"popupBlock_c94",__short:"__short_16c",__longText:"__longText_f58",text:"text_ad4",textBox:"textBox_995",avatar:"avatar_9e0",avatarImg:"avatarImg_41e",agentName:"agentName_d6e",closeBlock:"closeBlock_54f",closePopupIcon:"closePopupIcon_cfc"}},54023:function(e,t,a){"use strict";a.r(t),t.default={wrap:"wrap_4ba",overlay:"overlay_7d0",button:"button_cff",__hide:"__hide_aa3",iconWrap:"iconWrap_469",_showLogo:"_showLogo_a1f",wrapAnimation:"wrapAnimation_5f5",_isCallEnabled:"_isCallEnabled_410",firstWrapCallAnimation:"firstWrapCallAnimation_bb9",iconWrapClose:"iconWrapClose_fdb",iconWrap2:"iconWrap2_b19",wrapCallNoLogoAnimation:"wrapCallNoLogoAnimation_34e",secondWrapCallAnimation:"secondWrapCallAnimation_7af",iconWrap3:"iconWrap3_9f7",thirdWrapCallAnimation:"thirdWrapCallAnimation_57a",messagesLabel:"messagesLabel_3a4",badge:"badge_ca1",icons:"icons_0cf",jivoIcon:"jivoIcon_e6a",closeIcon:"closeIcon_d60",logoIconCloud:"logoIconCloud_a68",envelopeIcon:"envelopeIcon_ca1",callbackIcon:"callbackIcon_c20",iconCallAnimation:"iconCallAnimation_511",_show:"_show_304",_orinationRight:"_orinationRight_1f3",_orinationLeft:"_orinationLeft_624",_animationBtn:"_animationBtn_860",_showMenu:"_showMenu_96c"}},94350:function(e,t,a){"use strict";a.r(t),t.default={socialPanel:"socialPanel_1b1",wrap:"wrap_ec9",socialLink:"socialLink_9ab",infoText:"infoText_323",iconVk:"iconVk_e52",iconFb:"iconFb_55f",box:"box_aa4",iframe:"iframe_989",__vk:"__vk_aba"}},4897:function(e,t,a){"use strict";a.r(t),t.default={wrap:"wrap_c14",text:"text_0db",iconHeader:"iconHeader_23f",__vk:"__vk_f38",__fb:"__fb_f14",linkBox:"linkBox_7c2",link:"link_2a9"}},24794:function(e,t,a){"use strict";a.r(t),t.default={player:"player_59f"}},15852:function(e,t,a){"use strict";a.r(t),t.default={vkIcon:"vkIcon_1ba",fbIcon:"fbIcon_235",telegramIcon:"telegramIcon_bca",viberIcon:"viberIcon_094","message-textIcon":"message-textIcon_11f","phone-outgoingIcon":"phone-outgoingIcon_6e9",phoneIcon:"phoneIcon_f92",stand:"stand_5c6",standBig:"standBig_e2a"}},43107:function(e,t,a){"use strict";a.r(t),t.default={button:"button_600",disabled:"disabled_c40",widthFixed:"widthFixed_a80",widthFluid:"widthFluid_570",heightSmall:"heightSmall_4a0",heightMiddle:"heightMiddle_2ac",__green:"__green_9f5",__blue:"__blue_a74",__grey:"__grey_509",nativeButton:"nativeButton_88f"}},77843:function(e,t,a){"use strict";a.r(t),t.default={selectWrap:"selectWrap_973",disabled:"disabled_c50",styledSelectWrap:"styledSelectWrap_17b",nativeSelectWrap:"nativeSelectWrap_108",invalid:"invalid_4a8",__green:"__green_501",label:"label_3d9",__blue:"__blue_166",__grey:"__grey_f6b",heightSmall:"heightSmall_75f",heightMiddle:"heightMiddle_83a",themeFlat:"themeFlat_3a5",themeInset:"themeInset_43e",labelArrow:"labelArrow_2e0",iconSelect:"iconSelect_e32",selectIsOpen:"selectIsOpen_48a",nativeSelect:"nativeSelect_dab",items:"items_456",scroll:"scroll_a2e",item:"item_13e",rail:"rail_401"}},83821:function(e,t,a){"use strict";a.r(t),t.default={WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET_20e",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET_cbf",Label_MINIMIZE_WIDGET:"Label_MINIMIZE_WIDGET_603",Label_MAXIMIZE_WIDGET:"Label_MAXIMIZE_WIDGET_8c1",Label_OPEN_WIDGET:"Label_OPEN_WIDGET_7f3",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET_28c",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET_1fd",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET_e63"}},71461:function(e,t,a){"use strict";a.r(t),t.default={WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET_b93",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET_fd6",Label_MINIMIZE_WIDGET:"Label_MINIMIZE_WIDGET_4e6",Label_MAXIMIZE_WIDGET:"Label_MAXIMIZE_WIDGET_646",Label_OPEN_WIDGET:"Label_OPEN_WIDGET_571",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET_143",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET_948",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET_6f0"}},6274:function(e,t,a){"use strict";a.r(t),t.default={WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET_903",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET_8ed",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET_355",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET_3a2"}},92964:function(e,t,a){"use strict";a.r(t),t.default={WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET_505",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET_ad3",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET_07a",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET_d06",Label_OPEN_WIDGET:"Label_OPEN_WIDGET_910",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET_96b"}},8511:function(e,t,a){"use strict";a.r(t),t.default={Label_OPEN_WIDGET:"Label_OPEN_WIDGET_59f",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET_ac9",Label_MINIMIZE_WIDGET:"Label_MINIMIZE_WIDGET_eda",Label_MAXIMIZE_WIDGET:"Label_MAXIMIZE_WIDGET_f00",WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET_b6c",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET_4ec",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET_4c4",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET_2fd"}},60855:function(e,t,a){"use strict";a.r(t),t.default={Label_OPEN_WIDGET:"Label_OPEN_WIDGET_e4a",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET_b24",Label_MINIMIZE_WIDGET:"Label_MINIMIZE_WIDGET_c34",Label_MAXIMIZE_WIDGET:"Label_MAXIMIZE_WIDGET_c42",WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET_3d6",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET_e58",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET_d57",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET_448"}},95098:function(e,t,a){"use strict";a.r(t),t.default={look:"look_40d",header:"header_ea6",body:"body_4b6",popupContainer:"popupContainer_d2f"}},23646:function(e,t,a){"use strict";a.r(t),t.default={main:"main_82b",__static:"__static_b82",header:"header_281",body:"body_a80",mobile:"mobile_b5b",input:"input_66c",popup:"popup_282",popupFull:"popupFull_1f8",show:"show_997",hide:"hide_06f",headerBox:"headerBox_a7c",fadeIn:"fadeIn_8a6",fadeOut:"fadeOut_4f9",loading:"loading_a1f"}},3367:function(e,t,a){"use strict";a.r(t),t.default={main:"main_d3a",__mobile:"__mobile_d8d",__tablet:"__tablet_c9d",__hidden:"__hidden_9a6",__auto:"__auto_f8a",__callMin:"__callMin_3fb",left:"left_3f3",bottom:"bottom_f14",right:"right_bb6",chat_min:"chat_min_575",callback_connected:"callback_connected_021",contentWrapper:"contentWrapper_549"}},44334:function(e,t,a){"use strict";a.r(t),t.default={contentWrapper:"contentWrapper_d04"}},89953:function(e,t,a){"use strict";a.r(t),t.default={wrap:"wrap_a8d",substrate:"substrate_3b6",iconContainer:"iconContainer_bae",iconWrap:"iconWrap_d1b",iconWrapContainer:"iconWrapContainer_3b6",handIcon:"handIcon_578",arrow1:"arrow1_27d",arrow2:"arrow2_a46",_tablet:"_tablet_979",viewWrap:"viewWrap_357",zoom:"zoom_201",box:"box_cf4"}},59592:function(e,t,a){"use strict";a.r(t),t.default={globalClass:"globalClass_c0f",pseudoHeight:"pseudoHeight_1a0",jivoMouseTrack:"jivoMouseTrack_18f"}},75:function(e){(function(){var t,a,n,i,o,r;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-o)/1e6},a=process.hrtime,i=(t=function(){var e;return 1e9*(e=a())[0]+e[1]})(),r=1e9*process.uptime(),o=i-r):Date.now?(e.exports=function(){return Date.now()-n},n=Date.now()):(e.exports=function(){return(new Date).getTime()-n},n=(new Date).getTime())}).call(this)},59748:function(e,t,a){"use strict";a.r(t),a.d(t,{Children:function(){return F},Component:function(){return r.Component},Fragment:function(){return r.Fragment},PureComponent:function(){return O},StrictMode:function(){return _e},Suspense:function(){return z},SuspenseList:function(){return q},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:function(){return ce},cloneElement:function(){return pe},createContext:function(){return r.createContext},createElement:function(){return r.createElement},createFactory:function(){return fe},createPortal:function(){return J},createRef:function(){return r.createRef},default:function(){return ye},findDOMNode:function(){return ge},forwardRef:function(){return j},hydrate:function(){return te},isValidElement:function(){return he},lazy:function(){return V},memo:function(){return D},render:function(){return ee},unmountComponentAtNode:function(){return me},unstable_batchedUpdates:function(){return ve},useCallback:function(){return E},useContext:function(){return w},useDebugValue:function(){return C},useEffect:function(){return g},useErrorBoundary:function(){return T},useImperativeHandle:function(){return y},useLayoutEffect:function(){return v},useMemo:function(){return b},useReducer:function(){return m},useRef:function(){return _},useState:function(){return p},version:function(){return de}});var n,i,o,r=a(6400),l=0,u=[],s=r.options.__r,c=r.options.diffed,d=r.options.__c,f=r.options.unmount;function h(e,t){r.options.__h&&r.options.__h(i,e,l||t),l=0;var a=i.__H||(i.__H={__:[],__h:[]});return e>=a.__.length&&a.__.push({}),a.__[e]}function p(e){return l=1,m(M,e)}function m(e,t,a){var o=h(n++,2);return o.t=e,o.__c||(o.__=[a?a(t):M(void 0,t),function(e){var t=o.t(o.__[0],e);o.__[0]!==t&&(o.__=[t,o.__[1]],o.__c.setState({}))}],o.__c=i),o.__}function g(e,t){var a=h(n++,3);!r.options.__s&&A(a.__H,t)&&(a.__=e,a.__H=t,i.__H.__h.push(a))}function v(e,t){var a=h(n++,4);!r.options.__s&&A(a.__H,t)&&(a.__=e,a.__H=t,i.__h.push(a))}function _(e){return l=5,b((function(){return{current:e}}),[])}function y(e,t,a){l=6,v((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==a?a:a.concat(e))}function b(e,t){var a=h(n++,7);return A(a.__H,t)&&(a.__=e(),a.__H=t,a.__h=e),a.__}function E(e,t){return l=8,b((function(){return e}),t)}function w(e){var t=i.context[e.__c],a=h(n++,9);return a.__c=e,t?(null==a.__&&(a.__=!0,t.sub(i)),t.props.value):e.__}function C(e,t){r.options.useDebugValue&&r.options.useDebugValue(t?t(e):e)}function T(e){var t=h(n++,10),a=p();return t.__=e,i.componentDidCatch||(i.componentDidCatch=function(e){t.__&&t.__(e),a[1](e)}),[a[0],function(){a[1](void 0)}]}function k(){u.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(I),e.__H.__h.forEach(x),e.__H.__h=[]}catch(t){e.__H.__h=[],r.options.__e(t,e.__v)}})),u=[]}r.options.__r=function(e){s&&s(e),n=0;var t=(i=e.__c).__H;t&&(t.__h.forEach(I),t.__h.forEach(x),t.__h=[])},r.options.diffed=function(e){c&&c(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==u.push(t)&&o===r.options.requestAnimationFrame||((o=r.options.requestAnimationFrame)||function(e){var t,a=function(){clearTimeout(n),S&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(a,100);S&&(t=requestAnimationFrame(a))})(k))},r.options.__c=function(e,t){t.some((function(e){try{e.__h.forEach(I),e.__h=e.__h.filter((function(e){return!e.__||x(e)}))}catch(a){t.some((function(e){e.__h&&(e.__h=[])})),t=[],r.options.__e(a,e.__v)}})),d&&d(e,t)},r.options.unmount=function(e){f&&f(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(I)}catch(e){r.options.__e(e,t.__v)}};var S="function"==typeof requestAnimationFrame;function I(e){"function"==typeof e.__c&&e.__c()}function x(e){e.__c=e.__()}function A(e,t){return!e||e.length!==t.length||t.some((function(t,a){return t!==e[a]}))}function M(e,t){return"function"==typeof t?t(e):t}function R(e,t){for(var a in t)e[a]=t[a];return e}function N(e,t){for(var a in e)if("__source"!==a&&!(a in t))return!0;for(var n in t)if("__source"!==n&&e[n]!==t[n])return!0;return!1}function O(e){this.props=e}function D(e,t){function a(e){var a=this.props.ref,n=a==e.ref;return!n&&a&&(a.call?a(null):a.current=null),t?!t(this.props,e)||!n:N(this.props,e)}function n(t){return this.shouldComponentUpdate=a,(0,r.createElement)(e,t)}return n.displayName="Memo("+(e.displayName||e.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n}(O.prototype=new r.Component).isPureReactComponent=!0,O.prototype.shouldComponentUpdate=function(e,t){return N(this.props,e)||N(this.state,t)};var L=r.options.__b;r.options.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),L&&L(e)};var P="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function j(e){function t(t,a){var n=R({},t);return delete n.ref,e(n,(a=t.ref||a)&&("object"!=typeof a||"current"in a)?a:null)}return t.$$typeof=P,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var B=function(e,t){return null==e?null:(0,r.toChildArray)((0,r.toChildArray)(e).map(t))},F={map:B,forEach:B,count:function(e){return e?(0,r.toChildArray)(e).length:0},only:function(e){var t=(0,r.toChildArray)(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:r.toChildArray},H=r.options.__e;function W(e){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),(e=R({},e)).__c=null,e.__k=e.__k&&e.__k.map(W)),e}function U(e){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map(U)),e}function z(){this.__u=0,this.t=null,this.__b=null}function G(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function V(e){var t,a,n;function i(i){if(t||(t=e()).then((function(e){a=e.default||e}),(function(e){n=e})),n)throw n;if(!a)throw t;return(0,r.createElement)(a,i)}return i.displayName="Lazy",i.__f=!0,i}function q(){this.u=null,this.o=null}r.options.__e=function(e,t,a){if(e.then)for(var n,i=t;i=i.__;)if((n=i.__c)&&n.__c)return null==t.__e&&(t.__e=a.__e,t.__k=a.__k),n.__c(e,t.__c);H(e,t,a)},(z.prototype=new r.Component).__c=function(e,t){var a=this;null==a.t&&(a.t=[]),a.t.push(t);var n=G(a.__v),i=!1,o=function(){i||(i=!0,t.componentWillUnmount=t.__c,n?n(r):r())};t.__c=t.componentWillUnmount,t.componentWillUnmount=function(){o(),t.__c&&t.__c()};var r=function(){var e;if(!--a.__u)for(a.__v.__k[0]=U(a.state.__e),a.setState({__e:a.__b=null});e=a.t.pop();)e.forceUpdate()},l=a.__v;l&&!0===l.__h||a.__u++||a.setState({__e:a.__b=a.__v.__k[0]}),e.then(o,o)},z.prototype.componentWillUnmount=function(){this.t=[]},z.prototype.render=function(e,t){this.__b&&(this.__v.__k&&(this.__v.__k[0]=W(this.__b)),this.__b=null);var a=t.__e&&(0,r.createElement)(r.Fragment,null,e.fallback);return a&&(a.__h=null),[(0,r.createElement)(r.Fragment,null,t.__e?null:e.children),a]};var K=function(e,t,a){if(++a[1]===a[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(a=e.u;a;){for(;a.length>3;)a.pop()();if(a[1]<a[0])break;e.u=a=a[2]}};function Y(e){return this.getChildContext=function(){return e.context},e.children}function Z(e){var t=this,a=e.i,n=(0,r.createElement)(Y,{context:t.context},e.__v);t.componentWillUnmount=function(){var e=t.l.parentNode;e&&e.removeChild(t.l),(0,r.__u)(t.s)},t.i&&t.i!==a&&(t.componentWillUnmount(),t.h=!1),e.__v?t.h?(a.__k=t.__k,(0,r.render)(n,a),t.__k=a.__k):(t.l=document.createTextNode(""),t.__k=a.__k,(0,r.hydrate)("",a),a.appendChild(t.l),t.h=!0,t.i=a,(0,r.render)(n,a,t.l),a.__k=t.__k,t.__k=t.l.__k):t.h&&t.componentWillUnmount(),t.s=n}function J(e,t){return(0,r.createElement)(Z,{__v:e,i:t})}(q.prototype=new r.Component).__e=function(e){var t=this,a=G(t.__v),n=t.o.get(e);return n[0]++,function(i){var o=function(){t.props.revealOrder?(n.push(i),K(t,e,n)):i()};a?a(o):o()}},q.prototype.render=function(e){this.u=null,this.o=new Map;var t=(0,r.toChildArray)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var a=t.length;a--;)this.o.set(t[a],this.u=[1,0,this.u]);return e.children},q.prototype.componentDidUpdate=q.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,a){K(e,a,t)}))};var X="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,$=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Q="undefined"!=typeof Symbol?/fil|che|rad/i:/fil|che|ra/i;function ee(e,t,a){return null==t.__k&&(t.textContent=""),(0,r.render)(e,t),"function"==typeof a&&a(),e?e.__c:null}function te(e,t,a){return(0,r.hydrate)(e,t),"function"==typeof a&&a(),e?e.__c:null}r.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(r.Component.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var ae=r.options.event;function ne(){}function ie(){return this.cancelBubble}function oe(){return this.defaultPrevented}r.options.event=function(e){return ae&&(e=ae(e)),e.persist=ne,e.isPropagationStopped=ie,e.isDefaultPrevented=oe,e.nativeEvent=e};var re,le={configurable:!0,get:function(){return this.class}},ue=r.options.vnode;r.options.vnode=function(e){var t=e.type,a=e.props,n=a;if("string"==typeof t){for(var i in n={},a){var o=a[i];"defaultValue"===i&&"value"in a&&null==a.value?i="value":"download"===i&&!0===o?o="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+t)&&!Q.test(a.type)?i="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(i)?i=i.toLowerCase():$.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===o&&(o=void 0),n[i]=o}"select"==t&&n.multiple&&Array.isArray(n.value)&&(n.value=(0,r.toChildArray)(a.children).forEach((function(e){e.props.selected=-1!=n.value.indexOf(e.props.value)}))),e.props=n}t&&a.class!=a.className&&(le.enumerable="className"in a,null!=a.className&&(n.class=a.className),Object.defineProperty(n,"className",le)),e.$$typeof=X,ue&&ue(e)};var se=r.options.__r;r.options.__r=function(e){se&&se(e),re=e.__c};var ce={ReactCurrentDispatcher:{current:{readContext:function(e){return re.__n[e.__c].props.value}}}},de="16.8.0";function fe(e){return r.createElement.bind(null,e)}function he(e){return!!e&&e.$$typeof===X}function pe(e){return he(e)?r.cloneElement.apply(null,arguments):e}function me(e){return!!e.__k&&((0,r.render)(null,e),!0)}function ge(e){return e&&(e.base||1===e.nodeType&&e)||null}var ve=function(e,t){return e(t)},_e=r.Fragment,ye={useState:p,useReducer:m,useEffect:g,useLayoutEffect:v,useRef:_,useImperativeHandle:y,useMemo:b,useCallback:E,useContext:w,useDebugValue:C,version:"16.8.0",Children:F,render:ee,hydrate:te,unmountComponentAtNode:me,createPortal:J,createElement:r.createElement,createContext:r.createContext,createFactory:fe,cloneElement:pe,createRef:r.createRef,Fragment:r.Fragment,isValidElement:he,findDOMNode:ge,Component:r.Component,PureComponent:O,memo:D,forwardRef:j,unstable_batchedUpdates:ve,StrictMode:r.Fragment,Suspense:z,SuspenseList:q,lazy:V,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ce}},67665:function(e,t,a){"use strict";a.r(t),a.d(t,{resetPropWarnings:function(){return o}});var n=a(6400),i=(a(14369),{});function o(){i={}}function r(e){return e.type===n.Fragment?"Fragment":"function"==typeof e.type?e.type.displayName||e.type.name:"string"==typeof e.type?e.type:"#text"}var l=[],u=[];function s(){return l.length>0?l[l.length-1]:null}var c=!1;function d(e){return"function"==typeof e.type&&e.type!=n.Fragment}function f(e){for(var t=[e],a=e;null!=a.__o;)t.push(a.__o),a=a.__o;return t.reduce((function(e,t){e+="  in "+r(t);var a=t.__source;return a?e+=" (at "+a.fileName+":"+a.lineNumber+")":c||(c=!0,console.warn("Add @babel/plugin-transform-react-jsx-source to get a more detailed component stack. Note that you should not add it to production builds of your App for bundle size reasons.")),e+"\n"}),"")}var h="function"==typeof WeakMap,p=n.Component.prototype.setState;n.Component.prototype.setState=function(e,t){return null==this.__v?null==this.state&&console.warn('Calling "this.setState" inside the constructor of a component is a no-op and might be a bug in your application. Instead, set "this.state = {}" directly.\n\n'+f(s())):null==this.__P&&console.warn('Can\'t call "this.setState" on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.\n\n'+f(this.__v)),p.call(this,e,t)};var m=n.Component.prototype.forceUpdate;function g(e){var t=e.props,a=r(e),n="";for(var i in t)if(t.hasOwnProperty(i)&&"children"!==i){var o=t[i];"function"==typeof o&&(o="function "+(o.displayName||o.name)+"() {}"),o=Object(o)!==o||o.toString?o+"":Object.prototype.toString.call(o),n+=" "+i+"="+JSON.stringify(o)}var l=t.children;return"<"+a+n+(l&&l.length?">..</"+a+">":" />")}n.Component.prototype.forceUpdate=function(e){return null==this.__v?console.warn('Calling "this.forceUpdate" inside the constructor of a component is a no-op and might be a bug in your application.\n\n'+f(s())):null==this.__P&&console.warn('Can\'t call "this.forceUpdate" on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.\n\n'+f(this.__v)),m.call(this,e)},function(){!function(){var e=n.options.__b,t=n.options.diffed,a=n.options.__,i=n.options.vnode,o=n.options.__r;n.options.diffed=function(e){d(e)&&u.pop(),l.pop(),t&&t(e)},n.options.__b=function(t){d(t)&&l.push(t),e&&e(t)},n.options.__=function(e,t){u=[],a&&a(e,t)},n.options.vnode=function(e){e.__o=u.length>0?u[u.length-1]:null,i&&i(e)},n.options.__r=function(e){d(e)&&u.push(e),o&&o(e)}}();var e=!1,t=n.options.__b,a=n.options.diffed,o=n.options.vnode,s=n.options.__e,c=n.options.__,p=n.options.__h,m=h?{useEffect:new WeakMap,useLayoutEffect:new WeakMap,lazyPropTypes:new WeakMap}:null,v=[];n.options.__e=function(e,t,a){if(t&&t.__c&&"function"==typeof e.then){var n=e;e=new Error("Missing Suspense. The throwing component was: "+r(t));for(var i=t;i;i=i.__)if(i.__c&&i.__c.__c){e=n;break}if(e instanceof Error)throw e}try{s(e,t,a),"function"!=typeof e.then&&setTimeout((function(){throw e}))}catch(e){throw e}},n.options.__=function(e,t){if(!t)throw new Error("Undefined parent passed to render(), this is the second argument.\nCheck if the element is available in the DOM/has the correct id.");var a;switch(t.nodeType){case 1:case 11:case 9:a=!0;break;default:a=!1}if(!a){var n=r(e);throw new Error("Expected a valid HTML node as a second argument to render.\tReceived "+t+" instead: render(<"+n+" />, "+t+");")}c&&c(e,t)},n.options.__b=function(a){var n=a.type,o=function e(t){return t?"function"==typeof t.type?e(t.__):t:{}}(a.__);if(e=!0,void 0===n)throw new Error("Undefined component passed to createElement()\n\nYou likely forgot to export your component or might have mixed up default and named imports"+g(a)+"\n\n"+f(a));if(null!=n&&"object"==typeof n){if(void 0!==n.__k&&void 0!==n.__e)throw new Error("Invalid type passed to createElement(): "+n+"\n\nDid you accidentally pass a JSX literal as JSX twice?\n\n  let My"+r(a)+" = "+g(n)+";\n  let vnode = <My"+r(a)+" />;\n\nThis usually happens when you export a JSX literal and not the component.\n\n"+f(a));throw new Error("Invalid type passed to createElement(): "+(Array.isArray(n)?"array":n))}if("thead"!==n&&"tfoot"!==n&&"tbody"!==n||"table"===o.type?"tr"===n&&"thead"!==o.type&&"tfoot"!==o.type&&"tbody"!==o.type&&"table"!==o.type?console.error("Improper nesting of table. Your <tr> should have a <thead/tbody/tfoot/table> parent."+g(a)+"\n\n"+f(a)):"td"===n&&"tr"!==o.type?console.error("Improper nesting of table. Your <td> should have a <tr> parent."+g(a)+"\n\n"+f(a)):"th"===n&&"tr"!==o.type&&console.error("Improper nesting of table. Your <th> should have a <tr>."+g(a)+"\n\n"+f(a)):console.error("Improper nesting of table. Your <thead/tbody/tfoot> should have a <table> parent."+g(a)+"\n\n"+f(a)),void 0!==a.ref&&"function"!=typeof a.ref&&"object"!=typeof a.ref&&!("$$typeof"in a))throw new Error('Component\'s "ref" property should be a function, or an object created by createRef(), but got ['+typeof a.ref+"] instead\n"+g(a)+"\n\n"+f(a));if("string"==typeof a.type)for(var l in a.props)if("o"===l[0]&&"n"===l[1]&&"function"!=typeof a.props[l]&&null!=a.props[l])throw new Error("Component's \""+l+'" property should be a function, but got ['+typeof a.props[l]+"] instead\n"+g(a)+"\n\n"+f(a));if("function"==typeof a.type&&a.type.propTypes){if("Lazy"===a.type.displayName&&m&&!m.lazyPropTypes.has(a.type)){var u="PropTypes are not supported on lazy(). Use propTypes on the wrapped component itself. ";try{var s=a.type();m.lazyPropTypes.set(a.type,!0),console.warn(u+"Component wrapped in lazy() is "+r(s))}catch(a){console.warn(u+"We will log the wrapped component's name once it is loaded.")}}var c=a.props;a.type.__f&&delete(c=function(e,t){for(var a in t)e[a]=t[a];return e}({},c)).ref,function(e,t,a,n,o){Object.keys(e).forEach((function(a){var r;try{r=e[a](t,a,n,"prop",null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){r=e}!r||r.message in i||(i[r.message]=!0,console.error("Failed prop type: "+r.message+(o&&"\n"+o()||"")))}))}(a.type.propTypes,c,0,r(a),(function(){return f(a)}))}t&&t(a)},n.options.__h=function(t,a,n){if(!t||!e)throw new Error("Hook can only be invoked from render methods.");p&&p(t,a,n)};var _=function(e,t){return{get:function(){var a="get"+e+t;v&&v.indexOf(a)<0&&(v.push(a),console.warn("getting vnode."+e+" is deprecated, "+t))},set:function(){var a="set"+e+t;v&&v.indexOf(a)<0&&(v.push(a),console.warn("setting vnode."+e+" is not allowed, "+t))}}},y={nodeName:_("nodeName","use vnode.type"),attributes:_("attributes","use vnode.props"),children:_("children","use vnode.props.children")},b=Object.create({},y);n.options.vnode=function(e){var t=e.props;if(null!==e.type&&null!=t&&("__source"in t||"__self"in t)){var a=e.props={};for(var n in t){var i=t[n];"__source"===n?e.__source=i:"__self"===n?e.__self=i:a[n]=i}}e.__proto__=b,o&&o(e)},n.options.diffed=function(t){t.__k&&t.__k.forEach((function(e){if(e&&void 0===e.type){delete e.__,delete e.__b;var a=Object.keys(e).join(",");throw new Error("Objects are not valid as a child. Encountered an object with the keys {"+a+"}.\n\n"+f(t))}}));var n=t.__c;if(n&&n.__H){var i=n.__H;Array.isArray(i.__)&&i.__.forEach((function(e){if(e.__h&&(!e.__H||!Array.isArray(e.__H))){var a=r(t);console.warn("In "+a+" you are calling useMemo/useCallback without passing arguments.\nThis is a noop since it will not be able to memoize, it will execute it every render.\n\n"+f(t))}}))}if(e=!1,a&&a(t),null!=t.__k)for(var o=[],l=0;l<t.__k.length;l++){var u=t.__k[l];if(u&&null!=u.key){var s=u.key;if(-1!==o.indexOf(s)){console.error('Following component has two or more children with the same key attribute: "'+s+'". This may cause glitches and misbehavior in rendering process. Component: \n\n'+g(t)+"\n\n"+f(t));break}o.push(s)}}}}()},14369:function(e,t,a){"use strict";a.r(t);var n=a(6400);"undefined"!=typeof window&&window.__PREACT_DEVTOOLS__&&window.__PREACT_DEVTOOLS__.attachPreact("10.5.5",n.options,{Fragment:n.Fragment,Component:n.Component})},6400:function(e,t,a){"use strict";a.r(t),a.d(t,{render:function(){return B},hydrate:function(){return F},createElement:function(){return m},h:function(){return m},Fragment:function(){return _},createRef:function(){return v},isValidElement:function(){return i},Component:function(){return y},cloneElement:function(){return H},createContext:function(){return W},toChildArray:function(){return k},__u:function(){return P},options:function(){return n}});var n,i,o,r,l,u,s,c={},d=[],f=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function h(e,t){for(var a in t)e[a]=t[a];return e}function p(e){var t=e.parentNode;t&&t.removeChild(e)}function m(e,t,a){var n,i,o,r=arguments,l={};for(o in t)"key"==o?n=t[o]:"ref"==o?i=t[o]:l[o]=t[o];if(arguments.length>3)for(a=[a],o=3;o<arguments.length;o++)a.push(r[o]);if(null!=a&&(l.children=a),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===l[o]&&(l[o]=e.defaultProps[o]);return g(e,l,n,i,null)}function g(e,t,a,i,o){var r={type:e,props:t,key:a,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o};return null==o&&(r.__v=r),null!=n.vnode&&n.vnode(r),r}function v(){return{current:null}}function _(e){return e.children}function y(e,t){this.props=e,this.context=t}function b(e,t){if(null==t)return e.__?b(e.__,e.__.__k.indexOf(e)+1):null;for(var a;t<e.__k.length;t++)if(null!=(a=e.__k[t])&&null!=a.__e)return a.__e;return"function"==typeof e.type?b(e):null}function E(e){var t,a;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(a=e.__k[t])&&null!=a.__e){e.__e=e.__c.base=a.__e;break}return E(e)}}function w(e){(!e.__d&&(e.__d=!0)&&o.push(e)&&!C.__r++||l!==n.debounceRendering)&&((l=n.debounceRendering)||r)(C)}function C(){for(var e;C.__r=o.length;)e=o.sort((function(e,t){return e.__v.__b-t.__v.__b})),o=[],e.some((function(e){var t,a,n,i,o,r,l;e.__d&&(r=(o=(t=e).__v).__e,(l=t.__P)&&(a=[],(n=h({},o)).__v=n,i=N(l,o,n,t.__n,void 0!==l.ownerSVGElement,null!=o.__h?[r]:null,a,null==r?b(o):r,o.__h),O(a,o),i!=r&&E(o)))}))}function T(e,t,a,n,i,o,r,l,u,s){var f,h,m,v,y,E,w,C=n&&n.__k||d,T=C.length;for(u==c&&(u=null!=r?r[0]:T?b(n,0):null),a.__k=[],f=0;f<t.length;f++)if(null!=(v=a.__k[f]=null==(v=t[f])||"boolean"==typeof v?null:"string"==typeof v||"number"==typeof v?g(null,v,null,null,v):Array.isArray(v)?g(_,{children:v},null,null,null):null!=v.__e||null!=v.__c?g(v.type,v.props,v.key,null,v.__v):v)){if(v.__=a,v.__b=a.__b+1,null===(m=C[f])||m&&v.key==m.key&&v.type===m.type)C[f]=void 0;else for(h=0;h<T;h++){if((m=C[h])&&v.key==m.key&&v.type===m.type){C[h]=void 0;break}m=null}y=N(e,v,m=m||c,i,o,r,l,u,s),(h=v.ref)&&m.ref!=h&&(w||(w=[]),m.ref&&w.push(m.ref,null,v),w.push(h,v.__c||y,v)),null!=y?(null==E&&(E=y),u=S(e,v,m,C,r,y,u),s||"option"!=a.type?"function"==typeof a.type&&(a.__d=u):e.value=""):u&&m.__e==u&&u.parentNode!=e&&(u=b(m))}if(a.__e=E,null!=r&&"function"!=typeof a.type)for(f=r.length;f--;)null!=r[f]&&p(r[f]);for(f=T;f--;)null!=C[f]&&P(C[f],C[f]);if(w)for(f=0;f<w.length;f++)L(w[f],w[++f],w[++f])}function k(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){k(e,t)})):t.push(e)),t}function S(e,t,a,n,i,o,r){var l,u,s;if(void 0!==t.__d)l=t.__d,t.__d=void 0;else if(i==a||o!=r||null==o.parentNode)e:if(null==r||r.parentNode!==e)e.appendChild(o),l=null;else{for(u=r,s=0;(u=u.nextSibling)&&s<n.length;s+=2)if(u==o)break e;e.insertBefore(o,r),l=r}return void 0!==l?l:o.nextSibling}function I(e,t,a){"-"===t[0]?e.setProperty(t,a):e[t]=null==a?"":"number"!=typeof a||f.test(t)?a:a+"px"}function x(e,t,a,n,i){var o,r,l;if(i&&"className"==t&&(t="class"),"style"===t)if("string"==typeof a)e.style.cssText=a;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)a&&t in a||I(e.style,t,"");if(a)for(t in a)n&&a[t]===n[t]||I(e.style,t,a[t])}else"o"===t[0]&&"n"===t[1]?(o=t!==(t=t.replace(/Capture$/,"")),(r=t.toLowerCase())in e&&(t=r),t=t.slice(2),e.l||(e.l={}),e.l[t+o]=a,l=o?M:A,a?n||e.addEventListener(t,l,o):e.removeEventListener(t,l,o)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&"download"!==t&&"href"!==t&&!i&&t in e?e[t]=null==a?"":a:"function"!=typeof a&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/xlink:?/,""))?null==a||!1===a?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),a):null==a||!1===a&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,a))}function A(e){this.l[e.type+!1](n.event?n.event(e):e)}function M(e){this.l[e.type+!0](n.event?n.event(e):e)}function R(e,t,a){var n,i;for(n=0;n<e.__k.length;n++)(i=e.__k[n])&&(i.__=e,i.__e&&("function"==typeof i.type&&i.__k.length>1&&R(i,t,a),t=S(a,i,i,e.__k,null,i.__e,t),"function"==typeof e.type&&(e.__d=t)))}function N(e,t,a,i,o,r,l,u,s){var c,d,f,p,m,g,v,b,E,w,C,k=t.type;if(void 0!==t.constructor)return null;null!=a.__h&&(s=a.__h,u=t.__e=a.__e,t.__h=null,r=[u]),(c=n.__b)&&c(t);try{e:if("function"==typeof k){if(b=t.props,E=(c=k.contextType)&&i[c.__c],w=c?E?E.props.value:c.__:i,a.__c?v=(d=t.__c=a.__c).__=d.__E:("prototype"in k&&k.prototype.render?t.__c=d=new k(b,w):(t.__c=d=new y(b,w),d.constructor=k,d.render=j),E&&E.sub(d),d.props=b,d.state||(d.state={}),d.context=w,d.__n=i,f=d.__d=!0,d.__h=[]),null==d.__s&&(d.__s=d.state),null!=k.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=h({},d.__s)),h(d.__s,k.getDerivedStateFromProps(b,d.__s))),p=d.props,m=d.state,f)null==k.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==k.getDerivedStateFromProps&&b!==p&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(b,w),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(b,d.__s,w)||t.__v===a.__v){d.props=b,d.state=d.__s,t.__v!==a.__v&&(d.__d=!1),d.__v=t,t.__e=a.__e,t.__k=a.__k,d.__h.length&&l.push(d),R(t,u,e);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(b,d.__s,w),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(p,m,g)}))}d.context=w,d.props=b,d.state=d.__s,(c=n.__r)&&c(t),d.__d=!1,d.__v=t,d.__P=e,c=d.render(d.props,d.state,d.context),d.state=d.__s,null!=d.getChildContext&&(i=h(h({},i),d.getChildContext())),f||null==d.getSnapshotBeforeUpdate||(g=d.getSnapshotBeforeUpdate(p,m)),C=null!=c&&c.type==_&&null==c.key?c.props.children:c,T(e,Array.isArray(C)?C:[C],t,a,i,o,r,l,u,s),d.base=t.__e,t.__h=null,d.__h.length&&l.push(d),v&&(d.__E=d.__=null),d.__e=!1}else null==r&&t.__v===a.__v?(t.__k=a.__k,t.__e=a.__e):t.__e=D(a.__e,t,a,i,o,r,l,s);(c=n.diffed)&&c(t)}catch(e){t.__v=null,(s||null!=r)&&(t.__e=u,t.__h=!!s,r[r.indexOf(u)]=null),n.__e(e,t,a)}return t.__e}function O(e,t){n.__c&&n.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){n.__e(e,t.__v)}}))}function D(e,t,a,n,i,o,r,l){var u,s,f,h,p,m=a.props,g=t.props;if(i="svg"===t.type||i,null!=o)for(u=0;u<o.length;u++)if(null!=(s=o[u])&&((null===t.type?3===s.nodeType:s.localName===t.type)||e==s)){e=s,o[u]=null;break}if(null==e){if(null===t.type)return document.createTextNode(g);e=i?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,g.is&&{is:g.is}),o=null,l=!1}if(null===t.type)m===g||l&&e.data===g||(e.data=g);else{if(null!=o&&(o=d.slice.call(e.childNodes)),f=(m=a.props||c).dangerouslySetInnerHTML,h=g.dangerouslySetInnerHTML,!l){if(null!=o)for(m={},p=0;p<e.attributes.length;p++)m[e.attributes[p].name]=e.attributes[p].value;(h||f)&&(h&&(f&&h.__html==f.__html||h.__html===e.innerHTML)||(e.innerHTML=h&&h.__html||""))}(function(e,t,a,n,i){var o;for(o in a)"children"===o||"key"===o||o in t||x(e,o,null,a[o],n);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||a[o]===t[o]||x(e,o,t[o],a[o],n)})(e,g,m,i,l),h?t.__k=[]:(u=t.props.children,T(e,Array.isArray(u)?u:[u],t,a,n,"foreignObject"!==t.type&&i,o,r,c,l)),l||("value"in g&&void 0!==(u=g.value)&&(u!==e.value||"progress"===t.type&&!u)&&x(e,"value",u,m.value,!1),"checked"in g&&void 0!==(u=g.checked)&&u!==e.checked&&x(e,"checked",u,m.checked,!1))}return e}function L(e,t,a){try{"function"==typeof e?e(t):e.current=t}catch(e){n.__e(e,a)}}function P(e,t,a){var i,o,r;if(n.unmount&&n.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||L(i,null,t)),a||"function"==typeof e.type||(a=null!=(o=e.__e)),e.__e=e.__d=void 0,null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){n.__e(e,t)}i.base=i.__P=null}if(i=e.__k)for(r=0;r<i.length;r++)i[r]&&P(i[r],t,a);null!=o&&p(o)}function j(e,t,a){return this.constructor(e,a)}function B(e,t,a){var i,o,r;n.__&&n.__(e,t),o=(i=a===u)?null:a&&a.__k||t.__k,e=m(_,null,[e]),r=[],N(t,(i?t:a||t).__k=e,o||c,c,void 0!==t.ownerSVGElement,a&&!i?[a]:o?null:t.childNodes.length?d.slice.call(t.childNodes):null,r,a||c,i),O(r,e)}function F(e,t){B(e,t,u)}function H(e,t,a){var n,i,o,r=arguments,l=h({},e.props);for(o in t)"key"==o?n=t[o]:"ref"==o?i=t[o]:l[o]=t[o];if(arguments.length>3)for(a=[a],o=3;o<arguments.length;o++)a.push(r[o]);return null!=a&&(l.children=a),g(e.type,l,n||e.key,i||e.ref,null)}function W(e,t){var a={__c:t="__cC"+s++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e,a,n){return this.getChildContext||(a=[],(n={})[t]=this,this.getChildContext=function(){return n},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&a.some(w)},this.sub=function(e){a.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){a.splice(a.indexOf(e),1),t&&t.call(e)}}),e.children}};return a.Provider.__=a.Consumer.contextType=a}n={__e:function(e,t){for(var a,n,i,o=t.__h;t=t.__;)if((a=t.__c)&&!a.__)try{if((n=a.constructor)&&null!=n.getDerivedStateFromError&&(a.setState(n.getDerivedStateFromError(e)),i=a.__d),null!=a.componentDidCatch&&(a.componentDidCatch(e),i=a.__d),i)return t.__h=o,a.__E=a}catch(t){e=t}throw e}},i=function(e){return null!=e&&void 0===e.constructor},y.prototype.setState=function(e,t){var a;a=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h({},this.state),"function"==typeof e&&(e=e(h({},a),this.props)),e&&h(a,e),null!=e&&this.__v&&(t&&this.__h.push(t),w(this))},y.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),w(this))},y.prototype.render=_,o=[],r="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,C.__r=0,u=c,s=0},87236:function(e){var t=null,a=["Webkit","Moz","O","ms"];e.exports=function(e){t||(t=document.createElement("div"));var n=t.style;if(e in n)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),o=a.length;o>=0;o--){var r=a[o]+i;if(r in n)return r}return!1}},92703:function(e,t,a){"use strict";var n=a(50414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,a,i,o,r){if(r!==n){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return a.PropTypes=a,a}},45697:function(e,t,a){e.exports=a(92703)()},50414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},74971:function(e,t,a){var n;/*! https://mths.be/punycode v1.3.2 by @mathias */e=a.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof a.g&&a.g;o.global!==o&&o.window!==o&&o.self;var r,l=2147483647,u=36,s=/^xn--/,c=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,p=String.fromCharCode;function m(e){throw RangeError(f[e])}function g(e,t){for(var a=e.length,n=[];a--;)n[a]=t(e[a]);return n}function v(e,t){var a=e.split("@"),n="";return a.length>1&&(n=a[0]+"@",e=a[1]),n+g((e=e.replace(d,".")).split("."),t).join(".")}function _(e){for(var t,a,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(a=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&a)+65536):(n.push(t),i--):n.push(t);return n}function y(e){return g(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=p(e)})).join("")}function b(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function E(e,t,a){var n=0;for(e=a?h(e/700):e>>1,e+=h(e/t);e>455;n+=u)e=h(e/35);return h(n+36*e/(e+38))}function w(e){var t,a,n,i,o,r,s,c,d,f,p,g=[],v=e.length,_=0,b=128,w=72;for((a=e.lastIndexOf("-"))<0&&(a=0),n=0;n<a;++n)e.charCodeAt(n)>=128&&m("not-basic"),g.push(e.charCodeAt(n));for(i=a>0?a+1:0;i<v;){for(o=_,r=1,s=u;i>=v&&m("invalid-input"),((c=(p=e.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:u)>=u||c>h((l-_)/r))&&m("overflow"),_+=c*r,!(c<(d=s<=w?1:s>=w+26?26:s-w));s+=u)r>h(l/(f=u-d))&&m("overflow"),r*=f;w=E(_-o,t=g.length+1,0==o),h(_/t)>l-b&&m("overflow"),b+=h(_/t),_%=t,g.splice(_++,0,b)}return y(g)}function C(e){var t,a,n,i,o,r,s,c,d,f,g,v,y,w,C,T=[];for(v=(e=_(e)).length,t=128,a=0,o=72,r=0;r<v;++r)(g=e[r])<128&&T.push(p(g));for(n=i=T.length,i&&T.push("-");n<v;){for(s=l,r=0;r<v;++r)(g=e[r])>=t&&g<s&&(s=g);for(s-t>h((l-a)/(y=n+1))&&m("overflow"),a+=(s-t)*y,t=s,r=0;r<v;++r)if((g=e[r])<t&&++a>l&&m("overflow"),g==t){for(c=a,d=u;!(c<(f=d<=o?1:d>=o+26?26:d-o));d+=u)C=c-f,w=u-f,T.push(p(b(f+C%w,0))),c=h(C/w);T.push(p(b(c,0))),o=E(a,y,n==i),a=0,++n}++a,++t}return T.join("")}r={version:"1.3.2",ucs2:{decode:_,encode:y},decode:w,encode:C,toASCII:function(e){return v(e,(function(e){return c.test(e)?"xn--"+C(e):e}))},toUnicode:function(e){return v(e,(function(e){return s.test(e)?w(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return r}.call(t,a,t,e))||(e.exports=n)}()},62587:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,a,n,i){a=a||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var r=/\+/g;e=e.split(a);var l=1e3;i&&"number"==typeof i.maxKeys&&(l=i.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var s=0;s<u;++s){var c,d,f,h,p=e[s].replace(r,"%20"),m=p.indexOf(n);m>=0?(c=p.substr(0,m),d=p.substr(m+1)):(c=p,d=""),f=decodeURIComponent(c),h=decodeURIComponent(d),t(o,f)?Array.isArray(o[f])?o[f].push(h):o[f]=[o[f],h]:o[f]=h}return o}},12361:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,a,n,i){return a=a||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var o=encodeURIComponent(t(i))+n;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(t(e))})).join(a):o+encodeURIComponent(t(e[i]))})).join(a):i?encodeURIComponent(t(i))+n+encodeURIComponent(t(e)):""}},17673:function(e,t,a){"use strict";t.decode=t.parse=a(62587),t.encode=t.stringify=a(12361)},54087:function(e,t,a){for(var n=a(75),i="undefined"==typeof window?a.g:window,o=["moz","webkit"],r="AnimationFrame",l=i["request"+r],u=i["cancel"+r]||i["cancelRequest"+r],s=0;!l&&s<o.length;s++)l=i[o[s]+"Request"+r],u=i[o[s]+"Cancel"+r]||i[o[s]+"CancelRequest"+r];if(!l||!u){var c=0,d=0,f=[];l=function(e){if(0===f.length){var t=n(),a=Math.max(0,16.666666666666668-(t-c));c=a+t,setTimeout((function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(a))}return f.push({handle:++d,callback:e,cancelled:!1}),d},u=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return l.call(i,e)},e.exports.cancel=function(){u.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=l,e.cancelAnimationFrame=u}},36599:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="9" height="16" viewBox="0 0 9 16">\n    <path fill="none" fill-rule="evenodd" stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\n          d="M8.012 1L1 7.975l7.053 7.03"/>\n</svg>\n'},28843:function(e,t,a){"use strict";a.r(t),t.default='<svg width="33" height="33" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path fill="_COLOR1_" d="M24.2 33.433c2.411 4.823 6.544 8.784 11.367 11.367l3.789-3.789c.516-.517 1.205-.689 1.722-.344 1.894.689 3.96 1.033 6.2 1.033 1.033 0 1.722.689 1.722 1.722v5.856C49 50.31 48.311 51 47.278 51 31.088 51 18 37.911 18 21.722 18 20.69 18.689 20 19.722 20h6.028c1.033 0 1.722.689 1.722 1.722 0 2.067.345 4.134 1.034 6.2.172.517 0 1.206-.345 1.722l-3.961 3.79z" id="a"/></defs><use fill="#FFF" xlink:href="#a" transform="translate(-17 -20)" fill-rule="evenodd"/></svg>\n'},97126:function(e,t,a){"use strict";a.r(t),t.default='<svg width="59" height="71" viewBox="0 0 59 71" xmlns="http://www.w3.org/2000/svg"><title>Arrow1</title><g transform="rotate(163 27.277 33.133)" fill="#00A355" fill-rule="evenodd"><rect y="12" width="8" height="48" rx="4"/><rect y="52" width="48" height="8" rx="4"/><rect transform="rotate(-45 30.523 29.475)" x="-6.477" y="25.475" width="74" height="8" rx="4"/></g></svg>'},27684:function(e,t,a){"use strict";a.r(t),t.default='<svg width="59" height="71" viewBox="0 0 59 71" xmlns="http://www.w3.org/2000/svg"><title>Arrow2</title><g transform="rotate(-17 45.338 20.625)" fill="#00A355" fill-rule="evenodd"><rect y="12" width="8" height="48" rx="4"/><rect y="52" width="48" height="8" rx="4"/><rect transform="rotate(-45 30.523 29.475)" x="-6.477" y="25.475" width="74" height="8" rx="4"/></g></svg>'},2482:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path fill="_COLOR1_" fill-rule="nonzero" d="M16.5 8v9.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V7a2.5 2.5 0 0 1 5 0v8.5c0 .55-.45 1-1 1s-1-.45-1-1V8H10v7.5a2.5 2.5 0 0 0 5 0V7c0-2.21-1.79-4-4-4S7 4.79 7 7v10.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V8h-1.5z"/>\n</svg>\n'},92809:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd"><path d="M.941 0h15v15h-15z"/><path fill="#697582" fill-rule="nonzero" d="M3.497 9.624c.36.002.694-.14.954-.401.266-.266.425-.627.428-1.014.009-.36-.069-.72-.227-1.04.352-.288 2.063-.67 3.357-.665 1.258.01 2.972.401 3.335.688-.18.319-.274.68-.283 1.04-.009.381.117.735.367 1.007.25.271.588.424.948.426l1.396.01c.328.002.635-.124.874-.363.244-.243.381-.572.39-.922l.001-.215a1.932 1.932 0 0 0-.132-.804c-.016-.038-.378-1.007-.993-1.394-.096-.053-2.626-1.367-5.876-1.279-3.25.088-5.796 1.165-5.904 1.22a1.718 1.718 0 0 0-.319.255c-.439.439-.719 1.091-.73 1.113-.11.259-.165.528-.178.808l-.002.214c-.017.71.52 1.301 1.197 1.306l1.397.01z"/></g></svg>'},87409:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v16H0z"/><path fill="#18C139" fill-rule="nonzero" d="M12.603 10.143a1.408 1.408 0 0 0-1.018-.417c-.4 0-.79.152-1.083.44a2.377 2.377 0 0 0-.611.953c-.48-.048-2.053-1.046-3.022-2.023-.937-.952-1.931-2.534-1.988-3.022.374-.104.716-.305.993-.569.293-.28.465-.64.48-1.032a1.372 1.372 0 0 0-.39-1.032L4.92 2.384A1.285 1.285 0 0 0 3.993 2c-.367 0-.717.144-.986.4l-.162.16c-.22.2-.391.44-.505.704-.017.04-.473 1.04-.302 1.793.033.112.946 3 3.454 5.376 2.508 2.376 5.23 3.479 5.352 3.519.13.032.277.048.431.048.66 0 1.36-.28 1.385-.288.277-.112.521-.272.741-.472l.163-.16c.546-.52.586-1.369.081-1.881l-1.042-1.056z"/></g></svg>'},93867:function(e,t,a){"use strict";a.r(t),t.default='<svg id="jivo-icon-closewidget" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><style>.jivo-st0{opacity:.8;fill:#FFF;stroke:#000;enable-background:new}.jivo-st0,.jivo-st1{stroke-width:1.5;stroke-linecap:round}.jivo-st1{fill:none;stroke:#383d45}</style><circle class="jivo-st0" cx="12" cy="12" r="11"/><path class="jivo-st1" d="M7.5 16.5l9-9M16.5 16.5l-9-9"/></svg>'},85972:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <g fill="none" fill-rule="evenodd" transform="translate(3 4)">\n    <circle cx="8.5" cy="8.5" r="9.3" stroke="_COLOR1_" stroke-width="1.6"/>\n    <circle cx="5.375" cy="6.375" r="1.375" fill="_COLOR1_"/>\n    <circle cx="11.875" cy="6.375" r="1.375" fill="_COLOR1_" transform="matrix(-1 0 0 1 23.75 0)"/>\n    <path stroke="_COLOR1_" stroke-linecap="round" stroke-width="1.6" d="M4.25 10.5S4.5 13 8.5 13s4.25-2.5 4.25-2.5"/>\n  </g>\n</svg>'},28336:function(e,t,a){"use strict";a.r(t),t.default='<svg width="25" height="20" viewBox="0 0 25 20" xmlns="http://www.w3.org/2000/svg"><path fill=\'_COLOR1_\' d="M22.5 5l-10 6.25L2.5 5V2.5l10 6.25 10-6.25V5zm0-5h-20A2.49 2.49 0 0 0 0 2.5v15A2.5 2.5 0 0 0 2.5 20h20a2.5 2.5 0 0 0 2.5-2.5v-15A2.5 2.5 0 0 0 22.5 0z"/></svg>\n'},69527:function(e,t,a){"use strict";a.r(t),t.default='<svg width="160" height="173" viewBox="0 0 160 173" xmlns="http://www.w3.org/2000/svg"><title>hand</title><path d="M56.31 169.5S8.685 109 5.968 106.25c-2.717-2.75-5.84-12.663 0-20.05C11.807 78.816 21.295 82.95 24 85c2.705 2.05 13.06 10.5 13.06 10.5s7.646 6.35 14.5 2.093c6.857-4.256 6.42-11.392 6.42-11.392s1.93-16.115-1.67-35.2C52.714 31.915 49 25.25 46.75 20c-2.25-5.25-1.124-11.59 5.938-16.045C59.75-.5 67 6.5 68.5 9.25s6.396 9.49 12.12 27.253c5.722 17.763 7.69 41.372 7.69 41.372l-2-23.25c5.576 0 13.464-2.994 24.017 9.168 4.736 5.457 6.86 24.332 6.86 24.332s-1.874-15.188-5.25-21.75c4.5-1.25 12.583-4.006 21.376 4.875 6.31 6.375 5.375 23.25 5.375 23.25s1.25-13.063-4.25-21.938c13.68-1.527 19.937 11.313 21.937 19.563 2 8.25-.875 26.75-.875 26.75l-14.19 51.875" stroke="#A3AFB8" fill-rule="nonzero" stroke-width="4" fill="#FFF" stroke-linecap="round" stroke-linejoin="round"/></svg>'},70099:function(e,t,a){"use strict";a.r(t),t.default='<svg width="76.5" height="76.5" viewBox="0 0 45 45" xmlns="http://www.w3.org/2000/svg">\n  <path fill="#0076ff" d="M22.5 45C10.0736 45 0 34.9264 0 22.5S10.0736 0 22.5 0 45 10.0736 45 22.5 34.9264 45 22.5 45zm-.038-14.2213c6.3812 0 11.5542-4.177 11.5542-9.3295 0-5.1526-5.173-9.3295-11.5543-9.3295-6.3812 0-11.5542 4.177-11.5542 9.3295 0 3.1476 1.9304 5.931 4.8874 7.6207l.0752.0424a.1523.1523 0 0 1 .0745.1016c.2544 1.2152-1.4097 2.3051-2.5218 3.0324 3.6862.232 5.546-1.2438 6.0782-1.7276.9024.1827 1.9882.26 2.9607.26z"/>\n  <path fill="#ffffff" stroke="#ffffff" stroke-width="2" d="M22.462 30.7787c6.3812 0 11.5542-4.177 11.5542-9.3295 0-5.1526-5.173-9.3295-11.5543-9.3295-6.3812 0-11.5542 4.177-11.5542 9.3295 0 3.1476 1.9304 5.931 4.8874 7.6207l.0752.0424a.1524.1524 0 0 1 .0745.1016c.2544 1.2152-1.4097 2.3051-2.5218 3.0324 3.6862.232 5.546-1.2438 6.0782-1.7276.9024.1827 1.9882.26 2.9607.26z"/>\n</svg>'},86227:function(e,t,a){"use strict";a.r(t),t.default='<svg width="26px" height="26px" viewBox="0 0 26 26" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Popup" transform="translate(-257.000000, -293.000000)" fill="#0084FF">\n            <g id="popup-big" transform="translate(231.000000, 195.000000)">\n                <path d="M39,98 C31.8202857,98 26,103.389142 26,110.037037 C26,113.825093 27.8904099,117.203969 30.8447205,119.410438 L30.8447205,124 L35.2710994,121.570685 C36.4524037,121.897611 37.7038758,122.074074 39,122.074074 C46.1797143,122.074074 52,116.684932 52,110.037037 C52,103.389142 46.1797143,98 39,98 Z M40.2919255,114.209877 L36.9813665,110.679012 L30.5217391,114.209877 L37.6273292,106.666667 L41.0186335,110.197531 L47.3975155,106.666667 L40.2919255,114.209877 Z" id="iconMessenger"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},34886:function(e,t,a){"use strict";a.r(t),t.default='<svg width="19" height="19" viewBox="0 0 19 19" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M17.1 0H1.9C.85 0 0 .85 0 1.9V19l3.8-3.8h13.3c1.05 0 1.9-.85 1.9-1.9V1.9C19 .85 18.15 0 17.1 0M3.8 6.65h11.4v1.9H3.8m7.6 2.85H3.8V9.5h7.6m3.8-3.8H3.8V3.8h11.4" fill="#05B24B"/></g></svg>\n'},38353:function(e,t,a){"use strict";a.r(t),t.default='<svg width="30" height="31" viewBox="0 0 30 31" xmlns="http://www.w3.org/2000/svg"><path fill="_COLOR1_" d="M2.967 22.226l-.025.008s7.698 13.9 26.975 5.546c0 0-1.495-1.752-4.384-3.52a14.067 14.067 0 0 0 2.588-14.047c-2.655-7.297-10.7-11.07-17.964-8.425C2.89 4.433-.847 12.492 1.81 19.79c.313.863.703 1.677 1.157 2.436z" fill-rule="evenodd"/></svg>\n'},81483:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">\n    <g fill="none" fill-rule="evenodd">\n        <path d="M0 0h20v20H0z"/>\n        <path stroke="_COLOR1_" stroke-width="1.5" d="M3 3h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"/>\n        <path stroke="_COLOR1_" stroke-width="1.5" d="M16.074 7.064l-6.01 4.01-6.01-4.01"/>\n    </g>\n</svg>\n'},29428:function(e,t,a){"use strict";a.r(t),t.default='<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 16"><style>.st0{fill:none;stroke:#49bb6f;stroke-width:2}</style><path id="icon_thanks" class="st0" d="M2.5 6.5l6 6 11-11"/></svg>'},50109:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 15"><path fill="none" stroke="#fff" stroke-linecap="round" stroke-width="2" d="M1 6.3l7 7 12-12"/></svg>'},22764:function(e,t,a){"use strict";a.r(t),t.default='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: sketchtool 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>ABB53DC4-C95A-47C0-BDA2-177372AC59FA</title>\n    <desc>Created with sketchtool.</desc>\n    <defs></defs>\n    <g id="3" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="ios-Full" transform="translate(-64.000000, -499.000000)" fill="#0076FF">\n            <g id="popup" transform="translate(0.000000, 190.000000)">\n                <path d="M65.0702042,309.547272 C63.6395848,310.838212 63.3600869,312.442576 66.0124393,316.105342 C68.6644642,319.767967 72.3286805,322.837952 74.9458442,324.128565 C77.5634291,325.418898 78.6800637,324.72144 79.4127573,323.709857 C80.1457784,322.697899 80.1457784,321.895624 79.0291437,321.058674 C77.9121815,320.22121 76.3420236,318.616705 74.9110766,319.802641 C73.4804572,320.988905 72.5381753,319.73334 72.1194665,319.279396 C71.8161507,318.951279 69.6064185,316.733031 69.1531761,316.279648 C68.6992786,315.825984 68.3153375,314.710145 69.1180342,313.837773 C69.9210116,312.965822 68.8470059,311.39805 68.5596934,311.04752 C68.2457086,310.663579 66.9719412,307.831492 65.0702042,309.547272" id="Page-1"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},18317:function(e,t,a){"use strict";a.r(t),t.default='<svg width="17" height="17" viewBox="0 0 17 17" xmlns="http://www.w3.org/2000/svg"><path d="M.937 0C.42 0 0 .42 0 .937 0 9.73 7.13 16.86 15.922 16.86c.25 0 .487-.1.663-.275.175-.176.274-.414.274-.663v-3.278c0-.517-.42-.936-.938-.936-1.17 0-2.294-.188-3.343-.534-.33-.103-.694-.028-.957.225l-2.06 2.06C6.913 12.11 4.74 9.946 3.39 7.286l2.06-2.07c.263-.244.338-.61.235-.937C5.34 3.23 5.15 2.107 5.15.937 5.15.42 4.733 0 4.216 0H.937zM11.24 0v1.405h3.278l-5.152 5.15.937.938 5.15-5.15V5.62h1.406V0h-5.62z" fill="#4185F2"/></svg>\n'},18079:function(e,t,a){"use strict";a.r(t),t.default='<svg width="34" height="34" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><circle fill="_COLOR1_" cx="17" cy="17" r="17"/><g transform="translate(10 9)" fill="#FFF"><rect x="6" y="2" width="2" height="14" rx="1"/><rect transform="rotate(-45 9.879 4.879)" x="8.879" y="-.121" width="2" height="10" rx="1"/><rect transform="scale(-1 1) rotate(-45 0 15.243)" x="3.293" y="-.121" width="2" height="10" rx="1"/></g></g></svg>\n'},63899:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <g fill="none" fill-rule="evenodd">\n    <path d="M0 0h24v24H0z"/>\n    <path d="M0 0h24v24H0z"/>\n    <path fill="#02A95F" fill-rule="nonzero" d="M18.904 15.214a2.113 2.113 0 0 0-1.527-.624c-.598 0-1.185.228-1.624.66a3.566 3.566 0 0 0-.917 1.428c-.72-.072-3.08-1.569-4.533-3.033C8.898 12.216 7.407 9.843 7.32 9.11a3.547 3.547 0 0 0 1.49-.852c.44-.42.697-.96.721-1.549a2.058 2.058 0 0 0-.586-1.548L7.382 3.576A1.927 1.927 0 0 0 5.99 3a2.14 2.14 0 0 0-1.478.6l-.244.24c-.33.3-.586.66-.758 1.057-.024.06-.708 1.56-.452 2.689.05.168 1.42 4.5 5.181 8.063 3.762 3.564 7.844 5.219 8.028 5.279.195.048.415.072.647.072.99 0 2.04-.42 2.077-.432a3.711 3.711 0 0 0 1.112-.708l.244-.24c.818-.78.88-2.053.122-2.822l-1.564-1.584z"/>\n  </g>\n</svg>'},99652:function(e,t,a){"use strict";a.r(t),t.default='<svg width="23" height="23" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M1 14.7V21l4.176-3H21c.56 0 .999-.448.999-1V2c0-.545-.447-1-.999-1H2A.994.994 0 0 0 1 2v12.7z" stroke="#00BE64" stroke-width="2"/><path fill="#00BE64" d="M5 6h14v2H5zM5 11h11v2H5z"/></g></svg>\n'},2427:function(e,t,a){"use strict";a.r(t),t.default='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a" d="M0 0h24v24H0z"/></defs><g transform="rotate(-180 12 12)" fill="none" fill-rule="evenodd"><mask id="b" fill="#fff"><use xlink:href="#a"/></mask><g mask="url(#b)" stroke="#FFF" stroke-linecap="round" stroke-width="2"><path d="M14.458 17.911l-6.364-6.364 6.364-6.364"/></g></g></svg>'},34948:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10"><path fill="_COLOR1_" d="M.813.006l9.18 9.18-.806.807L.007.813z"/><path fill="_COLOR1_" d="M9.994.813l-9.18 9.18-.808-.806 9.18-9.18z"/></svg>\n'},12298:function(e,t,a){"use strict";a.r(t),t.default='<svg width="10" height="35" viewBox="0 0 9 35" xmlns="http://www.w3.org/2000/svg"><path fill="_COLOR1_" d="M1.31 34.966H.975c-.295 0-.53-.09-.71-.27C.09 34.516 0 34.3 0 34.05v-2.33c0-.25.097-.465.288-.645.193-.18.42-.27.687-.27H1.3c1.776 0 3.223-1.37 3.238-3.06v-8.94H.975c-.236 0-.458-.09-.665-.27-.206-.18-.31-.395-.31-.645v-2.33c0-.223.104-.43.31-.625.207-.194.43-.292.665-.292h7.019c.266 0 .494.09.687.27.192.182.29.396.29.646V27.77c0 .032-.008.058-.01.09-.08 3.937-3.477 7.098-7.65 7.104zM.318 0C-.25 11.117 8.62 12.702 8.62 12.702 8.17.522.318 0 .318 0z"/></svg>\n'},82632:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="108" height="36" viewBox="0 0 108 36">\n    <g>\n        <path id="text" d="M6.342 11.967H.957c-.2 0-.4 0-.6.2 0 .2-.198.2-.198.4v1.993c0 .2 0 .4.198.6.2.198.4.198.6.198h2.79v14.36c0 1.397-1.196 2.594-2.392 2.594h-.4c-.2 0-.398 0-.598.2-.2.2-.2.398-.2.598v1.994c0 .2 0 .4.2.6.2.198.4.198.6.198h.198c3.192 0 5.785-2.792 5.785-5.984V12.566c0-.2 0-.4-.2-.6h-.398m6.98 0H11.33c-.2 0-.2 0-.4.2s-.2.2-.2.4v14.76c0 .2 0 .398.2.598.2.2.4.2.598.2h1.795c.2 0 .4 0 .598-.2.2-.2.2-.4.2-.598v-14.76c0-.2 0-.4-.198-.6h-.6m17.154 0H28.88c-.598 0-.997.2-.997.4l-4.388 9.973-4.188-9.974c0-.4-.4-.4-.6-.4h-1.993c-.4 0-.598 0-.598.2-.2.2-.2.4 0 .6l6.78 15.357c.2.2.4.4.6.4h.2c.198 0 .597-.2.597-.4l6.782-15.358c.2-.2.2-.4 0-.598-.2-.2-.4-.2-.6-.2m9.176-.4c-2.193.002-3.988.8-5.584 2.594-1.595 1.597-2.393 3.592-2.393 5.985 0 2.393.798 4.388 2.393 5.984 1.596 1.794 3.39 2.592 5.585 2.592s3.99-.798 5.586-2.593c1.596-1.796 2.394-3.79 2.394-5.985 0-2.393-.798-4.388-2.394-5.984-1.596-1.794-3.59-2.591-5.585-2.591m3.193 12.165c-.798.998-1.995 1.596-3.192 1.596-1.395 0-2.392-.398-3.39-1.395-.797-.998-1.396-2.194-1.396-3.79 0-1.396.4-2.792 1.397-3.59.798-.997 1.995-1.396 3.39-1.396 1.398 0 2.395.398 3.193 1.395.797.997 1.396 2.194 1.396 3.59s-.6 2.593-1.397 3.59m19.147-.598c-.398-.4-.797-.2-.997 0l-.4.4-.597.597c-.2.2-.4.2-.6.4-.198.2-.597.398-.796.398-.4 0-.6.2-.998.2-1.396 0-2.393-.6-3.19-1.596-.8-.998-1.397-2.194-1.397-3.79 0-1.396.4-2.792 1.396-3.79.998-.997 1.996-1.396 3.392-1.396 1.197 0 2.194.6 3.19 1.596.4.4.8.4.998.2l1.197-1.197s0-.4-.4-.8c-1.395-1.794-3.39-2.79-5.584-2.79-2.194-.002-3.99.796-5.584 2.59-1.597 1.597-2.395 3.592-2.395 5.985 0 2.393.798 4.388 2.394 6.183 1.594 1.596 3.39 2.394 5.583 2.394 2.593 0 4.588-1.197 5.984-3.39.2-.4.2-.8-.2-1.198l-.997-.997m11.57-11.569c-1.597 0-2.993.6-4.59 1.796V4.986c0-.2 0-.4-.198-.598-.2-.2-.4-.2-.6-.2H66.38c-.2 0-.398 0-.598.2-.2.2-.2.4-.2.598v22.54c0 .198 0 .398.2.597.2.2.4.2.598.2h1.796c.598 0 .797-.2.797-.798V17.353c.2-.6.8-.998 1.398-1.596.797-.598 1.795-.798 2.792-.798.997 0 1.795.398 2.393 1.196.6.798.798 1.795.798 3.19v8.378c0 .2 0 .4.2.6.2.198.4.198.6.198h1.794c.2 0 .4 0 .6-.2.198-.2.198-.398.198-.598v-8.177c-.2-5.386-2.194-7.979-6.183-7.979m20.144 1.995c-.4-.798-.997-1.197-1.596-1.596-.798-.4-1.795-.598-2.992-.598-1.994 0-3.79.398-5.385.996-.398.2-.597.4-.597.998l.4 1.396c.198.598.398.798.796.598a12.823 12.823 0 0 1 4.388-.798c.997 0 1.595.2 1.994.798.4.598.598 1.596.4 2.793l-.4-.2c-.2 0-.598-.198-1.197-.198-.4.2-.797.2-1.396.2-1.995 0-3.392.398-4.588 1.395-1.197.997-1.596 2.194-1.596 3.79s.4 2.992 1.396 3.99c.998.996 2.194 1.395 3.59 1.395 1.796 0 3.39-.598 4.787-1.994l.398 1.196c.2.4.4.6.6.6h1.195c.2 0 .4 0 .6-.2.198-.2.198-.4.198-.6V18.75c0-1.198 0-2.195-.198-2.993-.2-.598-.4-1.396-.798-2.194M91.31 23.735c-.2.4-.797.998-1.396 1.396-.798.4-1.396.6-2.194.6s-1.396-.2-1.795-.798c-.4-.4-.598-1.197-.598-1.795 0-.798.2-1.396.798-1.995.598-.4 1.396-.797 2.393-.797.598 0 1.197 0 1.795.2.6.198.997.198.997.398v2.792m16.555 2.793l-.598-1.596c-.2-.4-.4-.598-.997-.4a3.834 3.834 0 0 1-2.394.8c-.4 0-.798-.2-.997-.4-.2-.2-.4-.598-.4-1.396V14.96h4.19c.198 0 .397 0 .597-.2.2-.2.2-.4.2-.6v-1.594c0-.2 0-.4-.2-.6h-4.788V7.38c0-.2 0-.4-.2-.598-.2-.2-.398-.2-.598-.2h-1.994c-.2 0-.4 0-.6.2-.198.2-.198.398-.198.598v4.587h-1.795c-.4 0-.798.2-.798.798v1.396c0 .2 0 .4.2.6.2.2.398.2.598.2h1.795v8.975c0 1.595.2 2.792.798 3.59.598.798 1.595 1.197 2.99 1.197.8 0 1.597-.2 2.395-.4s1.396-.598 1.795-.797c.997-.2 1.197-.598.997-.997z" fill-rule="evenodd" fill="#3e414f"/>\n        <path id="leaf" d="M6.94 10.77C6.543.4.16 0 .16 0c-.4 9.374 6.78 10.77 6.78 10.77z" fill-rule="evenodd" fill="#44bb6e"/>\n    </g>\n</svg>'},54446:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="108" height="36" viewBox="0 0 108 36">\n    <g>\n        <path fill="_COLOR1_" fill-rule="evenodd" d="M6.342 11.967H.957c-.2 0-.4 0-.6.2 0 .2-.198.2-.198.4v1.993c0 .2 0 .4.198.6.2.198.4.198.6.198h2.79v14.36c0 1.397-1.196 2.594-2.392 2.594h-.4c-.2 0-.398 0-.598.2-.2.2-.2.398-.2.598v1.994c0 .2 0 .4.2.6.2.198.4.198.6.198h.198c3.192 0 5.785-2.792 5.785-5.984V12.566c0-.2 0-.4-.2-.6h-.398m6.98 0H11.33c-.2 0-.2 0-.4.2s-.2.2-.2.4v14.76c0 .2 0 .398.2.598.2.2.4.2.598.2h1.795c.2 0 .4 0 .598-.2.2-.2.2-.4.2-.598v-14.76c0-.2 0-.4-.198-.6h-.6m17.154 0H28.88c-.598 0-.997.2-.997.4l-4.388 9.973-4.188-9.974c0-.4-.4-.4-.6-.4h-1.993c-.4 0-.598 0-.598.2-.2.2-.2.4 0 .6l6.78 15.357c.2.2.4.4.6.4h.2c.198 0 .597-.2.597-.4l6.782-15.358c.2-.2.2-.4 0-.598-.2-.2-.4-.2-.6-.2m9.176-.4c-2.193.002-3.988.8-5.584 2.594-1.595 1.597-2.393 3.592-2.393 5.985 0 2.393.798 4.388 2.393 5.984 1.596 1.794 3.39 2.592 5.585 2.592s3.99-.798 5.586-2.593c1.596-1.796 2.394-3.79 2.394-5.985 0-2.393-.798-4.388-2.394-5.984-1.596-1.794-3.59-2.591-5.585-2.591m3.193 12.165c-.798.998-1.995 1.596-3.192 1.596-1.395 0-2.392-.398-3.39-1.395-.797-.998-1.396-2.194-1.396-3.79 0-1.396.4-2.792 1.397-3.59.798-.997 1.995-1.396 3.39-1.396 1.398 0 2.395.398 3.193 1.395.797.997 1.396 2.194 1.396 3.59s-.6 2.593-1.397 3.59m19.147-.598c-.398-.4-.797-.2-.997 0l-.4.4-.597.597c-.2.2-.4.2-.6.4-.198.2-.597.398-.796.398-.4 0-.6.2-.998.2-1.396 0-2.393-.6-3.19-1.596-.8-.998-1.397-2.194-1.397-3.79 0-1.396.4-2.792 1.396-3.79.998-.997 1.996-1.396 3.392-1.396 1.197 0 2.194.6 3.19 1.596.4.4.8.4.998.2l1.197-1.197s0-.4-.4-.8c-1.395-1.794-3.39-2.79-5.584-2.79-2.194-.002-3.99.796-5.584 2.59-1.597 1.597-2.395 3.592-2.395 5.985 0 2.393.798 4.388 2.394 6.183 1.594 1.596 3.39 2.394 5.583 2.394 2.593 0 4.588-1.197 5.984-3.39.2-.4.2-.8-.2-1.198l-.997-.997m11.57-11.569c-1.597 0-2.993.6-4.59 1.796V4.986c0-.2 0-.4-.198-.598-.2-.2-.4-.2-.6-.2H66.38c-.2 0-.398 0-.598.2-.2.2-.2.4-.2.598v22.54c0 .198 0 .398.2.597.2.2.4.2.598.2h1.796c.598 0 .797-.2.797-.798V17.353c.2-.6.8-.998 1.398-1.596.797-.598 1.795-.798 2.792-.798.997 0 1.795.398 2.393 1.196.6.798.798 1.795.798 3.19v8.378c0 .2 0 .4.2.6.2.198.4.198.6.198h1.794c.2 0 .4 0 .6-.2.198-.2.198-.398.198-.598v-8.177c-.2-5.386-2.194-7.979-6.183-7.979m20.144 1.995c-.4-.798-.997-1.197-1.596-1.596-.798-.4-1.795-.598-2.992-.598-1.994 0-3.79.398-5.385.996-.398.2-.597.4-.597.998l.4 1.396c.198.598.398.798.796.598a12.823 12.823 0 0 1 4.388-.798c.997 0 1.595.2 1.994.798.4.598.598 1.596.4 2.793l-.4-.2c-.2 0-.598-.198-1.197-.198-.4.2-.797.2-1.396.2-1.995 0-3.392.398-4.588 1.395-1.197.997-1.596 2.194-1.596 3.79s.4 2.992 1.396 3.99c.998.996 2.194 1.395 3.59 1.395 1.796 0 3.39-.598 4.787-1.994l.398 1.196c.2.4.4.6.6.6h1.195c.2 0 .4 0 .6-.2.198-.2.198-.4.198-.6V18.75c0-1.198 0-2.195-.198-2.993-.2-.598-.4-1.396-.798-2.194M91.31 23.735c-.2.4-.797.998-1.396 1.396-.798.4-1.396.6-2.194.6s-1.396-.2-1.795-.798c-.4-.4-.598-1.197-.598-1.795 0-.798.2-1.396.798-1.995.598-.4 1.396-.797 2.393-.797.598 0 1.197 0 1.795.2.6.198.997.198.997.398v2.792m16.555 2.793l-.598-1.596c-.2-.4-.4-.598-.997-.4a3.834 3.834 0 0 1-2.394.8c-.4 0-.798-.2-.997-.4-.2-.2-.4-.598-.4-1.396V14.96h4.19c.198 0 .397 0 .597-.2.2-.2.2-.4.2-.6v-1.594c0-.2 0-.4-.2-.6h-4.788V7.38c0-.2 0-.4-.2-.598-.2-.2-.398-.2-.598-.2h-1.994c-.2 0-.4 0-.6.2-.198.2-.198.398-.198.598v4.587h-1.795c-.4 0-.798.2-.798.798v1.396c0 .2 0 .4.2.6.2.2.398.2.598.2h1.795v8.975c0 1.595.2 2.792.798 3.59.598.798 1.595 1.197 2.99 1.197.8 0 1.597-.2 2.395-.4s1.396-.598 1.795-.797c.997-.2 1.197-.598.997-.997z"/>\n        <path fill="_COLOR2_" fill-rule="evenodd" d="M6.94 10.77C6.543.4.16 0 .16 0c-.4 9.374 6.78 10.77 6.78 10.77z"/>\n    </g>\n</svg>\n'},22722:function(e,t,a){"use strict";a.r(t),t.default='<svg width="46" height="15" preserveAspectRatio="xMinYMin meet" xmlns="http://www.w3.org/2000/svg"><path d="M.048 0c-.2 3.774 2.893 4.31 2.893 4.31C2.78.178.05 0 .05 0zm2.587 4.784H.35c-.08 0-.15.04-.215.103-.07.07-.103.136-.103.217v.803c0 .088.04.162.103.226.07.065.136.097.216.097h1.16v5.795c0 .542-.405.994-.924 1.06H.35c-.086 0-.16.03-.224.095a.303.303 0 0 0-.097.226v.804c0 .087.03.162.086.226a.303.303 0 0 0 .232.097H.46c1.318 0 2.397-1.04 2.478-2.35a.675.675 0 0 0 .013-.145V5.104a.307.307 0 0 0-.096-.226.29.29 0 0 0-.22-.094zm3.012 0h-.802c-.087 0-.16.04-.226.103-.065.07-.097.136-.097.217v6.01c0 .088.022.162.096.226a.3.3 0 0 0 .225.097h.802a.3.3 0 0 0 .216-.097.289.289 0 0 0 .103-.226v-6.01c0-.08-.04-.152-.103-.217-.07-.07-.136-.103-.216-.103zm7.313.016h-.648c-.242 0-.393.055-.448.184l-1.85 4.068h-.03L8.22 4.984a.294.294 0 0 0-.29-.184h-.875c-.12 0-.21.032-.258.113-.048.07-.04.162.016.258l2.867 6.254c.055.113.15.168.29.168h.087c.12 0 .216-.055.274-.168L13.2 5.17c.054-.095.064-.176.016-.257-.05-.074-.13-.113-.255-.113zm3.874-.152c-.927 0-1.723.336-2.387 1.02-.663.682-.992 1.492-.992 2.43 0 .947.335 1.774.986 2.458.665.69 1.457 1.036 2.388 1.036.93 0 1.723-.345 2.377-1.036.664-.69.992-1.508.992-2.457 0-.94-.328-1.75-.992-2.43-.663-.686-1.45-1.022-2.37-1.022zm1.41 4.965c-.382.41-.85.61-1.4.61-.56 0-1.034-.2-1.41-.6-.378-.4-.57-.914-.57-1.524 0-.595.183-1.092.57-1.486a1.88 1.88 0 0 1 1.41-.594c.56 0 1.024.194 1.4.594.378.394.572.89.572 1.485-.004.6-.197 1.107-.57 1.513zm8.576.123l-.447-.362c-.16-.12-.303-.113-.448.033-.016.016-.087.087-.21.2-.12.12-.21.2-.264.242-.053.038-.144.096-.263.177-.112.08-.24.13-.377.16-.135.024-.29.04-.447.04-.56 0-1.025-.2-1.402-.61a2.141 2.141 0 0 1-.57-1.502c0-.593.2-1.09.584-1.49.384-.4.867-.6 1.427-.6.507 0 .96.215 1.364.657.167.162.303.184.432.07l.512-.473c.167-.153.193-.314.054-.476-.624-.762-1.427-1.15-2.41-1.15-.927 0-1.722.337-2.392 1.01-.664.676-1.002 1.493-1.002 2.464 0 .988.328 1.815 1.002 2.463.657.666 1.456.996 2.393.996 1.105 0 1.97-.46 2.58-1.382.103-.148.07-.31-.113-.468zm4.542-5.088c-.647 0-1.288.233-1.923.69V2c0-.08-.04-.152-.104-.216-.07-.07-.135-.103-.216-.103h-.802a.31.31 0 0 0-.225.102c-.065.07-.097.136-.097.216v9.116c0 .088.032.162.097.217a.3.3 0 0 0 .225.098h.786c.216 0 .33-.104.33-.314v-4.14c.102-.218.302-.427.608-.644.303-.216.68-.32 1.13-.32.432 0 .76.146.986.45.226.296.335.73.335 1.284v3.364c0 .087.032.16.097.226a.303.303 0 0 0 .225.097h.802c.08 0 .152-.032.216-.096a.291.291 0 0 0 .103-.226v-3.33c-.003-2.087-.86-3.13-2.574-3.13zm8.601.859a1.341 1.341 0 0 0-.712-.65c-.327-.134-.743-.21-1.248-.21-.867 0-1.627.13-2.284.38-.184.064-.258.193-.216.383l.13.546c.047.216.176.313.376.274.72-.21 1.336-.313 1.85-.313.414 0 .694.12.855.362.162.24.226.625.21 1.16l-.184-.054a4.651 4.651 0 0 0-.513-.097 4.44 4.44 0 0 0-.64-.05c-.835 0-1.49.194-1.956.595-.473.4-.705.913-.705 1.55 0 .674.2 1.22.593 1.613.4.394.912.594 1.546.594.786 0 1.456-.28 2.033-.836l.16.45c.065.15.162.23.275.23h.48c.08 0 .15-.03.215-.096a.29.29 0 0 0 .104-.226V7.576c0-.48-.022-.868-.07-1.17a3.256 3.256 0 0 0-.297-.9zm-1.056 4.106c-.113.194-.32.378-.625.546-.303.167-.61.257-.912.257-.335 0-.593-.103-.77-.297-.177-.194-.264-.45-.264-.755 0-.336.12-.6.383-.804.257-.2.583-.296.985-.296.264 0 .522.032.754.087.23.056.382.104.447.146v1.117zm7.048 1.127l-.258-.675c-.07-.2-.2-.248-.383-.145-.36.21-.712.313-1.066.313-.168 0-.303-.048-.393-.145-.087-.097-.136-.275-.136-.53V6.02h1.745c.087 0 .16-.038.226-.103a.294.294 0 0 0 .097-.216v-.583a.295.295 0 0 0-.096-.233.331.331 0 0 0-.225-.087H43.72v-1.86a.34.34 0 0 0-.088-.225.268.268 0 0 0-.215-.097h-.82a.303.303 0 0 0-.224.097.3.3 0 0 0-.097.226V4.79h-.76c-.21 0-.312.104-.312.314v.584c0 .087.032.16.096.226a.305.305 0 0 0 .226.097h.76v3.597c0 .642.12 1.14.36 1.475.25.346.68.513 1.305.513.362 0 .707-.054 1.058-.16.35-.104.615-.21.786-.314.177-.1.225-.228.16-.38z" fill="#FFF" fill-rule="evenodd"/></svg>'},88603:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="108" height="36" viewBox="0 0 108 36">\n  <g>\n    <path id="text" d="M14.118 11.775h-1.985c-.198 0-.397 0-.595.2-.2.2-.2.398-.2.598V27.34c0 .2 0 .4.2.6.198.2.397.2.595.2h1.985c.2 0 .397 0 .596-.2.198-.2.198-.4.198-.6V12.574c0-.2 0-.4-.198-.6-.2 0-.397-.198-.596-.198m18.262 0h-1.587c-.596 0-.993.2-1.19.4l-4.567 9.977-4.367-9.978c-.2-.4-.398-.4-.795-.4H17.69c-.396 0-.594 0-.594.2-.2.2-.2.4 0 .6l7.146 15.366c.198.2.397.4.794.4h.198c.397 0 .596-.2.596-.4l7.146-15.367c.2-.2.2-.4 0-.6 0 0-.198-.198-.596-.198m9.727-.4c-2.382 0-4.367.8-5.955 2.595-1.588 1.596-2.58 3.592-2.58 5.987s.793 4.39 2.58 5.987c1.588 1.796 3.573 2.594 5.955 2.594s4.367-.798 5.955-2.594c1.588-1.796 2.382-3.792 2.382-5.987 0-2.395-.794-4.39-2.58-5.987-1.588-1.597-3.573-2.595-5.757-2.595m3.375 12.374c-.993.997-2.184 1.595-3.573 1.595-1.39 0-2.582-.4-3.574-1.397-.993-.998-1.39-2.195-1.39-3.792 0-1.396.397-2.793 1.39-3.592.992-.998 2.183-1.397 3.573-1.397 1.388 0 2.58.4 3.572 1.397.992.998 1.39 2.195 1.39 3.592 0 1.398-.398 2.595-1.39 3.593m16.873-3.394c-.596-.4-1.19-.798-1.59-.998-.594-.2-1.19-.6-2.182-.998-.993-.4-1.588-.798-2.183-1.197-.398-.4-.795-.798-.795-1.197 0-.4.2-.8.596-.998.398-.2.795-.4 1.59-.4 1.19 0 2.182.2 3.572.8.595.198.794.198.992-.4l.596-1.198c.198-.4.198-.798-.397-1.197-1.19-.798-2.78-1.198-4.764-1.198-1.788 0-3.177.4-4.17 1.397-.992.998-1.39 1.996-1.39 3.194 0 1.197.398 2.195 1.192 2.993.794.797 1.787 1.396 3.374 2.194 1.19.6 2.184.998 2.78 1.397.595.4.794.8.794 1.398 0 .4-.2.8-.596 1.198-.397.2-.993.4-1.588.4-1.19 0-2.58-.4-4.17-1.2-.594-.198-.793-.198-.99.2l-.795 1.597c-.198.4 0 .6.2.8 1.587 1.196 3.374 1.595 5.36 1.595 1.785 0 3.175-.4 4.366-1.397.992-.997 1.588-1.994 1.588-3.39 0-.8-.198-1.398-.397-1.997 0-.4-.397-.998-.992-1.397m7.146-8.58h-1.984c-.2 0-.398 0-.596.198-.198.2-.198.4-.198.6V27.34c0 .2 0 .4.198.6.198.2.397.2.596.2H69.5c.2 0 .397 0 .596-.2.2-.2.2-.4.2-.6V12.574c0-.2 0-.4-.2-.6-.2 0-.397-.198-.595-.198m14.293 12.972c-.2-.4-.596-.6-.993-.4-.794.6-1.786.8-2.58.8-.397 0-.794-.2-.993-.4-.198-.2-.397-.6-.397-1.398v-8.782h4.367c.2 0 .397 0 .596-.2.198 0 .198-.2.198-.398v-1.397c0-.2 0-.4-.197-.6-.2-.198-.397-.198-.596-.198H78.83v-4.59c0-.2 0-.4-.198-.6-.2 0-.2-.2-.596-.2H76.05c-.197 0-.396 0-.594.2-.2.2-.2.4-.2.6v4.59h-1.984c-.595 0-.794.2-.794.798v1.397c0 .2 0 .4.2.598.197.2.395.2.594.2h1.985v8.98c0 1.597.397 2.795.993 3.593.595.8 1.786 1.198 3.176 1.198.794 0 1.786-.2 2.58-.4.794-.198 1.588-.598 1.985-.797.398-.2.597-.598.398-.997l-.595-1.596M99.276 13.57c-1.39-1.396-3.176-2.195-5.36-2.195-2.382 0-4.367.8-5.955 2.595-1.587 1.596-2.38 3.592-2.38 5.987s.793 4.39 2.38 6.186c1.59 1.597 3.574 2.395 5.957 2.395 2.58 0 4.565-.598 6.153-1.995.397-.4.397-.8 0-1.198l-.992-1.397c-.2-.4-.596-.4-.993 0-1.39.998-2.58 1.397-3.97 1.397-1.39 0-2.58-.4-3.573-1.397-.993-.998-1.39-1.996-1.39-3.193h11.315c.397 0 .794-.2.794-.798V18.76c.2-1.996-.595-3.792-1.984-5.19m-9.925 4.59c.2-.997.596-1.995 1.39-2.594.794-.798 1.787-.998 2.978-.998 1.19 0 2.183.4 2.78.998.793.8 1.19 1.597 1.19 2.595H89.35M6.576 11.776H1.017c-.198 0-.397 0-.595.2-.2.2-.2.398-.2.598v1.995c0 .2 0 .4.2.6.198.2.397.2.595.2h2.78v14.368c0 1.397-1.192 2.594-2.58 2.594h-.2c-.198 0-.397 0-.595.2-.2.2-.2.4-.2.598v1.996c0 .2 0 .4.2.6.198.198.397.198.595.198h.2c3.373 0 6.152-2.794 6.152-5.987V12.772c0-.2 0-.4-.2-.598-.198-.2-.198-.4-.595-.4z" fill-rule="evenodd" fill="#3e414f"/>\n    <path id="leaf" d="M7.37 10.577C6.97.4.222 0 .222 0-.174 9.18 7.37 10.577 7.37 10.577z" fill-rule="evenodd" fill="#44bb6e"/>\n  </g>\n</svg>'},30349:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="25.688" height="18">\n    <path fill="_COLOR1_" d="M7.155 5.93H6.134a.4.4 0 00-.287.128.378.378 0 00-.123.268v7.448a.377.377 0 00.123.28.389.389 0 00.287.12h1.021a.382.382 0 00.274-.12.353.353 0 00.131-.28V6.33a.375.375 0 00-.131-.268.353.353 0 00-.274-.132zm9.313.02h-.824a.557.557 0 00-.57.228l-2.353 5.04h-.041l-2.242-5.04a.379.379 0 00-.369-.228H8.958a.356.356 0 00-.328.14.289.289 0 00.021.32l3.648 7.748a.376.376 0 00.369.208h.111a.373.373 0 00.348-.208l3.648-7.748a.288.288 0 00.021-.32.368.368 0 00-.328-.14zm4.935-.188a4.312 4.312 0 00-4.3 4.276 4.212 4.212 0 001.254 3.044 4.11 4.11 0 003.038 1.284 4.069 4.069 0 003.025-1.284 4.181 4.181 0 001.262-3.044 4.313 4.313 0 00-4.279-4.276zm1.783 6.156a2.379 2.379 0 01-1.783.756 2.4 2.4 0 01-1.8-.744 2.623 2.623 0 01-.725-1.888 2.529 2.529 0 01.725-1.84 2.427 2.427 0 011.8-.736 2.368 2.368 0 011.783.736 2.525 2.525 0 01.725 1.84 2.669 2.669 0 01-.725 1.876zM3.322 5.93H.416a.392.392 0 00-.275.128.373.373 0 00-.131.272v1a.386.386 0 00.131.28.4.4 0 00.275.12h1.475v7.17a1.331 1.331 0 01-1.18 1.312H.416a.4.4 0 00-.287.12.371.371 0 00-.123.28v1a.415.415 0 00.111.28.394.394 0 00.295.12h.143a3.13 3.13 0 003.152-2.9.848.848 0 00.017-.188V6.33a.377.377 0 00-.123-.28.365.365 0 00-.279-.12z" fill-rule="evenodd"/>\n    <path fill="_COLOR2_" d="M.03-.006c-.254 4.676 3.681 5.34 3.681 5.34C3.515.214.03-.006.03-.006z" fill-rule="evenodd"/>\n</svg>'},15504:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="25.688" height="18"><path d="M7.155 5.93H6.134a.4.4 0 00-.287.128.378.378 0 00-.123.268v7.448a.377.377 0 00.123.28.389.389 0 00.287.12h1.021a.382.382 0 00.274-.12.353.353 0 00.131-.28V6.33a.375.375 0 00-.131-.268.353.353 0 00-.274-.132zm9.313.02h-.824a.557.557 0 00-.57.228l-2.353 5.04h-.041l-2.242-5.04a.379.379 0 00-.369-.228H8.958a.356.356 0 00-.328.14.289.289 0 00.021.32l3.648 7.748a.376.376 0 00.369.208h.111a.373.373 0 00.348-.208l3.648-7.748a.288.288 0 00.021-.32.368.368 0 00-.328-.14zm4.935-.188a4.312 4.312 0 00-4.3 4.276 4.212 4.212 0 001.254 3.044 4.11 4.11 0 003.038 1.284 4.069 4.069 0 003.025-1.284 4.181 4.181 0 001.262-3.044 4.313 4.313 0 00-4.279-4.276zm1.783 6.156a2.379 2.379 0 01-1.783.756 2.4 2.4 0 01-1.8-.744 2.623 2.623 0 01-.725-1.888 2.529 2.529 0 01.725-1.84 2.427 2.427 0 011.8-.736 2.368 2.368 0 011.783.736 2.525 2.525 0 01.725 1.84 2.669 2.669 0 01-.725 1.876zM3.322 5.93H.416a.392.392 0 00-.275.128.373.373 0 00-.131.272v1a.386.386 0 00.131.28.4.4 0 00.275.12h1.475v7.17a1.331 1.331 0 01-1.18 1.312H.416a.4.4 0 00-.287.12.371.371 0 00-.123.28v1a.415.415 0 00.111.28.394.394 0 00.295.12h.143a3.13 3.13 0 003.152-2.9.848.848 0 00.017-.188V6.33a.377.377 0 00-.123-.28.365.365 0 00-.279-.12z" fill-rule="evenodd" fill="#fff"/><path data-name="Фигура 13 копия 3" d="M.03-.006c-.254 4.676 3.681 5.34 3.681 5.34C3.515.214.03-.006.03-.006z" fill="#00c151" fill-rule="evenodd"/></svg>'},36683:function(e,t,a){"use strict";a.r(t),t.default='<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient x1="50%" y1="3.556%" x2="50%" y2="97.988%" id="a"><stop stop-color="#00C6FF" offset="0%"/><stop stop-color="#0371FF" offset="100%"/></linearGradient></defs><path d="M7.5 0C3.375 0 0 3.105 0 6.938c0 2.16 1.065 4.087 2.737 5.362l.046 2.7 2.587-1.41-.022-.008a8.106 8.106 0 0 0 2.152.293c4.125 0 7.5-3.105 7.5-6.938C15 3.106 11.625 0 7.5 0zm.773 9.307L6.405 7.335l-3.78 1.972L6.66 5.085l1.935 1.853 3.637-1.853-3.96 4.222z" transform="translate(1)" fill-rule="nonzero" fill="url(#a)"/></svg>'},33825:function(e,t,a){"use strict";a.r(t),t.default='<svg width="18" height="17" viewBox="0 0 18 17" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M.318 8.043L4.465 9.59l1.606 5.164c.104.33.508.452.776.233l2.312-1.885c.243-.197.588-.207.84-.023l4.17 3.026c.288.21.695.052.767-.295L17.99 1.118c.078-.38-.294-.695-.655-.555L.313 7.128c-.42.162-.416.757.005.915zm5.494.724l8.106-4.993c.146-.09.296.108.17.224l-6.69 6.218c-.234.22-.386.512-.43.83l-.227 1.69c-.03.224-.346.247-.408.028l-.876-3.08c-.1-.35.045-.726.356-.917z" fill="_COLOR1_"/></g></svg>\n'},75001:function(e,t,a){"use strict";a.r(t),t.default='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><g><rect fill="#7B519D" width="20" height="20" rx="3"/><g fill="#FFF"><path d="M15.892 13.177c-.433-.35-.896-.662-1.352-.982-.91-.638-1.74-.688-2.418.34-.38.576-.914.6-1.47.348-1.538-.697-2.724-1.77-3.42-3.332-.307-.69-.303-1.31.417-1.798.38-.26.763-.564.733-1.13-.04-.735-1.828-3.196-2.534-3.456-.294-.108-.584-.1-.882 0-1.655.556-2.34 1.918-1.684 3.53 1.96 4.81 5.407 8.158 10.153 10.202.27.116.57.162.723.204 1.08.01 2.347-1.03 2.712-2.063.352-.995-.392-1.39-.98-1.863zM10.57 3.66c3.47.533 5.07 2.182 5.512 5.677.04.323-.08.81.38.818.483.01.367-.47.37-.793.04-3.29-2.828-6.342-6.16-6.455-.253.036-.773-.173-.806.39-.02.38.417.318.704.362z"/><path d="M11.25 4.617c-.335-.04-.775-.197-.853.266-.082.486.41.437.725.507 2.143.48 2.89 1.26 3.242 3.385.05.31-.05.792.476.712.39-.06.25-.473.282-.714.017-2.04-1.732-3.9-3.873-4.156z"/><path d="M11.446 6.286c-.223.006-.442.03-.524.268-.122.356.136.44.4.483.88.14 1.34.66 1.43 1.536.023.238.174.43.404.403.318-.038.347-.32.337-.59.016-.985-1.097-2.124-2.047-2.1z"/></g></g></g></svg>\n'},74783:function(e,t,a){"use strict";a.r(t),t.default='<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M2.556 1C1.696 1 1 1.696 1 2.556v10.888C1 14.304 1.696 15 2.556 15h10.888c.86 0 1.556-.696 1.556-1.556V2.556C15 1.696 14.304 1 13.444 1H2.556zm.388 4.278h1.167c.28 0 .389.124.498.443.56 1.633 1.501 3.057 1.89 3.057.148 0 .218-.062.218-.428V6.662c-.047-.778-.46-.848-.46-1.12 0-.132.11-.264.296-.264H8.35c.249 0 .327.132.327.42v2.27c0 .242.1.328.179.328.147 0 .272-.086.536-.35.825-.926 1.408-2.342 1.408-2.342.078-.17.21-.326.498-.326h1.143c.35 0 .428.179.35.42-.148.669-1.54 2.636-1.54 2.636-.14.195-.171.288 0 .514.117.163.521.505.786.824.497.552.863 1.02.972 1.338.093.327-.07.49-.397.49h-1.15c-.436 0-.56-.35-1.339-1.128-.684-.653-.956-.739-1.143-.739-.233 0-.303.063-.303.397v1.027c0 .28-.086.443-.817.443-1.213 0-2.551-.739-3.492-2.1-1.424-1.991-1.812-3.492-1.812-3.796 0-.17.062-.326.388-.326z" fill-rule="nonzero" fill="#4A84C7"/></svg>'},64924:function(e,t,a){"use strict";a.r(t),t.default='<svg width="21" height="21" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M.12775 10.39923c-.00065 1.82864.4794 3.6137 1.3919 5.18715L.0402 20.96268 5.5684 19.52c1.5231.82671 3.238 1.26239 4.9832 1.26303h.0045c5.74725 0 10.42575-4.65498 10.4282-10.37539.00095-2.7725-1.0828-5.37933-3.05155-7.34045-1.969-1.96106-4.5872-3.04156-7.37665-3.0428C4.8079.02438.13005 4.67861.12775 10.39922z" fill="#34BC48" fill-rule="nonzero"/><path d="M7.94975 6.06198c-.1952-.43184-.40065-.4405-.58635-.44806-.15185-.00647-.32575-.00607-.49935-.00607-.1737 0-.45605.06494-.69475.32445-.2389.25951-.9121.88683-.9121 2.1627 0 1.27603.9338 2.5089 1.06395 2.68208.1303.17293 1.8026 2.87486 4.45105 3.91436 2.2011.86384 2.649.692 3.12675.64881.47775-.04324 1.5416-.62721 1.75875-1.23278.21715-.60547.21715-1.12444.152-1.23293-.06515-.10808-.23885-.17292-.49945-.3026-.2606-.12969-1.5416-.75715-1.7805-.84359-.23885-.08644-.4126-.12968-.5863.12993-.17375.25937-.6728.84334-.82485 1.01626-.152.17333-.304.19492-.5646.06524-.2606-.13008-1.0998-.40363-2.09535-1.28707-.7746-.68733-1.29755-1.53618-1.4496-1.7958-.152-.25936-.01625-.39984.11445-.52913.117-.1162.2606-.3027.3909-.45414.13-.15142.17345-.25951.2603-.43244.08685-.17317.04345-.3246-.0217-.45428-.06515-.12969-.57155-1.41218-.80325-1.92494" fill="#FFF"/></g></svg>'},39186:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="89" height="72">\n    <style>\n        @-webkit-keyframes ochange {\n        0%   {opacity: 0}\n        50%  {opacity: 1}\n        100% {opacity: 0}\n        }\n        @keyframes ochange {\n        0%   {opacity: 0}\n        50%  {opacity: 1}\n        100% {opacity: 0}\n        }\n        #dot-1 {\n        opacity: 0;\n        animation-duration: 1.5s;\n        animation-name: ochange;\n        animation-iteration-count: infinite;\n        animation-delay: 0s;\n        }\n        #dot-2 {\n        opacity: 0;\n        animation-duration: 1.5s;\n        animation-name: ochange;\n        animation-iteration-count: infinite;\n        animation-delay: .3s;\n        }\n        #dot-3 {\n        opacity: 0;\n        animation-duration: 1.5s;\n        animation-name: ochange;\n        animation-iteration-count: infinite;\n        animation-delay: 0.6s;\n        }\n    </style>\n  <g fill="#18c139" fill-rule="evenodd">\n    <path fill-rule="nonzero" d="M73.237 53.784L60.17 46.72c-4.356-2.38-4.504-.818-9.081 4.09-1.108 1.19-3.175 4.313-5.611 3.718-5.095-1.264-14.618-8.774-17.72-12.195-1.476-1.636-7.825-9.443-7.899-11.972-.148-3.866 8.269-5.8 5.537-13.161L19.564 4.038C14.1-8.602-1.182 11.623.073 21.066c3.248 23.275 43.78 60.9 66.372 48.482 5.02-2.825 11.813-12.715 6.792-15.764z"/>\n    <g transform="translate(43 14)">\n      <circle id=\'dot-1\' cx="5" cy="5" r="5"/>\n      <circle id=\'dot-2\' cx="23" cy="5" r="5"/>\n      <circle id=\'dot-3\' cx="41" cy="5" r="5"/>\n    </g>\n  </g>\n</svg>'},1900:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="89" height="72">\n  <g fill="#18C139" fill-rule="evenodd">\n    <path fill-rule="nonzero" d="M73.237 53.784L60.17 46.72c-4.356-2.38-4.504-.818-9.081 4.09-1.108 1.19-3.175 4.313-5.611 3.718-5.095-1.264-14.618-8.774-17.72-12.195-1.476-1.636-7.825-9.443-7.899-11.972-.148-3.866 8.269-5.8 5.537-13.161L19.564 4.038C14.1-8.602-1.182 11.623.073 21.066c3.248 23.275 43.78 60.9 66.372 48.482 5.02-2.825 11.813-12.715 6.792-15.764z"/>\n  </g>\n</svg>'},75630:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 119 119"><path fill="#e8ecf1" d="M60.4 117.6c-13.7.3-27.3-5.2-37.8-14 7.8-7 17.1-11.9 27-14.5 2-.3 2.3-6.4 2.3-6.4-3.8-4.1-6.7-9.3-7.8-14.8-3.8 0-6.1-9-2.3-12.2-.3-3.5-4.7-26.2 18.6-26.2S79 52.5 79 55.6c3.8 3.2 1.5 12.2-2.3 12.2-1.2 5.5-3.8 10.8-7.8 14.8 0 0 0 6.1 2.3 6.4 9.9 2.6 19.2 7.6 27 14.5-7.9 6.8-20.6 14.1-37.8 14.1z"/><circle cx="59.5" cy="59.5" r="58" fill="none" stroke="#e8ecf1" stroke-miterlimit="10" stroke-width="3.5"/></svg>'},96955:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <g fill="none" fill-rule="evenodd">\n        <path d="M0 0h24v24H0z"/>\n        <path fill="_COLOR1_" d="M15.4 7.4L14 6l-6 6 6 6 1.4-1.4-4.6-4.6z"/>\n    </g>\n</svg>\n'},68611:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40">\n  <circle cx="20" cy="20" r="20" fill="#f1f0f0"/>\n  <path stroke="#181818" stroke-width="2" fill="#fff" d="M147.1 161.893h-20.178a4.87 4.87 0 01-4.862-4.879v-2.928c0-5.744 3.757-11.833 13.37-12.686l1.7-.182v.087l1.459.155c9.613.851 13.37 6.921 13.37 12.649v2.919a4.864 4.864 0 01-4.859 4.865z" transform="translate(-117 -129)"/>\n  <rect width="17" height="5" x="12" y="19" fill="#181818" rx="2.5" ry="2.5"/>\n  <path d="M137.993 132.009L138 141" stroke="#181818" stroke-width="2" fill="#fff" transform="translate(-117 -129)"/>\n  <path d="M147.083 153.872h.037a1.927 1.927 0 011.927 1.927v.021a1.927 1.927 0 01-1.927 1.927h-.037a1.927 1.927 0 01-1.927-1.927v-.02a1.927 1.927 0 011.927-1.928z" fill="#00d45c" transform="translate(-117 -129)"/>\n  <path d="M128.122 153.872h.037a1.927 1.927 0 011.927 1.927v.021a1.927 1.927 0 01-1.927 1.927h-.037a1.927 1.927 0 01-1.927-1.927v-.02a1.927 1.927 0 011.927-1.928z" fill="#00d45c" transform="translate(-117 -129)"/>\n  <path fill="#181818" fill-rule="evenodd" stroke="#000" stroke-width="1" d="M11.823 14.649a14.289 14.289 0 00-3.127 5 15.473 15.473 0 00-1 7.1c.3 2.649.232 4.854 10.3 4.249 11.756-.706 12.748 1.076 14.2.35s.971.242.971.242.495 1.181-3.882 1.21c-2.018.014-7.347-.08-10.016-.118-10.313-.145-10.392-.019-12.549-1.334-2.414-1.472-1.7-7.019-.97-9.2s2.305-5.325 3.639-6.051 2.434-1.448 2.434-1.448z"/>\n  <path fill="none" fill-rule="evenodd" stroke="#181818" stroke-width=".829" d="M20.258 12.467c2.213 0 4.008.487 4.008 1.087s-1.795 1.087-4.008 1.087-4.008-.487-4.008-1.087 1.794-1.087 4.008-1.087z"/>\n  <path fill="none" fill-rule="evenodd" stroke="#000" stroke-width="1" d="M17.881 26s.856 2 2.617 2c1.718 0 2.617-2 2.617-2"/>\n  <circle cx="20" cy="6" r="4" fill="#fff" stroke="#000" stroke-width="1"/>\n</svg>\n'},13339:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="97" height="79">\n  <g fill-rule="evenodd" fill="_COLOR1_">\n    <circle cx="3.282" cy="2.5" r="2.5"/>\n    <circle cx="93.782" cy="45" r="3"/>\n    <path d="M3.2 72.411l-.526-.512.526-.511a15 15 0 0 0 3.806-6.11l.09-.278.09.278a15 15 0 0 0 3.807 6.11l.526.511-.526.512a15 15 0 0 0-3.806 6.11l-.09.278-.091-.278A15 15 0 0 0 3.2 72.41zM78.946 9.46l-1.179-1.146 1.179-1.146a15 15 0 0 0 3.806-6.11L83.096 0l.345 1.058a15 15 0 0 0 3.806 6.11l1.178 1.146-1.178 1.146a15 15 0 0 0-3.806 6.11l-.345 1.057-.344-1.057a15 15 0 0 0-3.806-6.11z"/>\n    <g fill-rule="nonzero">\n      <path d="M47 69.25c14.497 0 26.25-11.753 26.25-26.25S61.497 16.75 47 16.75 20.75 28.503 20.75 43 32.503 69.25 47 69.25zM47 73c-16.569 0-30-13.431-30-30 0-16.569 13.431-30 30-30 16.569 0 30 13.431 30 30 0 16.569-13.431 30-30 30z"/>\n      <path d="M56.63 30.805a1.875 1.875 0 0 1 3.24 1.89l-13.125 22.5a1.875 1.875 0 0 1-2.946.38l-9.375-9.374a1.875 1.875 0 1 1 2.652-2.652l7.655 7.655 11.9-20.399z"/>\n    </g>\n  </g>\n</svg>'},54389:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 15"><path fill="none" stroke="_COLOR1_" stroke-linecap="round" stroke-width="2" d="M1 6.3l7 7 12-12"/></svg>'},80441:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28">\n    <g fill="none" fill-rule="evenodd" transform="translate(2 2)">\n        <circle cx="12" cy="12" r="12" fill="#FFF" opacity="1"/>\n        <circle cx="12" cy="12" r="12.75" stroke="#222D38" stroke-width="1.5" opacity="1"/>\n        <g fill="#222D38" opacity="1" transform="translate(6 6)">\n            <rect width="1.611" height="13.9" x="5.435" y="-.941" rx=".806" transform="rotate(45 6.24 6.01)"/>\n            <rect width="1.611" height="13.9" x="5.435" y="-.941" rx=".806" transform="scale(-1 1) rotate(45 0 -9.058)"/>\n        </g>\n    </g>\n</svg>\n'},66574:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="24"><defs/><g fill="none" fill-rule="evenodd"><path d="M0 0h12v24H0z"/><circle cx="6" cy="5" r="2" fill="_COLOR1_"/><circle cx="6" cy="12" r="2" fill="_COLOR1_"/><circle cx="6" cy="19" r="2" fill="_COLOR1_"/></g></svg>'},88921:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <g fill="_COLOR1_" fill-rule="evenodd" transform="translate(7 7)">\n    <rect width="1.5" height="12.941" x="5.06" y="-.876" rx=".75" transform="rotate(45 5.81 5.595)"/>\n    <rect width="1.5" height="12.941" x="5.06" y="-.876" rx=".75" transform="scale(-1 1) rotate(45 0 -8.433)"/>\n  </g>\n</svg>'},12320:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <path fill="_COLOR1_" fill-rule="nonzero" d="M19 14h4V2h-4v12zM15 2H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2a2 2 0 0 0 2 2h6.31l-.95 4.57c-.02.1-.03.2-.03.31 0 .42.17.79.44 1.06L9.83 22l6.58-6.59c.37-.36.59-.86.59-1.41V4a2 2 0 0 0-2-2z"/>\n</svg>'},58915:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <path fill="_COLOR1_" fill-rule="nonzero" d="M23 11a2 2 0 0 0-2-2h-6.32l.96-4.57c.02-.1.03-.21.03-.32 0-.41-.17-.79-.44-1.06L14.17 2 7.59 8.58C7.22 8.95 7 9.45 7 10v10a2 2 0 0 0 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2zM1 22h4V10H1v12z"/>\n</svg>'},31617:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="34"><path fill="_COLOR1_" d="M81.9 6.6h3.2v.8h-3.2zM9.2 20.2c.6.1 1.3.1 2 .1 3.9 0 7.3-1.2 9.4-3.6 1.6-1.7 2.4-4.1 2.4-7 0-2.9-1-5.3-2.7-6.9C18.4 1 15.5 0 11.6 0 8.4 0 5.9.3 4 .6v16.2H0v3.3h4V25H.1v3.3H4v5.4h4v-5.4h6.6V25H8v-4.8h1.2zM8 16.5V3.7c.7-.2 2-.3 3.7-.3 4.4 0 7.3 2.1 7.3 6.5 0 4.5-2.9 7-7.7 7-1.4 0-2.5-.1-3.3-.4z"/></svg>'},12103:function(e,t,a){"use strict";a.r(t),t.default='\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <g fill="none" fill-rule="evenodd">\n    <path d="M0 0h24v24H0z"/>\n    <path d="M0 0h24v24H0z"/>\n    <path fill="_COLOR1_" fill-rule="nonzero" d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/>\n  </g>\n</svg>'},28122:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <g fill="none" fill-rule="evenodd">\n    <path d="M0 0h24v24H0z"/>\n    <path d="M0 0h24v24H0z"/>\n    <path fill="_COLOR1_" fill-rule="nonzero" d="M18.904 15.214a2.113 2.113 0 0 0-1.527-.624c-.598 0-1.185.228-1.624.66a3.566 3.566 0 0 0-.917 1.428c-.72-.072-3.08-1.569-4.533-3.033C8.898 12.216 7.407 9.843 7.32 9.11a3.547 3.547 0 0 0 1.49-.852c.44-.42.697-.96.721-1.549a2.058 2.058 0 0 0-.586-1.548L7.382 3.576A1.927 1.927 0 0 0 5.99 3a2.14 2.14 0 0 0-1.478.6l-.244.24c-.33.3-.586.66-.758 1.057-.024.06-.708 1.56-.452 2.689.05.168 1.42 4.5 5.181 8.063 3.762 3.564 7.844 5.219 8.028 5.279.195.048.415.072.647.072.99 0 2.04-.42 2.077-.432a3.711 3.711 0 0 0 1.112-.708l.244-.24c.818-.78.88-2.053.122-2.822l-1.564-1.584z"/>\n  </g>\n</svg>'},36972:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24"><defs><path id="a" d="M0 0h24v24H0z"/></defs><g fill="none" fill-rule="evenodd" transform="rotate(-90 12 12)"><mask id="b" fill="#fff"><use xlink:href="#a"/></mask><g stroke="_COLOR1_" stroke-linecap="round" stroke-width="1.5" mask="url(#b)"><path d="M13.343 16.814l-4.657-4.657L13.343 7.5"/></g></g></svg>'},62842:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="40" viewBox="0 0 32 40">\n    <g fill="none" fill-rule="evenodd">\n        <path fill="_COLOR1_" d="M0 0h9.02L32 33.196V40H0z"/>\n        <path fill="_COLOR2_" d="M9 0c3.581.05 23 5.426 23 33.08v.03C18.922 30.751 9 19.311 9 5.554V0z"/>\n    </g>\n</svg>\n'},93759:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="40" viewBox="0 0 32 40">\n    <g fill="none" fill-rule="evenodd">\n        <path fill="_COLOR1_" d="M0 0h9.02L32 33.196V40H0z"/>\n        <path fill="_COLOR1_" d="M9 0c3.581.05 23 5.426 23 33.08v.03C18.922 30.751 9 19.311 9 5.554V0z" fill-opacity="1"/>\n        <path fill="#5e5f61" d="M9 0c3.581.05 23 5.426 23 33.08v.03C18.922 30.751 9 19.311 9 5.554V0z" fill-opacity="0.7"/>\n    </g>\n</svg>\n'},39581:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M21 3v12.5a3.5 3.5 0 1 1-2-3.16V6.47L9 8.6v8.9a3.5 3.5 0 1 1-2-3.16V6l14-3z"/></g></svg>'},54304:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></g></svg>\n'},28149:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M13 9V3.5L18.5 9H13zM6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6H6z"/></g></svg>'},28372:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M11 15h2v2h-2v-2zm0-8h2v6h-2V7zm1-5C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10c5.523 0 10-4.477 10-10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 0-16 8 8 0 0 1 0 16z"/></g></svg>'},69357:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M21 18V4c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"/></g></svg>'},43055:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"/></g></svg>'},42899:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32">\n  <g fill="none" fill-rule="evenodd">    \n    <path d="M0 0h32v32H0z"/>\n    <circle cx="16" cy="16" r="16" fill="_COLOR1_"/>\n    <path fill="_COLOR2_" fill-rule="nonzero" d="M11.35 22.482l.697-4.32 8.84-2.16-8.84-2.16-.697-4.32 13.355 6.48-13.355 6.48zm.301.65c-.513.25-1.087-.194-.995-.768l.697-4.32a.713.713 0 0 1 .53-.583l8.841-2.16v1.4l-8.84-2.16a.713.713 0 0 1-.531-.582l-.697-4.32c-.092-.574.482-1.017.995-.768l13.355 6.48c.537.26.537 1.041 0 1.301l-13.355 6.48z"/>\n  </g>\n</svg>'},99350:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M493.815 70.629c-11.001-1.003-20.73 7.102-21.733 18.102l-2.65 29.069C424.473 47.194 346.429 0 256 0 158.719 0 72.988 55.522 30.43 138.854c-5.024 9.837-1.122 21.884 8.715 26.908 9.839 5.024 21.884 1.123 26.908-8.715C102.07 86.523 174.397 40 256 40c74.377 0 141.499 38.731 179.953 99.408l-28.517-20.367c-8.989-6.419-21.48-4.337-27.899 4.651-6.419 8.989-4.337 21.479 4.651 27.899l86.475 61.761c12.674 9.035 30.155.764 31.541-14.459l9.711-106.53c1.004-11.001-7.1-20.731-18.1-21.734zM472.855 346.238c-9.838-5.023-21.884-1.122-26.908 8.715C409.93 425.477 337.603 472 256 472c-74.377 0-141.499-38.731-179.953-99.408l28.517 20.367c8.989 6.419 21.479 4.337 27.899-4.651 6.419-8.989 4.337-21.479-4.651-27.899l-86.475-61.761c-12.519-8.944-30.141-.921-31.541 14.459L.085 419.637c-1.003 11 7.102 20.73 18.101 21.733 11.014 1.001 20.731-7.112 21.733-18.102l2.65-29.069C87.527 464.806 165.571 512 256 512c97.281 0 183.012-55.522 225.57-138.854 5.024-9.837 1.122-21.884-8.715-26.908z"/></svg>'},23791:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#DD2E44" d="M11.626 7.488c-.112.112-.197.247-.268.395l-.008-.008L.134 33.141l.011.011c-.208.403.14 1.223.853 1.937.713.713 1.533 1.061 1.936.853l.01.01L28.21 24.735l-.008-.009c.147-.07.282-.155.395-.269 1.562-1.562-.971-6.627-5.656-11.313-4.687-4.686-9.752-7.218-11.315-5.656z"/><path fill="#EA596E" d="M13 12L.416 32.506l-.282.635.011.011c-.208.403.14 1.223.853 1.937.232.232.473.408.709.557L17 17l-4-5z"/><path fill="#A0041E" d="M23.012 13.066c4.67 4.672 7.263 9.652 5.789 11.124-1.473 1.474-6.453-1.118-11.126-5.788-4.671-4.672-7.263-9.654-5.79-11.127 1.474-1.473 6.454 1.119 11.127 5.791z"/><path fill="#AA8DD8" d="M18.59 13.609c-.199.161-.459.245-.734.215-.868-.094-1.598-.396-2.109-.873-.541-.505-.808-1.183-.735-1.862.128-1.192 1.324-2.286 3.363-2.066.793.085 1.147-.17 1.159-.292.014-.121-.277-.446-1.07-.532-.868-.094-1.598-.396-2.11-.873-.541-.505-.809-1.183-.735-1.862.13-1.192 1.325-2.286 3.362-2.065.578.062.883-.057 1.012-.134.103-.063.144-.123.148-.158.012-.121-.275-.446-1.07-.532-.549-.06-.947-.552-.886-1.102.059-.549.55-.946 1.101-.886 2.037.219 2.973 1.542 2.844 2.735-.13 1.194-1.325 2.286-3.364 2.067-.578-.063-.88.057-1.01.134-.103.062-.145.123-.149.157-.013.122.276.446 1.071.532 2.037.22 2.973 1.542 2.844 2.735-.129 1.192-1.324 2.286-3.362 2.065-.578-.062-.882.058-1.012.134-.104.064-.144.124-.148.158-.013.121.276.446 1.07.532.548.06.947.553.886 1.102-.028.274-.167.511-.366.671z"/><path fill="#77B255" d="M30.661 22.857c1.973-.557 3.334.323 3.658 1.478.324 1.154-.378 2.615-2.35 3.17-.77.216-1.001.584-.97.701.034.118.425.312 1.193.095 1.972-.555 3.333.325 3.657 1.479.326 1.155-.378 2.614-2.351 3.17-.769.216-1.001.585-.967.702.033.117.423.311 1.192.095.53-.149 1.084.16 1.233.691.148.532-.161 1.084-.693 1.234-1.971.555-3.333-.323-3.659-1.479-.324-1.154.379-2.613 2.353-3.169.77-.217 1.001-.584.967-.702-.032-.117-.422-.312-1.19-.096-1.974.556-3.334-.322-3.659-1.479-.325-1.154.378-2.613 2.351-3.17.768-.215.999-.585.967-.701-.034-.118-.423-.312-1.192-.096-.532.15-1.083-.16-1.233-.691-.149-.53.161-1.082.693-1.232z"/><path fill="#AA8DD8" d="M23.001 20.16c-.294 0-.584-.129-.782-.375-.345-.432-.274-1.061.156-1.406.218-.175 5.418-4.259 12.767-3.208.547.078.927.584.849 1.131-.078.546-.58.93-1.132.848-6.493-.922-11.187 2.754-11.233 2.791-.186.148-.406.219-.625.219z"/><path fill="#77B255" d="M5.754 16c-.095 0-.192-.014-.288-.042-.529-.159-.829-.716-.67-1.245 1.133-3.773 2.16-9.794.898-11.364-.141-.178-.354-.353-.842-.316-.938.072-.849 2.051-.848 2.071.042.551-.372 1.031-.922 1.072-.559.034-1.031-.372-1.072-.923-.103-1.379.326-4.035 2.692-4.214 1.056-.08 1.933.287 2.552 1.057 2.371 2.951-.036 11.506-.542 13.192-.13.433-.528.712-.958.712z"/><circle fill="#5C913B" cx="25.5" cy="9.5" r="1.5"/><circle fill="#9266CC" cx="2" cy="18" r="2"/><circle fill="#5C913B" cx="32.5" cy="19.5" r="1.5"/><circle fill="#5C913B" cx="23.5" cy="31.5" r="1.5"/><circle fill="#FFCC4D" cx="28" cy="4" r="2"/><circle fill="#FFCC4D" cx="32.5" cy="8.5" r="1.5"/><circle fill="#FFCC4D" cx="29.5" cy="12.5" r="1.5"/><circle fill="#FFCC4D" cx="7.5" cy="23.5" r="1.5"/></svg>'},56482:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFDB5E" d="M34.956 17.916c0-.503-.12-.975-.321-1.404-1.341-4.326-7.619-4.01-16.549-4.221-1.493-.035-.639-1.798-.115-5.668.341-2.517-1.282-6.382-4.01-6.382-4.498 0-.171 3.548-4.148 12.322-2.125 4.688-6.875 2.062-6.875 6.771v10.719c0 1.833.18 3.595 2.758 3.885C8.195 34.219 7.633 36 11.238 36h18.044c1.838 0 3.333-1.496 3.333-3.334 0-.762-.267-1.456-.698-2.018 1.02-.571 1.72-1.649 1.72-2.899 0-.76-.266-1.454-.696-2.015 1.023-.57 1.725-1.649 1.725-2.901 0-.909-.368-1.733-.961-2.336.757-.611 1.251-1.535 1.251-2.581z"/><path fill="#EE9547" d="M23.02 21.249h8.604c1.17 0 2.268-.626 2.866-1.633.246-.415.109-.952-.307-1.199-.415-.247-.952-.108-1.199.307-.283.479-.806.775-1.361.775h-8.81c-.873 0-1.583-.71-1.583-1.583s.71-1.583 1.583-1.583H28.7c.483 0 .875-.392.875-.875s-.392-.875-.875-.875h-5.888c-1.838 0-3.333 1.495-3.333 3.333 0 1.025.475 1.932 1.205 2.544-.615.605-.998 1.445-.998 2.373 0 1.028.478 1.938 1.212 2.549-.611.604-.99 1.441-.99 2.367 0 1.12.559 2.108 1.409 2.713-.524.589-.852 1.356-.852 2.204 0 1.838 1.495 3.333 3.333 3.333h5.484c1.17 0 2.269-.625 2.867-1.632.247-.415.11-.952-.305-1.199-.416-.245-.953-.11-1.199.305-.285.479-.808.776-1.363.776h-5.484c-.873 0-1.583-.71-1.583-1.583s.71-1.583 1.583-1.583h6.506c1.17 0 2.27-.626 2.867-1.633.247-.416.11-.953-.305-1.199-.419-.251-.954-.11-1.199.305-.289.487-.799.777-1.363.777h-7.063c-.873 0-1.583-.711-1.583-1.584s.71-1.583 1.583-1.583h8.091c1.17 0 2.269-.625 2.867-1.632.247-.415.11-.952-.305-1.199-.417-.246-.953-.11-1.199.305-.289.486-.799.776-1.363.776H23.02c-.873 0-1.583-.71-1.583-1.583s.709-1.584 1.583-1.584z"/></svg>'},63365:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFDB5E" d="M34.956 18.084c0 .503-.12.975-.321 1.404-1.341 4.326-7.619 4.01-16.549 4.221-1.493.035-.639 1.798-.115 5.668.341 2.517-1.282 6.382-4.01 6.382-4.498 0-.171-3.548-4.148-12.322-2.125-4.688-6.875-2.062-6.875-6.771V5.948c0-1.833.18-3.595 2.758-3.885C8.195 1.781 7.633 0 11.238 0h18.044c1.838 0 3.333 1.496 3.333 3.334 0 .762-.267 1.456-.698 2.018 1.02.571 1.72 1.649 1.72 2.899 0 .76-.266 1.454-.696 2.015 1.023.57 1.725 1.649 1.725 2.901 0 .909-.368 1.733-.961 2.336.757.611 1.251 1.535 1.251 2.581z"/><path fill="#EE9547" d="M23.02 14.751h8.604c1.17 0 2.268.626 2.866 1.633.246.415.109.952-.307 1.199-.415.247-.952.108-1.199-.307-.283-.479-.806-.775-1.361-.775h-8.81c-.873 0-1.583.71-1.583 1.583s.71 1.583 1.583 1.583H28.7c.483 0 .875.392.875.875s-.392.875-.875.875h-5.888c-1.838 0-3.333-1.495-3.333-3.333 0-1.025.475-1.932 1.205-2.544-.615-.605-.998-1.445-.998-2.373 0-1.028.478-1.938 1.212-2.549-.611-.604-.99-1.441-.99-2.367 0-1.12.559-2.108 1.409-2.713-.524-.589-.852-1.356-.852-2.204 0-1.838 1.495-3.333 3.333-3.333h5.484c1.17 0 2.269.625 2.867 1.632.247.415.11.952-.305 1.199-.416.245-.953.11-1.199-.305-.285-.479-.808-.776-1.363-.776h-5.484c-.873 0-1.583.71-1.583 1.583s.71 1.583 1.583 1.583h6.506c1.17 0 2.27.626 2.867 1.633.247.416.11.953-.305 1.199-.419.251-.954.11-1.199-.305-.289-.487-.799-.777-1.363-.777h-7.063c-.873 0-1.583.711-1.583 1.584s.71 1.583 1.583 1.583h8.091c1.17 0 2.269.625 2.867 1.632.247.415.11.952-.305 1.199-.417.246-.953.11-1.199-.305-.289-.486-.799-.776-1.363-.776H23.02c-.873 0-1.583.71-1.583 1.583s.709 1.584 1.583 1.584z"/></svg>'},14534:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#664500" d="M16 18c-.419 0-.809-.265-.949-.684C14.848 16.717 14.034 15 13 15c-1.062 0-1.888 1.827-2.051 2.316-.175.523-.738.808-1.265.632-.524-.174-.807-.741-.632-1.265C9.177 16.307 10.356 13 13 13s3.823 3.307 3.949 3.684c.175.524-.108 1.091-.632 1.265-.106.034-.213.051-.317.051zm10 0c-.419 0-.809-.265-.948-.684C24.849 16.717 24.033 15 23 15c-1.062 0-1.889 1.827-2.052 2.316-.175.523-.736.808-1.265.632-.523-.174-.807-.741-.632-1.265C19.177 16.307 20.355 13 23 13s3.823 3.307 3.948 3.684c.175.524-.108 1.091-.632 1.265-.105.034-.212.051-.316.051zm-8 4c-3.623 0-6.027-.422-9-1-.679-.131-2 0-2 2 0 4 4.595 9 11 9 6.404 0 11-5 11-9 0-2-1.321-2.132-2-2-2.973.578-5.377 1-9 1z"/><path fill="#FFF" d="M9 23s3 1 9 1 9-1 9-1-1.344 6.75-9 6.75S9 23 9 23z"/><path fill="#664500" d="M18 27.594c-3.596 0-6.272-.372-7.937-.745l-.825-1.871c.823.312 3.889.897 8.763.897 4.954 0 8.037-.616 8.864-.938l-.701 1.842c-1.634.38-4.419.815-8.164.815z"/></svg>'},22426:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="12.5" rx="2.5" ry="5.5"/><ellipse fill="#664500" cx="24.5" cy="12.5" rx="2.5" ry="5.5"/><path fill="#664500" d="M18 22c-3.623 0-6.027-.422-9-1-.679-.131-2 0-2 2 0 4 4.595 9 11 9 6.404 0 11-5 11-9 0-2-1.321-2.132-2-2-2.973.578-5.377 1-9 1z"/><path fill="#FFF" d="M9 23s3 1 9 1 9-1 9-1-2 4-9 4-9-4-9-4z"/></svg>'},78393:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#664500" d="M18 22c-3.623 0-6.027-.422-9-1-.679-.131-2 0-2 2 0 4 4.595 9 11 9 6.404 0 11-5 11-9 0-2-1.321-2.132-2-2-2.973.578-5.377 1-9 1z"/><path fill="#FFF" d="M9 23s3 1 9 1 9-1 9-1-2 4-9 4-9-4-9-4z"/><path fill="#664500" d="M30.6 18.2c-.114-.085-1.931-1.426-4.646-2.344.026-.115.046-.233.046-.356 0-.369-.139-.703-.359-.964 1.802-.52 3.334-.536 3.361-.536.551-.002.998-.45.997-1.002-.001-.551-.447-.998-.999-.998-.221 0-5.451.038-8.707 3.293-.286.286-.372.716-.217 1.09.154.373.52.617.924.617 4.59 0 8.363 2.772 8.401 2.801.18.134.39.198.598.198.305 0 .605-.139.802-.4.33-.443.24-1.068-.201-1.399zm-14.893-2.907C12.452 12.038 7.221 12 7 12c-.552 0-.999.447-.999.998-.001.552.446 1 .998 1.002.026 0 1.558.016 3.361.536-.221.261-.36.595-.36.964 0 .123.019.241.047.356-2.716.918-4.533 2.259-4.647 2.344-.442.331-.531.958-.2 1.399.196.263.497.401.801.401.208 0 .419-.065.599-.2.037-.028 3.787-2.8 8.4-2.8.404 0 .769-.244.924-.617.155-.374.069-.804-.217-1.09z"/></svg>'},69861:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#FFCC4D" cx="18" cy="18" r="18"/><path fill="#664500" d="M27.335 22.629c-.178-.161-.444-.171-.635-.029-.039.029-3.922 2.9-8.7 2.9-4.766 0-8.662-2.871-8.7-2.9-.191-.142-.457-.13-.635.029-.177.16-.217.424-.094.628C8.7 23.472 11.788 28.5 18 28.5s9.301-5.028 9.429-5.243c.123-.205.084-.468-.094-.628zM26 19c-.419 0-.809-.265-.948-.684C24.849 17.717 24.033 16 23 16c-1.062 0-1.889 1.827-2.052 2.316-.175.523-.736.808-1.265.632-.523-.174-.807-.74-.632-1.265C19.177 17.307 20.355 14 23 14s3.823 3.307 3.948 3.684c.175.524-.108 1.091-.632 1.265-.105.034-.212.051-.316.051zm-10 0c-.419 0-.809-.265-.949-.684C14.848 17.717 14.034 16 13 16c-1.062 0-1.888 1.827-2.051 2.316-.175.523-.738.808-1.265.632-.524-.174-.807-.74-.632-1.265C9.177 17.307 10.355 14 13 14s3.823 3.307 3.949 3.684c.175.524-.108 1.091-.632 1.265-.106.034-.213.051-.317.051z"/><path fill="#FFAC33" d="M33.175 8.316s-9.042.161-15.175.161c-3.905 0-15.206-.118-15.206-.118l-.521.876c3.043 1.856 9.064 2.917 15.727 2.917 6.596 0 12.576-1.04 15.652-2.86l.078-.047s-.374-.664-.555-.929z"/><path fill="#5DADEC" d="M23.777.345c-1.212-.094-2.473-.159-3.773-.19C19.343.139 18.676.129 18 .129c-.672 0-1.336.01-1.993.025-1.302.031-2.564.096-3.777.19C5.34.88.169 2.451.169 5.287c0 3.588 8.264 5.771 17.831 5.771s17.831-2.183 17.831-5.771c0-2.835-5.168-4.405-12.054-4.942zM18 7.383c-6.861 0-12.91-.833-12.91-2.736 0-.536.494-1.023 1.339-1.449 1.153-.581 2.978-1.044 5.189-1.349 1.911-.262 4.098-.41 6.382-.41 2.291 0 4.485.148 6.4.413 2.242.31 4.086.783 5.232 1.377.807.418 1.278.894 1.278 1.418 0 1.903-6.049 2.736-12.91 2.736z"/><path fill="#3B94D9" d="M24.4 1.853c2.242.31 4.086.783 5.232 1.377l.062.017c-2.285-1.674-4.57-2.56-5.917-2.902-1.212-.094-2.473-.159-3.773-.19l.018.007L24.4 1.853zM6.429 3.199c1.153-.581 2.978-1.044 5.189-1.349L15.984.162l.023-.008c-1.302.031-2.564.096-3.777.19-1.347.342-3.633 1.227-5.919 2.902l.118-.047z"/><path fill="#FFCC4D" d="M28.472 3.375c-.66-.443-1.346-.91-2.001-1.26C23.947.765 21.063 0 18 0c-2.929 0-5.695.7-8.14 1.941-1.089.553-1.881.999-2.17 1.434h20.782z"/></svg>'},12239:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#AA8DD8" cx="18" cy="18" r="18"/><path fill="#AA8DD8" d="M10 4C7.42 4 4.369 1.534 3.414.586 2.843.014 1.981-.157 1.235.153.487.462 0 1.191 0 2c0 3.459 1.672 10 8 10 .757 0 1.45-.428 1.789-1.106l2-4c.31-.62.277-1.356-.088-1.946C11.337 4.359 10.693 4 10 4zM34.766.153c-.75-.311-1.607-.139-2.18.434C31.7 1.472 28.589 4 26 4c-.693 0-1.337.359-1.701.949-.364.589-.397 1.326-.088 1.946l2 4C26.55 11.572 27.242 12 28 12c6.328 0 8-6.541 8-10 0-.809-.487-1.538-1.234-1.847z"/><path fill="#553986" d="M27.335 25.629c-.178-.161-.444-.171-.635-.029-.039.029-3.922 2.9-8.7 2.9-4.766 0-8.662-2.871-8.7-2.9-.191-.142-.457-.13-.635.029-.177.16-.217.424-.094.628C8.7 26.472 11.788 31.5 18 31.5s9.301-5.028 9.429-5.243c.123-.205.084-.468-.094-.628zm-11.628-7.336C12.452 15.038 7.221 15 7 15c-.552 0-.999.447-.999.998-.001.552.446 1.001.998 1.002.029 0 1.925.022 3.983.737-.593.64-.982 1.634-.982 2.763 0 1.934 1.119 3.5 2.5 3.5s2.5-1.566 2.5-3.5c0-.174-.019-.34-.037-.507.013 0 .025.007.037.007.256 0 .512-.098.707-.293.391-.391.391-1.023 0-1.414zM29 15c-.221 0-5.451.038-8.707 3.293-.391.391-.391 1.023 0 1.414.195.195.451.293.707.293.013 0 .024-.007.036-.007-.016.167-.036.333-.036.507 0 1.934 1.119 3.5 2.5 3.5s2.5-1.566 2.5-3.5c0-1.129-.389-2.123-.982-2.763 2.058-.715 3.954-.737 3.984-.737.551-.001.998-.45.997-1.002-.001-.551-.447-.998-.999-.998z"/></svg>'},79378:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="16.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M28.457 17.797c-.06-.135-1.499-3.297-4.457-3.297-2.957 0-4.397 3.162-4.457 3.297-.092.207-.032.449.145.591.175.142.426.147.61.014.012-.009 1.262-.902 3.702-.902 2.426 0 3.674.881 3.702.901.088.066.194.099.298.099.11 0 .221-.037.312-.109.177-.142.238-.386.145-.594zM5.999 12.458c-.208 0-.419-.065-.599-.2-.442-.331-.531-.958-.2-1.4 3.262-4.35 7.616-4.4 7.8-4.4.552 0 1 .448 1 1 0 .551-.445.998-.996 1-.156.002-3.569.086-6.205 3.6-.195.262-.496.4-.8.4zm23.002 2.125c-.305 0-.604-.138-.801-.4-2.592-3.457-6.961-2.627-7.004-2.62-.547.108-1.068-.243-1.177-.784-.108-.542.243-1.068.784-1.177.231-.047 5.657-1.072 8.996 3.38.332.442.242 1.069-.2 1.4-.179.137-.389.201-.598.201zm-5.747 8.994c-.188-.11-.432-.087-.597.06-.01.008-1.013.863-4.657.863-3.641 0-4.646-.854-4.646-.854-.159-.16-.404-.19-.6-.082-.195.111-.293.339-.238.557.01.044 1.144 4.379 5.484 4.379s5.474-4.335 5.485-4.379c.053-.213-.044-.431-.231-.544z"/></svg>'},74373:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#FFCC4D" cx="18" cy="18" r="18"/><path fill="#FFAC33" d="M32.093 29.177c-.218-.631-.559-1.217-1.044-1.702l-3.671-3.789c-.814 1.885-2.858 5.337-7.189 6.795l3.685 3.685c.214.214.453.406.709.573 2.973-1.169 5.556-3.1 7.51-5.562z"/><path fill="#664500" d="M6.999 17c-.15 0-.303-.034-.446-.105-.494-.247-.694-.848-.447-1.342C6.158 15.448 7.424 13 11 13c3.577 0 4.842 2.449 4.894 2.553.247.494.046 1.095-.447 1.342-.491.247-1.085.049-1.336-.436C14.067 16.378 13.28 15 11 15c-2.317 0-3.099 1.433-3.106 1.447-.175.351-.528.553-.895.553zM29 17c.15 0 .303-.034.446-.105.494-.247.694-.848.447-1.342-.052-.105-1.318-2.553-4.894-2.553-3.577 0-4.842 2.449-4.894 2.553-.247.494-.046 1.095.447 1.342.491.247 1.085.049 1.336-.436.044-.081.831-1.459 3.111-1.459 2.317 0 3.099 1.433 3.106 1.447.175.351.528.553.895.553zm.503 6.52c.323-.749.461-1.257.466-1.277.134-.534-.19-1.075-.725-1.21-.536-.136-1.077.188-1.215.723C27.955 22.051 26.081 29 18 29s-9.955-6.949-10.03-7.245c-.138-.534-.679-.858-1.215-.723-.534.135-.858.676-.725 1.21C6.052 22.33 8.331 31 18 31c1.65 0 3.07-.266 4.315-.685 4.33-1.458 6.374-4.91 7.188-6.795z"/><path fill="#E75A70" d="M33.175 27.309l-3.671-3.789c-.814 1.885-2.858 5.337-7.189 6.795L26 34c1.728 1.728 5 2 7 0s1.903-4.962.175-6.691z"/></svg>'},5541:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18S0 27.941 0 18 8.059 0 18 0s18 8.059 18 18"/><path fill-rule="evenodd" clip-rule="evenodd" fill="#292F33" d="M1.24 11.018c.24.239 1.438.957 1.677 1.675.24.717.72 4.784 2.158 5.981 1.483 1.232 7.077.774 8.148.24 2.397-1.195 2.691-4.531 3.115-6.221.239-.957 1.677-.957 1.677-.957s1.438 0 1.678.956c.424 1.691.72 5.027 3.115 6.221 1.072.535 6.666.994 8.151-.238 1.436-1.197 1.915-5.264 2.155-5.982.238-.717 1.438-1.435 1.677-1.674.241-.239.241-1.196 0-1.436-.479-.478-6.134-.904-12.223-.239-1.215.133-1.677.478-4.554.478-2.875 0-3.339-.346-4.553-.478-6.085-.666-11.741-.24-12.221.238-.239.239-.239 1.197 0 1.436z"/><path fill="#664500" d="M27.335 23.629c-.178-.161-.444-.171-.635-.029-.039.029-3.922 2.9-8.7 2.9-4.766 0-8.662-2.871-8.7-2.9-.191-.142-.457-.13-.635.029-.177.16-.217.424-.094.628C8.7 24.472 11.788 29.5 18 29.5s9.301-5.028 9.429-5.243c.123-.205.084-.468-.094-.628z"/></svg>'},87966:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="16.5" rx="2.5" ry="3.5"/><ellipse fill="#664500" cx="24.5" cy="16.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M25 26H11c-.552 0-1-.447-1-1s.448-1 1-1h14c.553 0 1 .447 1 1s-.447 1-1 1z"/></svg>'},69860:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="16.5" rx="2.5" ry="3.5"/><ellipse fill="#664500" cx="24.5" cy="16.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M12 28c2-5 13-5 13-3 0 1-8-1-13 3z"/></svg>'},92380:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#FFCC4D" cx="18" cy="18" r="18"/><ellipse fill="#664500" cx="11.5" cy="15.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M28.457 17.797c-.06-.135-1.499-3.297-4.457-3.297-2.957 0-4.397 3.162-4.457 3.297-.092.207-.032.449.145.591.175.142.426.147.61.014.012-.009 1.262-.902 3.702-.902 2.426 0 3.674.881 3.702.901.088.066.194.099.298.099.11 0 .221-.037.312-.109.177-.142.238-.386.145-.594zM5.999 11c-.208 0-.419-.065-.599-.2-.442-.331-.531-.958-.2-1.4C8.462 5.05 12.816 5 13 5c.552 0 1 .448 1 1 0 .551-.445.998-.996 1-.155.002-3.568.086-6.204 3.6-.196.262-.497.4-.801.4zm23.002 3c-.305 0-.604-.138-.801-.4-2.592-3.456-6.961-2.628-7.004-2.62-.547.11-1.068-.244-1.177-.784-.108-.541.243-1.068.784-1.177.231-.047 5.657-1.072 8.996 3.38.332.442.242 1.069-.2 1.4-.179.136-.389.201-.598.201zm-8.922 13.042c1.335-.412 2.629-1.156 2.629-2.5 0-2.619-4.912-2.968-5.472-2.999-.274-.026-.509.193-.527.468-.017.274.19.511.464.53.035.002 3.535.299 3.535 2.001s-3.5 1.999-3.535 2.001c-.014.001-.024.009-.037.011-.052.006-.101.018-.146.04l-.019.011c-.047.026-.088.057-.125.098-.014.015-.024.031-.036.048-.023.032-.044.063-.059.102-.012.029-.018.061-.024.092-.004.023-.016.044-.018.067 0 .011.004.021.004.031s-.005.021-.004.031c.001.024.013.045.018.068.006.031.011.061.023.09.013.03.031.057.049.084.017.024.032.05.052.071.023.023.05.041.078.061.024.017.046.034.074.047.032.015.066.021.101.027.024.006.044.018.069.02.035.002 3.535.299 3.535 2.001s-3.5 1.999-3.535 2.001c-.274.02-.481.257-.464.53.017.265.237.469.499.469l.028-.001c.56-.031 5.472-.38 5.472-2.999 0-1.345-1.294-2.089-2.629-2.501z"/><path fill="#FFAC33" d="M34.202 25.803c-.236-.79-.779-1.486-1.578-1.875-.922-.449-1.956-.391-2.793.06-.16-.936-.75-1.789-1.67-2.237-1.517-.74-3.348-.11-4.087 1.406-.105.215-.18.437-.23.659-.775 2.556.64 6.341 2.192 7.948 1.23.13 2.953-.198 4.513-.873 1.5-1.46 2.733-3.183 3.653-5.088z"/><path fill="#DD2E44" d="M35.654 27.222c.739-1.516.11-3.347-1.405-4.086-.922-.449-1.956-.391-2.793.06-.16-.936-.75-1.789-1.67-2.237-1.517-.74-3.348-.109-4.087 1.406-.105.215-.18.437-.23.659-.774 2.556.64 6.341 2.192 7.948 2.223.234 6.077-.979 7.615-3.161.145-.179.273-.374.378-.589z"/></svg>'},94475:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCB4C" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#65471B" d="M15.457 15.815c-.06-.135-1.499-3.297-4.457-3.297-2.957 0-4.397 3.162-4.457 3.297-.092.207-.032.449.144.591.177.143.427.147.61.014.013-.009 1.262-.902 3.703-.902 2.426 0 3.674.881 3.702.901.088.066.193.099.298.099.11 0 .221-.037.311-.109.179-.142.238-.386.146-.594z"/><path fill="#F4F7F9" d="M31 13.5c0 3.59-2.91 6.5-6.5 6.5S18 17.09 18 13.5 20.91 7 24.5 7 31 9.91 31 13.5z"/><circle fill="#292F33" cx="24.5" cy="13.5" r="2.5"/><path fill="#65471B" d="M7 21.262c0 3.964 4.596 9 11 9s11-5 11-9c0 0-10.333 2.756-22 0z"/><path fill="#E8596E" d="M18.545 23.604l-1.091-.005c-3.216-.074-5.454-.596-5.454-.596v6.961c0 3 2 6 6 6s6-3 6-6v-6.92c-1.922.394-3.787.542-5.455.56z"/><path fill="#DD2F45" d="M18 31.843c.301 0 .545-.244.545-.545v-7.694l-1.091-.005v7.699c.001.301.245.545.546.545z"/></svg>'},70881:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#FFCC4D" cx="18" cy="18" r="18"/><path fill="#664500" d="M23.485 28.879C23.474 28.835 22.34 24.5 18 24.5s-5.474 4.335-5.485 4.379c-.053.213.044.431.232.544.188.112.433.086.596-.06.009-.008 1.013-.863 4.657-.863 3.59 0 4.617.83 4.656.863.095.09.219.137.344.137.084 0 .169-.021.246-.064.196-.112.294-.339.239-.557zM11.226 15.512c-.317 0-.636.039-.947.116-2.87.707-3.513 4.121-3.539 4.267-.04.223.076.443.281.54.067.031.14.047.211.047.145 0 .287-.063.385-.18.01-.012 1.01-1.178 3.379-1.761.714-.176 1.412-.265 2.073-.265 1.104 0 1.732.253 1.735.254.067.028.131.04.207.04.272.012.509-.221.509-.5 0-.165-.08-.311-.203-.402-.367-.435-1.953-2.156-4.091-2.156zm13.548 0c.317 0 .636.039.947.116 2.87.707 3.513 4.121 3.539 4.267.04.223-.076.443-.281.54-.067.031-.14.047-.211.047-.145 0-.287-.063-.385-.18-.01-.012-1.01-1.178-3.379-1.761-.714-.176-1.412-.265-2.073-.265-1.104 0-1.731.253-1.735.254-.067.028-.131.04-.206.04-.272.012-.509-.221-.509-.5 0-.165.08-.311.203-.402.366-.435 1.952-2.156 4.09-2.156z"/></svg>'},44544:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#DA2F47" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#292F33" d="M25.485 29.879C25.44 29.7 24.317 25.5 18 25.5c-6.318 0-7.44 4.2-7.485 4.379-.055.217.043.442.237.554.195.109.439.079.6-.077.019-.019 1.954-1.856 6.648-1.856s6.63 1.837 6.648 1.855c.096.095.224.145.352.145.084 0 .169-.021.246-.064.196-.112.294-.339.239-.557zm-9.778-12.586C12.452 14.038 7.221 14 7 14c-.552 0-.999.447-.999.998-.001.552.446 1 .998 1.002.029 0 1.925.022 3.983.737-.593.64-.982 1.634-.982 2.763 0 1.934 1.119 3.5 2.5 3.5s2.5-1.566 2.5-3.5c0-.174-.019-.34-.037-.507.013 0 .025.007.037.007.256 0 .512-.098.707-.293.391-.391.391-1.023 0-1.414zM29 14c-.221 0-5.451.038-8.707 3.293-.391.391-.391 1.023 0 1.414.195.195.451.293.707.293.013 0 .024-.007.036-.007-.016.167-.036.333-.036.507 0 1.934 1.119 3.5 2.5 3.5s2.5-1.566 2.5-3.5c0-1.129-.389-2.123-.982-2.763 2.058-.715 3.954-.737 3.984-.737.551-.002.998-.45.997-1.002-.001-.551-.447-.998-.999-.998z"/></svg>'},67567:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="16.5" rx="2.5" ry="3.5"/><ellipse fill="#664500" cx="24.5" cy="16.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M23.485 27.879C23.474 27.835 22.34 23.5 18 23.5s-5.474 4.335-5.485 4.379c-.053.213.044.431.232.544.188.112.433.086.596-.06.009-.007 1.013-.863 4.657-.863 3.59 0 4.617.83 4.656.863.095.091.219.137.344.137.084 0 .169-.021.246-.064.196-.111.294-.339.239-.557z"/><path fill="#5DADEC" d="M10 30c0 2.762-2.238 5-5 5s-5-2.238-5-5 4-10 5-10 5 7.238 5 10z"/><path fill="#664500" d="M30 13c-5.554 0-7.802-4.367-7.895-4.553-.247-.494-.047-1.095.447-1.342.492-.247 1.092-.048 1.34.443C23.967 7.694 25.713 11 30 11c.553 0 1 .448 1 1 0 .553-.447 1-1 1zM6 13c-.552 0-1-.448-1-1s.448-1 1-1c5.083 0 5.996-3.12 6.033-3.253.145-.528.69-.848 1.219-.709.53.139.851.673.718 1.205C13.921 8.437 12.704 13 6 13z"/></svg>'},57737:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#664500" d="M16.664 10.543c-.207-.09-.451-.03-.592.148-.009.012-.979 1.202-3.335 1.844-.775.212-1.531.319-2.245.319-.992 0-1.559-.212-1.562-.213-.21-.085-.453-.014-.587.169-.135.184-.128.435.016.612.071.087 1.78 2.147 4.125 2.147.351 0 .702-.047 1.043-.14 2.854-.778 3.41-4.208 3.432-4.354.034-.223-.087-.441-.295-.532zm10.975 2.155c-.138-.181-.38-.245-.59-.159-.006.003-.633.256-1.737.256-.661 0-1.358-.089-2.073-.265-2.369-.583-3.369-1.749-3.377-1.758-.146-.176-.388-.233-.596-.137-.207.095-.323.318-.283.542.026.145.668 3.56 3.539 4.267.311.077.629.116.946.116 2.396 0 4.099-2.16 4.17-2.252.138-.181.137-.43.001-.61zM9.998 10c-.448 0-.855-.303-.969-.757-.133-.535.191-1.077.724-1.212.036-.009 3.593-.961 5.352-4.478.247-.494.846-.695 1.342-.447.494.247.694.848.447 1.342-2.181 4.361-6.471 5.477-6.652 5.523-.081.02-.163.029-.244.029zM26 10c-.08 0-.161-.01-.242-.03-.182-.045-4.472-1.162-6.652-5.523-.247-.494-.047-1.095.447-1.342.493-.247 1.094-.047 1.342.447 1.758 3.517 5.315 4.469 5.352 4.478.533.137.857.681.722 1.215-.116.453-.522.755-.969.755zm-8 18.965c-3.623 0-6.027.422-9 1-.679.131-2 0-2-2 0-4 4.595-9 11-9 6.404 0 11 5 11 9 0 2-1.321 2.132-2 2-2.973-.578-5.377-1-9-1z"/><path fill="#FFF" d="M10 25s3-1 8-1 8 1 8 1-2-4-8-4-8 4-8 4z"/></svg>'},45152:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18S0 27.941 0 18 8.059 0 18 0s18 8.059 18 18"/><ellipse fill="#664500" cx="18" cy="25" rx="4" ry="5"/><ellipse fill="#664500" cx="12" cy="13.5" rx="2.5" ry="3.5"/><ellipse fill="#664500" cx="24" cy="13.5" rx="2.5" ry="3.5"/></svg>'},22783:function(e,t,a){"use strict";a.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#C1CDD5" d="M36 19.854C33.518 9.923 25.006 1.909 16.031 6.832c0 0-4.522-1.496-5.174-1.948-.635-.44-1.635-.904-.912.436.423.782.875 1.672 2.403 3.317C8 12.958 9.279 18.262 7.743 21.75c-1.304 2.962-2.577 4.733-1.31 6.976 1.317 2.33 4.729 3.462 7.018 1.06 1.244-1.307.471-1.937 3.132-4.202 2.723-.543 4.394-1.791 4.394-4.375 0 0 .795-.382 1.826 6.009.456 2.818-.157 5.632-.039 8.783H36V19.854z"/><path fill="#60379A" d="M31.906 6.062c.531 1.312.848 3.71.595 5.318-.15-3.923-3.188-6.581-4.376-7.193-2.202-1.137-4.372-.979-6.799-.772.111.168.403.814.32 1.547-.479-.875-1.604-1.42-2.333-1.271-1.36.277-2.561.677-3.475 1.156-.504.102-1.249.413-2.372 1.101-1.911 1.171-4.175 4.338-6.737 3.511 1.042 2.5 3.631 1.845 3.631 1.845 1.207-1.95 4.067-3.779 6.168-4.452 7.619-1.745 12.614 3.439 15.431 9.398.768 1.625 2.611 7.132 4.041 10.292V10.956c-.749-1.038-1.281-3.018-4.094-4.894z"/><path fill="#C1CDD5" d="M13.789 3.662c.573.788 3.236.794 4.596 3.82 1.359 3.026-1.943 2.63-3.14 1.23-1.334-1.561-1.931-2.863-2.165-3.992-.124-.596-.451-2.649.709-1.058z"/><path fill="#758795" d="M14.209 4.962c.956.573 2.164 1.515 2.517 2.596.351 1.081-.707.891-1.349-.042-.641-.934-.94-1.975-1.285-2.263-.346-.289.117-.291.117-.291z"/><circle fill="#292F33" cx="15.255" cy="14.565" r=".946"/><path fill="#53626C" d="M8.63 26.877c.119.658-.181 1.263-.67 1.351-.49.089-.984-.372-1.104-1.03-.119-.659.182-1.265.671-1.354.49-.088.984.373 1.103 1.033z"/><path fill="#EE7C0E" d="M13.844 8.124l.003-.002-.005-.007-.016-.014c-.008-.007-.011-.019-.019-.025-.009-.007-.021-.011-.031-.018C12.621 7.078.933-.495.219.219-.51.948 10.443 9.742 11.149 10.28l.011.006.541.439c.008.007.01.018.018.024.013.01.028.015.042.024l.047.038-.009-.016c.565.361 1.427.114 1.979-.592.559-.715.577-1.625.066-2.079z"/><path fill="#C43512" d="M4.677 2.25l.009-.025c-.301-.174-.594-.341-.878-.5-.016.038-.022.069-.041.11-.112.243-.256.484-.429.716-.166.224-.349.424-.541.595-.02.018-.036.026-.056.043.238.22.489.446.745.676.234-.21.456-.449.654-.717.214-.287.395-.589.537-.898zm2.275 2.945c.306-.41.521-.822.66-1.212-.292-.181-.584-.36-.876-.538-.076.298-.247.699-.586 1.152-.31.417-.613.681-.864.845.259.223.52.445.779.665.314-.244.619-.552.887-.912zM9.87 7.32c.365-.49.609-.983.734-1.437l-.906-.586c-.023.296-.172.81-.631 1.425-.412.554-.821.847-1.1.978l.814.671c.381-.256.761-.611 1.089-1.051z"/></svg>'},69921:function(e,t){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a="function"==typeof Symbol&&Symbol.for,n=a?Symbol.for("react.element"):60103,i=a?Symbol.for("react.portal"):60106,o=a?Symbol.for("react.fragment"):60107,r=a?Symbol.for("react.strict_mode"):60108,l=a?Symbol.for("react.profiler"):60114,u=a?Symbol.for("react.provider"):60109,s=a?Symbol.for("react.context"):60110,c=a?Symbol.for("react.async_mode"):60111,d=a?Symbol.for("react.concurrent_mode"):60111,f=a?Symbol.for("react.forward_ref"):60112,h=a?Symbol.for("react.suspense"):60113,p=a?Symbol.for("react.suspense_list"):60120,m=a?Symbol.for("react.memo"):60115,g=a?Symbol.for("react.lazy"):60116,v=a?Symbol.for("react.block"):60121,_=a?Symbol.for("react.fundamental"):60117,y=a?Symbol.for("react.responder"):60118,b=a?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case d:case o:case l:case r:case h:return e;default:switch(e=e&&e.$$typeof){case s:case f:case g:case m:case u:return e;default:return t}}case i:return t}}}function w(e){return E(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=s,t.ContextProvider=u,t.Element=n,t.ForwardRef=f,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=l,t.StrictMode=r,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||E(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return E(e)===s},t.isContextProvider=function(e){return E(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return E(e)===f},t.isFragment=function(e){return E(e)===o},t.isLazy=function(e){return E(e)===g},t.isMemo=function(e){return E(e)===m},t.isPortal=function(e){return E(e)===i},t.isProfiler=function(e){return E(e)===l},t.isStrictMode=function(e){return E(e)===r},t.isSuspense=function(e){return E(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===l||e===r||e===h||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===u||e.$$typeof===s||e.$$typeof===f||e.$$typeof===_||e.$$typeof===y||e.$$typeof===b||e.$$typeof===v)},t.typeOf=E},59864:function(e,t,a){"use strict";e.exports=a(69921)},26213:function(e,t,a){"use strict";a.r(t),a.d(t,{Provider:function(){return s},ReactReduxContext:function(){return i},batch:function(){return n.unstable_batchedUpdates},connect:function(){return H},connectAdvanced:function(){return C},createDispatchHook:function(){return G},createSelectorHook:function(){return K},createStoreHook:function(){return U},shallowEqual:function(){return k},useDispatch:function(){return V},useSelector:function(){return Z},useStore:function(){return z}});var n=a(59748),i=(a(45697),n.default.createContext(null));var o=function(e){e()},r=function(){return o},l={notify:function(){}};var u=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=l,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function(){var e=r(),t=null,a=null;return{clear:function(){t=null,a=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],a=t;a;)e.push(a),a=a.next;return e},subscribe:function(e){var n=!0,i=a={callback:e,next:null,prev:a};return i.prev?i.prev.next=i:t=i,function(){n&&null!==t&&(n=!1,i.next?i.next.prev=i.prev:a=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=l)},e}();var s=function(e){var t=e.store,a=e.context,o=e.children,r=(0,n.useMemo)((function(){var e=new u(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),l=(0,n.useMemo)((function(){return t.getState()}),[t]);(0,n.useEffect)((function(){var e=r.subscription;return e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[r,l]);var s=a||i;return n.default.createElement(s.Provider,{value:r},o)};function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var a,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}var f=a(8679),h=a.n(f),p=a(59864),m="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect,g=[],v=[null,null];function _(e,t){var a=e[1];return[t.payload,a+1]}function y(e,t,a){m((function(){return e.apply(void 0,t)}),a)}function b(e,t,a,n,i,o,r){e.current=n,t.current=i,a.current=!1,o.current&&(o.current=null,r())}function E(e,t,a,n,i,o,r,l,u,s){if(e){var c=!1,d=null,f=function(){if(!c){var e,a,f=t.getState();try{e=n(f,i.current)}catch(e){a=e,d=e}a||(d=null),e===o.current?r.current||u():(o.current=e,l.current=e,r.current=!0,s({type:"STORE_UPDATED",payload:{error:a}}))}};a.onStateChange=f,a.trySubscribe(),f();return function(){if(c=!0,a.tryUnsubscribe(),a.onStateChange=null,d)throw d}}}var w=function(){return[null,0]};function C(e,t){void 0===t&&(t={});var a=t,o=a.getDisplayName,r=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,l=a.methodName,s=void 0===l?"connectAdvanced":l,f=a.renderCountProp,m=void 0===f?void 0:f,C=a.shouldHandleStateChanges,T=void 0===C||C,k=a.storeKey,S=void 0===k?"store":k,I=(a.withRef,a.forwardRef),x=void 0!==I&&I,A=a.context,M=void 0===A?i:A,R=d(a,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),N=M;return function(t){var a=t.displayName||t.name||"Component",i=r(a),o=c({},R,{getDisplayName:r,methodName:s,renderCountProp:m,shouldHandleStateChanges:T,storeKey:S,displayName:i,wrappedComponentName:a,WrappedComponent:t}),l=R.pure;var f=l?n.useMemo:function(e){return e()};function C(a){var i=(0,n.useMemo)((function(){var e=a.reactReduxForwardedRef,t=d(a,["reactReduxForwardedRef"]);return[a.context,e,t]}),[a]),r=i[0],l=i[1],s=i[2],h=(0,n.useMemo)((function(){return r&&r.Consumer&&(0,p.isContextConsumer)(n.default.createElement(r.Consumer,null))?r:N}),[r,N]),m=(0,n.useContext)(h),C=Boolean(a.store)&&Boolean(a.store.getState)&&Boolean(a.store.dispatch);Boolean(m)&&Boolean(m.store);var k=C?a.store:m.store,S=(0,n.useMemo)((function(){return function(t){return e(t.dispatch,o)}(k)}),[k]),I=(0,n.useMemo)((function(){if(!T)return v;var e=new u(k,C?null:m.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[k,C,m]),x=I[0],A=I[1],M=(0,n.useMemo)((function(){return C?m:c({},m,{subscription:x})}),[C,m,x]),R=(0,n.useReducer)(_,g,w),O=R[0][0],D=R[1];if(O&&O.error)throw O.error;var L=(0,n.useRef)(),P=(0,n.useRef)(s),j=(0,n.useRef)(),B=(0,n.useRef)(!1),F=f((function(){return j.current&&s===P.current?j.current:S(k.getState(),s)}),[k,O,s]);y(b,[P,L,B,s,F,j,A]),y(E,[T,k,x,S,P,L,B,j,A,D],[k,x,S]);var H=(0,n.useMemo)((function(){return n.default.createElement(t,c({},F,{ref:l}))}),[l,t,F]);return(0,n.useMemo)((function(){return T?n.default.createElement(h.Provider,{value:M},H):H}),[h,H,M])}var k=l?n.default.memo(C):C;if(k.WrappedComponent=t,k.displayName=i,x){var I=n.default.forwardRef((function(e,t){return n.default.createElement(k,c({},e,{reactReduxForwardedRef:t}))}));return I.displayName=i,I.WrappedComponent=t,h()(I,t)}return h()(k,t)}}function T(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function k(e,t){if(T(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(var i=0;i<a.length;i++)if(!Object.prototype.hasOwnProperty.call(t,a[i])||!T(e[a[i]],t[a[i]]))return!1;return!0}var S=a(14890);function I(e){return function(t,a){var n=e(t,a);function i(){return n}return i.dependsOnOwnProps=!1,i}}function x(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function A(e,t){return function(t,a){a.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,a){n.mapToProps=e,n.dependsOnOwnProps=x(e);var i=n(t,a);return"function"==typeof i&&(n.mapToProps=i,n.dependsOnOwnProps=x(i),i=n(t,a)),i},n}}var M=[function(e){return"function"==typeof e?A(e):void 0},function(e){return e?void 0:I((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?I((function(t){return(0,S.bindActionCreators)(e,t)})):void 0}];var R=[function(e){return"function"==typeof e?A(e):void 0},function(e){return e?void 0:I((function(){return{}}))}];function N(e,t,a){return c({},a,{},e,{},t)}var O=[function(e){return"function"==typeof e?function(e){return function(t,a){a.displayName;var n,i=a.pure,o=a.areMergedPropsEqual,r=!1;return function(t,a,l){var u=e(t,a,l);return r?i&&o(u,n)||(n=u):(r=!0,n=u),n}}}(e):void 0},function(e){return e?void 0:function(){return N}}];function D(e,t,a,n){return function(i,o){return a(e(i,o),t(n,o),o)}}function L(e,t,a,n,i){var o,r,l,u,s,c=i.areStatesEqual,d=i.areOwnPropsEqual,f=i.areStatePropsEqual,h=!1;function p(i,h){var p,m,g=!d(h,r),v=!c(i,o);return o=i,r=h,g&&v?(l=e(o,r),t.dependsOnOwnProps&&(u=t(n,r)),s=a(l,u,r)):g?(e.dependsOnOwnProps&&(l=e(o,r)),t.dependsOnOwnProps&&(u=t(n,r)),s=a(l,u,r)):v?(p=e(o,r),m=!f(p,l),l=p,m&&(s=a(l,u,r)),s):s}return function(i,c){return h?p(i,c):(l=e(o=i,r=c),u=t(n,r),s=a(l,u,r),h=!0,s)}}function P(e,t){var a=t.initMapStateToProps,n=t.initMapDispatchToProps,i=t.initMergeProps,o=d(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),r=a(e,o),l=n(e,o),u=i(e,o);return(o.pure?L:D)(r,l,u,e,o)}function j(e,t,a){for(var n=t.length-1;n>=0;n--){var i=t[n](e);if(i)return i}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+a+" argument when connecting component "+n.wrappedComponentName+".")}}function B(e,t){return e===t}function F(e){var t=void 0===e?{}:e,a=t.connectHOC,n=void 0===a?C:a,i=t.mapStateToPropsFactories,o=void 0===i?R:i,r=t.mapDispatchToPropsFactories,l=void 0===r?M:r,u=t.mergePropsFactories,s=void 0===u?O:u,f=t.selectorFactory,h=void 0===f?P:f;return function(e,t,a,i){void 0===i&&(i={});var r=i,u=r.pure,f=void 0===u||u,p=r.areStatesEqual,m=void 0===p?B:p,g=r.areOwnPropsEqual,v=void 0===g?k:g,_=r.areStatePropsEqual,y=void 0===_?k:_,b=r.areMergedPropsEqual,E=void 0===b?k:b,w=d(r,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),C=j(e,o,"mapStateToProps"),T=j(t,l,"mapDispatchToProps"),S=j(a,s,"mergeProps");return n(h,c({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:C,initMapDispatchToProps:T,initMergeProps:S,pure:f,areStatesEqual:m,areOwnPropsEqual:v,areStatePropsEqual:y,areMergedPropsEqual:E},w))}}var H=F();function W(){return(0,n.useContext)(i)}function U(e){void 0===e&&(e=i);var t=e===i?W:function(){return(0,n.useContext)(e)};return function(){return t().store}}var z=U();function G(e){void 0===e&&(e=i);var t=e===i?z:U(e);return function(){return t().dispatch}}var V=G(),q=function(e,t){return e===t};function K(e){void 0===e&&(e=i);var t=e===i?W:function(){return(0,n.useContext)(e)};return function(e,a){void 0===a&&(a=q);var i=t(),o=function(e,t,a,i){var o,r=(0,n.useReducer)((function(e){return e+1}),0)[1],l=(0,n.useMemo)((function(){return new u(a,i)}),[a,i]),s=(0,n.useRef)(),c=(0,n.useRef)(),d=(0,n.useRef)(),f=(0,n.useRef)(),h=a.getState();try{o=e!==c.current||h!==d.current||s.current?e(h):f.current}catch(e){throw s.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+s.current.stack+"\n\n"),e}return m((function(){c.current=e,d.current=h,f.current=o,s.current=void 0})),m((function(){function e(){try{var e=c.current(a.getState());if(t(e,f.current))return;f.current=e}catch(e){s.current=e}r()}return l.onStateChange=e,l.trySubscribe(),e(),function(){return l.tryUnsubscribe()}}),[a,l]),o}(e,a,i.store,i.subscription);return(0,n.useDebugValue)(o),o}}var Y,Z=K();Y=n.unstable_batchedUpdates,o=Y},14890:function(e,t,a){"use strict";a.r(t),a.d(t,{__DO_NOT_USE__ActionTypes:function(){return o},applyMiddleware:function(){return g},bindActionCreators:function(){return d},combineReducers:function(){return s},compose:function(){return m},createStore:function(){return l}});var n=a(67121),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},o={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function r(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function l(e,t,a){var i;if("function"==typeof t&&"function"==typeof a||"function"==typeof a&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===a&&(a=t,t=void 0),void 0!==a){if("function"!=typeof a)throw new Error("Expected the enhancer to be a function.");return a(l)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var u=e,s=t,c=[],d=c,f=!1;function h(){d===c&&(d=c.slice())}function p(){if(f)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return s}function m(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(f)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return h(),d.push(e),function(){if(t){if(f)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,h();var a=d.indexOf(e);d.splice(a,1),c=null}}}function g(e){if(!r(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,s=u(s,e)}finally{f=!1}for(var t=c=d,a=0;a<t.length;a++){(0,t[a])()}return e}function v(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,g({type:o.REPLACE})}function _(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function a(){e.next&&e.next(p())}return a(),{unsubscribe:t(a)}}})[n.Z]=function(){return this},e}return g({type:o.INIT}),(i={dispatch:g,subscribe:m,getState:p,replaceReducer:v})[n.Z]=_,i}function u(e,t){var a=t&&t.type;return"Given "+(a&&'action "'+String(a)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function s(e){for(var t=Object.keys(e),a={},n=0;n<t.length;n++){var i=t[n];0,"function"==typeof e[i]&&(a[i]=e[i])}var r,l=Object.keys(a);try{!function(e){Object.keys(e).forEach((function(t){var a=e[t];if(void 0===a(void 0,{type:o.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===a(void 0,{type:o.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+o.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(a)}catch(e){r=e}return function(e,t){if(void 0===e&&(e={}),r)throw r;for(var n=!1,i={},o=0;o<l.length;o++){var s=l[o],c=a[s],d=e[s],f=c(d,t);if(void 0===f){var h=u(s,t);throw new Error(h)}i[s]=f,n=n||f!==d}return(n=n||l.length!==Object.keys(e).length)?i:e}}function c(e,t){return function(){return t(e.apply(this,arguments))}}function d(e,t){if("function"==typeof e)return c(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var a={};for(var n in e){var i=e[n];"function"==typeof i&&(a[n]=c(i,t))}return a}function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function h(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(a,!0).forEach((function(t){f(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function m(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function g(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return function(){var a=e.apply(void 0,arguments),n=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:a.getState,dispatch:function(){return n.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return p({},a,{dispatch:n=m.apply(void 0,o)(a.dispatch)})}}}},67121:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}}),e=a.hmd(e);var n=function(e){var t,a=e.Symbol;return"function"==typeof a?a.observable?t=a.observable:(t=a("observable"),a.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==a.g?a.g:e)},6189:function(e,t,a){var n=a(7966);e.exports=function(e){return n(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}},71788:function(e){e.exports=function(e){return t.test(e)?e.toLowerCase():a.test(e)?(function(e){return e.replace(i,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():n.test(e)?function(e){return e.replace(o,(function(e,t,a){return t+" "+a.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()};var t=/\s/,a=/(_|-|\.|:)/,n=/([a-z][A-Z]|[A-Z][a-z])/;var i=/[\W_]+(.|$)/g;var o=/(.)([A-Z]+)/g},7966:function(e,t,a){var n=a(71788);e.exports=function(e){return n(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()}},62107:function(e,t,a){"use strict";a.r(t),a.d(t,{VERSION:function(){return i},after:function(){return gt},all:function(){return Pt},allKeys:function(){return pe},any:function(){return jt},assign:function(){return Ee},before:function(){return vt},bind:function(){return ot},bindAll:function(){return lt},chain:function(){return tt},chunk:function(){return ya},clone:function(){return ke},collect:function(){return Mt},compact:function(){return ua},compose:function(){return mt},constant:function(){return X},contains:function(){return Bt},countBy:function(){return Jt},create:function(){return Te},debounce:function(){return ft},default:function(){return Ta},defaults:function(){return we},defer:function(){return ct},delay:function(){return st},detect:function(){return It},difference:function(){return ca},drop:function(){return ra},each:function(){return At},escape:function(){return Ge},every:function(){return Pt},extend:function(){return be},extendOwn:function(){return Ee},filter:function(){return Dt},find:function(){return It},findIndex:function(){return Et},findKey:function(){return yt},findLastIndex:function(){return wt},findWhere:function(){return xt},first:function(){return oa},flatten:function(){return sa},foldl:function(){return Nt},foldr:function(){return Ot},forEach:function(){return At},functions:function(){return _e},groupBy:function(){return Yt},has:function(){return Ie},head:function(){return oa},identity:function(){return xe},include:function(){return Bt},includes:function(){return Bt},indexBy:function(){return Zt},indexOf:function(){return kt},initial:function(){return ia},inject:function(){return Nt},intersection:function(){return pa},invert:function(){return ve},invoke:function(){return Ft},isArguments:function(){return Y},isArray:function(){return U},isArrayBuffer:function(){return H},isBoolean:function(){return I},isDataView:function(){return W},isDate:function(){return N},isElement:function(){return x},isEmpty:function(){return ue},isEqual:function(){return he},isError:function(){return D},isFinite:function(){return Z},isFunction:function(){return V},isMap:function(){return P},isMatch:function(){return se},isNaN:function(){return J},isNull:function(){return k},isNumber:function(){return R},isObject:function(){return T},isRegExp:function(){return O},isSet:function(){return B},isString:function(){return M},isSymbol:function(){return L},isTypedArray:function(){return ne},isUndefined:function(){return S},isWeakMap:function(){return j},isWeakSet:function(){return F},iteratee:function(){return De},keys:function(){return le},last:function(){return la},lastIndexOf:function(){return St},map:function(){return Mt},mapObject:function(){return Pe},matcher:function(){return Ae},matches:function(){return Ae},max:function(){return Ut},memoize:function(){return ut},methods:function(){return _e},min:function(){return zt},mixin:function(){return Ea},negate:function(){return pt},noop:function(){return je},now:function(){return We},object:function(){return va},omit:function(){return na},once:function(){return _t},pairs:function(){return ge},partial:function(){return it},partition:function(){return Xt},pick:function(){return aa},pluck:function(){return Ht},property:function(){return Re},propertyOf:function(){return Be},random:function(){return He},range:function(){return _a},reduce:function(){return Nt},reduceRight:function(){return Ot},reject:function(){return Lt},rest:function(){return ra},restArguments:function(){return C},result:function(){return $e},sample:function(){return Gt},select:function(){return Dt},shuffle:function(){return Vt},size:function(){return ea},some:function(){return jt},sortBy:function(){return qt},sortedIndex:function(){return Ct},tail:function(){return ra},take:function(){return oa},tap:function(){return Se},template:function(){return Xe},templateSettings:function(){return qe},throttle:function(){return dt},times:function(){return Fe},toArray:function(){return Qt},transpose:function(){return ma},unescape:function(){return Ve},union:function(){return ha},uniq:function(){return fa},unique:function(){return fa},uniqueId:function(){return et},unzip:function(){return ma},values:function(){return me},where:function(){return Wt},without:function(){return da},wrap:function(){return ht},zip:function(){return ga}});var n={};a.r(n),a.d(n,{VERSION:function(){return i},after:function(){return gt},all:function(){return Pt},allKeys:function(){return pe},any:function(){return jt},assign:function(){return Ee},before:function(){return vt},bind:function(){return ot},bindAll:function(){return lt},chain:function(){return tt},chunk:function(){return ya},clone:function(){return ke},collect:function(){return Mt},compact:function(){return ua},compose:function(){return mt},constant:function(){return X},contains:function(){return Bt},countBy:function(){return Jt},create:function(){return Te},debounce:function(){return ft},default:function(){return wa},defaults:function(){return we},defer:function(){return ct},delay:function(){return st},detect:function(){return It},difference:function(){return ca},drop:function(){return ra},each:function(){return At},escape:function(){return Ge},every:function(){return Pt},extend:function(){return be},extendOwn:function(){return Ee},filter:function(){return Dt},find:function(){return It},findIndex:function(){return Et},findKey:function(){return yt},findLastIndex:function(){return wt},findWhere:function(){return xt},first:function(){return oa},flatten:function(){return sa},foldl:function(){return Nt},foldr:function(){return Ot},forEach:function(){return At},functions:function(){return _e},groupBy:function(){return Yt},has:function(){return Ie},head:function(){return oa},identity:function(){return xe},include:function(){return Bt},includes:function(){return Bt},indexBy:function(){return Zt},indexOf:function(){return kt},initial:function(){return ia},inject:function(){return Nt},intersection:function(){return pa},invert:function(){return ve},invoke:function(){return Ft},isArguments:function(){return Y},isArray:function(){return U},isArrayBuffer:function(){return H},isBoolean:function(){return I},isDataView:function(){return W},isDate:function(){return N},isElement:function(){return x},isEmpty:function(){return ue},isEqual:function(){return he},isError:function(){return D},isFinite:function(){return Z},isFunction:function(){return V},isMap:function(){return P},isMatch:function(){return se},isNaN:function(){return J},isNull:function(){return k},isNumber:function(){return R},isObject:function(){return T},isRegExp:function(){return O},isSet:function(){return B},isString:function(){return M},isSymbol:function(){return L},isTypedArray:function(){return ne},isUndefined:function(){return S},isWeakMap:function(){return j},isWeakSet:function(){return F},iteratee:function(){return De},keys:function(){return le},last:function(){return la},lastIndexOf:function(){return St},map:function(){return Mt},mapObject:function(){return Pe},matcher:function(){return Ae},matches:function(){return Ae},max:function(){return Ut},memoize:function(){return ut},methods:function(){return _e},min:function(){return zt},mixin:function(){return Ea},negate:function(){return pt},noop:function(){return je},now:function(){return We},object:function(){return va},omit:function(){return na},once:function(){return _t},pairs:function(){return ge},partial:function(){return it},partition:function(){return Xt},pick:function(){return aa},pluck:function(){return Ht},property:function(){return Re},propertyOf:function(){return Be},random:function(){return He},range:function(){return _a},reduce:function(){return Nt},reduceRight:function(){return Ot},reject:function(){return Lt},rest:function(){return ra},restArguments:function(){return C},result:function(){return $e},sample:function(){return Gt},select:function(){return Dt},shuffle:function(){return Vt},size:function(){return ea},some:function(){return jt},sortBy:function(){return qt},sortedIndex:function(){return Ct},tail:function(){return ra},take:function(){return oa},tap:function(){return Se},template:function(){return Xe},templateSettings:function(){return qe},throttle:function(){return dt},times:function(){return Fe},toArray:function(){return Qt},transpose:function(){return ma},unescape:function(){return Ve},union:function(){return ha},uniq:function(){return fa},unique:function(){return fa},uniqueId:function(){return et},unzip:function(){return ma},values:function(){return me},where:function(){return Wt},without:function(){return da},wrap:function(){return ht},zip:function(){return ga}});var i="1.11.0",o="object"==typeof self&&self.self===self&&self||"object"==typeof a.g&&a.g.global===a.g&&a.g||Function("return this")()||{},r=Array.prototype,l=Object.prototype,u="undefined"!=typeof Symbol?Symbol.prototype:null,s=r.push,c=r.slice,d=l.toString,f=l.hasOwnProperty,h="undefined"!=typeof ArrayBuffer,p=Array.isArray,m=Object.keys,g=Object.create,v=h&&ArrayBuffer.isView,_=isNaN,y=isFinite,b=!{toString:null}.propertyIsEnumerable("toString"),E=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],w=Math.pow(2,53)-1;function C(e,t){return t=null==t?e.length-1:+t,function(){for(var a=Math.max(arguments.length-t,0),n=Array(a),i=0;i<a;i++)n[i]=arguments[i+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n);case 2:return e.call(this,arguments[0],arguments[1],n)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=n,e.apply(this,o)}}function T(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function k(e){return null===e}function S(e){return void 0===e}function I(e){return!0===e||!1===e||"[object Boolean]"===d.call(e)}function x(e){return!(!e||1!==e.nodeType)}function A(e){return function(t){return d.call(t)==="[object "+e+"]"}}var M=A("String"),R=A("Number"),N=A("Date"),O=A("RegExp"),D=A("Error"),L=A("Symbol"),P=A("Map"),j=A("WeakMap"),B=A("Set"),F=A("WeakSet"),H=A("ArrayBuffer"),W=A("DataView"),U=p||A("Array"),z=A("Function"),G=o.document&&o.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof G&&(z=function(e){return"function"==typeof e||!1});var V=z;function q(e,t){return null!=e&&f.call(e,t)}var K=A("Arguments");!function(){K(arguments)||(K=function(e){return q(e,"callee")})}();var Y=K;function Z(e){return!L(e)&&y(e)&&!isNaN(parseFloat(e))}function J(e){return R(e)&&_(e)}function X(e){return function(){return e}}function $(e){return function(t){var a=e(t);return"number"==typeof a&&a>=0&&a<=w}}function Q(e){return function(t){return null==t?void 0:t[e]}}var ee=Q("byteLength"),te=$(ee),ae=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var ne=h?function(e){return v?v(e)&&!W(e):te(e)&&ae.test(d.call(e))}:X(!1),ie=Q("length"),oe=$(ie);function re(e,t){t=function(e){for(var t={},a=e.length,n=0;n<a;++n)t[e[n]]=!0;return{contains:function(e){return t[e]},push:function(a){return t[a]=!0,e.push(a)}}}(t);var a=E.length,n=e.constructor,i=V(n)&&n.prototype||l,o="constructor";for(q(e,o)&&!t.contains(o)&&t.push(o);a--;)(o=E[a])in e&&e[o]!==i[o]&&!t.contains(o)&&t.push(o)}function le(e){if(!T(e))return[];if(m)return m(e);var t=[];for(var a in e)q(e,a)&&t.push(a);return b&&re(e,t),t}function ue(e){return null==e||(oe(e)&&(U(e)||M(e)||Y(e))?0===e.length:0===le(e).length)}function se(e,t){var a=le(t),n=a.length;if(null==e)return!n;for(var i=Object(e),o=0;o<n;o++){var r=a[o];if(t[r]!==i[r]||!(r in i))return!1}return!0}function ce(e){return e instanceof ce?e:this instanceof ce?void(this._wrapped=e):new ce(e)}function de(e,t,a,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&fe(e,t,a,n)}function fe(e,t,a,n){e instanceof ce&&(e=e._wrapped),t instanceof ce&&(t=t._wrapped);var i=d.call(e);if(i!==d.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return u.valueOf.call(e)===u.valueOf.call(t);case"[object ArrayBuffer]":return fe(new DataView(e),new DataView(t),a,n);case"[object DataView]":var o=ee(e);if(o!==ee(t))return!1;for(;o--;)if(e.getUint8(o)!==t.getUint8(o))return!1;return!0}if(ne(e))return fe(new DataView(e.buffer),new DataView(t.buffer),a,n);var r="[object Array]"===i;if(!r){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,s=t.constructor;if(l!==s&&!(V(l)&&l instanceof l&&V(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[];for(var c=(a=a||[]).length;c--;)if(a[c]===e)return n[c]===t;if(a.push(e),n.push(t),r){if((c=e.length)!==t.length)return!1;for(;c--;)if(!de(e[c],t[c],a,n))return!1}else{var f,h=le(e);if(c=h.length,le(t).length!==c)return!1;for(;c--;)if(!q(t,f=h[c])||!de(e[f],t[f],a,n))return!1}return a.pop(),n.pop(),!0}function he(e,t){return de(e,t)}function pe(e){if(!T(e))return[];var t=[];for(var a in e)t.push(a);return b&&re(e,t),t}function me(e){for(var t=le(e),a=t.length,n=Array(a),i=0;i<a;i++)n[i]=e[t[i]];return n}function ge(e){for(var t=le(e),a=t.length,n=Array(a),i=0;i<a;i++)n[i]=[t[i],e[t[i]]];return n}function ve(e){for(var t={},a=le(e),n=0,i=a.length;n<i;n++)t[e[a[n]]]=a[n];return t}function _e(e){var t=[];for(var a in e)V(e[a])&&t.push(a);return t.sort()}function ye(e,t){return function(a){var n=arguments.length;if(t&&(a=Object(a)),n<2||null==a)return a;for(var i=1;i<n;i++)for(var o=arguments[i],r=e(o),l=r.length,u=0;u<l;u++){var s=r[u];t&&void 0!==a[s]||(a[s]=o[s])}return a}}ce.VERSION=i,ce.prototype.value=function(){return this._wrapped},ce.prototype.valueOf=ce.prototype.toJSON=ce.prototype.value,ce.prototype.toString=function(){return String(this._wrapped)};var be=ye(pe),Ee=ye(le),we=ye(pe,!0);function Ce(e){if(!T(e))return{};if(g)return g(e);var t=function(){};t.prototype=e;var a=new t;return t.prototype=null,a}function Te(e,t){var a=Ce(e);return t&&Ee(a,t),a}function ke(e){return T(e)?U(e)?e.slice():be({},e):e}function Se(e,t){return t(e),e}function Ie(e,t){if(!U(t))return q(e,t);for(var a=t.length,n=0;n<a;n++){var i=t[n];if(null==e||!f.call(e,i))return!1;e=e[i]}return!!a}function xe(e){return e}function Ae(e){return e=Ee({},e),function(t){return se(t,e)}}function Me(e,t){for(var a=t.length,n=0;n<a;n++){if(null==e)return;e=e[t[n]]}return a?e:void 0}function Re(e){return U(e)?function(t){return Me(t,e)}:Q(e)}function Ne(e,t,a){if(void 0===t)return e;switch(null==a?3:a){case 1:return function(a){return e.call(t,a)};case 3:return function(a,n,i){return e.call(t,a,n,i)};case 4:return function(a,n,i,o){return e.call(t,a,n,i,o)}}return function(){return e.apply(t,arguments)}}function Oe(e,t,a){return null==e?xe:V(e)?Ne(e,t,a):T(e)&&!U(e)?Ae(e):Re(e)}function De(e,t){return Oe(e,t,1/0)}function Le(e,t,a){return ce.iteratee!==De?ce.iteratee(e,t):Oe(e,t,a)}function Pe(e,t,a){t=Le(t,a);for(var n=le(e),i=n.length,o={},r=0;r<i;r++){var l=n[r];o[l]=t(e[l],l,e)}return o}function je(){}function Be(e){return null==e?function(){}:function(t){return U(t)?Me(e,t):e[t]}}function Fe(e,t,a){var n=Array(Math.max(0,e));t=Ne(t,a,1);for(var i=0;i<e;i++)n[i]=t(i);return n}function He(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}ce.iteratee=De;var We=Date.now||function(){return(new Date).getTime()};function Ue(e){var t=function(t){return e[t]},a="(?:"+le(e).join("|")+")",n=RegExp(a),i=RegExp(a,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(i,t):e}}var ze={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Ge=Ue(ze),Ve=Ue(ve(ze)),qe=ce.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Ke=/(.)^/,Ye={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Ze=/\\|'|\r|\n|\u2028|\u2029/g;function Je(e){return"\\"+Ye[e]}function Xe(e,t,a){!t&&a&&(t=a),t=we({},t,ce.templateSettings);var n,i=RegExp([(t.escape||Ke).source,(t.interpolate||Ke).source,(t.evaluate||Ke).source].join("|")+"|$","g"),o=0,r="__p+='";e.replace(i,(function(t,a,n,i,l){return r+=e.slice(o,l).replace(Ze,Je),o=l+t.length,a?r+="'+\n((__t=("+a+"))==null?'':_.escape(__t))+\n'":n?r+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(r+="';\n"+i+"\n__p+='"),t})),r+="';\n",t.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{n=new Function(t.variable||"obj","_",r)}catch(e){throw e.source=r,e}var l=function(e){return n.call(this,e,ce)},u=t.variable||"obj";return l.source="function("+u+"){\n"+r+"}",l}function $e(e,t,a){U(t)||(t=[t]);var n=t.length;if(!n)return V(a)?a.call(e):a;for(var i=0;i<n;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=a,i=n),e=V(o)?o.call(e):o}return e}var Qe=0;function et(e){var t=++Qe+"";return e?e+t:t}function tt(e){var t=ce(e);return t._chain=!0,t}function at(e,t,a,n,i){if(!(n instanceof t))return e.apply(a,i);var o=Ce(e.prototype),r=e.apply(o,i);return T(r)?r:o}var nt=C((function(e,t){var a=nt.placeholder,n=function(){for(var i=0,o=t.length,r=Array(o),l=0;l<o;l++)r[l]=t[l]===a?arguments[i++]:t[l];for(;i<arguments.length;)r.push(arguments[i++]);return at(e,n,this,this,r)};return n}));nt.placeholder=ce;var it=nt,ot=C((function(e,t,a){if(!V(e))throw new TypeError("Bind must be called on a function");var n=C((function(i){return at(e,n,t,this,a.concat(i))}));return n}));function rt(e,t,a,n){if(n=n||[],t||0===t){if(t<=0)return n.concat(e)}else t=1/0;for(var i=n.length,o=0,r=ie(e);o<r;o++){var l=e[o];if(oe(l)&&(U(l)||Y(l)))if(t>1)rt(l,t-1,a,n),i=n.length;else for(var u=0,s=l.length;u<s;)n[i++]=l[u++];else a||(n[i++]=l)}return n}var lt=C((function(e,t){var a=(t=rt(t,!1,!1)).length;if(a<1)throw new Error("bindAll must be passed function names");for(;a--;){var n=t[a];e[n]=ot(e[n],e)}return e}));function ut(e,t){var a=function(n){var i=a.cache,o=""+(t?t.apply(this,arguments):n);return q(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return a.cache={},a}var st=C((function(e,t,a){return setTimeout((function(){return e.apply(null,a)}),t)})),ct=it(st,ce,1);function dt(e,t,a){var n,i,o,r,l=0;a||(a={});var u=function(){l=!1===a.leading?0:We(),n=null,r=e.apply(i,o),n||(i=o=null)},s=function(){var s=We();l||!1!==a.leading||(l=s);var c=t-(s-l);return i=this,o=arguments,c<=0||c>t?(n&&(clearTimeout(n),n=null),l=s,r=e.apply(i,o),n||(i=o=null)):n||!1===a.trailing||(n=setTimeout(u,c)),r};return s.cancel=function(){clearTimeout(n),l=0,n=i=o=null},s}function ft(e,t,a){var n,i,o=function(t,a){n=null,a&&(i=e.apply(t,a))},r=C((function(r){if(n&&clearTimeout(n),a){var l=!n;n=setTimeout(o,t),l&&(i=e.apply(this,r))}else n=st(o,t,this,r);return i}));return r.cancel=function(){clearTimeout(n),n=null},r}function ht(e,t){return it(t,e)}function pt(e){return function(){return!e.apply(this,arguments)}}function mt(){var e=arguments,t=e.length-1;return function(){for(var a=t,n=e[t].apply(this,arguments);a--;)n=e[a].call(this,n);return n}}function gt(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function vt(e,t){var a;return function(){return--e>0&&(a=t.apply(this,arguments)),e<=1&&(t=null),a}}var _t=it(vt,2);function yt(e,t,a){t=Le(t,a);for(var n,i=le(e),o=0,r=i.length;o<r;o++)if(t(e[n=i[o]],n,e))return n}function bt(e){return function(t,a,n){a=Le(a,n);for(var i=ie(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(a(t[o],o,t))return o;return-1}}var Et=bt(1),wt=bt(-1);function Ct(e,t,a,n){for(var i=(a=Le(a,n,1))(t),o=0,r=ie(e);o<r;){var l=Math.floor((o+r)/2);a(e[l])<i?o=l+1:r=l}return o}function Tt(e,t,a){return function(n,i,o){var r=0,l=ie(n);if("number"==typeof o)e>0?r=o>=0?o:Math.max(o+l,r):l=o>=0?Math.min(o+1,l):o+l+1;else if(a&&o&&l)return n[o=a(n,i)]===i?o:-1;if(i!=i)return(o=t(c.call(n,r,l),J))>=0?o+r:-1;for(o=e>0?r:l-1;o>=0&&o<l;o+=e)if(n[o]===i)return o;return-1}}var kt=Tt(1,Et,Ct),St=Tt(-1,wt);function It(e,t,a){var n=(oe(e)?Et:yt)(e,t,a);if(void 0!==n&&-1!==n)return e[n]}function xt(e,t){return It(e,Ae(t))}function At(e,t,a){var n,i;if(t=Ne(t,a),oe(e))for(n=0,i=e.length;n<i;n++)t(e[n],n,e);else{var o=le(e);for(n=0,i=o.length;n<i;n++)t(e[o[n]],o[n],e)}return e}function Mt(e,t,a){t=Le(t,a);for(var n=!oe(e)&&le(e),i=(n||e).length,o=Array(i),r=0;r<i;r++){var l=n?n[r]:r;o[r]=t(e[l],l,e)}return o}function Rt(e){var t=function(t,a,n,i){var o=!oe(t)&&le(t),r=(o||t).length,l=e>0?0:r-1;for(i||(n=t[o?o[l]:l],l+=e);l>=0&&l<r;l+=e){var u=o?o[l]:l;n=a(n,t[u],u,t)}return n};return function(e,a,n,i){var o=arguments.length>=3;return t(e,Ne(a,i,4),n,o)}}var Nt=Rt(1),Ot=Rt(-1);function Dt(e,t,a){var n=[];return t=Le(t,a),At(e,(function(e,a,i){t(e,a,i)&&n.push(e)})),n}function Lt(e,t,a){return Dt(e,pt(Le(t)),a)}function Pt(e,t,a){t=Le(t,a);for(var n=!oe(e)&&le(e),i=(n||e).length,o=0;o<i;o++){var r=n?n[o]:o;if(!t(e[r],r,e))return!1}return!0}function jt(e,t,a){t=Le(t,a);for(var n=!oe(e)&&le(e),i=(n||e).length,o=0;o<i;o++){var r=n?n[o]:o;if(t(e[r],r,e))return!0}return!1}function Bt(e,t,a,n){return oe(e)||(e=me(e)),("number"!=typeof a||n)&&(a=0),kt(e,t,a)>=0}var Ft=C((function(e,t,a){var n,i;return V(t)?i=t:U(t)&&(n=t.slice(0,-1),t=t[t.length-1]),Mt(e,(function(e){var o=i;if(!o){if(n&&n.length&&(e=Me(e,n)),null==e)return;o=e[t]}return null==o?o:o.apply(e,a)}))}));function Ht(e,t){return Mt(e,Re(t))}function Wt(e,t){return Dt(e,Ae(t))}function Ut(e,t,a){var n,i,o=-1/0,r=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var l=0,u=(e=oe(e)?e:me(e)).length;l<u;l++)null!=(n=e[l])&&n>o&&(o=n);else t=Le(t,a),At(e,(function(e,a,n){((i=t(e,a,n))>r||i===-1/0&&o===-1/0)&&(o=e,r=i)}));return o}function zt(e,t,a){var n,i,o=1/0,r=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var l=0,u=(e=oe(e)?e:me(e)).length;l<u;l++)null!=(n=e[l])&&n<o&&(o=n);else t=Le(t,a),At(e,(function(e,a,n){((i=t(e,a,n))<r||i===1/0&&o===1/0)&&(o=e,r=i)}));return o}function Gt(e,t,a){if(null==t||a)return oe(e)||(e=me(e)),e[He(e.length-1)];var n=oe(e)?ke(e):me(e),i=ie(n);t=Math.max(Math.min(t,i),0);for(var o=i-1,r=0;r<t;r++){var l=He(r,o),u=n[r];n[r]=n[l],n[l]=u}return n.slice(0,t)}function Vt(e){return Gt(e,1/0)}function qt(e,t,a){var n=0;return t=Le(t,a),Ht(Mt(e,(function(e,a,i){return{value:e,index:n++,criteria:t(e,a,i)}})).sort((function(e,t){var a=e.criteria,n=t.criteria;if(a!==n){if(a>n||void 0===a)return 1;if(a<n||void 0===n)return-1}return e.index-t.index})),"value")}function Kt(e,t){return function(a,n,i){var o=t?[[],[]]:{};return n=Le(n,i),At(a,(function(t,i){var r=n(t,i,a);e(o,t,r)})),o}}var Yt=Kt((function(e,t,a){q(e,a)?e[a].push(t):e[a]=[t]})),Zt=Kt((function(e,t,a){e[a]=t})),Jt=Kt((function(e,t,a){q(e,a)?e[a]++:e[a]=1})),Xt=Kt((function(e,t,a){e[a?0:1].push(t)}),!0),$t=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Qt(e){return e?U(e)?c.call(e):M(e)?e.match($t):oe(e)?Mt(e,xe):me(e):[]}function ea(e){return null==e?0:oe(e)?e.length:le(e).length}function ta(e,t,a){return t in a}var aa=C((function(e,t){var a={},n=t[0];if(null==e)return a;V(n)?(t.length>1&&(n=Ne(n,t[1])),t=pe(e)):(n=ta,t=rt(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var r=t[i],l=e[r];n(l,r,e)&&(a[r]=l)}return a})),na=C((function(e,t){var a,n=t[0];return V(n)?(n=pt(n),t.length>1&&(a=t[1])):(t=Mt(rt(t,!1,!1),String),n=function(e,a){return!Bt(t,a)}),aa(e,n,a)}));function ia(e,t,a){return c.call(e,0,Math.max(0,e.length-(null==t||a?1:t)))}function oa(e,t,a){return null==e||e.length<1?null==t||a?void 0:[]:null==t||a?e[0]:ia(e,e.length-t)}function ra(e,t,a){return c.call(e,null==t||a?1:t)}function la(e,t,a){return null==e||e.length<1?null==t||a?void 0:[]:null==t||a?e[e.length-1]:ra(e,Math.max(0,e.length-t))}function ua(e){return Dt(e,Boolean)}function sa(e,t){return rt(e,t,!1)}var ca=C((function(e,t){return t=rt(t,!0,!0),Dt(e,(function(e){return!Bt(t,e)}))})),da=C((function(e,t){return ca(e,t)}));function fa(e,t,a,n){I(t)||(n=a,a=t,t=!1),null!=a&&(a=Le(a,n));for(var i=[],o=[],r=0,l=ie(e);r<l;r++){var u=e[r],s=a?a(u,r,e):u;t&&!a?(r&&o===s||i.push(u),o=s):a?Bt(o,s)||(o.push(s),i.push(u)):Bt(i,u)||i.push(u)}return i}var ha=C((function(e){return fa(rt(e,!0,!0))}));function pa(e){for(var t=[],a=arguments.length,n=0,i=ie(e);n<i;n++){var o=e[n];if(!Bt(t,o)){var r;for(r=1;r<a&&Bt(arguments[r],o);r++);r===a&&t.push(o)}}return t}function ma(e){for(var t=e&&Ut(e,ie).length||0,a=Array(t),n=0;n<t;n++)a[n]=Ht(e,n);return a}var ga=C(ma);function va(e,t){for(var a={},n=0,i=ie(e);n<i;n++)t?a[e[n]]=t[n]:a[e[n][0]]=e[n][1];return a}function _a(e,t,a){null==t&&(t=e||0,e=0),a||(a=t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/a),0),i=Array(n),o=0;o<n;o++,e+=a)i[o]=e;return i}function ya(e,t){if(null==t||t<1)return[];for(var a=[],n=0,i=e.length;n<i;)a.push(c.call(e,n,n+=t));return a}function ba(e,t){return e._chain?ce(t).chain():t}function Ea(e){return At(_e(e),(function(t){var a=ce[t]=e[t];ce.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),ba(this,a.apply(ce,e))}})),ce}At(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=r[e];ce.prototype[e]=function(){var a=this._wrapped;return null!=a&&(t.apply(a,arguments),"shift"!==e&&"splice"!==e||0!==a.length||delete a[0]),ba(this,a)}})),At(["concat","join","slice"],(function(e){var t=r[e];ce.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),ba(this,e)}}));var wa=ce,Ca=Ea(n);Ca._=Ca;var Ta=Ca},8575:function(e,t,a){"use strict";var n=a(74971),i=a(62502);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=y,t.resolve=function(e,t){return y(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?y(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=y(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var r=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,s=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(s),d=["%","/","?",";","#"].concat(c),f=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=a(17673);function y(e,t,a){if(e&&i.isObject(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,a),n}o.prototype.parse=function(e,t,a){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),l=-1!==o&&o<e.indexOf("#")?"?":"#",s=e.split(l);s[0]=s[0].replace(/\\/g,"/");var y=e=s.join(l);if(y=y.trim(),!a&&1===e.split("#").length){var b=u.exec(y);if(b)return this.path=y,this.href=y,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?_.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var E=r.exec(y);if(E){var w=(E=E[0]).toLowerCase();this.protocol=w,y=y.substr(E.length)}if(a||E||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var C="//"===y.substr(0,2);!C||E&&g[E]||(y=y.substr(2),this.slashes=!0)}if(!g[E]&&(C||E&&!v[E])){for(var T,k,S=-1,I=0;I<f.length;I++){-1!==(x=y.indexOf(f[I]))&&(-1===S||x<S)&&(S=x)}-1!==(k=-1===S?y.lastIndexOf("@"):y.lastIndexOf("@",S))&&(T=y.slice(0,k),y=y.slice(k+1),this.auth=decodeURIComponent(T)),S=-1;for(I=0;I<d.length;I++){var x;-1!==(x=y.indexOf(d[I]))&&(-1===S||x<S)&&(S=x)}-1===S&&(S=y.length),this.host=y.slice(0,S),y=y.slice(S),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var M=this.hostname.split(/\./),R=(I=0,M.length);I<R;I++){var N=M[I];if(N&&!N.match(h)){for(var O="",D=0,L=N.length;D<L;D++)N.charCodeAt(D)>127?O+="x":O+=N[D];if(!O.match(h)){var P=M.slice(0,I),j=M.slice(I+1),B=N.match(p);B&&(P.push(B[1]),j.unshift(B[2])),j.length&&(y="/"+j.join(".")+y),this.hostname=P.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=n.toASCII(this.hostname));var F=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+F,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!m[w])for(I=0,R=c.length;I<R;I++){var W=c[I];if(-1!==y.indexOf(W)){var U=encodeURIComponent(W);U===W&&(U=escape(W)),y=y.split(W).join(U)}}var z=y.indexOf("#");-1!==z&&(this.hash=y.substr(z),y=y.slice(0,z));var G=y.indexOf("?");if(-1!==G?(this.search=y.substr(G),this.query=y.substr(G+1),t&&(this.query=_.parse(this.query)),y=y.slice(0,G)):t&&(this.search="",this.query={}),y&&(this.pathname=y),v[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var V=this.search||"";this.path=F+V}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",a=this.pathname||"",n=this.hash||"",o=!1,r="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(r=_.stringify(this.query));var l=this.search||r&&"?"+r||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==o?(o="//"+(o||""),a&&"/"!==a.charAt(0)&&(a="/"+a)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),l&&"?"!==l.charAt(0)&&(l="?"+l),t+o+(a=a.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(l=l.replace("#","%23"))+n},o.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var a=new o,n=Object.keys(this),r=0;r<n.length;r++){var l=n[r];a[l]=this[l]}if(a.hash=e.hash,""===e.href)return a.href=a.format(),a;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),s=0;s<u.length;s++){var c=u[s];"protocol"!==c&&(a[c]=e[c])}return v[a.protocol]&&a.hostname&&!a.pathname&&(a.path=a.pathname="/"),a.href=a.format(),a}if(e.protocol&&e.protocol!==a.protocol){if(!v[e.protocol]){for(var d=Object.keys(e),f=0;f<d.length;f++){var h=d[f];a[h]=e[h]}return a.href=a.format(),a}if(a.protocol=e.protocol,e.host||g[e.protocol])a.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),a.pathname=p.join("/")}if(a.search=e.search,a.query=e.query,a.host=e.host||"",a.auth=e.auth,a.hostname=e.hostname||e.host,a.port=e.port,a.pathname||a.search){var m=a.pathname||"",_=a.search||"";a.path=m+_}return a.slashes=a.slashes||e.slashes,a.href=a.format(),a}var y=a.pathname&&"/"===a.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),E=b||y||a.host&&e.pathname,w=E,C=a.pathname&&a.pathname.split("/")||[],T=(p=e.pathname&&e.pathname.split("/")||[],a.protocol&&!v[a.protocol]);if(T&&(a.hostname="",a.port=null,a.host&&(""===C[0]?C[0]=a.host:C.unshift(a.host)),a.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),E=E&&(""===p[0]||""===C[0])),b)a.host=e.host||""===e.host?e.host:a.host,a.hostname=e.hostname||""===e.hostname?e.hostname:a.hostname,a.search=e.search,a.query=e.query,C=p;else if(p.length)C||(C=[]),C.pop(),C=C.concat(p),a.search=e.search,a.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(T)a.hostname=a.host=C.shift(),(A=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@"))&&(a.auth=A.shift(),a.host=a.hostname=A.shift());return a.search=e.search,a.query=e.query,i.isNull(a.pathname)&&i.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.href=a.format(),a}if(!C.length)return a.pathname=null,a.search?a.path="/"+a.search:a.path=null,a.href=a.format(),a;for(var k=C.slice(-1)[0],S=(a.host||e.host||C.length>1)&&("."===k||".."===k)||""===k,I=0,x=C.length;x>=0;x--)"."===(k=C[x])?C.splice(x,1):".."===k?(C.splice(x,1),I++):I&&(C.splice(x,1),I--);if(!E&&!w)for(;I--;I)C.unshift("..");!E||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),S&&"/"!==C.join("/").substr(-1)&&C.push("");var A,M=""===C[0]||C[0]&&"/"===C[0].charAt(0);T&&(a.hostname=a.host=M?"":C.length?C.shift():"",(A=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@"))&&(a.auth=A.shift(),a.host=a.hostname=A.shift()));return(E=E||a.host&&C.length)&&!M&&C.unshift(""),C.length?a.pathname=C.join("/"):(a.pathname=null,a.path=null),i.isNull(a.pathname)&&i.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.auth=e.auth||a.auth,a.slashes=a.slashes||e.slashes,a.href=a.format(),a},o.prototype.parseHost=function(){var e=this.host,t=l.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},62502:function(e){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},90842:function(e,t,a){(function(){"use strict";var e=this;function t(e){return"string"==typeof e}function a(e,t,a){return e.call.apply(e.bind,arguments)}function n(e,t,a){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,n),e.apply(t,a)}}return function(){return e.apply(t,arguments)}}function i(e,t,o){return(i=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:n).apply(null,arguments)}function o(e){var t=re;function a(){}a.prototype=t.prototype,e.G=t.prototype,e.prototype=new a,e.prototype.constructor=e,e.F=function(e,a,n){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[a].apply(e,i)}}var r=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function l(e,t){return-1!=e.indexOf(t)}function u(e,t){return e<t?-1:e>t?1:0}var s,c=Array.prototype.indexOf?function(e,t,a){return Array.prototype.indexOf.call(e,t,a)}:function(e,a,n){if(n=null==n?0:0>n?Math.max(0,e.length+n):n,t(e))return t(a)&&1==a.length?e.indexOf(a,n):-1;for(;n<e.length;n++)if(n in e&&e[n]===a)return n;return-1},d=Array.prototype.forEach?function(e,t,a){Array.prototype.forEach.call(e,t,a)}:function(e,a,n){for(var i=e.length,o=t(e)?e.split(""):e,r=0;r<i;r++)r in o&&a.call(n,o[r],r,e)},f=Array.prototype.filter?function(e,t,a){return Array.prototype.filter.call(e,t,a)}:function(e,a,n){for(var i=e.length,o=[],r=0,l=t(e)?e.split(""):e,u=0;u<i;u++)if(u in l){var s=l[u];a.call(n,s,u,e)&&(o[r++]=s)}return o},h=Array.prototype.reduce?function(e,t,a,n){return n&&(t=i(t,n)),Array.prototype.reduce.call(e,t,a)}:function(e,t,a,n){var i=a;return d(e,(function(a,o){i=t.call(n,i,a,o,e)})),i},p=Array.prototype.some?function(e,t,a){return Array.prototype.some.call(e,t,a)}:function(e,a,n){for(var i=e.length,o=t(e)?e.split(""):e,r=0;r<i;r++)if(r in o&&a.call(n,o[r],r,e))return!0;return!1};function m(e,t,a){return 2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,a)}e:{var g=e.navigator;if(g){var v=g.userAgent;if(v){s=v;break e}}s=""}var _,y,b=l(s,"Opera")||l(s,"OPR"),E=l(s,"Trident")||l(s,"MSIE"),w=l(s,"Edge"),C=l(s,"Gecko")&&!(l(s.toLowerCase(),"webkit")&&!l(s,"Edge"))&&!(l(s,"Trident")||l(s,"MSIE"))&&!l(s,"Edge"),T=l(s.toLowerCase(),"webkit")&&!l(s,"Edge");function k(){var t=e.document;return t?t.documentMode:void 0}e:{var S="",I=(y=s,C?/rv\:([^\);]+)(\)|;)/.exec(y):w?/Edge\/([\d\.]+)/.exec(y):E?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(y):T?/WebKit\/(\S+)/.exec(y):b?/(?:Version)[ \/]?(\S+)/.exec(y):void 0);if(I&&(S=I?I[1]:""),E){var x=k();if(null!=x&&x>parseFloat(S)){_=String(x);break e}}_=S}var A={};function M(e){if(!A[e]){for(var t=0,a=r(String(_)).split("."),n=r(String(e)).split("."),i=Math.max(a.length,n.length),o=0;0==t&&o<i;o++){var l=a[o]||"",s=n[o]||"",c=/(\d*)(\D*)/g,d=/(\d*)(\D*)/g;do{var f=c.exec(l)||["","",""],h=d.exec(s)||["","",""];if(0==f[0].length&&0==h[0].length)break;t=u(0==f[1].length?0:parseInt(f[1],10),0==h[1].length?0:parseInt(h[1],10))||u(0==f[2].length,0==h[2].length)||u(f[2],h[2])}while(0==t)}A[e]=0<=t}}var R=e.document,N=R&&E?k()||("CSS1Compat"==R.compatMode?parseInt(_,10):5):void 0,O=E&&!(9<=Number(N)),D=E&&!(8<=Number(N));function L(e,t,a,n){this.a=e,this.nodeName=a,this.nodeValue=n,this.nodeType=2,this.parentNode=this.ownerElement=t}function P(e,t){var a=D&&"href"==t.nodeName?e.getAttribute(t.nodeName,2):t.nodeValue;return new L(t,e,t.nodeName,a)}function j(e){var t=null;if(1==(a=e.nodeType)&&(t=null==(t=null==(t=e.textContent)||null==t?e.innerText:t)||null==t?"":t),"string"!=typeof t)if(O&&"title"==e.nodeName.toLowerCase()&&1==a)t=e.text;else if(9==a||1==a){e=9==a?e.documentElement:e.firstChild;var a=0,n=[];for(t="";e;){do{1!=e.nodeType&&(t+=e.nodeValue),O&&"title"==e.nodeName.toLowerCase()&&(t+=e.text),n[a++]=e}while(e=e.firstChild);for(;a&&!(e=n[--a].nextSibling););}}else t=e.nodeValue;return""+t}function B(e,t,a){if(null===t)return!0;try{if(!e.getAttribute)return!1}catch(e){return!1}return D&&"class"==t&&(t="className"),null==a?!!e.getAttribute(t):e.getAttribute(t,2)==a}function F(e,a,n,i,o){return(O?H:W).call(null,e,a,t(n)?n:null,t(i)?i:null,o||new J)}function H(e,t,a,n,i){if(e instanceof De||8==e.b||a&&null===e.b){var o=t.all;if(!o)return i;if("*"!=(e=V(e))&&!(o=t.getElementsByTagName(e)))return i;if(a){for(var r=[],l=0;t=o[l++];)B(t,a,n)&&r.push(t);o=r}for(l=0;t=o[l++];)"*"==e&&"!"==t.tagName||ee(i,t);return i}return G(e,t,a,n,i),i}function W(e,t,a,n,i){return t.getElementsByName&&n&&"name"==a&&!E?(t=t.getElementsByName(n),d(t,(function(t){e.a(t)&&ee(i,t)}))):t.getElementsByClassName&&n&&"class"==a?(t=t.getElementsByClassName(n),d(t,(function(t){t.className==n&&e.a(t)&&ee(i,t)}))):e instanceof ke?G(e,t,a,n,i):t.getElementsByTagName&&(t=t.getElementsByTagName(e.f()),d(t,(function(e){B(e,a,n)&&ee(i,e)}))),i}function U(e,t,a,n,i){var o;if((e instanceof De||8==e.b||a&&null===e.b)&&(o=t.childNodes)){var r=V(e);return"*"==r||(o=f(o,(function(e){return e.tagName&&e.tagName.toLowerCase()==r})))?(a&&(o=f(o,(function(e){return B(e,a,n)}))),d(o,(function(e){"*"==r&&("!"==e.tagName||"*"==r&&1!=e.nodeType)||ee(i,e)})),i):i}return z(e,t,a,n,i)}function z(e,t,a,n,i){for(t=t.firstChild;t;t=t.nextSibling)B(t,a,n)&&e.a(t)&&ee(i,t);return i}function G(e,t,a,n,i){for(t=t.firstChild;t;t=t.nextSibling)B(t,a,n)&&e.a(t)&&ee(i,t),G(e,t,a,n,i)}function V(e){if(e instanceof ke){if(8==e.b)return"!";if(null===e.b)return"*"}return e.f()}function q(e,t){if(!e||!t)return!1;if(e.contains&&1==t.nodeType)return e==t||e.contains(t);if(void 0!==e.compareDocumentPosition)return e==t||!!(16&e.compareDocumentPosition(t));for(;t&&e!=t;)t=t.parentNode;return t==e}function K(t,a){if(t==a)return 0;if(t.compareDocumentPosition)return 2&t.compareDocumentPosition(a)?1:-1;if(E&&!(9<=Number(N))){if(9==t.nodeType)return-1;if(9==a.nodeType)return 1}if("sourceIndex"in t||t.parentNode&&"sourceIndex"in t.parentNode){var n=1==t.nodeType,i=1==a.nodeType;if(n&&i)return t.sourceIndex-a.sourceIndex;var o=t.parentNode,r=a.parentNode;return o==r?Z(t,a):!n&&q(o,a)?-1*Y(t,a):!i&&q(r,t)?Y(a,t):(n?t.sourceIndex:o.sourceIndex)-(i?a.sourceIndex:r.sourceIndex)}return(n=(i=9==t.nodeType?t:t.ownerDocument||t.document).createRange()).selectNode(t),n.collapse(!0),(i=i.createRange()).selectNode(a),i.collapse(!0),n.compareBoundaryPoints(e.Range.START_TO_END,i)}function Y(e,t){var a=e.parentNode;if(a==t)return-1;for(var n=t;n.parentNode!=a;)n=n.parentNode;return Z(n,e)}function Z(e,t){for(var a=t;a=a.previousSibling;)if(a==e)return-1;return 1}function J(){this.b=this.a=null,this.l=0}function X(e){this.node=e,this.a=this.b=null}function $(e,t){if(!e.a)return t;if(!t.a)return e;for(var a=e.a,n=t.a,i=null,o=null,r=0;a&&n;){o=a.node;var l=n.node;o==l||o instanceof L&&l instanceof L&&o.a==l.a?(o=a,a=a.a,n=n.a):0<K(a.node,n.node)?(o=n,n=n.a):(o=a,a=a.a),(o.b=i)?i.a=o:e.a=o,i=o,r++}for(o=a||n;o;)o.b=i,i=i.a=o,r++,o=o.a;return e.b=i,e.l=r,e}function Q(e,t){var a=new X(t);a.a=e.a,e.b?e.a.b=a:e.a=e.b=a,e.a=a,e.l++}function ee(e,t){var a=new X(t);a.b=e.b,e.a?e.b.a=a:e.a=e.b=a,e.b=a,e.l++}function te(e){return(e=e.a)?e.node:null}function ae(e){return(e=te(e))?j(e):""}function ne(e,t){return new ie(e,!!t)}function ie(e,t){this.f=e,this.b=(this.c=t)?e.b:e.a,this.a=null}function oe(e){var t=e.b;if(null==t)return null;var a=e.a=t;return e.b=e.c?t.b:t.a,a.node}function re(e){this.i=e,this.b=this.g=!1,this.f=null}function le(e){return"\n  "+e.toString().split("\n").join("\n  ")}function ue(e,t){e.g=t}function se(e,t){e.b=t}function ce(e,t){var a=e.a(t);return a instanceof J?+ae(a):+a}function de(e,t){var a=e.a(t);return a instanceof J?ae(a):""+a}function fe(e,t){var a=e.a(t);return a instanceof J?!!a.l:!!a}function he(e,t,a){re.call(this,e.i),this.c=e,this.h=t,this.o=a,this.g=t.g||a.g,this.b=t.b||a.b,this.c==_e&&(a.b||a.g||4==a.i||0==a.i||!t.f?t.b||t.g||4==t.i||0==t.i||!a.f||(this.f={name:a.f.name,s:t}):this.f={name:t.f.name,s:a})}function pe(e,t,a,n,i){var o;if(t=t.a(n),a=a.a(n),t instanceof J&&a instanceof J){for(n=oe(t=ne(t));n;n=oe(t))for(o=oe(i=ne(a));o;o=oe(i))if(e(j(n),j(o)))return!0;return!1}if(t instanceof J||a instanceof J){t instanceof J?(i=t,n=a):(i=a,n=t);for(var r=typeof n,l=oe(o=ne(i));l;l=oe(o)){switch(r){case"number":l=+j(l);break;case"boolean":l=!!j(l);break;case"string":l=j(l);break;default:throw Error("Illegal primitive type for comparison.")}if(i==t&&e(l,n)||i==a&&e(n,l))return!0}return!1}return i?"boolean"==typeof t||"boolean"==typeof a?e(!!t,!!a):"number"==typeof t||"number"==typeof a?e(+t,+a):e(t,a):e(+t,+a)}function me(e,t,a,n){this.a=e,this.w=t,this.i=a,this.m=n}!C&&!E||E&&9<=Number(N)||C&&M("1.9.1"),E&&M("9"),o(he),he.prototype.a=function(e){return this.c.m(this.h,this.o,e)},he.prototype.toString=function(){return"Binary Expression: "+this.c+le(this.h)+le(this.o)},me.prototype.toString=function(){return this.a};var ge={};function ve(e,t,a,n){if(ge.hasOwnProperty(e))throw Error("Binary operator already created: "+e);return e=new me(e,t,a,n),ge[e.toString()]=e}ve("div",6,1,(function(e,t,a){return ce(e,a)/ce(t,a)})),ve("mod",6,1,(function(e,t,a){return ce(e,a)%ce(t,a)})),ve("*",6,1,(function(e,t,a){return ce(e,a)*ce(t,a)})),ve("+",5,1,(function(e,t,a){return ce(e,a)+ce(t,a)})),ve("-",5,1,(function(e,t,a){return ce(e,a)-ce(t,a)})),ve("<",4,2,(function(e,t,a){return pe((function(e,t){return e<t}),e,t,a)})),ve(">",4,2,(function(e,t,a){return pe((function(e,t){return e>t}),e,t,a)})),ve("<=",4,2,(function(e,t,a){return pe((function(e,t){return e<=t}),e,t,a)})),ve(">=",4,2,(function(e,t,a){return pe((function(e,t){return e>=t}),e,t,a)}));var _e=ve("=",3,2,(function(e,t,a){return pe((function(e,t){return e==t}),e,t,a,!0)}));function ye(e,t,a){this.a=e,this.b=t||1,this.f=a||1}function be(e,t){if(t.a.length&&4!=e.i)throw Error("Primary expression must evaluate to nodeset if filter has predicate(s).");re.call(this,e.i),this.c=e,this.h=t,this.g=e.g,this.b=e.b}function Ee(e,t){if(t.length<e.A)throw Error("Function "+e.j+" expects at least"+e.A+" arguments, "+t.length+" given");if(null!==e.v&&t.length>e.v)throw Error("Function "+e.j+" expects at most "+e.v+" arguments, "+t.length+" given");e.B&&d(t,(function(t,a){if(4!=t.i)throw Error("Argument "+a+" to function "+e.j+" is not of type Nodeset: "+t)})),re.call(this,e.i),this.h=e,this.c=t,ue(this,e.g||p(t,(function(e){return e.g}))),se(this,e.D&&!t.length||e.C&&!!t.length||p(t,(function(e){return e.b})))}function we(e,t,a,n,i,o,r,l,u){this.j=e,this.i=t,this.g=a,this.D=n,this.C=i,this.m=o,this.A=r,this.v=void 0!==l?l:r,this.B=!!u}ve("!=",3,2,(function(e,t,a){return pe((function(e,t){return e!=t}),e,t,a,!0)})),ve("and",2,2,(function(e,t,a){return fe(e,a)&&fe(t,a)})),ve("or",1,2,(function(e,t,a){return fe(e,a)||fe(t,a)})),o(be),be.prototype.a=function(e){return e=this.c.a(e),Ve(this.h,e)},be.prototype.toString=function(){return"Filter:"+le(this.c)+le(this.h)},o(Ee),Ee.prototype.a=function(e){return this.h.m.apply(null,function(e){return Array.prototype.concat.apply(Array.prototype,arguments)}(e,this.c))},Ee.prototype.toString=function(){var e="Function: "+this.h;if(this.c.length){var t=h(this.c,(function(e,t){return e+le(t)}),"Arguments:");e=e+le(t)}return e},we.prototype.toString=function(){return this.j};var Ce={};function Te(e,t,a,n,i,o,r,l){if(Ce.hasOwnProperty(e))throw Error("Function already created: "+e+".");Ce[e]=new we(e,t,a,n,!1,i,o,r,l)}function ke(e,t){switch(this.h=e,this.c=void 0!==t?t:null,this.b=null,e){case"comment":this.b=8;break;case"text":this.b=3;break;case"processing-instruction":this.b=7;break;case"node":break;default:throw Error("Unexpected argument")}}function Se(e){return"comment"==e||"text"==e||"processing-instruction"==e||"node"==e}function Ie(e){this.b=e,this.a=0}Te("boolean",2,!1,!1,(function(e,t){return fe(t,e)}),1),Te("ceiling",1,!1,!1,(function(e,t){return Math.ceil(ce(t,e))}),1),Te("concat",3,!1,!1,(function(e,t){return h(m(arguments,1),(function(t,a){return t+de(a,e)}),"")}),2,null),Te("contains",2,!1,!1,(function(e,t,a){return l(de(t,e),de(a,e))}),2),Te("count",1,!1,!1,(function(e,t){return t.a(e).l}),1,1,!0),Te("false",2,!1,!1,(function(){return!1}),0),Te("floor",1,!1,!1,(function(e,t){return Math.floor(ce(t,e))}),1),Te("id",4,!1,!1,(function(e,a){function n(e){if(O){var a=i.all[e];if(a){if(a.nodeType&&e==a.id)return a;if(a.length)return function(e,a){var n;e:{n=e.length;for(var i=t(e)?e.split(""):e,o=0;o<n;o++)if(o in i&&a.call(void 0,i[o],o,e)){n=o;break e}n=-1}return 0>n?null:t(e)?e.charAt(n):e[n]}(a,(function(t){return e==t.id}))}return null}return i.getElementById(e)}var i=9==(o=e.a).nodeType?o:o.ownerDocument,o=de(a,e).split(/\s+/),r=[];d(o,(function(e){!(e=n(e))||0<=c(r,e)||r.push(e)})),r.sort(K);var l=new J;return d(r,(function(e){ee(l,e)})),l}),1),Te("lang",2,!1,!1,(function(){return!1}),1),Te("last",1,!0,!1,(function(e){if(1!=arguments.length)throw Error("Function last expects ()");return e.f}),0),Te("local-name",3,!1,!0,(function(e,t){var a=t?te(t.a(e)):e.a;return a?a.localName||a.nodeName.toLowerCase():""}),0,1,!0),Te("name",3,!1,!0,(function(e,t){var a=t?te(t.a(e)):e.a;return a?a.nodeName.toLowerCase():""}),0,1,!0),Te("namespace-uri",3,!0,!1,(function(){return""}),0,1,!0),Te("normalize-space",3,!1,!0,(function(e,t){return(t?de(t,e):j(e.a)).replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")}),0,1),Te("not",2,!1,!1,(function(e,t){return!fe(t,e)}),1),Te("number",1,!1,!0,(function(e,t){return t?ce(t,e):+j(e.a)}),0,1),Te("position",1,!0,!1,(function(e){return e.b}),0),Te("round",1,!1,!1,(function(e,t){return Math.round(ce(t,e))}),1),Te("starts-with",2,!1,!1,(function(e,t,a){return t=de(t,e),e=de(a,e),0==t.lastIndexOf(e,0)}),2),Te("string",3,!1,!0,(function(e,t){return t?de(t,e):j(e.a)}),0,1),Te("string-length",1,!1,!0,(function(e,t){return(t?de(t,e):j(e.a)).length}),0,1),Te("substring",3,!1,!1,(function(e,t,a,n){if(a=ce(a,e),isNaN(a)||1/0==a||-1/0==a)return"";if(n=n?ce(n,e):1/0,isNaN(n)||-1/0===n)return"";a=Math.round(a)-1;var i=Math.max(a,0);return e=de(t,e),1/0==n?e.substring(i):e.substring(i,a+Math.round(n))}),2,3),Te("substring-after",3,!1,!1,(function(e,t,a){return t=de(t,e),e=de(a,e),-1==(a=t.indexOf(e))?"":t.substring(a+e.length)}),2),Te("substring-before",3,!1,!1,(function(e,t,a){return t=de(t,e),e=de(a,e),-1==(e=t.indexOf(e))?"":t.substring(0,e)}),2),Te("sum",1,!1,!1,(function(e,t){for(var a=ne(t.a(e)),n=0,i=oe(a);i;i=oe(a))n+=+j(i);return n}),1,1,!0),Te("translate",3,!1,!1,(function(e,t,a,n){t=de(t,e),a=de(a,e);var i=de(n,e);for(e={},n=0;n<a.length;n++){var o=a.charAt(n);o in e||(e[o]=i.charAt(n))}for(a="",n=0;n<t.length;n++)a+=(o=t.charAt(n))in e?e[o]:o;return a}),3),Te("true",2,!1,!1,(function(){return!0}),0),ke.prototype.a=function(e){return null===this.b||this.b==e.nodeType},ke.prototype.f=function(){return this.h},ke.prototype.toString=function(){var e="Kind Test: "+this.h;return null===this.c||(e+=le(this.c)),e};var xe=/\$?(?:(?![0-9-\.])(?:\*|[\w-\.]+):)?(?![0-9-\.])(?:\*|[\w-\.]+)|\/\/|\.\.|::|\d+(?:\.\d*)?|\.\d+|"[^"]*"|'[^']*'|[!<>]=|\s+|./g,Ae=/^\s/;function Me(e,t){return e.b[e.a+(t||0)]}function Re(e){return e.b[e.a++]}function Ne(e){return e.b.length<=e.a}function Oe(e){re.call(this,3),this.c=e.substring(1,e.length-1)}function De(e,t){var a;this.j=e.toLowerCase(),a="*"==this.j?"*":"http://www.w3.org/1999/xhtml",this.c=t?t.toLowerCase():a}function Le(e){switch(e.nodeType){case 1:return function(e,t){var a=Array.prototype.slice.call(arguments,1);return function(){var t=a.slice();return t.push.apply(t,arguments),e.apply(this,t)}}(je,e);case 9:return Le(e.documentElement);case 11:case 10:case 6:case 12:return Pe;default:return e.parentNode?Le(e.parentNode):Pe}}function Pe(){return null}function je(e,t){if(e.prefix==t)return e.namespaceURI||"http://www.w3.org/1999/xhtml";var a=e.getAttributeNode("xmlns:"+t);return a&&a.specified?a.value||null:e.parentNode&&9!=e.parentNode.nodeType?je(e.parentNode,t):null}function Be(e){re.call(this,1),this.c=e}function Fe(e,t){if(re.call(this,e.i),this.h=e,this.c=t,this.g=e.g,this.b=e.b,1==this.c.length){var a=this.c[0];a.u||a.c!=Je||"*"!=(a=a.o).f()&&(this.f={name:a.f(),s:null})}}function He(){re.call(this,4)}function We(){re.call(this,4)}function Ue(e){return"/"==e||"//"==e}function ze(e){re.call(this,4),this.c=e,ue(this,p(this.c,(function(e){return e.g}))),se(this,p(this.c,(function(e){return e.b})))}function Ge(e,t){this.a=e,this.b=!!t}function Ve(e,t,a){for(a=a||0;a<e.a.length;a++)for(var n,i=e.a[a],o=ne(t),r=t.l,l=0;n=oe(o);l++){var u=e.b?r-l:l+1;if("number"==typeof(n=i.a(new ye(n,u,r))))u=u==n;else if("string"==typeof n||"boolean"==typeof n)u=!!n;else{if(!(n instanceof J))throw Error("Predicate.evaluate returned an unexpected type.");u=0<n.l}if(!u){if(n=(u=o).f,!(c=u.a))throw Error("Next must be called at least once before remove.");var s=c.b,c=c.a;s?s.a=c:n.a=c,c?c.b=s:n.b=s,n.l--,u.a=null}}return t}function qe(e,t,a,n){re.call(this,4),this.c=e,this.o=t,this.h=a||new Ge([]),this.u=!!n,t=0<(t=this.h).a.length?t.a[0].f:null,e.b&&t&&(e=t.name,e=O?e.toLowerCase():e,this.f={name:e,s:t.s});e:{for(e=this.h,t=0;t<e.a.length;t++)if((a=e.a[t]).g||1==a.i||0==a.i){e=!0;break e}e=!1}this.g=e}function Ke(e,t,a,n){this.j=e,this.f=t,this.a=a,this.b=n}o(Oe),Oe.prototype.a=function(){return this.c},Oe.prototype.toString=function(){return"Literal: "+this.c},De.prototype.a=function(e){var t=e.nodeType;return(1==t||2==t)&&(("*"==this.j||this.j==e.localName.toLowerCase())&&("*"==this.c||this.c==(e.namespaceURI?e.namespaceURI.toLowerCase():"http://www.w3.org/1999/xhtml")))},De.prototype.f=function(){return this.j},De.prototype.toString=function(){return"Name Test: "+("http://www.w3.org/1999/xhtml"==this.c?"":this.c+":")+this.j},o(Be),Be.prototype.a=function(){return this.c},Be.prototype.toString=function(){return"Number: "+this.c},o(Fe),o(He),He.prototype.a=function(e){var t=new J;return 9==(e=e.a).nodeType?ee(t,e):ee(t,e.ownerDocument),t},He.prototype.toString=function(){return"Root Helper Expression"},o(We),We.prototype.a=function(e){var t=new J;return ee(t,e.a),t},We.prototype.toString=function(){return"Context Helper Expression"},Fe.prototype.a=function(e){var t=this.h.a(e);if(!(t instanceof J))throw Error("Filter expression must evaluate to nodeset.");for(var a=0,n=(e=this.c).length;a<n&&t.l;a++){var i,o=e[a],r=ne(t,o.c.a);if(o.g||o.c!=Qe)if(o.g||o.c!=tt)for(i=oe(r),t=o.a(new ye(i));null!=(i=oe(r));)t=$(t,i=o.a(new ye(i)));else i=oe(r),t=o.a(new ye(i));else{for(i=oe(r);(t=oe(r))&&(!i.contains||i.contains(t))&&8&t.compareDocumentPosition(i);i=t);t=o.a(new ye(i))}}return t},Fe.prototype.toString=function(){var e;if(e="Path Expression:"+le(this.h),this.c.length){var t=h(this.c,(function(e,t){return e+le(t)}),"Steps:");e+=le(t)}return e},o(ze),ze.prototype.a=function(e){var t=new J;return d(this.c,(function(a){if(!((a=a.a(e))instanceof J))throw Error("Path expression must evaluate to NodeSet.");t=$(t,a)})),t},ze.prototype.toString=function(){return h(this.c,(function(e,t){return e+le(t)}),"Union Expression:")},Ge.prototype.toString=function(){return h(this.a,(function(e,t){return e+le(t)}),"Predicates:")},o(qe),qe.prototype.a=function(e){var t=e.a,a=null,n=null,i=null,o=0;if((a=this.f)&&(n=a.name,i=a.s?de(a.s,e):null,o=1),this.u)if(this.g||this.c!=Xe)if(t=oe(e=ne(new qe($e,new ke("node")).a(e))))for(a=this.m(t,n,i,o);null!=(t=oe(e));)a=$(a,this.m(t,n,i,o));else a=new J;else a=F(this.o,t,n,i),a=Ve(this.h,a,o);else a=this.m(e.a,n,i,o);return a},qe.prototype.m=function(e,t,a,n){return e=this.c.f(this.o,e,t,a),Ve(this.h,e,n)},qe.prototype.toString=function(){var e;if(e="Step:"+le("Operator: "+(this.u?"//":"/")),this.c.j&&(e+=le("Axis: "+this.c)),e+=le(this.o),this.h.a.length){var t=h(this.h.a,(function(e,t){return e+le(t)}),"Predicates:");e+=le(t)}return e},Ke.prototype.toString=function(){return this.j};var Ye={};function Ze(e,t,a,n){if(Ye.hasOwnProperty(e))throw Error("Axis already created: "+e);return t=new Ke(e,t,a,!!n),Ye[e]=t}Ze("ancestor",(function(e,t){for(var a=new J,n=t;n=n.parentNode;)e.a(n)&&Q(a,n);return a}),!0),Ze("ancestor-or-self",(function(e,t){var a=new J,n=t;do{e.a(n)&&Q(a,n)}while(n=n.parentNode);return a}),!0);var Je=Ze("attribute",(function(e,t){var a=new J;if("style"==(o=e.f())&&t.style&&O)return ee(a,new L(t.style,t,"style",t.style.cssText)),a;var n=t.attributes;if(n)if(e instanceof ke&&null===e.b||"*"==o)for(var i,o=0;i=n[o];o++)O?i.nodeValue&&ee(a,P(t,i)):ee(a,i);else(i=n.getNamedItem(o))&&(O?i.nodeValue&&ee(a,P(t,i)):ee(a,i));return a}),!1),Xe=Ze("child",(function(e,a,n,i,o){return(O?U:z).call(null,e,a,t(n)?n:null,t(i)?i:null,o||new J)}),!1,!0);Ze("descendant",F,!1,!0);var $e=Ze("descendant-or-self",(function(e,t,a,n){var i=new J;return B(t,a,n)&&e.a(t)&&ee(i,t),F(e,t,a,n,i)}),!1,!0),Qe=Ze("following",(function(e,t,a,n){var i=new J;do{for(var o=t;o=o.nextSibling;)B(o,a,n)&&e.a(o)&&ee(i,o),i=F(e,o,a,n,i)}while(t=t.parentNode);return i}),!1,!0);Ze("following-sibling",(function(e,t){for(var a=new J,n=t;n=n.nextSibling;)e.a(n)&&ee(a,n);return a}),!1),Ze("namespace",(function(){return new J}),!1);var et=Ze("parent",(function(e,t){var a=new J;if(9==t.nodeType)return a;if(2==t.nodeType)return ee(a,t.ownerElement),a;var n=t.parentNode;return e.a(n)&&ee(a,n),a}),!1),tt=Ze("preceding",(function(e,t,a,n){var i=new J,o=[];do{o.unshift(t)}while(t=t.parentNode);for(var r=1,l=o.length;r<l;r++){var u=[];for(t=o[r];t=t.previousSibling;)u.unshift(t);for(var s=0,c=u.length;s<c;s++)B(t=u[s],a,n)&&e.a(t)&&ee(i,t),i=F(e,t,a,n,i)}return i}),!0,!0);Ze("preceding-sibling",(function(e,t){for(var a=new J,n=t;n=n.previousSibling;)e.a(n)&&Q(a,n);return a}),!0);var at=Ze("self",(function(e,t){var a=new J;return e.a(t)&&ee(a,t),a}),!1);function nt(e){re.call(this,1),this.c=e,this.g=e.g,this.b=e.b}function it(e,t){this.a=e,this.b=t}function ot(e){for(var t,a=[];;){rt(e,"Missing right hand side of binary expression."),t=ht(e);var n=Re(e.a);if(!n)break;var i=(n=ge[n]||null)&&n.w;if(!i){e.a.a--;break}for(;a.length&&i<=a[a.length-1].w;)t=new he(a.pop(),a.pop(),t);a.push(t,n)}for(;a.length;)t=new he(a.pop(),a.pop(),t);return t}function rt(e,t){if(Ne(e.a))throw Error(t)}function lt(e,t){var a=Re(e.a);if(a!=t)throw Error("Bad token, expected: "+t+" got: "+a)}function ut(e){if(")"!=(e=Re(e.a)))throw Error("Bad token: "+e)}function st(e){if(2>(e=Re(e.a)).length)throw Error("Unclosed literal string");return new Oe(e)}function ct(e){var t,a,n=[];if(Ue(Me(e.a))){if(t=Re(e.a),a=Me(e.a),"/"==t&&(Ne(e.a)||"."!=a&&".."!=a&&"@"!=a&&"*"!=a&&!/(?![0-9])[\w]/.test(a)))return new He;a=new He,rt(e,"Missing next location step."),t=dt(e,t),n.push(t)}else{e:{switch(a=(t=Me(e.a)).charAt(0)){case"$":throw Error("Variable reference not allowed in HTML XPath");case"(":Re(e.a),t=ot(e),rt(e,'unclosed "("'),lt(e,")");break;case'"':case"'":t=st(e);break;default:if(isNaN(+t)){if(Se(t)||!/(?![0-9])[\w]/.test(a)||"("!=Me(e.a,1)){t=null;break e}for(t=Re(e.a),t=Ce[t]||null,Re(e.a),a=[];")"!=Me(e.a)&&(rt(e,"Missing function argument list."),a.push(ot(e)),","==Me(e.a));)Re(e.a);rt(e,"Unclosed function argument list."),ut(e),t=new Ee(t,a)}else t=new Be(+Re(e.a))}"["==Me(e.a)&&(t=new be(t,a=new Ge(ft(e))))}if(t){if(!Ue(Me(e.a)))return t;a=t}else t=dt(e,"/"),a=new We,n.push(t)}for(;Ue(Me(e.a));)t=Re(e.a),rt(e,"Missing next location step."),t=dt(e,t),n.push(t);return new Fe(a,n)}function dt(e,t){var a,n,i,o;if("/"!=t&&"//"!=t)throw Error('Step op should be "/" or "//"');if("."==Me(e.a))return n=new qe(at,new ke("node")),Re(e.a),n;if(".."==Me(e.a))return n=new qe(et,new ke("node")),Re(e.a),n;if("@"==Me(e.a))o=Je,Re(e.a),rt(e,"Missing attribute name");else if("::"==Me(e.a,1)){if(!/(?![0-9])[\w]/.test(Me(e.a).charAt(0)))throw Error("Bad token: "+Re(e.a));if(a=Re(e.a),!(o=Ye[a]||null))throw Error("No axis with name: "+a);Re(e.a),rt(e,"Missing node name")}else o=Xe;if(a=Me(e.a),!/(?![0-9])[\w\*]/.test(a.charAt(0)))throw Error("Bad token: "+Re(e.a));if("("==Me(e.a,1)){if(!Se(a))throw Error("Invalid node type: "+a);if(!Se(a=Re(e.a)))throw Error("Invalid type name: "+a);lt(e,"("),rt(e,"Bad nodetype");var r=null;'"'!=(i=Me(e.a).charAt(0))&&"'"!=i||(r=st(e)),rt(e,"Bad nodetype"),ut(e),a=new ke(a,r)}else if(-1==(i=(a=Re(e.a)).indexOf(":")))a=new De(a);else{var l;if("*"==(r=a.substring(0,i)))l="*";else if(!(l=e.b(r)))throw Error("Namespace prefix not declared: "+r);a=new De(a=a.substr(i+1),l)}return i=new Ge(ft(e),o.a),n||new qe(o,a,i,"//"==t)}function ft(e){for(var t=[];"["==Me(e.a);){Re(e.a),rt(e,"Missing predicate expression.");var a=ot(e);t.push(a),rt(e,"Unclosed predicate expression."),lt(e,"]")}return t}function ht(e){if("-"==Me(e.a))return Re(e.a),new nt(ht(e));var t=ct(e);if("|"!=Me(e.a))e=t;else{for(t=[t];"|"==Re(e.a);)rt(e,"Missing next union location path."),t.push(ct(e));e.a.a--,e=new ze(t)}return e}function pt(e,t){if(!e.length)throw Error("Empty XPath expression.");var a=function(e){e=e.match(xe);for(var t=0;t<e.length;t++)Ae.test(e[t])&&e.splice(t,1);return new Ie(e)}(e);if(Ne(a))throw Error("Invalid XPath expression.");t?"function"==function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var a=Object.prototype.toString.call(e);if("[object Window]"==a)return"object";if("[object Array]"==a||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==a||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}(t)||(t=i(t.lookupNamespaceURI,t)):t=function(){return null};var n=ot(new it(a,t));if(!Ne(a))throw Error("Bad token: "+Re(a));this.evaluate=function(e,t){return new mt(n.a(new ye(e)),t)}}function mt(e,t){if(0==t)if(e instanceof J)t=4;else if("string"==typeof e)t=2;else if("number"==typeof e)t=1;else{if("boolean"!=typeof e)throw Error("Unexpected evaluation result.");t=3}if(2!=t&&1!=t&&3!=t&&!(e instanceof J))throw Error("value could not be converted to the specified type");var a;switch(this.resultType=t,t){case 2:this.stringValue=e instanceof J?ae(e):""+e;break;case 1:this.numberValue=e instanceof J?+ae(e):+e;break;case 3:this.booleanValue=e instanceof J?0<e.l:!!e;break;case 4:case 5:case 6:case 7:var n=ne(e);a=[];for(var i=oe(n);i;i=oe(n))a.push(i instanceof L?i.a:i);this.snapshotLength=e.l,this.invalidIteratorState=!1;break;case 8:case 9:n=te(e),this.singleNodeValue=n instanceof L?n.a:n;break;default:throw Error("Unknown XPathResult type.")}var o=0;this.iterateNext=function(){if(4!=t&&5!=t)throw Error("iterateNext called with wrong result type");return o>=a.length?null:a[o++]},this.snapshotItem=function(e){if(6!=t&&7!=t)throw Error("snapshotItem called with wrong result type");return e>=a.length||0>e?null:a[e]}}function gt(e){this.lookupNamespaceURI=Le(e)}function vt(t,a){var n=t||e,i=n.document;i.evaluate&&!a||(n.XPathResult=mt,i.evaluate=function(e,t,a,n){return new pt(e,a).evaluate(t,n)},i.createExpression=function(e,t){return new pt(e,t)},i.createNSResolver=function(e){return new gt(e)})}o(nt),nt.prototype.a=function(e){return-ce(this.c,e)},nt.prototype.toString=function(){return"Unary Expression: -"+le(this.c)},mt.ANY_TYPE=0,mt.NUMBER_TYPE=1,mt.STRING_TYPE=2,mt.BOOLEAN_TYPE=3,mt.UNORDERED_NODE_ITERATOR_TYPE=4,mt.ORDERED_NODE_ITERATOR_TYPE=5,mt.UNORDERED_NODE_SNAPSHOT_TYPE=6,mt.ORDERED_NODE_SNAPSHOT_TYPE=7,mt.ANY_UNORDERED_NODE_TYPE=8,mt.FIRST_ORDERED_NODE_TYPE=9;var _t,yt=["wgxpath","install"],bt=e;yt[0]in bt||!bt.execScript||bt.execScript("var "+yt[0]);for(;yt.length&&(_t=yt.shift());)yt.length||void 0===vt?bt=bt[_t]?bt[_t]:bt[_t]={}:bt[_t]=vt}).call(a.g),e.exports.install=wgxpath.install,e.exports.XPathResultType={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9}}},l={};function u(e){if(l[e])return l[e].exports;var t=l[e]={id:e,loaded:!1,exports:{}};return r[e].call(t.exports,t,t.exports,u),t.loaded=!0,t.exports}u.m=r,u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,{a:t}),t},u.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);u.r(a);var n={};if(2&t&&"object"==typeof e&&e)for(var i in e)n[i]=function(t){return e[t]}.bind(null,i);return n.default=function(){return e},u.d(a,n),a},u.d=function(e,t){for(var a in t)u.o(t,a)&&!u.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},u.f={},u.e=function(e){return Promise.all(Object.keys(u.f).reduce((function(t,a){return u.f[a](e,t),t}),[]))},u.u=function(e){return"js/bcf5f788.debug.js"},u.miniCssF=function(e){return 296===e?"css/bcf5f788.widget.css":"css/bcf5f788.debug.widget.css"},u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),u.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t={},a="widget_react:",u.l=function(e,n,i){if(t[e])t[e].push(n);else{var o,r;if(void 0!==i)for(var l=document.getElementsByTagName("script"),s=0;s<l.length;s++){var c=l[s];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")==a+i){o=c;break}}o||(r=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,u.nc&&o.setAttribute("nonce",u.nc),o.setAttribute("data-webpack",a+i),o.src=e),t[e]=[n];var d=function(a,n){o.onerror=o.onload=null,clearTimeout(f);var i=t[e];if(delete t[e],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(e){return e(n)})),a)return a(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),r&&document.head.appendChild(o)}},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},u.p="/public/",n=function(e,t,a){var n=document.createElement("link");return n.rel="stylesheet",n.type="text/css",n.onload=t,n.onerror=function(t){var i=t&&t.target&&t.target.src||e,o=new Error("Loading CSS chunk "+chunkId+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,n.parentNode.removeChild(n),a(o)},n.href=e,function(e){window.parent.jivo_cspNonce&&e.setAttribute("nonce",window.parent.jivo_cspNonce);var t=window.parent.document.getElementsByTagName("head")[0];if(!t)throw new Error("Error inserting css:",e.href,"Reason: no head");t.appendChild(e)}(n),n},i=function(e){return new Promise((function(t,a){var i=u.miniCssF(e),o=u.p+i;if(function(e,t){for(var a=document.getElementsByTagName("link"),n=0;n<a.length;n++){var i=(r=a[n]).getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(i===e||i===t))return r}var o=document.getElementsByTagName("style");for(n=0;n<o.length;n++){var r;if((i=(r=o[n]).getAttribute("data-href"))===e||i===t)return r}}(i,o))return t();n(o,t,a)}))},o={296:0},u.f.miniCss=function(e,t){o[e]?t.push(o[e]):0!==o[e]&&{711:1}[e]&&t.push(o[e]=i(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))},function(){var e={296:0};u.f.j=function(t,a){var n=u.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else{var i=new Promise((function(a,i){n=e[t]=[a,i]}));a.push(n[2]=i);var o=u.p+u.u(t),r=new Error;u.l(o,(function(a){if(u.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var i=a&&("load"===a.type?"missing":a.type),o=a&&a.target&&a.target.src;r.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",r.name="ChunkLoadError",r.type=i,r.request=o,n[1](r)}}),"chunk-"+t)}};var t=self.webpackChunkwidget_react=self.webpackChunkwidget_react||[],a=t.push.bind(t);t.push=function(t){for(var n,i,o=t[0],r=t[1],l=t[2],s=0,c=[];s<o.length;s++)i=o[s],u.o(e,i)&&e[i]&&c.push(e[i][0]),e[i]=0;for(n in r)u.o(r,n)&&(u.m[n]=r[n]);for(l&&l(u),a(t);c.length;)c.shift()()}}(),function(){"use strict";var e=u(60530),t=u(66707),a=e(u(62904)),n=e(u(75043)),i=e(u(81574)),o=e(u(62652)),r=u(23582),l=(n.default.name("index"),new i.default);o.default.chat_started&&!a.default.maintenance&&!r.FeatureManager.isEnabled(r.Feature.RECAPTCHA)||t.cssLoader.subscribe((function(){l.start()}),(function(){l.stop()}))}()}();</script></head><body></body></html>